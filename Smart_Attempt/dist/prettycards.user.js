// ==UserScript==
// @name        PrettyCards
// @version     2.15.5
// @author      elytrafae
// @description Make (parts of) Undercards look fabulous!
// @homepage    https://github.com/elytrafae/prettycards
// @supportURL  https://github.com/elytrafae/prettycards
// @match       https://*.undercards.net/*
// @exclude     https://*.undercards.net/*/*
// @updateURL   https://github.com/elytrafae/prettycards/releases/latest/download/prettycards.user.js
// @downloadURL https://github.com/elytrafae/prettycards/releases/latest/download/prettycards.user.js
// @grant       none
// @run-at      document-idle
// ==/UserScript==

/*! For license information please see prettycards.user.js.LICENSE.txt */
(()=>{var e={4810:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.PrettyCards_ArtBG_Legendary {\n    box-shadow: inset 0 0 10px 1px rgb(255, 255, 0);\n    animation: LegendaryShadow 3s infinite ease-in-out alternate;\n}\n\n@keyframes LegendaryShadow {\n    0% {\n        box-shadow: inset 0 0 10px 1px rgb(255, 255, 0);\n    }\n    100% {\n        box-shadow: inset 0 0 20px 2px rgb(255, 255, 0);\n    }\n}\n\n.PrettyCards_ArtifactListBackground {\n    box-shadow: inset 0 0 10px 5px #000000;\n}\n\n.PrettyCards_ArtBG_Genocide {\n    background-image: url($asset$img/ArtifactBackgrounds/Genocide.png);\n    background-size: auto;\n    background-position: top left;\n    background-repeat: repeat;\n}\n\n.PrettyCards_ArtBG_DarkFountain {\n    background-image: url($asset$img/ArtifactBackgrounds/Dark_Fountain.png);\n    background-size: cover;\n    background-position: center center;\n}\n\n.PrettyCards_ArtBG_UltimateFusion {\n    background-image: url($asset$img/ArtifactBackgrounds/Ultimate_Fusion.png);\n    background-size: cover;\n    background-repeat: repeat;\n    background-position: top left;\n}\n\n.PrettyCards_ArtBG_FreeKromer {\n    background-image: url($asset$img/ArtifactBackgrounds/FREE_KROMER.png);\n    background-size: cover;\n    background-repeat: repeat;\n    background-position: bottom left;\n}\n\n.PrettyCards_ArtBG_WornDagger {\n    background-image: url($asset$img/ArtifactBackgrounds/Worn_Dagger.png);\n    background-size: cover;\n    background-position: center center;\n}\n\n.PrettyCards_ArtBG_ToughGlove {\n    background-image: url($asset$img/ArtifactBackgrounds/Tough_Glove.png);\n    background-size: cover;\n    background-position: center right;\n}\n\n.PrettyCards_ArtBG_EmptyGun {\n    background-image: url($asset$img/ArtifactBackgrounds/Empty_Gun.png);\n    background-size: cover;\n    background-position: top left;\n}\n\n.PrettyCards_ArtBG_BurntPan {\n    background-image: url($asset$img/ArtifactBackgrounds/Burnt_Pan.png);\n    background-size: cover;\n    background-position: center left;\n}\n\n.PrettyCards_ArtBG_ToyKnife {\n    background-image: url($asset$img/ArtifactBackgrounds/Toy_Knife.png);\n    background-size: cover;\n    background-position: bottom left;\n}\n\n.PrettyCards_ArtBG_BalletShoes {\n    background-image: url($asset$img/ArtifactBackgrounds/Ballet_Shoes.png);\n    background-size: cover;\n    background-position: center center;\n}\n\n.PrettyCards_ArtBG_TornNotebook {\n    background-image: url($asset$img/ArtifactBackgrounds/Torn_Notebook.png);\n    background-size: cover;\n    background-position: top left;\n}\n\n.PrettyCards_ArtBG_MagicWand {\n\n    background-image: url($asset$img/ArtifactBackgrounds/Magic_Wand.png);\n    background-size: cover;\n    background-position: top center;\n}\n\n",""]);const s=o},4145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,'\n@keyframes LegendaryArtifact {\n\tfrom { filter: drop-shadow(0.1em 0.08em 0.2em #ff0); }\n\tto { filter: drop-shadow(0.1em 0.08em 0.4em #ff0); }\n}\n\n@keyframes DTArtifact {\n\tfrom { filter: drop-shadow(0.1em 0.08em 0.05em #f00); }\n\tto { filter: drop-shadow(0.1em 0.08em 0.4em #f00); }\n}\n\n/*\nimg[legendary="true"] {\n\tanimation: LegendaryArtifact 2s alternate infinite ease-in-out;\n}*/\n\n.PrettyCards_Artifact_LEGENDARY {\n\tanimation: LegendaryArtifact 2s alternate infinite ease-in-out;\n}\n\n/*\nimg[name="Cloudy Glasses"],\nimg[name="Crab Apple"],\nimg[name="Economics"],\nimg[name="Save"],\nimg[name="Sea Tea"],\nimg[name="Seap"],\nimg[name="Torn Notebook"],\nimg[name="True Justice"],\nimg[name="IQ"],\nimg[name="Hail"] {\n\tfilter: drop-shadow(0.1em 0.08em 0.4em #00ca78);\n}*/\n\n.PrettyCards_Artifact_TOKEN {\n\tfilter: drop-shadow(0.1em 0.08em 0.4em #00ca78);\n}\n\n\n/*\nimg[name="Genocide"],img[name="Outbreak"],img[name="Ultimate Fusion"] {\n\tanimation: DTArtifact 1.5s alternate infinite ease-in-out;\n}*/\n\n.PrettyCards_Artifact_DETERMINATION {\n\tanimation: DTArtifact 1.5s alternate infinite ease-in-out;\n}\n\n.PrettyCards_Artifact_Soul_DETERMINATION {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em red);\n}\n\n.PrettyCards_Artifact_Soul_BRAVERY {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #fca500);\n}\n\n.PrettyCards_Artifact_Soul_JUSTICE {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #FFFF00);\n}\n\n.PrettyCards_Artifact_Soul_KINDNESS {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #00c000);\n}\n\n.PrettyCards_Artifact_Soul_PATIENCE {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #41fcff);\n}\n\n.PrettyCards_Artifact_Soul_INTEGRITY {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #0064ff);\n}\n\n.PrettyCards_Artifact_Soul_PERSEVERANCE {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #d535d9);\n}\n\n.PrettyCards_Artifact_Soul_MONSTER {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #ffffff);\n}\n\n.PrettyCards_Artifact {\n\twidth: 4em;\n\theight: 4em;\n\tmargin: 0.5em;\n\tcursor: pointer;\n}\n\n.PrettyCards_AverageSizedArtifact {\n\theight: 24px;\n}\n\n/*\n.PrettyCards_ScreenCover {\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tborder: 0px;\n\tmargin: 0px;\n\tpadding: 0px;\n\tz-index: 1040;\n}\n\n.PrettyCards_HalfTransparentBG {\n\tbackground-color: rgba(0, 0, 0, 0.5);\n}\n*/\n\n.PrettyCards_ArtifactDisplayBox {\n\t/*position: absolute;*/\n\tposition: relative;\n\tmargin-top: 150px;\n\tborder: 5px solid white;\n\tbackground-color: black;\n\tpadding: 12px;\n\tpadding-top: 60px;\n\tbackground-position: center;\n\tbackground-size: cover;\n}\n\n.PrettyCards_ArtifactCircle {\n\tborder-radius: 50%;\n\twidth: 192px;\n\theight: 192px;\n\tborder: 5px solid white;\n\tbackground-color: black;\n\tposition: absolute;\n\tleft: calc(50% - (192px / 2));\n\ttop: -140px;\n\toverflow: hidden;\n}\n\n.PrettyCards_ArtifactImage {\n\tposition: relative;\n\twidth: 128px;\n\theight: 128px;\n\ttop: 28px;\n\tleft: 28px;\n\tperspective: 1px;\n}\n\n.PrettyCards_ArtifactDisplayName {\n\tfont-size: 25px;\n\ttext-align: center;\n}\n\n.PrettyCards_ArtifactDisplayRarity {\n\tfont-size: 16px;\n\ttext-align: center;\n}\n\n.PrettyCards_ArtifactDisplayDescription {\n\tmargin-top: 25px;\n\tfont-size: 16px;\n}\n\n.PrettyCards_ArtifactDisplayNoteTitle {\n\tmargin-top: 30px;\n\tfont-size: 2em;\n}\n\n.PrettyCards_SoulDisplay_SpellsHeader {\n\tmargin-top: 20px;\n\ttext-align: center;\n\tfont-size: 18px;\n}\n\n.PrettyCards_SoulDisplay_Spells {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tmargin: 0 61px;\n}\n\n.PrettyCards_SoulDisplay_Spells .card {\n\tmargin: 5px;\n}\n\n.PrettyCards_ArtifactListRow {\n\tmargin: 15px 0px;\n\tmargin-left: 20px;\n\tmin-height: 100px;\n\tposition: relative;\n}\n\n.PrettyCards_ArtifactListBackground {\n\t\t/* background-color: #990000; */\n\t\tposition: absolute;\n\t\ttop: -7.5px;\n\t\tleft: -35px;\n\t\tbottom: -7.5px;\n\t\tright: -15px;\n\t\tbackground-position: center;\n\t\tbackground-size: cover;\n}\n\n.PrettyCards_ArtifactListCircle {\n\tborder-radius: 50%;\n\twidth: 96px;\n\theight: 96px;\n\tborder: 5px solid white;\n\tbackground-color: black;\n\tposition: absolute;\n\tleft: -110px;\n\ttop: 0px;\n\toverflow: hidden;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactListImage,.PrettyCards_ArtifactListImage.PrettyCards_SplitSoul_Container {\n\tposition: relative;\n    width: 96px;\n    height: 96px;\n    top: -5px;\n    left: -5px;\n\tperspective: 1px;\n}\n\n.PrettyCards_ArtifactListName {\n\tfont-size: 20px;\n\tpadding-top: 5px;\n\tposition: relative;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactDisplayCounter {\n\tposition: absolute;\n\tleft: 330px;\n\ttop: -20px;\n\tfont-size: 3em;\n\tbackground-color: black;\n\tborder: 5px solid white;\n\twidth: 1.6em;\n\theight: 1.6em;\n\tborder-radius: 50%;\n\ttext-align: center;\n\tvertical-align: middle;\n\tline-height: 1.35;\n}\n\n.PrettyCards_ArtifactListCounter {\n\tposition: absolute;\n\tleft: -50px;\n\ttop: 55px;\n\tfont-size: 1.5em;\n\tbackground-color: black;\n\tborder: 5px solid white;\n\twidth: 2em;\n\theight: 2em;\n\tborder-radius: 50%;\n\ttext-align: center;\n\tvertical-align: middle;\n\tline-height: 1.55;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactDisplayDisabled {\n\tfont-size: 20px;\n\ttext-align: center;\n}\n\n.PrettyCards_ArtifactListDescription {\n\tposition: relative;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactDisplay_TOKEN {\n\tfilter: drop-shadow(0px 0px 10px #00c800);\n}\n\n.PrettyCards_ArtifactDisplay_RARE {\n\tfilter: drop-shadow(0px 0px 10px rgb(0, 26, 255));\n}\n\n.PrettyCards_ArtifactDisplay_EPIC {\n\tfilter: drop-shadow(0px 0px 12px purple);\n\tanimation: EpicArtifactGlow 3s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_LEGENDARY {\n\tfilter: drop-shadow(0px 0px 15px gold);\n\tanimation: ArtifactFloat 2s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_Floating {\n\tanimation: ArtifactFloat 2s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_DETERMINATION {\n\tanimation: ArtifactFloat 2s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_DETERMINATION img {\n\tanimation: DTArtifactGlow 3s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_MYTHIC {\n\tanimation: ArtifactFloat 3s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_MYTHIC img {\n\tanimation: MYTHICArtifactGlow 7s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_FloatingForSoul {\n\tanimation: ArtifactFloat 3s alternate infinite ease-in-out;\n}\n\n@keyframes ArtifactFloat {\n\tfrom { transform: translatey(12px);}\n\tto { transform: translatey(-12px);}\n}\n\n@keyframes EpicArtifactGlow {\n\tfrom {filter: drop-shadow(0px 0px 8px rgb(66, 0, 66));}\n\tto {filter: drop-shadow(0px 0px 12px rgb(194, 0, 194));}\n}\n\n@keyframes DTArtifactGlow {\n\tfrom {filter: drop-shadow(0px 0px 8px #660000);}\n\tto {filter: drop-shadow(0px 0px 20px #EE0000);}\n}\n\n@keyframes MYTHICArtifactGlow {\n    0% {\n        filter: drop-shadow(0px 0px 20px red)\n    }\n\n    17% {\n        filter: drop-shadow(0px 0px 20px #ff0)\n    }\n\n    33% {\n        filter: drop-shadow(0px 0px 20px #0f0)\n    }\n\n    50% {\n        filter: drop-shadow(0px 0px 20px #0ff)\n    }\n\n    67% {\n        filter: drop-shadow(0px 0px 20px #00f)\n    }\n\n    84% {\n        filter: drop-shadow(0px 0px 20px #f0f)\n    }\n\n    100% {\n        filter: drop-shadow(0px 0px 20px red)\n    }\n}\n\n.PrettyCards_ArtifactDisplayShop {\n\tfont-size: 1.4em;\n    margin-top: 1.5em;\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_DETERMINATION {\n\tfilter: drop-shadow(0px 0px 20px red);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_BRAVERY {\n\tfilter: drop-shadow(0px 0px 20px #fca500);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_JUSTICE {\n\tfilter: drop-shadow(0px 0px 20px #FFFF00);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_KINDNESS {\n\tfilter: drop-shadow(0px 0px 20px #00c000);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_PATIENCE {\n\tfilter: drop-shadow(0px 0px 20px #41fcff);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_INTEGRITY {\n\tfilter: drop-shadow(0px 0px 20px #0064ff);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_PERSEVERANCE {\n\tfilter: drop-shadow(0px 0px 20px #d535d9);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_MONSTER {\n\tfilter: drop-shadow(0px 0px 20px #ffffff);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_SWITCH .PrettyCards_SplitSoul_Left img {\n\tfilter: drop-shadow(0px 0px 20px #41FCFF);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_SWITCH .PrettyCards_SplitSoul_Right img {\n\tfilter: drop-shadow(0px 0px 20px #FF0000);\n}',""]);const s=o},4232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.PrettyCards_AvatarWrapper {\n    position: relative;\n}\n\n.PrettyCards_AvatarWrapper * {\n    border: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.PrettyCards_AvatarBorder {\n    pointer-events: none;\n    position: absolute;\n    top: -10%;\n    left: -10%;\n    width: 120%;\n    height: 120%;\n    background-position: center;\n    background-size: contain;\n}\n\n.PrettyCards_AvatarBorderColor {\n    mix-blend-mode: multiply;\n    pointer-events: none;\n    opacity: 1;\n    mask-repeat: no-repeat;\n    mask-position: center;\n    mask-size: contain;\n}\n\n.COMMON .PrettyCards_AvatarBorderColor {\n    background-color: #999;\n}\n\n.RARE .PrettyCards_AvatarBorderColor {\n    background-color: #00b8ff;\n}\n\n.EPIC .PrettyCards_AvatarBorderColor {\n    background-color: #d535d9;\n}\n\n.LEGENDARY .PrettyCards_AvatarBorderColor {\n    background-color: gold;\n}\n\n.MYTHIC .PrettyCards_AvatarBorderColor {\n    animation: MythicColor 5s linear infinite;\n}\n\n.TOKEN .PrettyCards_AvatarBorderColor {\n    background-color: #00c800;\n}\n\n.FAE .PrettyCards_AvatarBorderColor {\n    background-color: #ec00dd!important;\n}\n\n.avatar.PrettyCards_AvatarBorderChanged {\n    border: none;\n    animation: none;\n    box-shadow: none;\n    margin: 1px;\n}\n\n/*\n.MYTHIC .PrettyCards_AvatarBorder {\n    animation: MythicHueRotate 5s linear infinite;\n}\n*/\n\n@keyframes MythicColor {\n    0% {\n        background-color: #f00;\n    }\n\n    17% {\n        background-color: #ff0;\n    }\n\n    33% {\n        background-color: #0f0;\n    }\n\n    50% {\n        background-color: #0ff;\n    }\n\n    67% {\n        background-color: #00f;\n    }\n\n    84% {\n        background-color: #f0f;\n    }\n\n    100% {\n        background-color: #f00;\n    }\n}\n\n@keyframes MythicHueRotate {\n    0% {\n        filter: invert(44%) sepia(51%) saturate(6859%) hue-rotate(277deg) brightness(90%) contrast(101%);\n    }\n\n    17% {\n        filter: invert(87%) sepia(8%) saturate(5224%) hue-rotate(1deg) brightness(102%) contrast(102%);\n    }\n\n    33% {\n        filter: invert(62%) sepia(45%) saturate(4532%) hue-rotate(80deg) brightness(124%) contrast(126%);\n    }\n\n    50% {\n        filter: invert(89%) sepia(74%) saturate(6756%) hue-rotate(100deg) brightness(107%) contrast(101%);\n    }\n\n    67% {\n        filter: invert(12%) sepia(98%) saturate(5113%) hue-rotate(245deg) brightness(90%) contrast(154%);\n    }\n\n    84% {\n        filter: invert(18%) sepia(97%) saturate(3274%) hue-rotate(292deg) brightness(118%) contrast(131%);\n    }\n\n    100% {\n        filter: invert(44%) sepia(51%) saturate(6859%) hue-rotate(277deg) brightness(90%) contrast(101%);\n    }\n}\n\n.PrettyCards_CommonAvatarDecoComponent {\n    position: absolute;\n    pointer-events: none;\n}\n\n/* Delta Rune */\n\n.PrettyCards_AvatarDeco_DeltaRuneLeftWing {\n    width: 80%;\n    height: 50%;\n    right: 100%;\n    top: 25%;\n    background-color: #CCCCCC;\n    animation: DeltaRuneWingFloat 5s alternate-reverse ease-in-out infinite;\n}\n\n.PrettyCards_AvatarDeco_DeltaRuneRightWing {\n    width: 80%;\n    height: 50%;\n    left: 100%;\n    top: 25%;\n    background-color: #CCCCCC;\n    animation: DeltaRuneWingFloat 5s alternate-reverse ease-in-out infinite;\n}\n\n.PrettyCards_AvatarDeco_DeltaRuneBody {\n    translate: -50% -50%;\n    top: 0;\n    left: 50%;\n    width: 20%;\n    height: 20%;\n    background-color: #AA0000;\n    animation: DeltaRuneBodyFloat 6s alternate-reverse ease-in-out infinite;\n}\n\n.PrettyCards_AvatarDeco_DeltaRuneTriangles {\n    translate: -50% -50%;\n    top: 100%;\n    left: 50%;\n    width: 50%;\n    height: 25%;\n    background-color: #00AA00;\n    animation: DeltaRuneTriangleFloat 5s alternate-reverse ease-in-out infinite;\n    animation-delay: 300ms;\n}\n\n@keyframes DeltaRuneWingFloat {\n    from {\n        top: 15%;\n    }\n    to {\n        top: 35%;\n    }\n}\n\n@keyframes DeltaRuneBodyFloat {\n    from {\n        top: -5%;\n    }\n    to {\n        top: 5%;\n    }\n}\n\n@keyframes DeltaRuneTriangleFloat {\n    from {\n        top: 95%;\n    }\n    to {\n        top: 105%;\n    }\n}",""]);const s=o},2760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.PrettyCards_CardBottomLeftInfo {\n    height: 16px;\n    position: absolute;\n    left: 13px;\n    top: 106px;\n    z-index: 8;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n}\n\n.PrettyCards_CardBottomLeftInfo > img {\n    height: 16px;\n    cursor: help;\n    margin-right: 4px;\n}",""]);const s=o},9225:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.PrettyCards_SkinHeader {\n\tfont-size: 25px;\n\tpadding: 5px;\n}\n\n.PrettyCards_SkinDiv {\n\tposition: relative;\n\twidth: 160px; \n\theight: 90px; \n\tmargin: 4px; \n\tdisplay: inline-block;\n\tborder: 1px white solid;\n}\n\n.PrettyCards_SkinText {\n\tdisplay:table-cell;\n\tvertical-align: middle;\n\twidth: 160px;\n\theight: 90px;\n\ttext-align: center; \n\tbackground-color: rgba(100, 100, 100, 0.3);\n\ttext-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;\n}\n\n.PrettyCards_SkinsContainer {\n\twidth: 100%;\n\theight: 500px;\n\toverflow-y: auto;\n}\n\n.PrettyCards_SkinDiv:hover .PrettyCards_SkinText {\n\tdisplay: none;\n}\n\n.PrettyCards_FullSkinPreview {\n\tdisplay: none;\n    position: absolute;\n    top: -1px;\n    left: -1px;\n    border: 1px white solid;\n    background-color: black;\n    width: 160px;\n    z-index: 2;\n}\n\n.PrettyCards_SkinDiv:hover .PrettyCards_FullSkinPreview {\n\tdisplay: block;\n}\n\n.PrettyCards_FullSkinPreview img {\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0;\n}",""]);const s=o},1252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n/*\n.mainContent .avatarGroup {\n    display: inline;\n    position: relative;\n    top: 15px;\n}\n*/\n\n.PrettyCards_FadeUCP {\n    color: #5ca890;\n    text-shadow: 0 0 10px #5ca890;\n}\n\n.PrettyCards_CosmeticsStar {\n    display: none;\n    position: absolute;\n    text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;\n    font-size: 1.5em;\n}\n\n.avatarGroup .PrettyCards_CosmeticsStar {\n    right: -42px;\n    top: -62px;\n}\n\n*:hover > .PrettyCards_CosmeticsStar {\n    display: block;\n}\n\n.PrettyCards_CosmeticsStar:hover {\n    color: yellow;\n}\n\n.emoteGroup {\n    position: relative;\n    width: fit-content;\n}\n\n.PrettyCards_EmoteSoundPlayer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    font-size: 3em;\n    display: none;\n    line-height: 1.5;\n    text-align: center;\n}\n\n.emoteGroup:hover .PrettyCards_EmoteSoundPlayer {\n    display: block;\n}\n\n.PrettyCards_EmoteSoundPlayer:active {\n    color: rgb(175, 175, 175);\n}",""]);const s=o},5727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n#PrettyCards_CustomCardSkins_EditContainer {\n\t\n}\n\n#PrettyCards_CardListContainer {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tflex-direction: row;\n}\n\n.PrettyCards_RowFlex {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n}\n\n.PrettyCards_CustomCardSkins_EditColumn {\n\twidth: 50%;\n}\n\n.PrettyCards_InvertedP {\n\tmargin: 10px 0 0;\n}",""]);const s=o},4811:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.cardImage {\n\tbackground-size:contain!important;\n\tbackground-position: center!important;\n}\n\n.cardRarity {\n\tbackground-size:contain!important; \n\tbackground-position: center!important;\n}\n\n/*\n.monster.ext_DDLC .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/DDLC/frame_monster.png');\n}\n\n.spell.ext_DDLC .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/DDLC/frame_spell.png');\n}\n*/\n\n.monster.ext_LUNA .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/LUNA/frame_monster.png');\n}\n\n.spell.ext_LUNA .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/LUNA/frame_spell.png');\n}\n\n.card.ext_DDLC .cardBackground {\n\tbackground-image: url('$asset$img/CardFrames/DDLC/frame_background.png'); \n\ttop: 7px; \n\theight: 231px;\n}\n\n/*\n@font-face {\n\tfont-family: Aller;\n\tsrc: url($asset$fonts/Aller_Rg.ttf);\n}\n*/\n\n.card.ext_DDLC {\n\t/*font-family: Aller;*/\n}\n\n.ext_DDLC .cardHeader, .ext_DDLC .cardFooter {\n\tbackground-color: rgb(0, 0, 0, 0); \n}\n\n.card .breakingSkinBackground {\n\tpointer-events: none;\n    width: 176px;\n    height: 246px;\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 1;\n}\n\n.cardName.SWITCH div {\n\tdisplay: inline-block;\n}\n\n.cardName.SWITCH div,.SWITCH {\n\tbackground: linear-gradient(to right, #42FCFF 50%, #FF0000 50%);\n\ttext-shadow: none;\n\t-webkit-background-clip: text;\n\t-webkit-text-fill-color: transparent;\n\t/*display: inline-block;*/\n}\n\n.HATE {\n\tcolor: black;\n\ttext-shadow: -1px -1px white, 1px 1px white, -1px 1px white, 1px -1px white;\n}\n\n.card:hover .glyphicon.PrettyCards_CardThemeSongPlayer {\n\tdisplay: block;\n}\n\n.glyphicon.PrettyCards_CardThemeSongPlayer {\n\tdisplay: none;\n\tfont-size: 30px;\n\tposition: absolute;\n\ttop: 40px;\n\tleft: 14px;\n\tcursor: pointer;\n\tz-index: 10;\n}\n\n.glyphicon.PrettyCards_CardThemeSongPlayer:hover {\n\tcolor:#41fcff;\n}\n\n.PrettyCards_CardThemeSongList {\n\tline-height: normal;\n\tbackground-color: rgb(230, 230, 230, 0.7);\n\tfont-family: DTM-Mono;\n\tdisplay: none;\n\tposition: absolute;\n    max-width: 118px;\n\twidth: max-content;\n\ttop: 0;\n    left: 32px;\n\tflex-wrap: wrap;\n\tflex-direction: row;\n}\n\n.PrettyCards_CardThemeSongList .btn {\n\tpadding: 4px 8px;\n\tmargin: 0.5px;\n\n}\n\n.PrettyCards_CardThemeSongList_Big .btn {\n\tpadding: 6px 12px;\n\tmargin: 1px;\n}\n\n.PrettyCards_CardThemeSongPlayer:hover .PrettyCards_CardThemeSongList,.PrettyCards_CardThemeSongList:hover {\n\tdisplay: flex;\n}\n\n.PrettyCards_TransparentText {\n\tcolor: rgba(1, 1, 1, 0);\n\ttext-shadow: none;\n}\n\n#PrettyCards_CustomCardCategories {\n\t/*display: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;*/\n}\n\n.PrettyCards_CardCollection {\n\tbackground-color: #111111;\n\t/*width: calc(50% - 0.5em);*/\n\tmargin: 0.25em;\n\tpadding: 0.4em 0.6em;\n\tcursor: pointer;\n}\n\n.PrettyCards_CollectionName {\n\tfont-size: 2em;\n}\n\n.PrettyCards_CollectionAuthor {\n\tfont-size: 1.5em;\n}\n\n.PrettyCards_CollectionDetails {\n\tfont-size: 1.2em;\n\t/*float: right;*/\n}\n\n.PrettyCards_BigCollectionName {\n\twidth: 100%;\n\tfont-size: 3em;\n\ttext-align: center;\n}\n\n.PrettyCards_BigCollectionAuthor {\n\twidth: 100%;\n\tfont-size: 2em;\n\ttext-align: right;\n}\n\n.PrettyCards_Soul {\n\twidth: 4em;\n\theight: 4em;\n\tmargin: 0.5em;\n\tcursor: pointer;\n}\n\n.PrettyCards_CollectionBackButton {\n\tfont-size: 1.5em;\n\tcursor: pointer;\n}\n\n.PrettyCards_CollectionBackButton:hover {\n\tcolor: #41fcff;\n}\n\n#PrettyCards_CardsShowcase,#PrettyCards_ArtifactsShowcase,#PrettyCards_SoulsShowcase {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n\n#PrettyCards_CardsShowcase .card {\n\tmargin: 2px;\n}\n\n#PrettyCards_CollectionHeaderTop {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n}\n\n.PrettyCards_CollectionNew_Soultifact {\n\tdisplay: flex;\n\tflex-wrap: nowrap;\n\tflex-direction: row;\n}\n\n.PrettyCards_CollectionNew_SoultifactImage {\n\twidth: 7em;\n\theight: 7em;\n\tmargin-right: 1em;\n\tcursor: pointer;\n\ttop: 0px;\n\tleft: 0px;\n\ttransform: scale(1.5);\n}\n\n.PrettyCards_CollectionNew_SoultifactName {\n\tfont-size: 2.5em;\n\twidth: fit-content;\n}\n\n.PrettyCards_CollectionNew_SoultifactRarity {\n\tfont-size: 1.2em;\n\twidth: fit-content;\n}\n\n.PrettyCards_CustomCardsShowcaseScreenshot {\n\tbackground-color: black;\n    padding: 1em;\n    border: 5px solid white;\n}",""]);const s=o},7288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n/*\n.PrettyCards_Contributor {\n    text-shadow: none;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background: linear-gradient(90deg, rgba(102,0,255,1) 0%, rgba(102,0,255,1) 50%, rgba(254,255,0,1) 50%, rgba(254,255,0,1) 100%);\n}\n*/\n\n.PrettyCards_Staff {\n    color: rgb(113, 0, 205);\n}\n\n.PrettyCards_MiniStaff {\n    color: rgb(143, 0, 245);\n}\n\n.PrettyCards_Owner {\n    color: rgb(137, 0, 164);\n}\n\n.Overachiever {\n    color: #690000;\n}\n\n.Cutie {\n    color: #FF67DC;\n}\n\n.Grassless {\n    color: #92df4f;\n}",""]);const s=o},9157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,'\n.friendship-level {\n    color: #fff;\n    position: absolute;\n    left: 62px;\n    top: 102px;\n    z-index: 8;\n    background-color: rgba(0,0,0,.7);\n    width: 50px;\n    height: 50px;\n    border: 3px solid #fff;\n    border-radius: 50%;\n    font-size: 22px;\n    text-align: center;\n    display: inline-block;\n    line-height: 42px\n}\n\n.friendship-xp {\n    color: #fff;\n    position: absolute;\n    left: 8px;\n    top: 174px;\n    z-index: 8;\n    width: 160px;\n    font-size: 16px;\n    text-align: center;\n    display: inline-block\n}\n\n.friendship-bar progress {\n    width: 130px;\n    position: absolute;\n    left: 24px;\n    top: 142px;\n    z-index: 7\n}\n\n.PrettyCards_FriendshipTop {\n\tright: 117px;\n\tbottom: 130px;\n    z-index: 9;\n    position: absolute;\n    background-color: darkmagenta;\n    border-radius: 1em;\n    padding: 0.5em;\n    width: 3.5em;\n    text-align: center;\n\tborder-bottom-right-radius: 0px;\n\tfont-size: 0.8em;\n}\n\n.PrettyCards_FriendshipTop.PrettyCards_FriendshipTop_Right {\n\tleft: 115px;\n\tborder-bottom-right-radius: 1em;\n\tborder-bottom-left-radius: 0px;\n}\n\n/* Taken Directly from Underscript */\n.PrettyCards_FriendshipRank {\n\tposition: relative;\n\tz-index: 9;\n\twidth: 32px;\n\theight: 32px;\n\tleft: 95px;\n\ttop: 95px;\n\topacity: 0.9;\n\tbackground-image: url(https://undercards.net/images/friendship.png);\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n}\n\n.PrettyCards_FriendshipRank:not([top])[val]::after {\n\tcontent: attr(val);\n\tfont-size: 17px;\n\ttext-align: center;\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\ttext-shadow: -1px -1px 0 #000, 1px 1px 0 #000, -1px 1px 0 #000, 1px -1px 0 #000;\n}\n\n.PrettyCards_FriendshipRank[top]::after {\n\tcontent: \' \';\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.PrettyCards_FriendshipRank[val="1"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_DETERMINATION.png); }\n.PrettyCards_FriendshipRank[val="2"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_LEGENDARY.png); }\n.PrettyCards_FriendshipRank[val="3"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_EPIC.png); }\n.PrettyCards_FriendshipRank[val="4"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_RARE.png); }\n.PrettyCards_FriendshipRank[val="5"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_COMMON.png); }',""]);const s=o},4578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,'\n.PrettyCards_GameEnd_Backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: -100%;\n    left: 0;\n    background-color: black;\n    overflow: auto;\n    z-index: 14;\n}\n\n.PrettyCards_GameEnd_Content {\n    width: 900px;\n    min-height: 100%;\n    padding: 15px 0;\n    margin: auto;\n}\n\n.PrettyCards_GameEnd_Title {\n    font-size: 10em;\n    text-align: center;\n    line-height: 1.2;\n    /*margin-bottom: 0.3em;*/\n}\n\n.PrettyCards_GameEnd_Subtitle {\n    font-size: 2em;\n    text-align: center;\n    line-height: 0.8;\n    margin-bottom: 1em;\n}\n\n.DTFragment {\n    color: #990000;\n    text-shadow: 0 0 10px #FF0000;\n}\n\n.PrettyCards_GameEnd_RewardSourceContainer::before {\n    content: " ";\n}\n\n.PrettyCards_GameEnd_RewardRow {\n    font-size: 1.5em;\n    text-align: center;\n    vertical-align: middle;\n}\n\n.PrettyCards_GameEnd_RewardRow img {\n    height: 32px;\n}\n\n.PrettyCards_GameEnd_BarRow {\n    display: flex;\n    flex-wrap: nowrap;\n    flex-direction: row;\n    /* align-content: center; */\n    justify-content: center;\n    align-items: center;\n}\n\n.PrettyCards_GameEnd_Content .glyphicon {\n    position: relative;\n}\n\n.PrettyCards_GameEnd_Tooltip {\n    position: absolute;\n    bottom: 100%;\n    translate: -50% 0;\n    left: 50%;\n    display: none;\n    white-space: nowrap;\n}\n\n*:hover > .PrettyCards_GameEnd_Tooltip {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    align-items: center;\n}\n\n* > .PrettyCards_GameEnd_Tooltip:hover {\n    display: none;\n}\n\n.PrettyCards_GameEnd_TooltipText {\n    background-color: #303030;\n    font-family: DTM-Mono;\n    padding: 0.3em 0.4em;\n    border-radius: 0.3em;\n    color: white;\n    font-size: 0.8em;\n    text-shadow: none;\n}\n\n.PrettyCards_GameEnd_TooltipArrow {\n    background-color: #303030;\n    width: 0.5em;\n    height: 0.5em;\n    transform: rotate(45deg);\n    translate: 0 -50%;\n    z-index: -1;\n}\n\n.PrettyCards_GameEnd_BarText {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    vertical-align: middle;\n    opacity: 0.6;\n    top: 0;\n    left: 0;\n}\n\n.PrettyCards_XPBarText {\n    color: #000000;\n}\n\n.PrettyCards_GameEnd_LeaveRow {\n    text-align: center;\n    margin-top: 20px;\n    scale: 1.2;\n}\n\n.PrettyCards_GameEnd_FriendshipCards {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n}\n\n.PrettyCards_GameEnd_FriendshipHeader {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-content: center;\n    align-items: center;\n    padding: 0 15px;\n}\n\n.PrettyCards_GameEnd_Backdrop .friendship-not-claimed .cardFrame {\n    -webkit-filter: grayscale(100%) brightness(50%) sepia(100%) hue-rotate(100deg) saturate(500%) contrast(1.5);\n    filter: grayscale(100%) brightness(50%) sepia(100%) hue-rotate(100deg) saturate(500%) contrast(1.5)\n}\n\n.PrettyCards_GameEnd_Backdrop .friendship-not-claimed .cardBackground {\n    box-shadow: 0 0 10px 5px #4fff00\n}\n\n.PrettyCards_GameEnd_Backdrop .friendship-not-claimed:hover {\n    opacity: 0.8;\n}\n\n.PrettyCards_GameEnd_QuestRow {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: center;\n    height: 60px;\n    border-top: 1px solid #ddd;\n}\n\n.PrettyCards_GameEnd_QuestRow img {\n    height: 32px;\n}\n\n.PrettyCards_GameEnd_QuestRow .avatar {\n    height: 48px;\n}\n\n.PrettyCards_GameEnd_QuestText {\n    padding: 0.5em;\n    width: 100%;\n}\n\n.PrettyCards_GameEnd_QuestProgress {\n    min-width: 190px;\n}\n\n.PrettyCards_GameEnd_QuestReward {\n    min-width: 100px;\n    text-align: center;\n}\n\n.PrettyCards_GameEnd_QuestClaim {\n    min-width: 100px;\n    text-align: center;\n}\n\n.PrettyCards_BarelyVisibleHallucinationMachine {\n    opacity: 0.01;\n    animation: PrettyCards_BarelyVisibleHallucinationMachine linear 22s infinite;\n    user-select: none;\n    pointer-events: none;\n}\n\n.PrettyCards_Transparent {\n    opacity: 0;\n}\n\n@keyframes PrettyCards_BarelyVisibleHallucinationMachine {\n    from {\n        opacity: 0;\n    }\n\n    20% {\n        opacity: 0.022;\n    }\n\n    25% {\n        opacity: 0.05;\n    }\n\n    28% {\n        opacity: 0;\n    }\n\n    70% {\n        opacity: 0.01;\n    }\n\n    75% {\n        opacity: 0.05;\n    }\n\n    77% {\n        opacity: 0;\n    }\n\n    90% {\n        opacity: 0.01;\n    }\n\n    92% {\n        opacity: 0.05;\n    }\n\n    93% {\n        opacity: 0;\n    }\n  \n    100% {\n        opacity: 0;\n    }\n  }',""]);const s=o},1315:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n#PrettyCards_CT_Phase0_SourceSelect > div {\n    font-size: 2em;\n    margin: 0.5em;\n    cursor: pointer;\n}\n\n#PrettyCards_CT_Phase0_SourceSelect > div:hover {\n    color: yellow;\n}\n\n#PrettyCards_CT_Phase1_LangaugeSelect {\n\n}\n\n#PrettyCards_CT_Phase1_LangaugeSelect > div {\n    font-size: 2em;\n    margin: 0.5em;\n    cursor: pointer;\n}\n\n#PrettyCards_CT_Phase1_LangaugeSelect > div:hover {\n    color: green;\n}\n\n#PrettyCards_CT_Phase2 {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n}\n\n#PrettyCards_CT_Phase2_MainContent {\n    max-width: 900px;\n    min-width: 900px;\n}\n\n#PrettyCards_CT_Phase2_FilterRow {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    margin-bottom: 1em;\n}\n\n.mainContent.PrettyCards_FullWidthMainContent {\n    width: 100%;\n}\n\n.mainContent.PrettyCards_WiderMainContent {\n    width: 1500;\n}\n\n#PrettyCards_CT_Phase2_QuickRef {\n    width: 600px;\n    border: 5px solid white;\n    background-color: black;\n    padding: 0px 8px;\n}\n\n#PrettyCards_CT_Phase2_Table {\n    margin-top: 1em;\n}\n\n.PrettyCards_CT_Phase2_ListEntryRow > td {\n    width: 50%;\n}\n\n.PrettyCards_CT_Phase2_ListEntryRow textarea {\n    max-width: 430px;\n    min-width: 430px;\n}\n\n@font-face {\n    font-family: UniSansHeavy;\n    src: url(fonts/Uni\\ Sans\\ Heavy.otf);\n}\n\n@font-face {\n    font-family: WhitneyMedium;\n    src: url(fonts/Whitney-Medium.ttf);\n}\n\n.PrettyCards_DiscordMention {\n    background-color: #5B6DED;\n    color: white;\n    font-family: WhitneyMedium;\n    border-radius: 3px;\n    font-size: 1.1em;\n    padding: 1px 2px;\n}\n\n.PrettyCards_BlockCode {\n    display: block;\n    padding: 4px 8px;\n}\n\n.PrettyCards_DarkThemeCode {\n    user-select: all;\n    color: #CCCCCC;\n    background-color: #222222;\n}\n\n#PrettyCards_CT_Phase2_Table tr {\n    user-select: text;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntry > *:not(.PrettyCards_CT_Phase2_QuickRefEntryTitle) {\n    display: none;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntry.PrettyCards_CT_Phase2_QuickRefEntryOpen > * {\n    display: block;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntryTitle {\n    cursor: pointer;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntryTitle:hover {\n    color: #BBBBBB;\n}",""]);const s=o},9008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,'\n/* From: https://www.w3schools.com/howto/howto_css_switch.asp */\n\n/* The form_switch - the box around the slider */\n.form_switch {\n    position: relative;\n    display: inline-block;\n    width: 60px;\n    height: 34px;\n}\n\n/* Hide default HTML checkbox */\n.form_switch input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n}\n\n/* The slider */\n.slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    -webkit-transition: .4s;\n    transition: .4s;\n}\n\n.slider:before {\n    position: absolute;\n    content: "";\n    height: 26px;\n    width: 26px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    -webkit-transition: .4s;\n    transition: .4s;\n}\n\ninput:checked + .slider {\n    background-color: #2196F3;\n}\n\ninput:focus + .slider {\n    box-shadow: 0 0 1px #2196F3;\n}\n\ninput:checked + .slider:before {\n    -webkit-transform: translateX(26px);\n    -ms-transform: translateX(26px);\n    transform: translateX(26px);\n}\n\n/* Rounded sliders */\n.slider.round {\n    border-radius: 34px;\n}\n\n.slider.round:before {\n    border-radius: 50%;\n}\n\n.form_switch.friendshipSortSwitch .slider {\n    background-color: #0003ff;\n}\n\n.form_switch.friendshipSortSwitch input:checked + .slider {\n    background-color: #FF49EF;\n}\n\n/* Seems like a good place to put this? */\nfooter .glyphicon:hover {\n    opacity: .5;\n}',""]);const s=o},525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.PrettyCards_LookAt_NoScroll {\n\toverflow: hidden;\n}\n\n.PrettyCards_LookAt_Background {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0px;\n\toverflow-y: auto;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tz-index: 222;\n}\n\n.PrettyCards_LookAt_Container {\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.PrettyCards_LookAt_Title {\n\tfont-size: 3em;\n\theight: 3em;\n\tcolor: white;\n\tflex: 0 1 auto;\n\ttext-align: center;\n}\n\n.PrettyCards_LookAt_CardContainer {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 80%;\n\tmin-width:  900px;\n\tmargin: 1em auto;\n\tflex: 0 1 auto;\n\theight: 100%;\n}\n\n.PrettyCards_LookAt_CardContainer .card:hover .cardBackground{\n    box-shadow: 0 0 10px 5px fuchsia;\n    transform: translate3d(0, 0, 0);\n}\n\n.PrettyCards_LookAt_CardContainer .card:hover .cardFrame {\n\t-webkit-filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(250deg) saturate(500%) contrast(1.5);\n    filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(250deg) saturate(500%) contrast(1.5);\n}",""]);const s=o},1298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n#PrettyCards_MassCraft_SoulDeckRow {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n}\n\n#PrettyCards_MassCraft_SoulDeckRow img {\n    width: 32px;\n}\n\n#PrettyCards_MassCraft_Artifacts {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    align-content: center;\n}\n\n.PrettyCards_MassCraft_ArtifactSlot {\n    margin-left: 10px;\n}\n\n@keyframes PrettyCards_MassCraft_MissingArtifact {\n    to {\n        color: red;\n        border-color: red;\n    }\n}\n\n.PrettyCards_MassCraft_MissingArtifact {\n    animation: PrettyCards_MassCraft_MissingArtifact alternate 2s infinite;\n    animation-timing-function: ease-in-out;\n}\n\n#PrettyCards_MassCraft_ModeSelectRow {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n    margin-top: 0.5em;\n}\n\n.PrettyCards_MassCraft_ModeSelectBtn {\n    border: 1px solid #222222;\n    padding: 0.5em 0.6em;\n    text-align: center;\n    width: 50%;\n    height: 100%;\n}\n\n.PrettyCards_MassCraft_ModeSelectBtn:hover {\n    background-color: #333333;\n}\n\n.PrettyCards_MassCraft_ModeSelected {\n    background-color: #434343;\n}\n\n.PrettyCards_MassCraft_NotHave .cardFrame {\n    -webkit-filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(310deg) saturate(500%) contrast(1.5);\n    filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(310deg) saturate(500%) contrast(1.5);\n}\n\n#PrettyCards_MassCraft_CardContainer {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: space-between;\n    max-height: 600px;\n    overflow-y: auto;\n    padding: 20px;\n}\n\n#PrettyCards_MassCraft_BuyRow {\n    margin-top: 1em;\n    font-size: 1.2em;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n}\n\n.normalArtifact {\n    border-color: white;\n}\n\n.baseArtifact {\n    border: 1px solid rgb(68, 68, 68);\n}\n\n.tokenArtifact {\n    border: 1px solid rgb(11, 135, 0);\n}\n\n.determinationArtifact,.dtArtifact {\n    border: 1px solid rgb(207, 0, 0);\n}\n\n.rareArtifact {\n    border: 1px solid rgb(20, 0, 204);\n}\n\n.epicArtifact {\n    border: 1px solid rgb(115, 0, 186);\n}\n\n.mythicArtifact {\n    animation: mythicBorder 2s infinite;\n}\n\n@keyframes mythicBorder {\n    0% {\n        border: 1px solid red\n    }\n\n    17% {\n        border: 1px solid #ff0\n    }\n\n    33% {\n        border: 1px solid #0f0\n    }\n\n    50% {\n        border: 1px solid #0ff\n    }\n\n    67% {\n        border: 1px solid #00f\n    }\n\n    84% {\n        border: 1px solid #f0f\n    }\n\n    100% {\n        border: 1px solid red\n    }\n}",""]);const s=o},8586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n#PrettyCards_MainMenu {\n    position: absolute; \n    top: 0px; \n    right: 38px; \n    display: none; /*Manipulated by code*/\n    z-index: 12;\n}\n\n#PrettyCards_TopAdvert {\n    width: 100%;\n    text-align: center;\n    background-color: #3192e7;\n    padding: 0.3em;\n    font-size: 1.2em;\n    position: relative;\n    height: 36px;\n}\n\n#PrettyCards_TopAdvert_CloseButtons {\n    top: 0.3em;\n    right: 0.5em;\n    display:flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    position: absolute;\n    color: white;\n    user-select: none;\n}\n\n#PrettyCards_TopAdvert_CloseButtons > div {\n    margin: 0 0.4em;\n    cursor: pointer;\n}\n\n#PrettyCards_TopAdvert_CloseButtons > div:hover {\n    color: #888888;\n}\n\n.PrettyCards_HiddenUntilLogin {\n    display: none;\n}",""]);const s=o},4386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.PrettyCards_Mobile_HeaderButton {\n\tfont-size: 30px;\n\tpadding: 5px;\n\theight: 50px;\n\twidth: 50px;\n\tcolor: black;\n}\n\n.PrettyCards_HeaderFlex {\n\tdisplay: flex;\n}\n\n#PrettyCards_HeaderMid {\n\twidth: 100%;\n}\n\n#PrettyCards_Mobile_NavBar {\n\tbackground-color: black;\n\tborder: 3px solid white;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 50%;\n\theight: 100%;\n\toverflow-y: auto;\n\tz-index: 100;\n}\n\n.PrettyCards_NavBarItem {\n\tfont-size: 40px;\n\tmargin-left: 20px;\n\tuser-select: none;\n}\n\n.PrettyCards_NavBarItem > span {\n\tcolor: white;\n\tcursor: pointer;\n}\n\n.PrettyCards_NavBarItem > span:hover {\n\ttext-decoration: underline;\n}\n\n.PrettyCards_NavBarItem a {\n\tcolor: white;\n}\n\n.PrettyCards_NavBarItem img {\n\theight: 40px;\n}\n\n.PrettyCards_Hidden {\n\tdisplay: none!important;\n}\n\n#PrettyCards_Mobile_NavBarBG {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 99;\n\topacity: 0.5;\n\tbackground-color: black;\n}\n\n.PrettyCards_NavBarProfile {\n\tfont-size: 25px;\n\tmargin: 5px;\n}\n\n.PrettyCards_NavBarProfile td {\n\tpadding: 0px 5px;\n}\n\n.PrettyCards_Divider {\n\tmargin: 20px;\n\tborder: 1px solid white;\n}\n\n.PrettyCards_NavBarInline {\n\tdisplay: inline-block;\n\tmargin: 10px;\n}\n\n.PrettyCards_NavBarCopyright {\n\tfont-size: 25px;\n\ttext-align: center;\n}",""]);const s=o},1905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.PrettyCards_MainContainer {\n\twidth: 100%;\n\tmargin: 0px;\n}\n\n.PrettyCards_PacksRow {\n\ttext-align: center;\n\twidth: 100%;\n}\n\n.PrettyCards_PackCell {\n\tdisplay: inline-block;\n\twidth: 32%;\n\ttext-align: center;\n\tposition: relative;\n}\n\n.PrettyCards_PackBuyCount, .PrettyCards_PackOpenCount {\n\twidth: 4em;\n\tbackground-color: black;\n\tborder: 2px solid white;\n}\n\n.PrettyCards_PackName {\n\tfont-size: 2.2em;\n}\n\n.PrettyCards_PackDescription {\n\tfont-size: 1.1em;\n}\n\n.PrettyCards_PackText div {\n\tmargin-bottom: 8px;\n}\n\n.PrettyCards_PackText {\n\toverflow-y: hidden;\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.PrettyCards_FloatingPack {\n\twidth: 100%;\n\tmargin: 0px;\n\tposition: relative;\n\ttop: 0px;\n\tanimation: upDown 1.5s alternate infinite ease-in-out;\n}\n\n.PrettyCards_FloatingPackImage {\n\twidth: 60%;\n\tmargin: 0px;\n\tmask-image: url($asset$img/Packs/Pack.svg);\n\tmask-position: center;\n\tmask-size: cover;\n\t-webkit-mask-image: url($asset$img/Packs/Pack.svg);\n\t-webkit-mask-position: center;\n\t-webkit-mask-size: cover;\n\tdisplay: inline-block;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\tbackground-position: center;\n}\n\n.PrettyCards_PackAmount {\n\tposition: absolute;\n\tbottom: 0px;\n\twidth: 100%;\n\tright: 0px;\n\ttext-align: center;\n\tfont-size: 4em;\n\tcolor: gold;\n\tbackground-color: rgba(0, 0, 0, 0.6);\n}\n\n.PrettyCards_InvisiblePack { /*Since the element does not stretch for the background, we are gonna force it to take up the right shape with an invisible version of the image!*/\n\twidth:100%;\n\topacity: 0;\n}\n\n.PrettyCards_PackSpacer {\n\theight: 15em;\n}\n\n.PrettyCards_HalfPackSpacer {\n\theight: 7.5em;\n}\n\n.PrettyCards_ThirdPackSpacer {\n\theight: 5em;\n}\n\n.PrettyCards_Floating {\n\tanimation: upDown 1.5s alternate infinite ease-in-out;\n}\n\n@keyframes upDown {\n  to { transform: translatey(-2em);}\n}\n\n.PrettyCards_PacksRow.PrettyCards_WideTemplate {\n\tposition: absolute;\n\twidth: 100%;\n\tleft: 0px;\n}\n\n.PrettyCards_PacksRow.PrettyCards_WideTemplate .PrettyCards_PackCell {\n\twidth: 19%;\n}\n\n.PrettyCards_AnimationPack {\n\tposition: absolute;\n}\n\n#PrettyCards_PackOpenContent {\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0px;\n\tbackground-color: rgba(0, 0, 0, 0);\n\tdisplay: none;\n\tz-index: 222;\n}\n\n.PrettyCards_CardBack {\n\twidth: 170px;\n\theight: 242px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n}\n\n.PrettyCards_FlippableCardContainer {\n\tposition: absolute;\n\ttransform: translate(-50%, -50%);\n\ttransition: transform 0s;\n\tperspective: 1000px;\n}\n\n.PrettyCards_FlipContainer {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: transform 0s;\n\ttransform-style: preserve-3d;\n}\n\n.PrettyCards_CardBack, .PrettyCards_CardFront {\n\t-webkit-backface-visibility: hidden;\n\tbackface-visibility: hidden;\n}\n\n.PrettyCards_CardFront {\n\t\n}\n\n.PrettyCards_CardBack {\n\twidth: 100%;\n\theight:100%;\n\tposition: absolute;\n\ttop: 0px;\n    background-repeat: no-repeat;\n    background-position: center;\n\tbackground-color: black;\n\ttransform: rotateY(180deg);\n}\n\n.PrettyCards_CardSummary {\n\twidth: 100%;\n\tpadding-left: 10%;\n\tpadding-right: 10%;\n\toverflow-y: auto;\n\ttext-align: center;\n\theight: 100%;\n\tmax-height: 100%; /* To make sure the overflow works on EVERY browser */\n\ttop: 100%;\n\tposition: absolute;\n}\n\n.card .cardName {\n\ttext-align: left;\n}\n\n.PrettyCards_CardSummaryTitle {\n\twidth: 100%;\n\ttext-align: center;\n\tfont-size: 4em;\n}\n\n.PrettyCards_RippedPack {\n\tposition: absolute;\n\tmargin: 0px;\n\tmask-position: center;\n\tmask-size: cover;\n\t-webkit-mask-position: center;\n\t-webkit-mask-size: cover;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\tbackground-position: center;\n}\n\n.PrettyCards_PacksSkipButton {\n\tposition: absolute;\n\tbottom: 0.5em;\n\tright: 0.5em;\n\tfont-size: 4em;\n}\n\n.PrettyCards_RippedPack_Up {\n\tmask-image: url($asset$img/Packs/Pack_HorizontalRip_Top.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_HorizontalRip_Top.svg);\n}\n\n.PrettyCards_RippedPack_Down {\n\tmask-image: url($asset$img/Packs/Pack_HorizontalRip_Bottom.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_HorizontalRip_Bottom.svg);\n}\n\n.PrettyCards_RippedPack_Left {\n\tmask-image: url($asset$img/Packs/Pack_VerticalRip_Left.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_VerticalRip_Left.svg);\n}\n\n.PrettyCards_RippedPack_Right {\n\tmask-image: url($asset$img/Packs/Pack_VerticalRip_Right.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_VerticalRip_Right.svg);\n}",""]);const s=o},5092:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.game-mode:not(.closed):hover {\n\topacity: .7;\n\tcursor: pointer;\n}\n\n.game-mode {\n\ttext-align: center;\n\tmargin: 5px;\n\twidth: 280px;\n\theight: 230px;\n}\n\n.PrettyCards_GamemodeContainer {\n\tdisplay: flex;\n\twidth: 1000px;\n}\n\n.PrettyCards_GamemodeDeck {\n\twidth: 280px;\n\tmargin: 5px;\n\theight: 240px;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.PrettyCards_Gamemodes {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 580px;\n}\n\n.PrettyCards_GamesList {\n\twidth: 580px;\n}\n\n#PrettyCards_DeckContainer {\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n}\n\n#PrettyCards_DeckArtifacts {\n\tmargin-top: 20px;\n\ttext-align: center;\n}\n\n#PrettyCards_SeasonRewards {\n\tmargin-top: 40px;\n\ttext-align: center;\n}\n\n#PrettyCards_JoinCreate {\n\tmargin-top: 40px;\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n\talign-items: center;\n\tflex-direction: column;\n}\n\n#PrettyCards_JoinCreate button {\n\tdisplay: block;\n\tmargin: 5px;\n}\n",""]);const s=o},3410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.PrettyCards_DecklistSoulsContainer,.PrettyCards_DecklistButtonContainer {\n\ttext-align:center;\n\twidth: 100%;\n}\n\n.PrettyCards_DeckListContainer {\n\twidth: 100%;\n\theight: 640px;\n\toverflow-y: auto;\n}\n\n.PrettyCards_DeckHeader {\n\tfont-size: 30px;\n\tpadding-left: 50px;\n\tpadding-bottom: 4px;\n\tpadding-top: 4px;\n}\n\n.PrettyCards_DeckHeader.DETERMINATION {\n\tcolor: black;\n\tbackground-color: #FF0000;\n}\n\n.PrettyCards_DeckHeader.BRAVERY {\n\tcolor: black;\n\tbackground-color: #FCA500;\n}\n\n.PrettyCards_DeckHeader.JUSTICE {\n\tcolor: black;\n\tbackground-color: #FFFF00;\n}\n\n.PrettyCards_DeckHeader.KINDNESS {\n\tcolor: black;\n\tbackground-color: #00C000;\n}\n\n.PrettyCards_DeckHeader.PATIENCE {\n\tcolor: black;\n\tbackground-color: #41FCFF;\n}\n\n.PrettyCards_DeckHeader.INTEGRITY {\n\tcolor: black;\n\tbackground-color: #0064FF;\n}\n\n.PrettyCards_DeckHeader.PERSEVERANCE {\n\tcolor: black;\n\tbackground-color: #D535D9;\n}\n\n.PrettyCards_DeckHeader.MONSTER {\n\tcolor: black;\n\tbackground-color: #FFFFFF;\n}\n\n.PrettyCards_DeckHeader.SWITCH {\n\tcolor: black;\n\tbackground: linear-gradient(to right, #ff0000 50%, #42FCFF 50%);\n}\n\n.PrettyCards_DeckListContainer .card {\n\tdisplay: inline-block;\n\tmargin: 5px 0px;\n}\n\n.card.PrettyCards_DeckCard .cardCost {\n\tdisplay: none;\n}\n\n.card.PrettyCards_DeckCard .cardName {\n\twidth: 160px;\n}\n\n.card.PrettyCards_DeckCard .cardRarity {\n\tdisplay: none;\n}\n\n.PrettyCards_DeckCardErase {\n\theight: 25px;\n\twidth: 160px;\n\tposition: absolute;\n\tpadding-left: 5px;\n\tpadding-right: 5px;\n\tleft: 8px;\n\ttop: 212px;\n\ttext-align: center;\n\tcolor: red;\n    font-size: 25px;\n    line-height: 25px;\n\tz-index: 8;\n}\n\n.PrettyCards_DeckCardErase:hover {\n\tcolor: #880000;\n}\n\n.PrettyCards_ChooseDeckScreenContainer {\n\tposition: relative;\n}\n\n.PrettyCards_DeckListHeaderButton {\n\tfont-size: 25px;\n\tmargin: 8px 5px;\n}\n\n.card.PrettyCards_BaseDeckCard .cardBackground {\n\tbox-shadow: gold 0px 0px 5px 5px;\n}\n\n.PrettyCards_DeckListHeader {\n\tdisplay: flex;\n    flex-direction: row;\n    justify-content: space-between;\n}\n\n/* A failed attempt at an animated menu. */\n/*\n.PrettyCards_DeckHeader_Inactive {\n\tanimation: PrettyCards_DeckHeader_Inactive 1s;\n\twidth: 0px;\n}\n\n@keyframes PrettyCards_DeckHeader_Inactive {\n\tto { width: 0px;}\n}\n\n.PrettyCards_DeckHeader_Active {\n\tanimation: PrettyCards_DeckHeader_Active 1s;\n\twidth: 100%;\n}\n\n@keyframes PrettyCards_DeckHeader_Active {\n\tto { width: 100%;}\n}\n\n.PrettyCards_DeckHeader_Active,.PrettyCards_DeckHeader_Inactive {\n\toverflow-x: hidden;\n}\n*/",""]);const s=o},776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,".PrettyCards_Settings_EditableListRow { display: flex; }\n.PrettyCards_Settings_EditableListRow div { padding: 0.2em; }\n.PrettyCards_Settings_EditableListRow input { padding: 3px 6px; height: 28px; }\n.PrettyCards_Settings_EditableListTable { width: 420px; border-bottom: 1px solid white; border-top: 1px solid white; margin: 2px 0 10px 0; padding: 10px 0; }\n.PrettyCards_Settings_EditableListTableButton.btn { padding: 3px 6px; }\n.PrettyCards_Settings_EditableListText { font-size: 0.8em; }",""]);const s=o},2486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n#PrettyCards_SOP_Buttons {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    z-index: 10;\n    position: relative;\n}\n\n#PrettyCards_SOP_Buttons button {\n    margin: 0.5em;\n}\n\n#PrettyCards_SOP_Phase3_Main {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    height: 300px;\n}\n\n#PrettyCards_SOP_Phase3_CardSpace {\n    width: 100%;\n    height: 100%;\n}\n\n#PrettyCards_SOP_Phase3_Skins {\n    overflow-y: auto;\n    height: 100%;\n    width: 230px;\n    position: relative;\n    z-index: 10;\n}\n\n.PrettyCards_SOP_CardResults {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n}\n\n.PrettyCards_SOP_CardResults .card {\n    margin: 2px;\n}\n\n#PrettyCards_SOP_Phase4_ButtonContainer {\n    position: relative;\n}\n\n#PrettyCards_SOP_TakeScreenshot {\n    aspect-ratio: 1;\n    position: absolute;\n    left: -42px;\n}\n\n.PrettyCards_SOP_Screenshot {\n    border: 5px solid white;\n    background-color: black;\n    padding: 5px;\n    width: 910px;\n}\n\n.PrettyCards_SOP_SkinDisplay {\n    width: 162px;\n    height: 92px;\n    border: 1px solid white;\n    margin: 3px;\n    overflow: hidden;\n}\n\n.PrettyCards_SOP_SkinDisplay:hover {\n    border-color: cyan;\n}\n\n.PrettyCards_SOP_SkinDisplay.selected {\n    border-color: crimson;\n}\n\n#PrettyCards_SOP_Phase3_CardContainer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    margin: 0px;\n    padding: 0px;\n    z-index: 1;\n    overflow: hidden;\n}",""]);const s=o},3620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,"\n.PrettyCards_SmallSoul {\n\theight: 32px;\n\tmargin: 1.5px;\n}\n\n.PrettyCards_NormalSoul {\n\theight: 64px;\n\tmargin: 2px;\n}\n\n.MYTHIC {\n\tanimation-name: rainbow;\n    animation-duration: 5s;\n    animation-timing-function: linear;\n    animation-iteration-count: infinite;\n}\n\n.PrettyCards_Soul_DETERMINATION.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_DETERMINATION {\n\tfilter: drop-shadow(0px 0px 15px #ff0000);\n}\n\n.PrettyCards_Soul_BRAVERY.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_BRAVERY {\n\tfilter: drop-shadow(0px 0px 15px #fca500);\n}\n\n.PrettyCards_Soul_JUSTICE.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_JUSTICE {\n\tfilter: drop-shadow(0px 0px 15px #ffff00);\n}\n\n.PrettyCards_Soul_KINDNESS.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_KINDNESS {\n\tfilter: drop-shadow(0px 0px 15px #00c000);\n}\n\n.PrettyCards_Soul_PATIENCE.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_PATIENCE {\n\tfilter: drop-shadow(0px 0px 15px #41fcff);\n}\n\n.PrettyCards_Soul_INTEGRITY.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_INTEGRITY {\n\tfilter: drop-shadow(0px 0px 15px #0064ff);\n}\n\n.PrettyCards_Soul_PERSEVERANCE.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_PERSEVERANCE {\n\tfilter: drop-shadow(0px 0px 15px #d535d9);\n}\n\n.PrettyCards_Soul_MONSTER.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_MONSTER {\n\tfilter: drop-shadow(0px 0px 15px #ffffff);\n}\n\n/*\n.PrettyCards_Soul_SWITCH.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_SWITCH {\n\tfilter: drop-shadow(0px 0px 15px #D400FF);\n}\n*/\n\n.PrettyCards_DisplaySoul_SWITCH .PrettyCards_SplitSoul_Left img {\n\tfilter: drop-shadow(0px 0px 15px #41FCFF);\n}\n\n.PrettyCards_DisplaySoul_SWITCH .PrettyCards_SplitSoul_Right img {\n\tfilter: drop-shadow(0px 0px 15px #FF0000);\n}\n\n.PrettyCards_SelectedSoul.PrettyCards_NormalSoul {\n\tanimation: SoulFloatNormal 1.5s alternate infinite ease-in-out;\n}\n\n.PrettyCards_SoulSelect_Soul {\n\tbackground-position: center;\n\tbackground-size: contain;\n\theight: 64px;\n\twidth: 64px;\n\tmin-width: 64px;\n\tmargin: 2px;\n}\n\n.PrettyCards_SoulSelect_Rainbow {\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0;\n\tbackground: linear-gradient(rgba(255,0,0,1) 0%, rgba(255,154,0,1) 10%, rgba(208,222,33,1) 20%, rgba(79,220,74,1) 30%, rgba(63,218,216,1) 40%, rgba(47,201,226,1) 50%, rgba(28,127,238,1) 60%, rgba(95,21,242,1) 70%, rgba(186,12,248,1) 80%, rgba(251,7,217,1) 90%, rgba(255,0,0,1) 100%) 0 0/100% 200%;\n\t/*\n\tbackground: linear-gradient(145deg, rgba(255,0,0,1) 0%, rgba(252,165,0,1) 14.2857142857%, rgba(255,255,0,1) 28.5714285714%, rgba(0,192,0,1) 42.8571428571%, rgba(65,252,255,1) 57.1428571428%, rgba(0,100,255,1) 71.4285714285%, rgba(213,53,217,1) 85.7142857142%, rgba(255,0,0,1) 100%);\n\t*/\n\tanimation: PrettyCards_SoulSelect_Rainbow 2s linear infinite;\n\tpointer-events: none;\n\topacity: 0.7;\n\tmix-blend-mode: multiply;\n}\n\n@keyframes PrettyCards_SoulSelect_Rainbow {\n\tto {background-position: 0 -200%}\n}\n\n@keyframes SoulFloatNormal {\n\tto { transform: translatey(-15px);}\n}\n\n.PrettyCards_SelectedSoul.PrettyCards_SmallSoul {\n\tanimation: SoulFloatSmall 1.5s alternate infinite ease-in-out;\n}\n\n@keyframes SoulFloatSmall {\n\tto { transform: translatey(-8px);}\n}\n\n.tippy-box[data-inertia][data-state='visible'] {\n\ttransition-timing-function: cubic-bezier(1,1,0,0);\n}\n\n.PrettyCards_DeckTooltip {\n\ttext-align: left;\n}\n\n.PrettyCards_ArtifactContainer {\n\tmargin-bottom: 8px;\n}\n\n.PrettyCards_ChallengeMessageButton {\n\tmargin-left: 10px;\n}\n\n.PrettyCards_SplitSoul_Container {\n\tposition: relative;\n\twidth: 256px;\n\theight: 256px;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\ttop: -38px;\n\tleft: -36px;\n}\n\n.PrettyCards_SplitSoul_Left,.PrettyCards_SplitSoul_Right {\n\twidth: 50%;\n    height: 100%;\n\tposition: relative;\n\toverflow-x: hidden;\n}\n\n.PrettyCards_SplitSoul_Container img {\n\theight: 50%;\n\ttransform: translate(-50%, -50%);\n\ttop: 50%;\n\tposition: absolute;\n}\n\n.PrettyCards_SplitSoul_Container.PrettyCards_SplitSoul_Big img {\n\theight: 75%;\n}\n\n.PrettyCards_SplitSoul_Left img {\n\tleft: 100%;\n}\n\n.PrettyCards_SplitSoul_Right img {\n\tleft: 0px;\n}",""]);const s=o},4095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,'\n.bootstrap-dialog.type-primary .modal-header.PrettyCards_UserHeader {\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\tbackground-position-x: center;\n\tpadding: 3px 15px 3px 47px;\n\tbackground-color: black;\n}\n\n.bootstrap-dialog .bootstrap-dialog-title.PrettyCards_UserTitle {\n\tfont-size: 24px;\n\ttext-shadow: rgb(51 51 51) 3px 2px;\n}\n\n.PrettyCards_UserProfilePic {\n\tposition: absolute;\n\twidth: 64px;\n\theight: 64px;\n\ttop: -25px;\n\tleft: -25px;\n}\n\n* {\n\tbox-sizing: border-box;\n}\n\n.column {\n\tfloat: left;\n\twidth: 50%;\n\tpadding: 10px;\n}\n\n.double_column {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 10px;\n}\n\n.row:after {\n\tcontent: "";\n\tdisplay: table;\n\tclear: both;\n}\n\n.PrettyCards_UserColumn {\n\tpadding: 15px;\n\tfont-size: 18px;\n}\n\n.PrettyCards_UserLV {\n\tcolor: #00b8ff;\n}\n\n.Old_Legend {\n\tcolor: #d6a6e6;\n}\n\n.Old_Master {\n\tcolor: #e6e5a6;\n}\n\n.rainbowAvatar {\n\tposition: absolute;\n\tmix-blend-mode: multiply;\n\topacity: .6;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 2;\n\tpointer-events: none;\n}\n\n.PrettyCards_UserHeader .rainbowAvatar {\n\twidth: 64px;\n\theight: 64px;\n\ttop: -25px;\n\tleft: -25px;\n}\n\n.PrettyCards_UserGroupContainer {\n\twhite-space: nowrap;\n}\n\n.PrettyCards_ChatFriendshipContainer {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-content: center;\n}\n\n.PrettyCards_ChatFriendshipContainer .card {\n\tmargin: 0px 2px;\n}\n\n#PrettyCards_UserInfo_FriendshipTitleContainer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-direction: row;\n}\n\n#PrettyCards_UserInfo_SwapSortArea {\n\tdisplay: flex;\n    margin-top: 20px;\n    margin-bottom: 10px;\n    align-items: center;\n}\n\n#PrettyCards_UserInfo_SwapSortArea label {\n\tmargin: 3px;\n}\n\n.PrettyCards_UserInfo_FriendshipTitleText {\n\tcursor: pointer;\n}\n\n.PrettyCards_UserInfo_FriendshipTitleText:hover {\n\tcolor: #999999;\n}',""]);const s=o},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(a)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(o[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);a&&o[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},4701:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(a,r){"use strict";var i=[],o=Object.getPrototypeOf,s=i.slice,d=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,l=i.indexOf,u={},p=u.toString,h=u.hasOwnProperty,f=h.toString,m=f.call(Object),g={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},C=function(e){return null!=e&&e===e.window},w=a.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var a,r,i=(n=n||w).createElement("script");if(i.text=e,t)for(a in v)(r=t[a]||t.getAttribute&&t.getAttribute(a))&&i.setAttribute(a,r);n.head.appendChild(i).parentNode.removeChild(i)}function P(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[p.call(e)]||"object":typeof e}var _="3.6.0",k=function(e,t){return new k.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=P(e);return!y(e)&&!C(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:_,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},k.extend=k.fn.extend=function(){var e,t,n,a,r,i,o=arguments[0]||{},s=1,d=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||y(o)||(o={}),s===d&&(o=this,s--);s<d;s++)if(null!=(e=arguments[s]))for(t in e)a=e[t],"__proto__"!==t&&o!==a&&(c&&a&&(k.isPlainObject(a)||(r=Array.isArray(a)))?(n=o[t],i=r&&!Array.isArray(n)?[]:r||k.isPlainObject(n)?n:{},r=!1,o[t]=k.extend(c,i,a)):void 0!==a&&(o[t]=a));return o},k.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=o(e))&&("function"!=typeof(n=h.call(t,"constructor")&&t.constructor)||f.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,a=0;if(S(e))for(n=e.length;a<n&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,a=0,r=e.length;a<n;a++)e[r++]=t[a];return e.length=r,e},grep:function(e,t,n){for(var a=[],r=0,i=e.length,o=!n;r<i;r++)!t(e[r],r)!==o&&a.push(e[r]);return a},map:function(e,t,n){var a,r,i=0,o=[];if(S(e))for(a=e.length;i<a;i++)null!=(r=t(e[i],i,n))&&o.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&o.push(r);return d(o)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=i[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var x=function(e){var t,n,a,r,i,o,s,d,c,l,u,p,h,f,m,g,y,C,w,v="sizzle"+1*new Date,b=e.document,P=0,_=0,k=de(),S=de(),x=de(),T=de(),A=function(e,t){return e===t&&(u=!0),0},E={}.hasOwnProperty,I=[],$=I.pop,D=I.push,N=I.push,R=I.slice,L=function(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+O+"*("+B+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+O+"*\\]",H=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",G=new RegExp(O+"+","g"),U=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),W=new RegExp("^"+O+"*,"+O+"*"),z=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),j=new RegExp(O+"|>"),K=new RegExp(H),V=new RegExp("^"+B+"$"),q={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ae=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){p()},oe=ve((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(I=R.call(b.childNodes),b.childNodes),I[b.childNodes.length].nodeType}catch(t){N={apply:I.length?function(e,t){D.apply(e,R.call(t))}:function(e,t){for(var n=e.length,a=0;e[n++]=t[a++];);e.length=n-1}}}function se(e,t,a,r){var i,s,c,l,u,f,y,C=t&&t.ownerDocument,b=t?t.nodeType:9;if(a=a||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return a;if(!r&&(p(t),t=t||h,m)){if(11!==b&&(u=Z.exec(e)))if(i=u[1]){if(9===b){if(!(c=t.getElementById(i)))return a;if(c.id===i)return a.push(c),a}else if(C&&(c=C.getElementById(i))&&w(t,c)&&c.id===i)return a.push(c),a}else{if(u[2])return N.apply(a,t.getElementsByTagName(e)),a;if((i=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(a,t.getElementsByClassName(i)),a}if(n.qsa&&!T[e+" "]&&(!g||!g.test(e))&&(1!==b||"object"!==t.nodeName.toLowerCase())){if(y=e,C=t,1===b&&(j.test(e)||z.test(e))){for((C=ee.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(ae,re):t.setAttribute("id",l=v)),s=(f=o(e)).length;s--;)f[s]=(l?"#"+l:":scope")+" "+we(f[s]);y=f.join(",")}try{return N.apply(a,C.querySelectorAll(y)),a}catch(t){T(e,!0)}finally{l===v&&t.removeAttribute("id")}}}return d(e.replace(U,"$1"),t,a,r)}function de(){var e=[];return function t(n,r){return e.push(n+" ")>a.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[v]=!0,e}function le(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=n.length;r--;)a.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,a=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(a)return a;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,a){for(var r,i=e([],n.length,t),o=i.length;o--;)n[r=i[o]]&&(n[r]=!(a[r]=n[r]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},p=se.setDocument=function(e){var t,r,o=e?e.ownerDocument||e:b;return o!=h&&9===o.nodeType&&o.documentElement&&(f=(h=o).documentElement,m=!i(h),b!=h&&(r=h.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.scope=le((function(e){return f.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(h.getElementsByClassName),n.getById=le((function(e){return f.appendChild(e).id=v,!h.getElementsByName||!h.getElementsByName(v).length})),n.getById?(a.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},a.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(a.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},a.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,a,r,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(r=t.getElementsByName(e),a=0;i=r[a++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),a.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,a=[],r=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[r++];)1===n.nodeType&&a.push(n);return a}return i},a.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(n.qsa=X.test(h.querySelectorAll))&&(le((function(e){var t;f.appendChild(e).innerHTML="<a id='"+v+"'></a><select id='"+v+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+O+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+v+"-]").length||g.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+O+"*name"+O+"*="+O+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+v+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+O+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=X.test(C=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le((function(e){n.disconnectedMatch=C.call(e,"*"),C.call(e,"[s!='']:x"),y.push("!=",H)})),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=X.test(f.compareDocumentPosition),w=t||X.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!(!a||1!==a.nodeType||!(n.contains?n.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return u=!0,0;var a=!e.compareDocumentPosition-!t.compareDocumentPosition;return a||(1&(a=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===a?e==h||e.ownerDocument==b&&w(b,e)?-1:t==h||t.ownerDocument==b&&w(b,t)?1:l?L(l,e)-L(l,t):0:4&a?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,a=0,r=e.parentNode,i=t.parentNode,o=[e],s=[t];if(!r||!i)return e==h?-1:t==h?1:r?-1:i?1:l?L(l,e)-L(l,t):0;if(r===i)return pe(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[a]===s[a];)a++;return a?pe(o[a],s[a]):o[a]==b?-1:s[a]==b?1:0}),h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&m&&!T[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var a=C.call(e,t);if(a||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(e){T(t,!0)}return 0<se(t,h,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=h&&p(e),w(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=h&&p(e);var r=a.attrHandle[t.toLowerCase()],i=r&&E.call(a.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==i?i:n.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(ae,re)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,a=[],r=0,i=0;if(u=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(A),u){for(;t=e[i++];)t===e[i]&&(r=a.push(i));for(;r--;)e.splice(a[r],1)}return l=null,e},r=se.getText=function(e){var t,n="",a=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[a++];)n+=r(t);return n},(a=se.selectors={cacheLength:50,createPseudo:ce,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&K.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(a){var r=se.attr(a,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r.replace(G," ")+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,a,r){var i="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===a&&0===r?function(e){return!!e.parentNode}:function(t,n,d){var c,l,u,p,h,f,m=i!==o?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),C=!d&&!s,w=!1;if(g){if(i){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&C){for(w=(h=(c=(l=(u=(p=g)[v]||(p[v]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===P&&c[1])&&c[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(w=h=0)||f.pop();)if(1===p.nodeType&&++w&&p===t){l[e]=[P,h,w];break}}else if(C&&(w=h=(c=(l=(u=(p=t)[v]||(p[v]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===P&&c[1]),!1===w)for(;(p=++h&&p&&p[m]||(w=h=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++w||(C&&((l=(u=p[v]||(p[v]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]=[P,w]),p!==t)););return(w-=r)===a||w%a==0&&0<=w/a}}},PSEUDO:function(e,t){var n,r=a.pseudos[e]||a.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[v]?r(t):1<r.length?(n=[e,e,"",t],a.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var a,i=r(e,t),o=i.length;o--;)e[a=L(e,i[o])]=!(n[a]=i[o])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ce((function(e){var t=[],n=[],a=s(e.replace(U,"$1"));return a[v]?ce((function(e,t,n,r){for(var i,o=a(e,null,r,[]),s=e.length;s--;)(i=o[s])&&(e[s]=!(t[s]=i))})):function(e,r,i){return t[0]=e,a(t,null,i,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return 0<se(e,t).length}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||r(t)).indexOf(e)}})),lang:ce((function(e){return V.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!a.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var a=n<0?n+t:t<n?t:n;0<=--a;)e.push(a);return e})),gt:ge((function(e,t,n){for(var a=n<0?n+t:n;++a<t;)e.push(a);return e}))}}).pseudos.nth=a.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})a.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})a.pseudos[t]=fe(t);function Ce(){}function we(e){for(var t=0,n=e.length,a="";t<n;t++)a+=e[t].value;return a}function ve(e,t,n){var a=t.dir,r=t.next,i=r||a,o=n&&"parentNode"===i,s=_++;return t.first?function(t,n,r){for(;t=t[a];)if(1===t.nodeType||o)return e(t,n,r);return!1}:function(t,n,d){var c,l,u,p=[P,s];if(d){for(;t=t[a];)if((1===t.nodeType||o)&&e(t,n,d))return!0}else for(;t=t[a];)if(1===t.nodeType||o)if(l=(u=t[v]||(t[v]={}))[t.uniqueID]||(u[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[a]||t;else{if((c=l[i])&&c[0]===P&&c[1]===s)return p[2]=c[2];if((l[i]=p)[2]=e(t,n,d))return!0}return!1}}function be(e){return 1<e.length?function(t,n,a){for(var r=e.length;r--;)if(!e[r](t,n,a))return!1;return!0}:e[0]}function Pe(e,t,n,a,r){for(var i,o=[],s=0,d=e.length,c=null!=t;s<d;s++)(i=e[s])&&(n&&!n(i,a,r)||(o.push(i),c&&t.push(s)));return o}function _e(e,t,n,a,r,i){return a&&!a[v]&&(a=_e(a)),r&&!r[v]&&(r=_e(r,i)),ce((function(i,o,s,d){var c,l,u,p=[],h=[],f=o.length,m=i||function(e,t,n){for(var a=0,r=t.length;a<r;a++)se(e,t[a],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!i&&t?m:Pe(m,p,e,s,d),y=n?r||(i?e:f||a)?[]:o:g;if(n&&n(g,y,s,d),a)for(c=Pe(y,h),a(c,[],s,d),l=c.length;l--;)(u=c[l])&&(y[h[l]]=!(g[h[l]]=u));if(i){if(r||e){if(r){for(c=[],l=y.length;l--;)(u=y[l])&&c.push(g[l]=u);r(null,y=[],c,d)}for(l=y.length;l--;)(u=y[l])&&-1<(c=r?L(i,u):p[l])&&(i[c]=!(o[c]=u))}}else y=Pe(y===o?y.splice(f,y.length):y),r?r(null,o,y,d):N.apply(o,y)}))}function ke(e){for(var t,n,r,i=e.length,o=a.relative[e[0].type],s=o||a.relative[" "],d=o?1:0,l=ve((function(e){return e===t}),s,!0),u=ve((function(e){return-1<L(t,e)}),s,!0),p=[function(e,n,a){var r=!o&&(a||n!==c)||((t=n).nodeType?l(e,n,a):u(e,n,a));return t=null,r}];d<i;d++)if(n=a.relative[e[d].type])p=[ve(be(p),n)];else{if((n=a.filter[e[d].type].apply(null,e[d].matches))[v]){for(r=++d;r<i&&!a.relative[e[r].type];r++);return _e(1<d&&be(p),1<d&&we(e.slice(0,d-1).concat({value:" "===e[d-2].type?"*":""})).replace(U,"$1"),n,d<r&&ke(e.slice(d,r)),r<i&&ke(e=e.slice(r)),r<i&&we(e))}p.push(n)}return be(p)}return Ce.prototype=a.filters=a.pseudos,a.setFilters=new Ce,o=se.tokenize=function(e,t){var n,r,i,o,s,d,c,l=S[e+" "];if(l)return t?0:l.slice(0);for(s=e,d=[],c=a.preFilter;s;){for(o in n&&!(r=W.exec(s))||(r&&(s=s.slice(r[0].length)||s),d.push(i=[])),n=!1,(r=z.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(U," ")}),s=s.slice(n.length)),a.filter)!(r=q[o].exec(s))||c[o]&&!(r=c[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):S(e,d).slice(0)},s=se.compile=function(e,t){var n,r,i,s,d,l,u=[],f=[],g=x[e+" "];if(!g){for(t||(t=o(e)),n=t.length;n--;)(g=ke(t[n]))[v]?u.push(g):f.push(g);(g=x(e,(r=f,s=0<(i=u).length,d=0<r.length,l=function(e,t,n,o,l){var u,f,g,y=0,C="0",w=e&&[],v=[],b=c,_=e||d&&a.find.TAG("*",l),k=P+=null==b?1:Math.random()||.1,S=_.length;for(l&&(c=t==h||t||l);C!==S&&null!=(u=_[C]);C++){if(d&&u){for(f=0,t||u.ownerDocument==h||(p(u),n=!m);g=r[f++];)if(g(u,t||h,n)){o.push(u);break}l&&(P=k)}s&&((u=!g&&u)&&y--,e&&w.push(u))}if(y+=C,s&&C!==y){for(f=0;g=i[f++];)g(w,v,t,n);if(e){if(0<y)for(;C--;)w[C]||v[C]||(v[C]=$.call(o));v=Pe(v)}N.apply(o,v),l&&!e&&0<v.length&&1<y+i.length&&se.uniqueSort(o)}return l&&(P=k,c=b),w},s?ce(l):l))).selector=e}return g},d=se.select=function(e,t,n,r){var i,d,c,l,u,p="function"==typeof e&&e,h=!r&&o(e=p.selector||e);if(n=n||[],1===h.length){if(2<(d=h[0]=h[0].slice(0)).length&&"ID"===(c=d[0]).type&&9===t.nodeType&&m&&a.relative[d[1].type]){if(!(t=(a.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(d.shift().value.length)}for(i=q.needsContext.test(e)?0:d.length;i--&&(c=d[i],!a.relative[l=c.type]);)if((u=a.find[l])&&(r=u(c.matches[0].replace(te,ne),ee.test(d[0].type)&&ye(t.parentNode)||t))){if(d.splice(i,1),!(e=r.length&&we(d)))return N.apply(n,r),n;break}}return(p||s(e,h))(r,t,!m,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=v.split("").sort(A).join("")===v,n.detectDuplicates=!!u,p(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ue(M,(function(e,t,n){var a;if(!n)return!0===e[t]?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null})),se}(a);k.find=x,k.expr=x.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=x.uniqueSort,k.text=x.getText,k.isXMLDoc=x.isXML,k.contains=x.contains,k.escapeSelector=x.escape;var T=function(e,t,n){for(var a=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&k(e).is(n))break;a.push(e)}return a},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},E=k.expr.match.needsContext;function I(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var $=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return y(t)?k.grep(e,(function(e,a){return!!t.call(e,a,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return-1<l.call(t,e)!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?k.find.matchesSelector(a,e)?[a]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,a=this.length,r=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<a;t++)if(k.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<a;t++)k.find(e,r[t],n);return 1<a?k.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&E.test(e)?k(e):e||[],!1).length}});var N,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var a,r;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(a="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:R.exec(e))||!a[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(a[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:w,!0)),$.test(a[1])&&k.isPlainObject(t))for(a in t)y(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}return(r=w.getElementById(a[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,N=k(w);var L=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,a=0,r=this.length,i=[],o="string"!=typeof e&&k(e);if(!E.test(e))for(;a<r;a++)for(n=this[a];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?k.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?l.call(k(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(I(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,a){var r=k.map(this,t,n);return"Until"!==e.slice(-5)&&(a=n),a&&"string"==typeof a&&(r=k.filter(a,r)),1<this.length&&(M[e]||k.uniqueSort(r),L.test(e)&&r.reverse()),this.pushStack(r)}}));var B=/[^\x20\t\r\n\f]+/g;function F(e){return e}function H(e){throw e}function G(e,t,n,a){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(a))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},k.each(t.match(B)||[],(function(e,t){n[t]=!0})),n):k.extend({},e);var a,r,i,o,s=[],d=[],c=-1,l=function(){for(o=o||e.once,i=a=!0;d.length;c=-1)for(r=d.shift();++c<s.length;)!1===s[c].apply(r[0],r[1])&&e.stopOnFalse&&(c=s.length,r=!1);e.memory||(r=!1),a=!1,o&&(s=r?[]:"")},u={add:function(){return s&&(r&&!a&&(c=s.length-1,d.push(r)),function t(n){k.each(n,(function(n,a){y(a)?e.unique&&u.has(a)||s.push(a):a&&a.length&&"string"!==P(a)&&t(a)}))}(arguments),r&&!a&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;-1<(n=k.inArray(t,s,n));)s.splice(n,1),n<=c&&c--})),this},has:function(e){return e?-1<k.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return o=d=[],s=r="",this},disabled:function(){return!s},lock:function(){return o=d=[],r||a||(s=r=""),this},locked:function(){return!!o},fireWith:function(e,t){return o||(t=[e,(t=t||[]).slice?t.slice():t],d.push(t),a||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,a){var r=y(e[a[4]])&&e[a[4]];i[a[1]]((function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var i=0;function o(e,t,n,r){return function(){var s=this,d=arguments,c=function(){var a,c;if(!(e<i)){if((a=n.apply(s,d))===t.promise())throw new TypeError("Thenable self-resolution");c=a&&("object"==typeof a||"function"==typeof a)&&a.then,y(c)?r?c.call(a,o(i,t,F,r),o(i,t,H,r)):(i++,c.call(a,o(i,t,F,r),o(i,t,H,r),o(i,t,F,t.notifyWith))):(n!==F&&(s=void 0,d=[a]),(r||t.resolveWith)(s,d))}},l=r?c:function(){try{c()}catch(a){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(a,l.stackTrace),i<=e+1&&(n!==H&&(s=void 0,d=[a]),t.rejectWith(s,d))}};e?l():(k.Deferred.getStackHook&&(l.stackTrace=k.Deferred.getStackHook()),a.setTimeout(l))}}return k.Deferred((function(a){t[0][3].add(o(0,a,y(r)?r:F,a.notifyWith)),t[1][3].add(o(0,a,y(e)?e:F)),t[2][3].add(o(0,a,y(n)?n:H))})).promise()},promise:function(e){return null!=e?k.extend(e,r):r}},i={};return k.each(t,(function(e,a){var o=a[2],s=a[5];r[a[1]]=o.add,s&&o.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(a[3].fire),i[a[0]]=function(){return i[a[0]+"With"](this===i?void 0:this,arguments),this},i[a[0]+"With"]=o.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,a=Array(n),r=s.call(arguments),i=k.Deferred(),o=function(e){return function(n){a[e]=this,r[e]=1<arguments.length?s.call(arguments):n,--t||i.resolveWith(a,r)}};if(t<=1&&(G(e,i.done(o(n)).resolve,i.reject,!t),"pending"===i.state()||y(r[n]&&r[n].then)))return i.then();for(;n--;)G(r[n],o(n),i.reject);return i.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){a.console&&a.console.warn&&e&&U.test(e.name)&&a.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){a.setTimeout((function(){throw e}))};var W=k.Deferred();function z(){w.removeEventListener("DOMContentLoaded",z),a.removeEventListener("load",z),k.ready()}k.fn.ready=function(e){return W.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||W.resolveWith(w,[k])}}),k.ready.then=W.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?a.setTimeout(k.ready):(w.addEventListener("DOMContentLoaded",z),a.addEventListener("load",z));var j=function(e,t,n,a,r,i,o){var s=0,d=e.length,c=null==n;if("object"===P(n))for(s in r=!0,n)j(e,t,s,n[s],!0,i,o);else if(void 0!==a&&(r=!0,y(a)||(o=!0),c&&(o?(t.call(e,a),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;s<d;s++)t(e[s],n,o?a:a.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):d?t(e[0],n):i},K=/^-ms-/,V=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function Y(e){return e.replace(K,"ms-").replace(V,q)}var J=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=k.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},J(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var a,r=this.cache(e);if("string"==typeof t)r[Y(t)]=n;else for(a in t)r[Y(a)]=t[a];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,a=e[this.expando];if(void 0!==a){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in a?[t]:t.match(B)||[]).length;for(;n--;)delete a[t[n]]}(void 0===t||k.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var X=new Q,Z=new Q,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var a,r;if(void 0===n&&1===e.nodeType)if(a="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(a))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:ee.test(r)?JSON.parse(r):r)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return Z.hasData(e)||X.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,a,r,i=this[0],o=i&&i.attributes;if(void 0===e){if(this.length&&(r=Z.get(i),1===i.nodeType&&!X.get(i,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(a=o[n].name).indexOf("data-")&&(a=Y(a.slice(5)),ne(i,a,r[a]));X.set(i,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){Z.set(this,e)})):j(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=Z.get(i,e))||void 0!==(n=ne(i,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var a;if(e)return t=(t||"fx")+"queue",a=X.get(e,t),n&&(!a||Array.isArray(n)?a=X.access(e,t,k.makeArray(n)):a.push(n)),a||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),a=n.length,r=n.shift(),i=k._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),a--),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,(function(){k.dequeue(e,t)}),i)),!a&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:k.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,a=1,r=k.Deferred(),i=this,o=this.length,s=function(){--a||r.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=X.get(i[o],e+"queueHooks"))&&n.empty&&(a++,n.empty.add(s));return s(),r.promise(t)}});var ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],oe=w.documentElement,se=function(e){return k.contains(e.ownerDocument,e)},de={composed:!0};oe.getRootNode&&(se=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(de)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===k.css(e,"display")};function le(e,t,n,a){var r,i,o=20,s=a?function(){return a.cur()}:function(){return k.css(e,t,"")},d=s(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),l=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+d)&&re.exec(k.css(e,t));if(l&&l[3]!==c){for(d/=2,c=c||l[3],l=+d||1;o--;)k.style(e,t,l+c),(1-i)*(1-(i=s()/d||.5))<=0&&(o=0),l/=i;l*=2,k.style(e,t,l+c),n=n||[]}return n&&(l=+l||+d||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],a&&(a.unit=c,a.start=l,a.end=r)),r}var ue={};function pe(e,t){for(var n,a,r,i,o,s,d,c=[],l=0,u=e.length;l<u;l++)(a=e[l]).style&&(n=a.style.display,t?("none"===n&&(c[l]=X.get(a,"display")||null,c[l]||(a.style.display="")),""===a.style.display&&ce(a)&&(c[l]=(d=o=i=void 0,o=(r=a).ownerDocument,s=r.nodeName,(d=ue[s])||(i=o.body.appendChild(o.createElement(s)),d=k.css(i,"display"),i.parentNode.removeChild(i),"none"===d&&(d="block"),ue[s]=d)))):"none"!==n&&(c[l]="none",X.set(a,"display",n)));for(l=0;l<u;l++)null!=c[l]&&(e[l].style.display=c[l]);return e}k.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?k(this).show():k(this).hide()}))}});var he,fe,me=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;he=w.createDocumentFragment().appendChild(w.createElement("div")),(fe=w.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),he.appendChild(fe),g.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue,he.innerHTML="<option></option>",g.option=!!he.lastChild;var Ce={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&I(e,t)?k.merge([e],n):n}function ve(e,t){for(var n=0,a=e.length;n<a;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}Ce.tbody=Ce.tfoot=Ce.colgroup=Ce.caption=Ce.thead,Ce.th=Ce.td,g.option||(Ce.optgroup=Ce.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function Pe(e,t,n,a,r){for(var i,o,s,d,c,l,u=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if((i=e[h])||0===i)if("object"===P(i))k.merge(p,i.nodeType?[i]:i);else if(be.test(i)){for(o=o||u.appendChild(t.createElement("div")),s=(ge.exec(i)||["",""])[1].toLowerCase(),d=Ce[s]||Ce._default,o.innerHTML=d[1]+k.htmlPrefilter(i)+d[2],l=d[0];l--;)o=o.lastChild;k.merge(p,o.childNodes),(o=u.firstChild).textContent=""}else p.push(t.createTextNode(i));for(u.textContent="",h=0;i=p[h++];)if(a&&-1<k.inArray(i,a))r&&r.push(i);else if(c=se(i),o=we(u.appendChild(i),"script"),c&&ve(o),n)for(l=0;i=o[l++];)ye.test(i.type||"")&&n.push(i);return u}var _e=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Se(){return!1}function xe(e,t){return e===function(){try{return w.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,a,r,i){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(a=a||n,n=void 0),t)Te(e,s,n,a,t[s],i);return e}if(null==a&&null==r?(r=n,a=n=void 0):null==r&&("string"==typeof n?(r=a,a=void 0):(r=a,a=n,n=void 0)),!1===r)r=Se;else if(!r)return e;return 1===i&&(o=r,(r=function(e){return k().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=k.guid++)),e.each((function(){k.event.add(this,t,r,a,n)}))}function Ae(e,t,n){n?(X.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var a,r,i=X.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),X.set(this,t,i),a=n(this,t),this[t](),i!==(r=X.get(this,t))||a?X.set(this,t,!1):r={},i!==r)return e.stopImmediatePropagation(),e.preventDefault(),r&&r.value}else i.length&&(X.set(this,t,{value:k.event.trigger(k.extend(i[0],k.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&k.event.add(e,t,ke)}k.event={global:{},add:function(e,t,n,a,r){var i,o,s,d,c,l,u,p,h,f,m,g=X.get(e);if(J(e))for(n.handler&&(n=(i=n).handler,r=i.selector),r&&k.find.matchesSelector(oe,r),n.guid||(n.guid=k.guid++),(d=g.events)||(d=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(B)||[""]).length;c--;)h=m=(s=_e.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h&&(u=k.event.special[h]||{},h=(r?u.delegateType:u.bindType)||h,u=k.event.special[h]||{},l=k.extend({type:h,origType:m,data:a,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:f.join(".")},i),(p=d[h])||((p=d[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,a,f,o)||e.addEventListener&&e.addEventListener(h,o)),u.add&&(u.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,l):p.push(l),k.event.global[h]=!0)},remove:function(e,t,n,a,r){var i,o,s,d,c,l,u,p,h,f,m,g=X.hasData(e)&&X.get(e);if(g&&(d=g.events)){for(c=(t=(t||"").match(B)||[""]).length;c--;)if(h=m=(s=_e.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(u=k.event.special[h]||{},p=d[h=(a?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=i=p.length;i--;)l=p[i],!r&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||a&&a!==l.selector&&("**"!==a||!l.selector)||(p.splice(i,1),l.selector&&p.delegateCount--,u.remove&&u.remove.call(e,l));o&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||k.removeEvent(e,h,g.handle),delete d[h])}else for(h in d)k.event.remove(e,h+t[c],n,a,!0);k.isEmptyObject(d)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,a,r,i,o,s=new Array(arguments.length),d=k.event.fix(e),c=(X.get(this,"events")||Object.create(null))[d.type]||[],l=k.event.special[d.type]||{};for(s[0]=d,t=1;t<arguments.length;t++)s[t]=arguments[t];if(d.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,d)){for(o=k.event.handlers.call(this,d,c),t=0;(r=o[t++])&&!d.isPropagationStopped();)for(d.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!d.isImmediatePropagationStopped();)d.rnamespace&&!1!==i.namespace&&!d.rnamespace.test(i.namespace)||(d.handleObj=i,d.data=i.data,void 0!==(a=((k.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s))&&!1===(d.result=a)&&(d.preventDefault(),d.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,d),d.result}},handlers:function(e,t){var n,a,r,i,o,s=[],d=t.delegateCount,c=e.target;if(d&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],o={},n=0;n<d;n++)void 0===o[r=(a=t[n]).selector+" "]&&(o[r]=a.needsContext?-1<k(r,this).index(c):k.find(r,this,null,[c]).length),o[r]&&i.push(a);i.length&&s.push({elem:c,handlers:i})}return c=this,d<t.length&&s.push({elem:c,handlers:t.slice(d)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&I(t,"input")&&Ae(t,"click",ke),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&I(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&I(t,"input")&&X.get(t,"click")||I(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Ae(this,e,xe),!1},trigger:function(){return Ae(this,e),!0},_default:function(){return!0},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,a=e.relatedTarget,r=e.handleObj;return a&&(a===this||k.contains(this,a))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,a){return Te(this,e,t,n,a)},one:function(e,t,n,a){return Te(this,e,t,n,a,1)},off:function(e,t,n){var a,r;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,k(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each((function(){k.event.remove(this,e,n,t)}))}});var Ee=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return I(e,"table")&&I(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,a,r,i,o,s;if(1===t.nodeType){if(X.hasData(e)&&(s=X.get(e).events))for(r in X.remove(t,"handle events"),s)for(n=0,a=s[r].length;n<a;n++)k.event.add(t,r,s[r][n]);Z.hasData(e)&&(i=Z.access(e),o=k.extend({},i),Z.set(t,o))}}function Me(e,t,n,a){t=d(t);var r,i,o,s,c,l,u=0,p=e.length,h=p-1,f=t[0],m=y(f);if(m||1<p&&"string"==typeof f&&!g.checkClone&&Ie.test(f))return e.each((function(r){var i=e.eq(r);m&&(t[0]=f.call(this,r,i.html())),Me(i,t,n,a)}));if(p&&(i=(r=Pe(t,e[0].ownerDocument,!1,e,a)).firstChild,1===r.childNodes.length&&(r=i),i||a)){for(s=(o=k.map(we(r,"script"),Ne)).length;u<p;u++)c=r,u!==h&&(c=k.clone(c,!0,!0),s&&k.merge(o,we(c,"script"))),n.call(e[u],c,u);if(s)for(l=o[o.length-1].ownerDocument,k.map(o,Re),u=0;u<s;u++)c=o[u],ye.test(c.type||"")&&!X.access(c,"globalEval")&&k.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):b(c.textContent.replace($e,""),c,l))}return e}function Oe(e,t,n){for(var a,r=t?k.filter(t,e):e,i=0;null!=(a=r[i]);i++)n||1!==a.nodeType||k.cleanData(we(a)),a.parentNode&&(n&&se(a)&&ve(we(a,"script")),a.parentNode.removeChild(a));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var a,r,i,o,s,d,c,l=e.cloneNode(!0),u=se(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(o=we(l),a=0,r=(i=we(e)).length;a<r;a++)s=i[a],"input"===(c=(d=o[a]).nodeName.toLowerCase())&&me.test(s.type)?d.checked=s.checked:"input"!==c&&"textarea"!==c||(d.defaultValue=s.defaultValue);if(t)if(n)for(i=i||we(e),o=o||we(l),a=0,r=i.length;a<r;a++)Le(i[a],o[a]);else Le(e,l);return 0<(o=we(l,"script")).length&&ve(o,!u&&we(e,"script")),l},cleanData:function(e){for(var t,n,a,r=k.event.special,i=0;void 0!==(n=e[i]);i++)if(J(n)){if(t=n[X.expando]){if(t.events)for(a in t.events)r[a]?k.event.remove(n,a):k.removeEvent(n,a,t.handle);n[X.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return j(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Me(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Me(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return j(this,(function(e){var t=this[0]||{},n=0,a=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!Ce[(ge.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<a;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(we(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,a=[],r=k(e),i=r.length-1,o=0;o<=i;o++)n=o===i?this:this.clone(!0),k(r[o])[t](n),c.apply(a,n.get());return this.pushStack(a)}}));var Be=new RegExp("^("+ae+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=a),t.getComputedStyle(e)},He=function(e,t,n){var a,r,i={};for(r in t)i[r]=e.style[r],e.style[r]=t[r];for(r in a=n.call(e),t)e.style[r]=i[r];return a},Ge=new RegExp(ie.join("|"),"i");function Ue(e,t,n){var a,r,i,o,s=e.style;return(n=n||Fe(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||se(e)||(o=k.style(e,t)),!g.pixelBoxStyles()&&Be.test(o)&&Ge.test(t)&&(a=s.width,r=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=a,s.minWidth=r,s.maxWidth=i)),void 0!==o?o+"":o}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(c).appendChild(l);var e=a.getComputedStyle(l);n="1%"!==e.top,d=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),oe.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,s,d,c=w.createElement("div"),l=w.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===l.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),d},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==s&&(e=w.createElement("table"),t=w.createElement("tr"),n=w.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",oe.appendChild(e).appendChild(t).appendChild(n),r=a.getComputedStyle(t),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,oe.removeChild(e)),s}}))}();var ze=["Webkit","Moz","ms"],je=w.createElement("div").style,Ke={};function Ve(e){return k.cssProps[e]||Ke[e]||(e in je?e:Ke[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in je)return e}(e)||e)}var qe=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Xe(e,t,n){var a=re.exec(t);return a?Math.max(0,a[2]-(n||0))+(a[3]||"px"):t}function Ze(e,t,n,a,r,i){var o="width"===t?1:0,s=0,d=0;if(n===(a?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(d+=k.css(e,n+ie[o],!0,r)),a?("content"===n&&(d-=k.css(e,"padding"+ie[o],!0,r)),"margin"!==n&&(d-=k.css(e,"border"+ie[o]+"Width",!0,r))):(d+=k.css(e,"padding"+ie[o],!0,r),"padding"!==n?d+=k.css(e,"border"+ie[o]+"Width",!0,r):s+=k.css(e,"border"+ie[o]+"Width",!0,r));return!a&&0<=i&&(d+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-d-s-.5))||0),d}function et(e,t,n){var a=Fe(e),r=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,a),i=r,o=Ue(e,t,a),s="offset"+t[0].toUpperCase()+t.slice(1);if(Be.test(o)){if(!n)return o;o="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&I(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===k.css(e,"display",!1,a))&&e.getClientRects().length&&(r="border-box"===k.css(e,"boxSizing",!1,a),(i=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+Ze(e,t,n||(r?"border":"content"),i,a,o)+"px"}function tt(e,t,n,a,r){return new tt.prototype.init(e,t,n,a,r)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,o,s=Y(t),d=Ye.test(t),c=e.style;if(d||(t=Ve(s)),o=k.cssHooks[t]||k.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,a))?r:c[t];"string"==(i=typeof n)&&(r=re.exec(n))&&r[1]&&(n=le(e,t,r),i="number"),null!=n&&n==n&&("number"!==i||d||(n+=r&&r[3]||(k.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,a))||(d?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,a){var r,i,o,s=Y(t);return Ye.test(t)||(t=Ve(s)),(o=k.cssHooks[t]||k.cssHooks[s])&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=Ue(e,t,a)),"normal"===r&&t in Qe&&(r=Qe[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,a){if(n)return!qe.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,a):He(e,Je,(function(){return et(e,t,a)}))},set:function(e,n,a){var r,i=Fe(e),o=!g.scrollboxSize()&&"absolute"===i.position,s=(o||a)&&"border-box"===k.css(e,"boxSizing",!1,i),d=a?Ze(e,t,a,s,i):0;return s&&o&&(d-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Ze(e,t,"border",!1,i)-.5)),d&&(r=re.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),Xe(0,n,d)}}})),k.cssHooks.marginLeft=We(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ue(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var a=0,r={},i="string"==typeof n?n.split(" "):[n];a<4;a++)r[e+ie[a]+t]=i[a]||i[a-2]||i[0];return r}},"margin"!==e&&(k.cssHooks[e+t].set=Xe)})),k.fn.extend({css:function(e,t){return j(this,(function(e,t,n){var a,r,i={},o=0;if(Array.isArray(t)){for(a=Fe(e),r=t.length;o<r;o++)i[t[o]]=k.css(e,t[o],!1,a);return i}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,1<arguments.length)}}),((k.Tween=tt).prototype={constructor:tt,init:function(e,t,n,a,r,i){this.elem=e,this.prop=n,this.easing=r||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}}).init.prototype=tt.prototype,(tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=tt.prototype.init,k.fx.step={};var nt,at,rt,it,ot=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function dt(){at&&(!1===w.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(dt):a.setTimeout(dt,k.fx.interval),k.fx.tick())}function ct(){return a.setTimeout((function(){nt=void 0})),nt=Date.now()}function lt(e,t){var n,a=0,r={height:e};for(t=t?1:0;a<4;a+=2-t)r["margin"+(n=ie[a])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ut(e,t,n){for(var a,r=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),i=0,o=r.length;i<o;i++)if(a=r[i].call(n,t,e))return a}function pt(e,t,n){var a,r,i=0,o=pt.prefilters.length,s=k.Deferred().always((function(){delete d.elem})),d=function(){if(r)return!1;for(var t=nt||ct(),n=Math.max(0,c.startTime+c.duration-t),a=1-(n/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(a);return s.notifyWith(e,[c,a,n]),a<1&&o?n:(o||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var a=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(a),a},stop:function(t){var n=0,a=t?c.tweens.length:0;if(r)return this;for(r=!0;n<a;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(function(e,t){var n,a,r,i,o;for(n in e)if(r=t[a=Y(n)],i=e[n],Array.isArray(i)&&(r=i[1],i=e[n]=i[0]),n!==a&&(e[a]=i,delete e[n]),(o=k.cssHooks[a])&&"expand"in o)for(n in i=o.expand(i),delete e[a],i)n in e||(e[n]=i[n],t[n]=r);else t[a]=r}(l,c.opts.specialEasing);i<o;i++)if(a=pt.prefilters[i].call(c,e,l,c.opts))return y(a.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=a.stop.bind(a)),a;return k.map(l,ut,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(d,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(B);for(var n,a=0,r=e.length;a<r;a++)n=e[a],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var a,r,i,o,s,d,c,l,u="width"in t||"height"in t,p=this,h={},f=e.style,m=e.nodeType&&ce(e),g=X.get(e,"fxshow");for(a in n.queue||(null==(o=k._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,p.always((function(){p.always((function(){o.unqueued--,k.queue(e,"fx").length||o.empty.fire()}))}))),t)if(r=t[a],ot.test(r)){if(delete t[a],i=i||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[a])continue;m=!0}h[a]=g&&g[a]||k.style(e,a)}if((d=!k.isEmptyObject(t))||!k.isEmptyObject(h))for(a in u&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=X.get(e,"display")),"none"===(l=k.css(e,"display"))&&(c?l=c:(pe([e],!0),c=e.style.display||c,l=k.css(e,"display"),pe([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===k.css(e,"float")&&(d||(p.done((function(){f.display=c})),null==c&&(l=f.display,c="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),d=!1,h)d||(g?"hidden"in g&&(m=g.hidden):g=X.access(e,"fxshow",{display:c}),i&&(g.hidden=!m),m&&pe([e],!0),p.done((function(){for(a in m||pe([e]),X.remove(e,"fxshow"),h)k.style(e,a,h[a])}))),d=ut(m?g[a]:0,a,p),a in g||(g[a]=d.start,m&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),k.speed=function(e,t,n){var a=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return k.fx.off?a.duration=0:"number"!=typeof a.duration&&(a.duration in k.fx.speeds?a.duration=k.fx.speeds[a.duration]:a.duration=k.fx.speeds._default),null!=a.queue&&!0!==a.queue||(a.queue="fx"),a.old=a.complete,a.complete=function(){y(a.old)&&a.old.call(this),a.queue&&k.dequeue(this,a.queue)},a},k.fn.extend({fadeTo:function(e,t,n,a){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function(e,t,n,a){var r=k.isEmptyObject(e),i=k.speed(t,n,a),o=function(){var t=pt(this,k.extend({},e),i);(r||X.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===i.queue?this.each(o):this.queue(i.queue,o)},stop:function(e,t,n){var a=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",i=k.timers,o=X.get(this);if(r)o[r]&&o[r].stop&&a(o[r]);else for(r in o)o[r]&&o[r].stop&&st.test(r)&&a(o[r]);for(r=i.length;r--;)i[r].elem!==this||null!=e&&i[r].queue!==e||(i[r].anim.stop(n),t=!1,i.splice(r,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),a=n[e+"queue"],r=n[e+"queueHooks"],i=k.timers,o=a?a.length:0;for(n.finish=!0,k.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<o;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,a,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,a,r)}})),k.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,a){return this.animate(t,e,n,a)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),nt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){at||(at=!0,dt())},k.fx.stop=function(){at=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=a.setTimeout(t,e);n.stop=function(){a.clearTimeout(r)}}))},rt=w.createElement("input"),it=w.createElement("select").appendChild(w.createElement("option")),rt.type="checkbox",g.checkOn=""!==rt.value,g.optSelected=it.selected,(rt=w.createElement("input")).value="t",rt.type="radio",g.radioValue="t"===rt.value;var ht,ft=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return j(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var a,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?k.prop(e,t,n):(1===i&&k.isXMLDoc(e)||(r=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):r&&"set"in r&&void 0!==(a=r.set(e,n,t))?a:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(a=r.get(e,t))?a:null==(a=k.find.attr(e,t))?void 0:a)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&I(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,a=0,r=t&&t.match(B);if(r&&1===e.nodeType)for(;n=r[a++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ft[t]||k.find.attr;ft[t]=function(e,t,a){var r,i,o=t.toLowerCase();return a||(i=ft[o],ft[o]=r,r=null!=n(e,t,a)?o:null,ft[o]=i),r}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(B)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}k.fn.extend({prop:function(e,t){return j(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var a,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(e)||(t=k.propFix[t]||t,r=k.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(a=r.set(e,n,t))?a:e[t]=n:r&&"get"in r&&null!==(a=r.get(e,t))?a:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,a,r,i,o,s,d=0;if(y(e))return this.each((function(t){k(this).addClass(e.call(this,t,Ct(this)))}));if((t=wt(e)).length)for(;n=this[d++];)if(r=Ct(n),a=1===n.nodeType&&" "+yt(r)+" "){for(o=0;i=t[o++];)a.indexOf(" "+i+" ")<0&&(a+=i+" ");r!==(s=yt(a))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,a,r,i,o,s,d=0;if(y(e))return this.each((function(t){k(this).removeClass(e.call(this,t,Ct(this)))}));if(!arguments.length)return this.attr("class","");if((t=wt(e)).length)for(;n=this[d++];)if(r=Ct(n),a=1===n.nodeType&&" "+yt(r)+" "){for(o=0;i=t[o++];)for(;-1<a.indexOf(" "+i+" ");)a=a.replace(" "+i+" "," ");r!==(s=yt(a))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,a="string"===n||Array.isArray(e);return"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,Ct(this),t),t)})):this.each((function(){var t,r,i,o;if(a)for(r=0,i=k(this),o=wt(e);t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=Ct(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,a=0;for(t=" "+e+" ";n=this[a++];)if(1===n.nodeType&&-1<(" "+yt(Ct(n))+" ").indexOf(t))return!0;return!1}});var vt=/\r/g;k.fn.extend({val:function(e){var t,n,a,r=this[0];return arguments.length?(a=y(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=a?e.call(this,n,k(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=k.map(r,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(vt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:yt(k.text(e))}},select:{get:function(e){var t,n,a,r=e.options,i=e.selectedIndex,o="select-one"===e.type,s=o?null:[],d=o?i+1:r.length;for(a=i<0?d:o?i:0;a<d;a++)if(((n=r[a]).selected||a===i)&&!n.disabled&&(!n.parentNode.disabled||!I(n.parentNode,"optgroup"))){if(t=k(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,a,r=e.options,i=k.makeArray(t),o=r.length;o--;)((a=r[o]).selected=-1<k.inArray(k.valHooks.option.get(a),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in a;var bt=/^(?:focusinfocus|focusoutblur)$/,Pt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var i,o,s,d,c,l,u,p,f=[n||w],m=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(o=p=s=n=n||w,3!==n.nodeType&&8!==n.nodeType&&!bt.test(m+k.event.triggered)&&(-1<m.indexOf(".")&&(m=(g=m.split(".")).shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),u=k.event.special[m]||{},r||!u.trigger||!1!==u.trigger.apply(n,t))){if(!r&&!u.noBubble&&!C(n)){for(d=u.delegateType||m,bt.test(d+m)||(o=o.parentNode);o;o=o.parentNode)f.push(o),s=o;s===(n.ownerDocument||w)&&f.push(s.defaultView||s.parentWindow||a)}for(i=0;(o=f[i++])&&!e.isPropagationStopped();)p=o,e.type=1<i?d:u.bindType||m,(l=(X.get(o,"events")||Object.create(null))[e.type]&&X.get(o,"handle"))&&l.apply(o,t),(l=c&&o[c])&&l.apply&&J(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),t)||!J(n)||c&&y(n[m])&&!C(n)&&((s=n[c])&&(n[c]=null),k.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,Pt),n[m](),e.isPropagationStopped()&&p.removeEventListener(m,Pt),k.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(e,t,n){var a=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(a,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var a=this.ownerDocument||this.document||this,r=X.access(a,t);r||a.addEventListener(e,n,!0),X.access(a,t,(r||0)+1)},teardown:function(){var a=this.ownerDocument||this.document||this,r=X.access(a,t)-1;r?X.access(a,t,r):(a.removeEventListener(e,n,!0),X.remove(a,t))}}}));var _t=a.location,kt={guid:Date.now()},St=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new a.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var xt=/\[\]$/,Tt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;function It(e,t,n,a){var r;if(Array.isArray(t))k.each(t,(function(t,r){n||xt.test(e)?a(e,r):It(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,a)}));else if(n||"object"!==P(t))a(e,t);else for(r in t)It(e+"["+r+"]",t[r],n,a)}k.param=function(e,t){var n,a=[],r=function(e,t){var n=y(t)?t():t;a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){r(this.name,this.value)}));else for(n in e)It(n,e[n],t,r);return a.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Et.test(this.nodeName)&&!At.test(e)&&(this.checked||!me.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}})):{name:t.name,value:n.replace(Tt,"\r\n")}})).get()}});var $t=/%20/g,Dt=/#.*$/,Nt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Mt=/^\/\//,Ot={},Bt={},Ft="*/".concat("*"),Ht=w.createElement("a");function Gt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var a,r=0,i=t.toLowerCase().match(B)||[];if(y(n))for(;a=i[r++];)"+"===a[0]?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(n)):(e[a]=e[a]||[]).push(n)}}function Ut(e,t,n,a){var r={},i=e===Bt;function o(s){var d;return r[s]=!0,k.each(e[s]||[],(function(e,s){var c=s(t,n,a);return"string"!=typeof c||i||r[c]?i?!(d=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),d}return o(t.dataTypes[0])||!r["*"]&&o("*")}function Wt(e,t){var n,a,r=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:a||(a={}))[n]=t[n]);return a&&k.extend(!0,e,a),e}Ht.href=_t.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,k.ajaxSettings),t):Wt(k.ajaxSettings,e)},ajaxPrefilter:Gt(Ot),ajaxTransport:Gt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,o,s,d,c,l,u,p,h=k.ajaxSetup({},t),f=h.context||h,m=h.context&&(f.nodeType||f.jquery)?k(f):k.event,g=k.Deferred(),y=k.Callbacks("once memory"),C=h.statusCode||{},v={},b={},P="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=Rt.exec(i);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,v[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)_.always(e[_.status]);else for(t in e)C[t]=[C[t],e[t]];return this},abort:function(e){var t=e||P;return n&&n.abort(t),S(0,t),this}};if(g.promise(_),h.url=((e||h.url||_t.href)+"").replace(Mt,_t.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(B)||[""],null==h.crossDomain){d=w.createElement("a");try{d.href=h.url,d.href=d.href,h.crossDomain=Ht.protocol+"//"+Ht.host!=d.protocol+"//"+d.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=k.param(h.data,h.traditional)),Ut(Ot,h,t,_),c)return _;for(u in(l=k.event&&h.global)&&0==k.active++&&k.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Lt.test(h.type),r=h.url.replace(Dt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace($t,"+")):(p=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(St.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Nt,"$1"),p=(St.test(r)?"&":"?")+"_="+kt.guid+++p),h.url=r+p),h.ifModified&&(k.lastModified[r]&&_.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&_.setRequestHeader("If-None-Match",k.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ft+"; q=0.01":""):h.accepts["*"]),h.headers)_.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(!1===h.beforeSend.call(f,_,h)||c))return _.abort();if(P="abort",y.add(h.complete),_.done(h.success),_.fail(h.error),n=Ut(Bt,h,t,_)){if(_.readyState=1,l&&m.trigger("ajaxSend",[_,h]),c)return _;h.async&&0<h.timeout&&(s=a.setTimeout((function(){_.abort("timeout")}),h.timeout));try{c=!1,n.send(v,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,o,d){var u,p,w,v,b,P=t;c||(c=!0,s&&a.clearTimeout(s),n=void 0,i=d||"",_.readyState=0<e?4:0,u=200<=e&&e<300||304===e,o&&(v=function(e,t,n){for(var a,r,i,o,s=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(r in s)if(s[r]&&s[r].test(a)){d.unshift(r);break}if(d[0]in n)i=d[0];else{for(r in n){if(!d[0]||e.converters[r+" "+d[0]]){i=r;break}o||(o=r)}i=i||o}if(i)return i!==d[0]&&d.unshift(i),n[i]}(h,_,o)),!u&&-1<k.inArray("script",h.dataTypes)&&k.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),v=function(e,t,n,a){var r,i,o,s,d,c={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!d&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=i,i=l.shift())if("*"===i)i=d;else if("*"!==d&&d!==i){if(!(o=c[d+" "+i]||c["* "+i]))for(r in c)if((s=r.split(" "))[1]===i&&(o=c[d+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[r]:!0!==c[r]&&(i=s[0],l.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+d+" to "+i}}}return{state:"success",data:t}}(h,v,_,u),u?(h.ifModified&&((b=_.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=b),(b=_.getResponseHeader("etag"))&&(k.etag[r]=b)),204===e||"HEAD"===h.type?P="nocontent":304===e?P="notmodified":(P=v.state,p=v.data,u=!(w=v.error))):(w=P,!e&&P||(P="error",e<0&&(e=0))),_.status=e,_.statusText=(t||P)+"",u?g.resolveWith(f,[p,P,_]):g.rejectWith(f,[_,P,w]),_.statusCode(C),C=void 0,l&&m.trigger(u?"ajaxSuccess":"ajaxError",[_,h,u?p:w]),y.fireWith(f,[_,P]),l&&(m.trigger("ajaxComplete",[_,h]),--k.active||k.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,a,r){return y(n)&&(r=r||a,a=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:r,data:n,success:a},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},jt=k.ajaxSettings.xhr();g.cors=!!jt&&"withCredentials"in jt,g.ajax=jt=!!jt,k.ajaxTransport((function(e){var t,n;if(g.cors||jt&&!e.crossDomain)return{send:function(r,i){var o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];for(o in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(zt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&a.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(r){if(t)throw r}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(a,r){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),w.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Kt,Vt=[],qt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||k.expando+"_"+kt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var r,i,o,s=!1!==e.jsonp&&(qt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&qt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(qt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=a[r],a[r]=function(){o=arguments},n.always((function(){void 0===i?k(a).removeProp(r):a[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Vt.push(r)),o&&y(i)&&i(o[0]),o=i=void 0})),"script"})),g.createHTMLDocument=((Kt=w.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Kt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((a=(t=w.implementation.createHTMLDocument("")).createElement("base")).href=w.location.href,t.head.appendChild(a)):t=w),i=!n&&[],(r=$.exec(e))?[t.createElement(r[1])]:(r=Pe([e],t,i),i&&i.length&&k(i).remove(),k.merge([],r.childNodes)));var a,r,i},k.fn.load=function(e,t,n){var a,r,i,o=this,s=e.indexOf(" ");return-1<s&&(a=yt(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<o.length&&k.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){i=arguments,o.html(a?k("<div>").append(k.parseHTML(e)).find(a):e)})).always(n&&function(e,t){o.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var a,r,i,o,s,d,c=k.css(e,"position"),l=k(e),u={};"static"===c&&(e.style.position="relative"),s=l.offset(),i=k.css(e,"top"),d=k.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(i+d).indexOf("auto")?(o=(a=l.position()).top,r=a.left):(o=parseFloat(i)||0,r=parseFloat(d)||0),y(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(u.top=t.top-s.top+o),null!=t.left&&(u.left=t.left-s.left+r),"using"in t?t.using.call(e,u):l.css(u)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,a=this[0];return a?a.getClientRects().length?(t=a.getBoundingClientRect(),n=a.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,a=this[0],r={top:0,left:0};if("fixed"===k.css(a,"position"))t=a.getBoundingClientRect();else{for(t=this.offset(),n=a.ownerDocument,e=a.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==a&&1===e.nodeType&&((r=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),r.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-k.css(a,"marginTop",!0),left:t.left-r.left-k.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||oe}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(a){return j(this,(function(e,a,r){var i;if(C(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===r)return i?i[t]:e[a];i?i.scrollTo(n?i.pageXOffset:r,n?r:i.pageYOffset):e[a]=r}),e,a,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=We(g.pixelPosition,(function(e,n){if(n)return n=Ue(e,t),Be.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,a){k.fn[a]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return j(this,(function(t,n,r){var i;return C(t)?0===a.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?k.css(t,n,s):k.style(t,n,r,s)}),t,o?r:void 0,o)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,a){return this.on(t,e,n,a)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}));var Yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,a,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return a=s.call(arguments,2),(r=function(){return e.apply(t||this,a.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,r},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=I,k.isFunction=y,k.isWindow=C,k.camelCase=Y,k.type=P,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(Yt,"")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var Jt=a.jQuery,Qt=a.$;return k.noConflict=function(e){return a.$===k&&(a.$=Qt),e&&a.jQuery===k&&(a.jQuery=Jt),k},void 0===r&&(a.jQuery=a.$=k),k}))}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={id:a,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";void 0===window.underscript?(window.localStorage.getItem("PrettyCards_DependencyErrorMessageShown")&&"false"!=window.localStorage.getItem("PrettyCards_DependencyErrorMessageShown")||(window.BootstrapDialog.show({title:"Oh no!",type:window.BootstrapDialog.TYPE_WARNING,message:"Looks like you don't have Underscript installed, or you deactivated it! In order for PrettyCards to work, you need to have it up and running. Until then, the features of this userscript will simply not work. Thank you for your understanding.",buttons:[{label:"Proceed",cssClass:"btn-primary",action:function(e){e.close()}}]}),window.localStorage.setItem("PrettyCards_DependencyErrorMessageShown",!0)),console.error("PrettyCards Error: Underscript is not installed!")):window.localStorage.setItem("PrettyCards_DependencyErrorMessageShown",!1);var e=window.underscript.plugin("PrettyCards"),t={};window.prettycards=t,window.PrettyCards_plugin=e;var a={};window.PrettyCards_settings=a;var r={misc:"Miscellaneous",card:"Card Related",controversial:"<span class='red'>Controversial</span>",background:"Background",packs:"Packs",artifact:"Artifact Related",noob_help:"Mid-Match Help",april:"<span class='ranbowText'>April Fools</span>"};function i(t){t.note&&"function"!=typeof t.note&&(t.note=`<div style="max-width: 600px;">${t.note}</div>`),t.category=r[t.category||"misc"];var n=e.settings().add(t);return a[t.key]=n,n}if(i({key:"turn_off",name:"Turn Off PrettyCards",type:"boolean",refresh:!0,default:!1,category:"controversial"}),a.turn_off.value())throw"PrettyCards is stopped!";i({key:"packs_page",name:"Enable Fancy Packs Page",type:"boolean",refresh:!0,default:!0,category:"packs"}),i({key:"breaking_skin_fix",name:"Breaking Skin Fix",note:"Whenever you hover over a breaking skin card, the name, description, cost, ATK and HP will go over the skin.",type:"boolean",refresh:!0,default:!0,category:"card"}),i({key:"breaking_skin_stats_fix",name:"Breaking Skin Stats Fix",note:"Hides stats and tribes behind breaking skin to not break immersion. Hovering over a card will show them. Only works in non-Game settings if Breaking Skin Fix is also enabled.",type:"boolean",refresh:!0,default:!0,category:"card"}),i({key:"hd_artifacts",name:"HD Artifact Images",note:"Most places will now display Artifacts in HD. (still a WIP, feedback is appreciated)",type:"boolean",refresh:!0,default:!0,category:"artifact"}),i({key:"override_decks",name:"Override Deck System",note:"Overrides the current deck system locally with a more flexible one. This inludes the Decks page, Play page, Custom page and the Custom Challenge system.",type:"boolean",refresh:!0,default:!0,category:"controversial"}),i({key:"override_decks_autogen",name:"Create Autogen Decks",note:'While using my Custom Deck System, if the system cannot find an exact replica of the deck on Onu\'s server, it will create an "Autogen" deck. Unfortunately, this, for some reason, can malfunction in some cases. This is why I added this setting, with which you can turn off this behavior.<br><span class="red">If turned off, decks from other devices uploaded to the server may be lost forever without a backup. Use at own risk, or turn off the Custom Deck system entirely!</span>',type:"boolean",refresh:!0,default:!0,category:"controversial"}),i({key:"my_own_custom_cards",name:"My Own Custom Cards",note:"A Hidden setting that lets me see my own custom card sets, while not letting others see it.",type:"boolean",disabled:!0,hidden:!0,refresh:!0,default:!1}),i({key:"asset_directory",name:"Asset Directory",note:"If you don't know what this does or how to change it, don't touch it!",type:"text",refresh:!0,hidden:!0,default:"https://raw.githubusercontent.com/MysteryHD/prettycards-assets/master/"}),e.events.emit.singleton("PrettyCards:init");var o=n(4701),s=n.n(o);s().fn.animateRotate=function(e,t,n,a,r,i){const o=r||s().noop;return this.each((function(){var r=s()(this);s()({deg:e}).animate({deg:t},{duration:n,easing:a,step:function(e){r.css({"-moz-transform":"rotateY("+e+"deg)","-webkit-transform":"rotateY("+e+"deg)","-o-transform":"rotateY("+e+"deg)","-ms-transform":"rotateY("+e+"deg)",transform:"rotateY("+e+"deg)"}),o(e)},complete:i||s().noop})}))};var d=n(776),c=document.createElement("DIV");function l(e=""){"string"!=typeof e&&(e=e.toString());var t=document.createElement("STYLE");t.innerHTML=e.replace(/\$asset\$/gm,a.asset_directory.value()),c.appendChild(t)}c.id="PrettyCards_StyleContainer",e.events.on("PrettyCards:onPageLoad",(()=>{window.document.head.appendChild(c)})),t.loadCSS=l,e.events.emit.singleton("PrettyCards:cssLoaderReady"),l(d.Z);var u,p={};class h extends window.underscript.utils.SettingType{constructor(){super("EditableList")}areDupesPresent(e="",t){for(var n=t.children,a=0,r=0;r<n.length;r++)a+=n[r].firstChild.firstChild.value===e;return a>1}addRow(e,t="",n="",a=!1,r,i){var o=document.createElement("DIV");o.className="PrettyCards_Settings_EditableListRow";var s=document.createElement("DIV"),d=document.createElement("DIV"),c=document.createElement("DIV"),l=document.createElement("DIV"),u=document.createElement("DIV"),p=t,h=document.createElement("INPUT");h.type="text",h.className="form-control",h.value=t,h.onblur=n=>{if(this.areDupesPresent(h.value,e))return u.classList.remove("PrettyCards_Hidden"),void(h.value=p);delete r[p],r[h.value]=f.value,i(r),p=t},h.onfocus=e=>{u.classList.add("PrettyCards_Hidden")},s.appendChild(h),u.innerHTML="Duplicate keys are not allowed!",u.className="red PrettyCards_Hidden PrettyCards_Settings_EditableListText",s.appendChild(u),d.innerHTML='<div style="width: 1.2em; text-align: center; user-select: none;">:</div>';var f=document.createElement("INPUT");f.type="text",f.className="form-control",f.value=n,f.onblur=()=>{r[h.value]=f.value,i(r)},c.appendChild(f);var m=document.createElement("BUTTON");m.innerHTML="Delete",m.onclick=()=>{delete r[h.value],i(r),o.remove()},m.className="btn btn-danger PrettyCards_Settings_EditableListTableButton",l.appendChild(m),o.appendChild(s),o.appendChild(d),o.appendChild(c),o.appendChild(l),a?e.prepend(o):e.appendChild(o)}element(e,t,{data:n,remove:a=!1,container:r,key:i=""}){var o={...e},s=document.createElement("DIV"),d=document.createElement("DIV");for(var i in d.className="PrettyCards_Settings_EditableListTable",s.appendChild(d),o)this.addRow(d,i,o[i],!1,o,t);r[0].appendChild(s);var c=document.createElement("BUTTON");return c.onclick=()=>{this.addRow(d,"","",!0,o,t)},c.className="btn btn-success PrettyCards_Settings_EditableListTableButton",c.innerHTML="Add",c}default(){return{}}value(e,t=void 0){return"object"!=typeof e&&(e=JSON.parse(e)),e}labelFirst(){return!0}}p[(u=new h).name]=u,e.settings().addType(u),l(n(2760).Z);const f="PrettyCards_CardBottomLeftInfo";function m(e){e[0]&&(e=e[0]);var t=e.querySelector("."+f);return t||((t=document.createElement("DIV")).className=f,e.appendChild(t)),t}e.events.on("func:appendCard PC_appendCard",(function(e,t){m(t)}));class g{static GOLD=new g("yellow",(()=>window.$('<img src="images/icons/gold.png">')[0]),g.speedFunction(75,5,500)).setCountPerTick(5);static UCP=new g("ucp",(()=>window.$(`<span>${window.$.i18n("reward-ucp")}</span>`)[0]),g.speedFunction(100,10,200));static DUST=new g("gray",(()=>window.$('<img src="images/icons/dust.png">')[0]),g.speedFunction(75,5,500)).setCountPerTick(5);static DTFRAG=new g("DTFragment",(()=>window.$('<img src="images/dtFragment.png">')[0]),g.speedFunction(500,100,10));static XP=new g("PrettyCards_UserLV",(()=>window.$("<span>XP</span>")[0]),g.speedFunction(30,5,3e3),"0.8em").setCountPerTick(10);static ELO=new g("Contributor",(()=>window.$("<span>ELO</span>")[0]),g.speedFunction(50,5,25),"0.8em");static UT_PACK=new g("",(()=>window.$('<img src="images/icons/pack.png">')[0]),g.speedFunction(250,100,50));static DR_PACK=new g("",(()=>window.$('<img src="images/icons/drPack.png">')[0]),g.speedFunction(250,100,50));static SHINY_PACK=new g("rainbowText",(()=>window.$('<img src="images/icons/shinyPack.png">')[0]),g.speedFunction(200,100,25));static SUPER_PACK=new g("yellow",(()=>window.$('<img src="images/icons/superPack.png">')[0]),g.speedFunction(500,200,25));static FINAL_PACK=new g("DTFragment",(()=>window.$('<img src="images/icons/finalPack.png">')[0]),g.speedFunction(500,200,25));static CARD_SKIN=new g("",(()=>window.$(`<span>${window.$.i18n("reward-card-skin")}</span>`)[0]),g.speedFunction(500,200,25));static PROFILE_SKIN=new g("",(()=>window.$(`<span>${window.$.i18n("reward-profile-skin")}</span>`)[0]),g.speedFunction(500,200,25));static AVATAR=new g("",(()=>window.$(`<span>${window.$.i18n("reward-avatar")}</span>`)[0]),g.speedFunction(500,200,25));static EMOTE=new g("",(()=>window.$(`<span>${window.$.i18n("reward-emote")}</span>`)[0]),g.speedFunction(500,200,25));static CARD_CURRENCIES=new Map;constructor(e,t,n,a="0"){this.textClass=e,this.icon=t,this.speed=n,this.countPerTick=1,this.padding=a}static getOrCreateCardCurrency(e){if(!g.CARD_CURRENCIES.has(e)){var t=new y(e);g.CARD_CURRENCIES.set(e,t)}return g.CARD_CURRENCIES.get(e)}getCurrencyIcon(){return this.icon()}applyTextClass(e){""!=this.textClass&&e.classList.add(this.textClass)}getSpeedForAmount(e){return this.speed(e)}setCountPerTick(e){return this.countPerTick=e,this}static speedFunction(e,t,n){return a=>Math.ceil(t+(e-t)*(1-Math.min(a,n)/n))}}class y extends g{constructor(e){super("",(()=>{}),(()=>500)),this.cardId=e}getCurrencyIcon(){var e=document.createElement("SPAN");return e.innerHTML=window.$.i18n(`{{CARD:${this.cardId}|1}}`),e}}var C=document.getElementById("collection");C||((C=document.createElement("DIV")).id="collection",C.className="PrettyCards_Hidden",document.body.appendChild(C));var w=-1;const v=["elytrafae","Jazmin290"];e.events.on("translation:loaded",(function(t){for(var n=$.i18n.messageStore.messages.en,a=Object.keys(n),r=a.length-1;r>=0;r--){var i=a[r];if(i.startsWith("quest-s")&&i.endsWith("-start-1")){var o=i.substring(7,i.length-8);w=Number(o);break}}e.events.emit.singleton("PrettyCards:seasonNumber",w)}));class b{constructor(e=(e=>e)){this.arr=[],this.mapFunc=e}insert(e){for(var t=0,n=this.arr.length-1;t<=n;){var a=t+n>>>1,r=this.arr[a],i=this.mapFunc(r),o=this.mapFunc(e);if(i===o)return!1;o>i?t=a+1:n=a-1}return this.arr.splice(t,0,e),!0}getPos(e){return _.binarySearch(this.arr,e,this.mapFunc)}includes(e){return null!==_.binarySearch(this.arr,e,this.mapFunc)}}void 0===String.prototype.splice&&(String.prototype.splice=function(e,t,n=0){let a=e<0?this.length+e:e;return this.substring(0,a)+t+this.substring(a+n)});class P{constructor(e,t){this.left=e,this.right=t}getLeft(){return this.left}getRight(){return this.right}setLeft(e){this.left=e}setRight(e){this.right=e}}var _=new class{constructor(){this.SortedUniqueEntryHolder=b}loadCSSFromLink(e){return new Promise(((t,n)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=e,a.onload=t,a.onerror=n,document.head.appendChild(a)}))}asset(e){return a.asset_directory.value()+e}copyCSS(e,t){const n=window.getComputedStyle(e);if(""!==n.cssText)t.style.cssText=n.cssText;else{window.getComputedStyle(t);const e=Object.values(n).reduce(((e,t)=>`${e}${t}:${n.getPropertyValue(t)};`));t.style.cssText=e}}completeCopyArray(e){if(!Array.isArray(e))return this.completeCopy(e);for(var t=[],n=0;n<e.length;n++)"object"==typeof e[n]?t[n]=this.completeCopy(e[n]):t[n]=e[n];return t}completeCopy(e){if(Array.isArray(e))return this.completeCopyArray(e);var t={};for(var n in e)"object"==typeof e[n]?t[n]=this.completeCopy(e[n]):t[n]=e[n];return t}deleteByValue(e,t){var n=e.indexOf(t);return-1!==n&&(e.splice(n,1),!0)}addFriend(e,t){$.post("Friends",{username:e,addFriend:"Add friend"},t)}appendCardFriendship(e,t,n,a,r){var i=window.appendCardFriendship(e,n,a,r);return i.find(".cardDesc").empty(),t.append(i),i}getFriendshipInfo(e,t){return $.get("https://raw.githubusercontent.com/PrettyCards/friendship-server/main/data/"+e+".json",{},(function(e){t(JSON.parse(e))}))}getXpForLevel(e){return window.U0*e+e*(e-1)/2*window.R}onTestServer(){return!["www","undercards"].includes(window.location.hostname.split(".")[0])}saveCanvasAsImage(e,t){var n=document.createElement("A");n.setAttribute("download",t+".png"),n.setAttribute("href",e.toDataURL("image/png").replace("image/png","image/octet-stream")),n.click()}downloadFile(e,t,n="text/plain"){var a=document.createElement("a"),r=new Blob([e],{type:n});a.href=URL.createObjectURL(r),a.download=t,a.click()}randomInt(e=0,t=1){return e+Math.floor(Math.random()*(t-e))}getRandomFromArray(e){if(!(e.length<=0))return 1==e.length?e[0]:e[this.randomInt(0,e.length)]}getSeasonMonth(){return(w-66)%12}getSeasonNumber(){return w}getCardImageLink(e){return 3==this.getSeasonMonth()?`/afi/cards/${e}.png`:`/images/cards/${e}.png`}getFallbackedImage(e,t){var n=new Image;return n.onerror=function(){this.src=t,n.onerror=function(){}},n.src=e,n}getArtifactImageLink(e,t=!1){return 3==this.getSeasonMonth()?`/afi/artifacts/${e}.png`:a.hd_artifacts.value()&&!t?this.asset(`img/HDArtifacts/${e}.png`):`/images/artifacts/${e}.png`}getArtifactImage(e){var t=`/images/artifacts/${e}.png`,n=t;return 3==this.getSeasonMonth()?n=`/afi/artifacts/${e}.png`:a.hd_artifacts.value()&&(n=this.asset(`img/HDArtifacts/${e}.png`)),this.getFallbackedImage(n,t)}getSoulImageLink(e,t=!1){return t?`/images/souls/${e}.png`:this.asset(`img/Souls/${e}.png`)}getSoulImage(e){return this.getFallbackedImage(this.asset(`img/Souls/${e}.png`),`/images/souls/${e}.png`)}getCardJingleLink(e=""){return e=e.replaceAll(" ","_"),3==this.getSeasonMonth()?`/afm/cards/${e}.ogg`:`/musics/cards/${e}.ogg`}preloadAudio(e){return new Promise(((t,n)=>{var a=new Audio;a.onload=function(){t(a)},a.onerror=n,a.src=e}))}preloadImage(e){return new Promise(((t,n)=>{var a=new Image;a.onload=function(){t(a)},a.onerror=n,a.src=e}))}resizePixelArt(e,t=1){console.log(e,t);var n=document.createElement("CANVAS").getContext("2d");n.height=e.height,n.width=e.width,n.drawImage(e,0,0);var a=n.getImageData(0,0,e.width,e.height).data,r=document.createElement("CANVAS");r.height=e.height*t,r.width=e.width*t;for(var i=r.getContext("2d"),o=0;o<e.width;++o)for(var s=0;s<e.height;++s){var d=4*(s*e.width+o),c=a[d],l=a[d+1],u=a[d+2],p=a[d+3];i.fillStyle="rgba("+c+","+l+","+u+","+p/255+")",i.fillRect(o*t,s*t,t,t)}return document.body.appendChild(r),r}featuresAccessForGroupOnly(e){if(v.includes(window.selfUsername))return!0;"string"==typeof e&&(e=[e]);for(var t=0;t<window.selfGroups.length;t++){var n=window.selfGroups[t];if(e.includes(n.name))return!0}return!1}translatorFeaturesAccess(){return this.featuresAccessForGroupOnly("Translator")}toLocale(e,t,n=[]){const a=window.$.i18n().locale;let r;window.$.i18n().locale=t;try{r=window.$.i18n(e,...n)}catch(e){r="ERROR"}return window.$.i18n().locale=a,r}constructURL(e,t,n,a=!1){return a?e+t+"."+n:(e.length>0&&!e.endsWith("/")&&(e+="/"),t.split(".").length<2&&(t=t+"."+n),e+t)}hideUglyPage(){for(var e=[...document.querySelector(".mainContent").children],t=0;t<e.length;t++){var n=e[t];"NAV"!=n.nodeName&&"FOOTER"!=n.nodeName&&"SCRIPT"!=n.nodeName&&(n.style.setProperty("display","none","important"),n.className+=" PrettyCards_Hidden")}}binarySearch(e,t,n=(e=>e)){for(var a=0,r=e.length-1;a<=r;){var i=a+r>>>1,o=n(e[i]);if(o===t)return e[i];t>o?a=i+1:r=i-1}return null}getCoordsRelativeToDocument(e){var t=e.getBoundingClientRect(),n=document.body,a=document.documentElement,r=window.pageYOffset||a.scrollTop||n.scrollTop,i=window.pageXOffset||a.scrollLeft||n.scrollLeft,o=a.clientTop||n.clientTop||0,s=a.clientLeft||n.clientLeft||0,d=t.top+r-o,c=t.left+i-s;return{top:Math.round(d),left:Math.round(c),width:t.width,height:t.height}}addCustomSimpleTextIconToCard(e,t,n,a=window.$.i18n("dialog-information")){this.addCustomSimpleTextIconToCard2(e,t,n,n,a)}addCustomSimpleTextIconToCard2(e,t,n,a=n,r=window.$.i18n("dialog-information")){var i=document.createElement("IMG");i.src=t,e[0]&&(e=e[0]),m(e).appendChild(i),window.tippy(i,{content:n,allowHTML:!0,arrow:!0,inertia:!0,placement:"top",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect}),i.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation(),BootstrapDialog.show({title:r,message:a,buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}}getResizedFontSizeHorizontal(e,t,n,a=10,r=.5){var i=document.createElement("SPAN");i.innerHTML=e,i.style.fontSize=t+"px";var o=t;for(document.body.appendChild(i);o>a&&i.getBoundingClientRect().width>n;)console.log(e,i.getBoundingClientRect().width,n),o-=r,i.style.fontSize=o+"px";return i.remove(),o}isImgUrl(e){return new Promise(((t,n)=>{fetch(e,{method:"HEAD"}).then((e=>{var a=e.headers.get("Content-Type");console.log("CONTENTTYPE",a),a.startsWith("image")?(console.log("RESOLVING!"),t()):(console.log("REJECTING!"),n())})).catch((()=>{n()}))}))}feildItemsToMyCurrencies(e){const t=window.underscript.constants;switch(e){case t.GOLD:return g.GOLD;case t.UCP:return g.UCP;case t.DUST:return g.DUST;case t.DT_FRAGMENT:return g.DTFRAG;case t.UT_PACK:return g.UT_PACK;case t.DR_PACK:return g.DR_PACK;case t.SHINY_PACK:return g.SHINY_PACK;case t.SUPER_PACK:return g.SUPER_PACK;case t.FINAL_PACK:return g.FINAL_PACK;case t.SKIN:return g.CARD_SKIN;case t.PROFILE:return g.PROFILE_SKIN;case t.AVATAR:return g.AVATAR;case t.EMOTE:return g.EMOTE;case t.EXP:return g.XP;case t.ELO:return g.ELO;default:return null}}getUnderscriptVolumeSettingValue(t="sfx"){return e.settings().value("underscript.audio."+t)?e.settings().value("underscript.audio."+t+".volume"):0}};t.utility=_;var k=["PrettyCards:onLoad","PrettyCards:onPageLoad","SoulSelector:decksLoaded","Chat:Connected","PrettyCards:onArtifacts","translation:loaded","PC_Chat:getSelfInfos","allCardsReady","PrettyCards:baseThemeSongDataReady","PrettyCards:TranslationExtReady"],S={},x={},T=[];function A(e,t){"string"==typeof e&&(e=e.split(" "));for(var n={eventsToWaitFor:[],callback:t},a=0;a<e.length;a++){var r=e[a];k.find((e=>e===r))||console.log("! ExecuteWhen WARNING ! The event ",r," is not being tracked!"),S[r]||n.eventsToWaitFor.push(r)}I(n)||T.push(n)}function E(e){for(var t=0;t<T.length;t++){var n=T[t];_.deleteByValue(n.eventsToWaitFor,e)&&I(n)&&(T.splice(t,1),t--)}}function I(e){return e.eventsToWaitFor.length<=0&&(e.callback(),!0)}!function(){for(var t=0;t<k.length;t++){const n=k[t];S[n]=!1,e.events.on(n,(function(e){S[n]=!0,x[n]=e,E(n)}))}}(),"loading"==document.readyState?document.addEventListener("load",(function(){e.events.emit("PrettyCards:onLoad")})):e.events.emit("PrettyCards:onLoad"),A("PrettyCards:onPageLoad",(function(){window.fetchAllCards||(window.$("body").append('<script src="js/card.js" type="text/javascript"><\/script>'),window.$("head").append('<link href="css/cards.css" rel="stylesheet" type="text/css">'),window.$("head").append('<link href="css/frames.css" rel="stylesheet" type="text/css">')),window.underscript.onPage("Friendship")||window.$("body").append('<script src="js/friendshipUtils.js" type="text/javascript"><\/script>')}));var D=["CustomCardSkins","CustomCards","SmashOrPass","CustomTranslations"],N=!1;function R(){window.$&&!N&&(console.log(e.events.emit.singleton(":loaded").ran),console.log(e.events.emit.singleton(":load").ran),e.events.emit.singleton("PrettyCards:onPageLoad"),e.events.on("PrettyCards:TranslationExtReady",(function(){s()("#PrettyCards_GoBack").html(window.$.i18n("pc-navigate-goback"))})),N=!0)}s()(document).ready((function(){R()})),function(){for(var e=0;e<D.length;e++)if(window.underscript.onPage(D[e]))return!0;return!1}()&&(s().ajax({url:_.asset("html_templates/undercards.html"),success:function(e){document.open(),document.write(e),document.close(),s().cache={},document.body.onload=function(){R()}}}),A("PrettyCards:onPageLoad",(function(){window.socketChat.onmessage=function(t){window.onMessageChat(t);var n=JSON.parse(t.data);"getSelfInfos"===n.action?e.events.emit.singleton("PC_Chat:"+n.action,n):e.events.emit("PC_Chat:"+n.action,n)}}))),e.events.on("PrettyCards:onPageLoad",(function(){window.$(document).ajaxComplete(((t,n,a)=>{"CardSkinsConfig?action=shop"!==a.url?"CardSkinsConfig"===a.url&&e.events.emit("PrettyCards:onCardSkinBought"):e.events.emit.singleton("PrettyCards:onCardSkinShopConfig")}))}));var L=["Auto","Cover","Contain"],M=["Left","Center","Right"],O=["Top","Center","Bottom"];function B(){document.documentElement.style.height="100%",document.body.style.minHeight="100%",document.body.style.backgroundSize=a.background_size.value().toLowerCase(),document.body.style.backgroundPositionX=a.background_position_x.value().toLowerCase(),document.body.style.backgroundPositionY=a.background_position_y.value().toLowerCase()}i({key:"background_size",name:"Background Size",note:"Change the size of the background based on your preferred logic.",type:"select",refresh:!1,disabled:!1,options:L,default:()=>L[1],onChange:B,category:"background"}),i({key:"background_position_x",name:"Background Position X",note:"Change the horizontal position of the background.",type:"select",refresh:!1,disabled:!1,options:M,default:()=>M[1],onChange:B,category:"background"}),i({key:"background_position_y",name:"Background Position Y",note:"Change the vertical position of the background.",type:"select",refresh:!1,disabled:!1,options:O,default:()=>O[1],onChange:B,category:"background"}),B(),e.events.on("connect",B),i({key:"kromer_test",name:"Kromer Test",note:"Changes every instance of UCP to KROMER.",type:"boolean",refresh:!0,disabled:!1,default:!1,category:"controversial"});var F=["item-ucp","header-free-ucp","shop-title","quests-ucp","settings-username-ucp","packs-error-add","reward-ucp","cardskins-shop-confirm"];function H(e){for(var t={},n=0;n<F.length;n++){var a=F[n];t[a]=_.toLocale(a,e).replaceAll("UCP","KROMER")}window.$.i18n().load(t,e)}a.kromer_test.value()&&e.events.on("translation:loaded",(e=>{H("en");var t=window.localStorage.getItem("language");t||(t=window.getLanguage()),"en"!=t&&H(t),$("body").i18n(),$("[data-i18n-custom],[data-i18n-value],[data-i18n-title],[data-i18n-placeholder]").each((function(){translateElement($(this))})),window.underscript.onPage("CosmeticsShop")&&$(".ucp").parent().each((function(){[...this.childNodes].filter((e=>3===e.nodeType)).each((e=>e.textContent=e.textContent.replace(ucp,kromer)))}))})),l(n(4386).Z),A("translation:loaded",(function(){window.$}));var G,U,W,z={"pc-navbar-home":"/","header-sign-in":"SignIn","header-register":"SignUp"},j={"pc-navbar-home":"/","header-play":"Play","header-cards":{"header-decks":"Decks","header-crafting":"Crafting","header-friendship":"Friendship","header-hub":"Hub"},"header-shops":{"header-packs ({packs})":"Packs","header-artifacts":"Artifacts","header-card-skins":"CardSkinsShop","header-your-shop":"/CardSkinsShop?&discount","header-cosmetics":"CosmeticsShop","item-ucp":"Shop"},"{quests}":"Quests"},K={"header-profile":"Profile","header-history":"History","header-avatars":"Avatars","header-card-skins":"CardSkins","header-profile-skins":"ProfileSkins","header-frame-skins":"FrameSkins","header-settings":"Settings","pc-navbar-pcsettings":"js:prettycards.openSettings()","header-translate":"Translate","pc-navbar-dc":"Disconnect"},V={"{friends}":"Friends",'<span class="glyphicon glyphicon-comment blue"></span>':"js:openChatsList()",'<img src="/images/leaderboard.png">':"/leaderboard.jsp",'<img src="/images/friendship.png">':"/friendshipLeaderboard.jsp",'<img src="/images/social/discord.png">':"https://discord.gg/wVmCQk6",'<img src="/images/social/twitter.png">':"https://twitter.com/undercardsgame",'<img src="/images/social/facebook.png">':"https://www.facebook.com/undercards",'<img src="/images/social/reddit.png">':"https://www.reddit.com/r/UnderCards",'<img src="/images/social/wiki.png">':"http://undercards.wikia.com/",'<img src="./images/cardBacks/BASECardDETERMINATION.png">':"https://undercard.feildmaster.com"},q={"footer-about":{"footer-staff":"Staff","footer-legal":"legal.jsp",'<img alt="mail" src="/images/social/gmail.png"> footer-mail':"mailto:undercardsgame@gmail.com"}};function Y(e,t){e.click((function(){t.toggleClass("PrettyCards_Hidden")}))}function J(e){for(var t=e.split(" "),n=0;n<t.length;n++)t[n]=$.i18n(t[n]);var a=t.join(" ");return(a=(a=a.replace("{packs}",G)).replace("{quests}",U)).replace("{friends}",W)}function Q(e){var t=!1;return"string"==typeof e&&(t=e.startsWith("js:"),e=e.replace("js:","")),{link:e,isfunc:t}}function X(e,t="#000000",n=!1){var a=$("<div></div>");a.css("background-color",t);var r="PrettyCards_NavBarItem";for(var i in n&&(r+=" PrettyCards_NavBarInline"),e){var o,{link:s,isfunc:d}=Q(e[i]),c=J(i);if(c.length>0){if("string"==typeof s){var l='<a href="'+s+'">'+c+"</a>";d&&(l='<span onclick="'+s+'">'+c+"</span>"),o=$('<div class="'+r+'">'+l+"</div>")}else{o=$('<div class="'+r+'"><span>'+c+"</span></div>");var u=X(s);u.addClass("PrettyCards_Hidden"),Y(o.find("span"),u),o.append(u)}a.append(o)}}return a}function Z(){W=window.selfId?'<span class="glyphicon glyphicon-user green"></span>':"",$("#PrettyCards_Mobile_NavBar").remove();var e=$('<div id="PrettyCards_Mobile_NavBar" class="PrettyCards_Hidden"></div>');if(e.append(X(window.selfId?j:z)),$("body").append(e),window.selfId){var t=X(K,"#333333");t.addClass("PrettyCards_Hidden"),e.prepend(t);var n=$("nav .avatar")[0],a=$("#golds").text(),r=$("#ucp").text(),i=$("<div>DATA_PULL_ERROR</div>");n&&a&&r&&(i=$(`\n\t\t\t<table class="PrettyCards_NavBarProfile">\n\t\t\t\t<tr>\n\t\t\t\t\t<td rowspan="2">${n.outerHTML}</td>\n\t\t\t\t\t<td>${selfUsername}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>(<span class="yellow">${a}</span> <img src="images/icons/gold.png" class="height-32"> / <span class="ucp">${r}</span> ${$.i18n("item-ucp")})</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t`)),i.click((function(){t.toggleClass("PrettyCards_Hidden")})),e.prepend(i)}e.append('<div class="PrettyCards_Divider"></div>'),e.append(X(V,"#000000",!0)),e.append(X(q)),e.append('<div class="PrettyCards_NavBarCopyright">Undercards  2021<br>'+$.i18n("footer-copyright")+"</div>")}i({key:"mobile_mode",name:"Mobile Mode",note:"Experimental feature to make the game more mobile-friendly.",type:"boolean",refresh:!0,hidden:!0,default:()=>window.mobile}),t.openSettings=function(){e.settings().open()},!underscript.onPage("Game")&&a.mobile_mode.value()&&A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){G=$(".nbPacksHeader").text(),U=$("a[href=Quests]").text(),function(){$("nav").css("display","none"),$("footer").addClass("PrettyCards_Hidden");var e=$("header").contents();$("header").html('<div class="PrettyCards_HeaderFlex"><div id="PrettyCards_HeaderLeft"></div><div id="PrettyCards_HeaderMid"></div><div id="PrettyCards_HeaderRight"></div></div>'),$("#PrettyCards_HeaderMid").append(e);var t=$('<button class="btn btn-outline-secondary PrettyCards_Mobile_HeaderButton"><i class="glyphicon glyphicon-menu-hamburger"></i></button>');t.click((function(){$("#PrettyCards_Mobile_NavBar").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_Mobile_NavBarBG").toggleClass("PrettyCards_Hidden")})),$("#PrettyCards_HeaderLeft").prepend(t);var n=$('<div id="PrettyCards_Mobile_NavBarBG" class="PrettyCards_Hidden"></div>');n.click((function(){$("#PrettyCards_Mobile_NavBarBG").addClass("PrettyCards_Hidden"),$("#PrettyCards_Mobile_NavBar").addClass("PrettyCards_Hidden")})),$("body").append(n)}(),Z(),A("Chat:Connected",(function(){Z()}))}));var ee=i({key:"no_turn_end_while_select",name:"Prevent Ending Turn while Selecting a Target",type:"boolean",refresh:!1,default:!0,category:"noob_help"});window.underscript.onPage("Game")&&e.events.on("player:endTurn",(function(){this.canceled=ee.value()&&!!document.querySelector(".target")||!1})),prettycards.sendDealWarning=function(){window.BootstrapDialog.show({title:window.$.i18n("pc-matchwarn"),type:"type-danger",message:window.$.i18n("pc-matchwarn-sneo"),buttons:[{label:window.$.i18n("pc-navigate-noturnend"),cssClass:"btn-primary us-normal",action(e){e.close()}},{label:window.$.i18n("pc-navigate-suicide"),cssClass:"btn-danger us-normal",action(e){e.close(),window.endTurn()}},{label:window.$.i18n("pc-navigate-disablewarn"),cssClass:"btn-danger us-normal",action(e){e.close(),dealSetting.set(!1),window.endTurn()}}]})};var te=n(4578);class ne{constructor(e){this.cards=[];for(var t=0;t<e.length;t++){var n=e[t];this.cards[n.fixedId||n.id]={...n}}}getCard(e){return this.cards[e]||null}}class ae{static REWARD_LEVELS=5;static MAX_FRIENDSHIP_REWARD_LEVEL=200;constructor(e){this.cardId=e.idCard,this.xp=e.xp,this.claim=e.claim}getCollectableRewardCount(){return Math.floor(Math.min(this.getLevel(),ae.MAX_FRIENDSHIP_REWARD_LEVEL)/ae.REWARD_LEVELS)-this.claim}getLevel(){return window.getLevel(this.xp)}render(e,t,n=((e,t)=>{})){var a=this.getLevel();n(_.appendCardFriendship(e,window.$(t),a,this.xp-_.getXpForLevel(a-1),window.distanceNextLevel(a)),this)}claimOnce(){return new Promise(((e,t)=>{window.$.post("/FriendshipConfig",JSON.stringify({action:"claim",idCard:this.cardId}),(n=>{if("success"===n.status){this.claim=n.claim;var a=function(e){switch(e){case"GOLD":return g.GOLD;case"DUST":return g.DUST;case"UCP":return g.UCP;case"PACK":return g.UT_PACK;case"DR_PACK":return g.DR_PACK;case"SHINY_PACK":return g.SHINY_PACK;default:return null}}(n.reward);a||(console.warn("UNKNOWN CURRENCY: "+n.reward),t("UNKNOWN CURRENCY: "+n.reward)),e(new P(a,n.quantity))}else t(n)})).error((e=>{t(e)}))}))}}class re{constructor(e){this.collection=new ne(JSON.parse(e.collection)),this.friendshipItems=[];for(var t=JSON.parse(e.friendshipItems),n=0;n<t.length;n++){var a=t[n];this.friendshipItems[a.idCard]=new ae(a)}}#e(e=(e=>!0)){for(var t=[],n=0;n<this.friendshipItems.length;n++){var a=this.friendshipItems[n];a&&e(a)&&t.push(a)}return t}renderAll(e,t=(e=>!0),n=((e,t)=>{})){var a=this.#e(t);a.sort(((e,t)=>t.xp-e.xp)),a.forEach((t=>{t.render(this.collection.getCard(t.cardId),e,n)}))}claimAll(e=((e,t)=>{}),t=(()=>{})){var n=this.#e((e=>e.getCollectableRewardCount())),a=0;n.forEach((e=>{a+=e.getCollectableRewardCount()})),0!=a?n.forEach((n=>{for(var r=0;r<n.getCollectableRewardCount();r++)n.claimOnce().then((t=>{e(n,t)})).finally((()=>{--a<=0&&t()}))})):t()}}var ie={},oe=["BASE","COMMON","RARE","EPIC","LEGENDARY","DETERMINATION","TOKEN"],se=["BASE","DELTARUNE","UTY"];function de(e,t){return`<img src="${function(e,t){return`/images/rarity/${e}_${t}.png`}(e,t)}" title="${t}">`}for(var ce=0;ce<se.length;ce++){var le=se[ce];ie[le]={};for(var ue=0;ue<oe.length;ue++){var pe=oe[ue];ie[le][pe]=de(le,pe)}}ie.DELTARUNE.BASE='<img src="/images/rarity/DELTARUNE.png" title="BASE">',ie.UTY.BASE='<img src="/images/rarity/UTY.png" title="BASE">',function(){var e=document.createElement("DIV");for(var t in e.style="display: none;",document.body.appendChild(e),ie){var n=ie[t];for(var a in n){var r=s()(n[a]);e.appendChild(r[0])}}setTimeout((function(){e.remove()}),1e3)}();var he=new class{constructor(){this.allValuesLists={},this.languageSources=[],this.previewTypes=[],this.addPreviewType("default",/.*/,(e=>`<span>${e}</span>`),0)}addLanguageSource(e="DEFAULT_NAME",t=(e=>e)){this.languageSources.push({name:e,urlFunc:t})}addPreviewType(e="DEFAULT_MAME",t=/.*/,n=(()=>{}),a=0,r=(()=>{})){for(var i={name:e,regex:t,eleFunc:n,priority:a,onremove:r},o=0;o<this.previewTypes.length&&this.previewTypes[o].priority>a;)o++;return this.previewTypes.splice(o,0,i),i}getStringOrList(e){return this.allValuesLists[e]?this.getTranslatedValueList(e):window.$.i18n(e)}getTranslatedValueList(e){for(var t=[],n=0;n<this.allValuesLists[e];n++)t.push(this.getFromValueList(e,n));return t}getFromValueList(e,t){return window.$.i18n(this.getListKeyIndex(e,t))}getRandomFromValueList(e){return this.getFromValueList(e,_.randomInt(0,this.allValuesLists[e]))}getListKeyIndex(e,t){return e+"-"+t}getWithFallback(e,t,n){var a=window.$.i18n(e,n);return a==e?t:a}},fe=i({key:"april_fools_wording",name:"Uglycards Wording",type:"boolean",refresh:!0,default:!0,note:"This will ONLY work during the month of April, and may be removed in the future!",hidden:function(){return _.getSeasonNumber()<81},category:"april"});e.events.on("PrettyCards:registerTranslationSources",(function(){console.log("MONTH",_.getSeasonNumber()),fe.value()&&3==_.getSeasonMonth()&&he.addLanguageSource("PrettyCards:UglyWording",(e=>_.asset(`json/translation/april/${e}.json`))),he.addLanguageSource("PrettyCards:Core",(e=>_.asset(`json/translation/${e}.json`)))}));var me,ge=0;function ye(){--ge<=0&&e.events.emit.singleton("PrettyCards:TranslationExtReady")}function Ce(e="en"){he.languageSources.forEach((t=>{s().getJSON(t.urlFunc(e),{},(function(t){!function(e,t){for(var n in t){var a=t[n];if("string"==typeof t[n])window.$.i18n.messageStore.set(e,{[n]:a});else{if(a.ifEqual&&window.$.i18n.messageStore.get(e,n)!=a.ifEqual)continue;if(a.values){he.allValuesLists[n]=a.values.length;for(var r=0;r<a.values.length;r++)window.$.i18n.messageStore.set(e,{[he.getListKeyIndex(n,r)]:a.values[r]})}else window.$.i18n.messageStore.set(e,{[n]:a.value})}}ye()}(e,t)})).fail((function(){console.warn(`Language file from source "${t.name}" for language "${e}", from address "${t.urlFunc(e)}" could not be loaded!`),ye()}))}))}function we(e,t){var n=Number(e[0]);isNaN(n)&&(n=1);var r=`class="PrettyCards_SwitchHighlight_${t}" `;return a.switch_highlight.value()||(r=""),`<span ${r}style="opacity:${n}; ${n<=0?"display:none;":""}">${e[1]}</span>`}(me=window.localStorage.getItem("language"))||(me=window.getLanguage()),e.events.on("translation:loaded",(()=>{window.$.extend(window.$.i18n.parser.emitter,{pc_artifacts:function(e){for(var t=e[0],n=[],a=1;a<e.length;a++)n.push(Number(e[a]));return`<span class="helpPointer underlined" oncontextmenu="prettycards.viewArtifactsInfoForIdArray([${n.join(",")}]);">${t}</span>`},pc_switch_cyan:function(e){return we(e,"Cyan")},pc_switch_red:function(e){return we(e,"Red")},pc_raricon:function(e){var t=e[0],n=e[1];return ie[t][n]},pc_shiny:function(e){return`<span class="rainbowText">${e[0]}</span>`},pc_tc:function(e){var t=e[0].toLowerCase();return 1==e.length?"["+t+"]":(e.splice(0,1),"["+t+":"+e.join("|")+"]")},pc_en_poss:function(e){return e[0].endsWith("s")?e[0]+"'":e[0]+"'s"}}),e.events.emit.singleton("PrettyCards:registerTranslationSources"),e.events.emit.singleton("PrettyCards:translationSourcesDone"),"en"!=me?(ge=2*he.languageSources.length,Ce("en"),Ce(me)):(ge=he.languageSources.length,Ce("en"))})),t.translationManager=he,l(te.Z);function ve(e){var t=g.CARD_CURRENCIES.has(e),n=g.getOrCreateCardCurrency(e);return t||Ae.addCardCurrencyToOrder(n),n}class be{constructor(e,t,n,a,r){this.firstSize=e,this.secondSize=t,this.startValue=n,this.firstClass=a,this.secondClass=r,this.firstTextClass="PrettyCards_Hidden",this.secondTextClass="PrettyCards_Hidden",this.container=document.createElement("DIV"),this.container.style.position="relative",this.bar=document.createElement("PROGRESS"),this.bar.classList.add(this.firstClass),this.bar.setAttribute("min",0),this.bar.setAttribute("max",this.firstSize),this.bar.setAttribute("value",this.startValue),this.barText=document.createElement("DIV"),this.barText.classList.add(this.firstTextClass),this.barText.className="PrettyCards_GameEnd_BarText",this.container.appendChild(this.bar),this.container.appendChild(this.barText),this.didTipOver=!1,this.tipOverFunction=()=>{},this.customRow=!1,this.customRowElement=document.createElement("DIV"),this.customRowFunction=()=>{}}setTextClasses(e,t){return this.barText.classList.remove(this.firstTextClass),this.barText.classList.add(e),this.firstTextClass=e,this.secondTextClass=t,this}hasCustomRow(){return this.customRow}updateCustomRow(e){this.customRowFunction(e)}updateBar(e){var t=this.startValue+e,n=!1;t>=this.firstSize&&(t-=this.firstSize,n=!0),t<0&&(t+=this.secondSize,n=!0),n&&!this.didTipOver&&(this.didTipOver=!0,this.bar.classList.remove(this.firstClass),this.bar.classList.add(this.secondClass),this.barText.classList.remove(this.firstTextClass),this.barText.classList.add(this.secondTextClass),this.bar.setAttribute("max",this.secondSize),this.onTipOver()),this.barText.innerHTML=t+"/"+this.bar.getAttribute("max"),this.bar.setAttribute("value",t)}onTipOver(){this.tipOverFunction()}static returnEmpty(){return new be(0,0,0,"PrettyCards_Hidden","PrettyCards_Hidden")}static returnXPData(e,t,n,a,r,i){var o=new be(e,t,n,"xpBar","xpBar");o.setTextClasses("PrettyCards_XPBarText","PrettyCards_XPBarText");var s=document.createElement("SPAN");o.tipOverFunction=()=>{Re("/sounds/levelUp.wav"),i++,s.innerHTML=window.$.i18n("pc-game-levelup"),s.className="GOLD_NEON",a&&r.addReward(a.getLeft(),a.getRight())},o.customRow=!0;var d=document.createElement("SPAN");o.customRowElement.appendChild(d),s.style.width="180px",s.style.display="inline-block",o.customRowElement.appendChild(s);var c=document.createElement("SPAN");return o.customRowElement.appendChild(c),o.customRowFunction=e=>{d.innerHTML="LV "+i,c.innerHTML="+ "+e+" XP"},o}static returnEloData(e,t,n,a,r){var i=a.split("_")[0],o=r.split("_")[0],s=new be(25,25,e,"LEGEND"===i?"PrettyCards_Hidden":i+"Bar","LEGEND"===o?"PrettyCards_Hidden":o+"Bar");s.setTextClasses("LEGEND"===i?"PrettyCards_Hidden":i+"_NEON","LEGEND"===o?"PrettyCards_Hidden":o+"_NEON");var d=new Audio;d.volume=_.getUnderscriptVolumeSettingValue("sfx"),d.src=`https://github.com/elytrafae/prettycards/raw/master/audio/sfx/Rank${t<n?"Up":"Down"}.ogg`;var c=document.createElement("SPAN");s.tipOverFunction=()=>{a!==r&&(d.play(),c.innerHTML=window.$.i18n("{{DIVISION:"+r+"}}"))},s.customRow=!0,c.style.fontSize="1.4em",c.innerHTML=window.$.i18n("{{DIVISION:"+a+"}}"),s.customRowElement.appendChild(c);var l=document.createElement("SPAN");return l.className="LEGEND_NEON",s.customRowElement.appendChild(l),s.customRowFunction=e=>{var n=s.didTipOver?o:i;l.innerHTML="LEGEND"===n?" ("+(t+e)+")":""},s}}class Pe{static WIN=new Pe("game-game-victory","","/musics/uty_victory.ogg");static LEAVE_WIN=new Pe("game-game-victory","","/musics/dogsong.ogg").setSubtitleFunction(_e).setChangeTitleFunction((e=>'"'+e+'"'));static LOSE=new Pe("game-game-over","","/musics/uty_gameover.ogg");static DRAW=new Pe("pc-game-draw","","https://github.com/elytrafae/prettycards/raw/master/audio/bgms/mus_star.ogg").setSubtitleFunction(ke);static CHARA=new Pe("game-died","red","/musics/toomuch.ogg");constructor(e,t,n){this.textKey=e,this.textClass=t,this.songSrc=n,this.subtitleFunction=()=>document.createElement("DIV"),this.changeTitleFunction=e=>e}setSubtitleFunction(e){return this.subtitleFunction=e,this}setChangeTitleFunction(e){return this.changeTitleFunction=e,this}getSubtitle(){return this.subtitleFunction()}}function _e(){var e=document.createElement("DIV"),t=document.createElement("IMG");t.src="images/annoyingDog.gif",e.appendChild(t.cloneNode());var n=document.createElement("SPAN");return n.innerHTML=" "+window.$.i18n("game-opponent-left")+" ",e.appendChild(n),e.appendChild(t),e}function ke(){var e=document.createElement("SPAN");return e.className="PrettyCards_BarelyVisibleHallucinationMachine gray",e.innerHTML=he.getRandomFromValueList("pc-game-draw-messages"),setTimeout((()=>{e.className="PrettyCards_Transparent",e.innerHTML="Too slow~"}),22e3),e}class Se{static MATCH=new Se("match","piggy-bank");static SPECIAL=new Se("special","star");static CONTRIBUTOR=new Se("contributor","euro");static QUEUE=new Se("queue","time");static LEVELUP=new Se("levelup","arrow-up");static QUEST=new Se("quest","calendar");static FRIENDSHIP=new Se("friendship","heart");constructor(e,t){this.id=e,this.iconName=t}}class xe{constructor(e,t){this.source=e,this.amount=t,this.passedAmount=0,this.container=document.createElement("SPAN"),this.amountElement=document.createElement("SPAN"),this.iconElement=document.createElement("SPAN"),this.container.className="PrettyCards_GameEnd_RewardSourceContainer PrettyCards_Hidden",this.iconElement.className=`glyphicon glyphicon-${this.source.iconName}`,this.iconElement.appendChild(function(e){var t=document.createElement("DIV"),n=document.createElement("DIV"),a=document.createElement("DIV");return n.innerHTML=e,t.className="PrettyCards_GameEnd_Tooltip",n.className="PrettyCards_GameEnd_TooltipText",a.className="PrettyCards_GameEnd_TooltipArrow",t.appendChild(n),t.appendChild(a),t}(window.$.i18n(`pc-rewardsource-${e.id}`))),this.container.appendChild(this.amountElement),this.container.appendChild(document.createTextNode(" ")),this.container.appendChild(this.iconElement)}attemptMerge(e){return e.source==this.source&&(this.amount+=e.amount,this.passedAmount+=e.passedAmount,!0)}finishedTicking(){return this.amount<0?this.passedAmount<=this.amount:this.passedAmount>=this.amount}tick(e){this.amount>0?this.passedAmount=Math.min(this.passedAmount+e,this.amount):this.passedAmount=Math.max(this.passedAmount-e,this.amount),this.amountElement.innerHTML="+"+this.passedAmount,this.container.classList.remove("PrettyCards_Hidden")}}class Te{constructor(e){this.currency=e,this.sources=[],this.displaySources=!0,this.totalAmount=0,this.tickSpeed=1e3,this.container=document.createElement("DIV"),e.applyTextClass(this.container),this.container.style.padding=this.currency.padding,this.breakdownContainer=document.createElement("DIV"),this.customContainer=document.createElement("DIV"),this.customContainer.className="PrettyCards_GameEnd_RewardRow PrettyCards_Hidden",this.breakdownContainer.classList.add("PrettyCards_Hidden"),this.breakdownContainer.classList.add("PrettyCards_GameEnd_RewardRow"),this.totalAmountElement=document.createElement("SPAN"),this.instanceContainer=document.createElement("SPAN"),this.barContainer=document.createElement("DIV"),this.barContainer.className="PrettyCards_GameEnd_BarRow PrettyCards_Hidden",this.barData,this.setBarData(be.returnEmpty()),this.breakdownContainer.innerHTML="+ ",this.breakdownContainer.appendChild(this.totalAmountElement),this.breakdownContainer.appendChild(document.createTextNode(" ")),this.breakdownContainer.appendChild(this.currency.getCurrencyIcon()),this.breakdownContainer.appendChild(document.createTextNode(" (")),this.breakdownContainer.appendChild(this.instanceContainer),this.breakdownContainer.appendChild(document.createTextNode(" )")),this.container.appendChild(this.breakdownContainer),this.container.appendChild(this.customContainer),this.container.appendChild(this.barContainer)}setBarData(e){this.barData&&(this.barContainer.removeChild(this.barData.container),this.customContainer.removeChild(this.barData.customRowElement)),this.barData=e,this.barContainer.appendChild(this.barData.container),this.customContainer.appendChild(this.barData.customRowElement)}addInstance(e,t=!1){this.totalAmount+=e.amount,this.tickSpeed=this.currency.getSpeedForAmount(this.totalAmount);for(var n=0;n<this.sources.length;n++)if(this.sources[n].attemptMerge(e))return;t?(this.sources.unshift(e),this.instanceContainer.prepend(e.container)):(this.sources.push(e),this.instanceContainer.appendChild(e.container))}tick(){for(var e=!0,t=0,n=0;n<this.sources.length;n++){var a=this.sources[n];e&&!a.finishedTicking()&&(e=!1,a.tick(this.currency.countPerTick)),t+=a.passedAmount}e||(this.totalAmountElement.innerHTML=t,this.barContainer.classList.remove("PrettyCards_Hidden"),this.barData.updateBar(t),this.barData.customRow?(this.barData.updateCustomRow(t),this.customContainer.classList.remove("PrettyCards_Hidden")):this.breakdownContainer.classList.remove("PrettyCards_Hidden")),setTimeout(this.tick.bind(this),this.tickSpeed)}}class Ae{static#t=[g.GOLD,g.DUST,g.UCP,g.DTFRAG,g.UT_PACK,g.DR_PACK,g.SHINY_PACK,g.SUPER_PACK,g.FINAL_PACK,g.CARD_SKIN,g.PROFILE_SKIN,g.AVATAR,g.EMOTE,g.ELO,g.XP];constructor(){this.rows=new Map,this.container=document.createElement("DIV"),this.alreadyStartedTicking=!1}static getCurrencyOrder(){return Ae.#t}addReward(e,t,n=!1){var a=!this.rows.has(e);if(a){var r=new Te(e);this.#n(r),this.rows.set(e,r)}(r=this.rows.get(e)).addInstance(t,n),a&&this.alreadyStartedTicking&&r.tick()}#n(e){this.rows.size<=0&&this.container.appendChild(e.container);for(var t=0,n=0;n<Ae.#t.length&&Ae.#t[n]!=e.currency;)this.rows.has(Ae.#t[n])&&t++,n++;this.rows.size!=t?this.container.insertBefore(e.container,this.container.children[t]):this.container.appendChild(e.container)}startTicking(e=(()=>{})){this.alreadyStartedTicking=!0;for(var t=0,n=0;n<Ae.#t.length;n++){var a=Ae.#t[n];if(this.rows.has(a)){var r=this.rows.get(a);setTimeout(r.tick.bind(r),800*t),t++}}setTimeout(e,800*t)}addBarForCurrency(e,t){this.rows.has(e)&&this.rows.get(e).setBarData(t)}static addCardCurrencyToOrder(e){Ae.#t.splice(4,0,e)}}function Ee(e,t,n,a){if(!e)return null;if("CARD"===e){var r=ve(t);return new P(r,new xe(a,1))}return r=function(e){var t=e.split("-");switch(t.shift(),t=t.join("-")){case"dust":return g.DUST;case"pack":return g.UT_PACK;case"gold":return g.GOLD;case"xp":return g.XP;case"super-pack":return g.SUPER_PACK;case"shiny-pack":return g.SHINY_PACK;case"final-pack":return g.FINAL_PACK;case"ucp":return g.UCP;case"dt-fragment":return g.DTFRAG;case"dr-pack":return g.DR_PACK;case"avatar":return g.AVATAR;case"card-skin":return g.CARD_SKIN;case"profile-skin":return g.PROFILE_SKIN;case"emote":return g.EMOTE;default:return null}}(e),r?new P(r,new xe(a,t)):(console.warn("Could not find Currency type for string ",e),null)}function Ie(e){var t={endType:"getVictory"===e.action?e.disconnected?Pe.LEAVE_WIN:Pe.WIN:"getGameRemoved"==e.action?Pe.DRAW:Pe.LOSE,oldGold:e.oldGold,rewardManager:new Ae,oldLevelBarSize:e.oldJaugeSize,newLevelBarSize:e.jaugeSize};e.oldGold&&function(e,t){var n=e.golds-e.oldGold;e.isDonator&&(t.addReward(g.GOLD,new xe(Se.CONTRIBUTOR,10)),n-=10),e.queueGoldBonus&&(t.addReward(g.GOLD,new xe(Se.QUEUE,e.queueGoldBonus)),n-=e.queueGoldBonus),t.addReward(g.GOLD,new xe(Se.MATCH,n),!0)}(e,t.rewardManager);var n,a=Ee("CARD"===e.rewardType?e.rewardType:e.rewardStringKey,e.rewardQuantity,t.rewardManager,Se.LEVELUP),r=Ee("CARD"===e.bonusRewardType?e.bonusRewardType:e.bonusRewardStringKey,e.bonusRewardQuantity,t.rewardManager,Se.SPECIAL);if(e.newXp&&e.oldXp&&(t.rewardManager.addReward(g.XP,new xe(Se.MATCH,e.newXp-e.oldXp)),t.rewardManager.addBarForCurrency(g.XP,be.returnXPData(e.oldJaugeSize,e.jaugeSize,e.oldJaugeSize-e.xpUntilNextLevel,a,t.rewardManager,parseInt($(".level").html())))),e.oldElo&&e.newElo){t.rewardManager.addReward(g.ELO,new xe(Se.MATCH,e.newElo-e.oldElo));var i=(n=e.oldElo,25*Math.floor(n/25));t.rewardManager.addBarForCurrency(g.ELO,be.returnEloData(e.oldElo-i,e.oldElo,e.newElo,e.oldDivision,e.newDivision))}return r&&t.rewardManager.addReward(r.getLeft(),r.getRight()),t}var $e=new Audio,De=new Audio;function Ne(t){var n,a=new Promise(((e,t)=>{window.$.getJSON("/FriendshipConfig",{},(t=>{e(new re(t))})).error((e=>{t(e)}))})),r=(n=e.quests.getQuests())&&n.length>0?Promise.resolve(n):e.quests.update().then((e=>e.quests)),i=new Audio;i.volume=_.getUnderscriptVolumeSettingValue("result"),i.src=t.endType.songSrc,De.volume=_.getUnderscriptVolumeSettingValue("sfx"),De.src="https://github.com/elytrafae/prettycards/raw/master/audio/sfx/RewardCollect.ogg";var o=document.createElement("DIV"),s=document.createElement("DIV");window.document.body.appendChild(s),s.className="PrettyCards_GameEnd_Backdrop",window.$(s).css("top",-window.innerHeight+"px").animate({top:"0px"},1e3,"easeInQuad",(()=>{$e.volume=_.getUnderscriptVolumeSettingValue("sfx"),$e.play(),setTimeout((()=>{i.loop=!0,i.volume=.7,i.play(),t.rewardManager.startTicking((()=>{o.classList.remove("PrettyCards_Hidden"),Be.forEach((e=>{e.classList.remove("PrettyCards_Hidden")}))}))}),1e3)}));var d=document.createElement("DIV");d.className="PrettyCards_GameEnd_Content";var c=document.createElement("DIV");c.className="PrettyCards_GameEnd_Title "+t.endType.textClass,c.innerHTML=t.endType.changeTitleFunction(window.$.i18n(t.endType.textKey)),d.appendChild(c);var l=document.createElement("DIV");l.className="PrettyCards_GameEnd_Subtitle",l.appendChild(t.endType.getSubtitle()),d.appendChild(l),d.appendChild(t.rewardManager.container),o.className="PrettyCards_Hidden PrettyCards_GameEnd_LeaveRow";var u=document.createElement("BUTTON");u.className="btn btn-success",u.innerHTML=window.$.i18n("pc-game-leave"),u.onclick=()=>{window.location="/Play"},o.appendChild(u),d.appendChild(o),d.appendChild(Fe("pc-game-friendship-header","pc-game-collect-all","PrettyCards_GameEnd_FriendshipCards",((e,t,n,a)=>{e.renderAll(t,(e=>e.getCollectableRewardCount()),((e,r)=>{e.addClass("friendship-not-claimed"),e.off("click").click((()=>{r.claimOnce().then((i=>{De.currentTime=0,De.play(),a.addReward(i.getLeft(),new xe(Se.FRIENDSHIP,i.getRight())),r.getCollectableRewardCount()<=0&&(e.remove(),n.style.display=t.children.length>0?"block":"none")}))}))}))}),((e,n,a)=>{e.claimAll(((e,n)=>{De.currentTime=0,De.play(),t.rewardManager.addReward(n.getLeft(),new xe(Se.FRIENDSHIP,n.getRight()))}),(()=>{a(e),n.removeAttribute("disabled")}))}),a,t.rewardManager)),d.appendChild(Fe("pc-game-quest-header","pc-game-collect-all","",((e,t,n,a)=>{e.forEach((e=>{if(e.claimable){var r=document.createElement("DIV");r.className="PrettyCards_GameEnd_QuestRow";var i=e.progress;r.innerHTML=`\n                    <div class="PrettyCards_GameEnd_QuestText ${e.claimable?"green":""}">${e.name}</div>\n                    <div class="PrettyCards_GameEnd_QuestProgress"><progress class="${i.complete?"EMERALDBar":"xpBar"}" value="${i.value}" max="${i.max}" style="width: 100px;"></progress> ${i.value} / ${i.max}</div>`;var o=document.createElement("DIV");r.appendChild(o);var s=function(e,t){var n=_.feildItemsToMyCurrencies(t.type);if(n===g.UCP)return e.innerHTML=window.$.i18n("quests-ucp",t.reward),new P(g.UCP,parseInt(t.reward));if(n&&He.includes(n))return e.innerHTML=n.getCurrencyIcon().outerHTML+'<span class="white">x'+t.reward+"</span>",n.applyTextClass(e),new P(n,parseInt(t.reward));if(t.type===window.underscript.constants.CARD||n===g.CARD_SKIN){var a=t.reward;"string"==typeof a&&(a={card:a});var r=document.createElement("SPAN");r.innerHTML=a.name?a.name:window.$.i18n(`card-name-${a.card}`,1),r.dataset.rewardHoverData=JSON.stringify(a),r.className="cyan",e.appendChild(r);var i=g.CARD_SKIN;return t.type===window.underscript.constants.CARD&&(i=ve(parseInt(a.card))),new P(i,1)}return n===g.PROFILE_SKIN?(e.parentElement.style.backgroundImage="url("+t.reward+")",e.parentElement.style.backgroundPosition="center center",e.parentElement.style.backgroundSize="cover",new P(g.PROFILE_SKIN,1)):n===g.AVATAR?(e.innerHTML=`<img class="avatar ${t.reward.rarity}" src="${t.reward.image}">`,new P(g.AVATAR,1)):(console.warn("Unhandled reward type: ",t.type,t),e.innerHTML="???",null)}(o,e.reward);o.classList.add("PrettyCards_GameEnd_QuestReward");var d=document.createElement("DIV");d.className="PrettyCards_GameEnd_QuestClaim";var c=document.createElement("BUTTON");c.className="btn btn-success",c.innerHTML=window.$.i18n("quests-claim");var l=parseInt(e.id);isNaN(l)||(c.onclick=()=>{c.setAttribute("disabled","true"),Ue(l).then((e=>{a.addReward(s.getLeft(),new xe(Se.QUEST,s.getRight())),r.remove(),n.style.display=t.children.length>0?"block":"none",De.currentTime=0,De.play()})).catch((()=>{c.removeAttribute("disabled"),n.style.display=t.children.length>0?"block":"none"}))}),d.appendChild(c),r.appendChild(d),t.appendChild(r)}}))}),((e,t,n)=>{for(var a=t.parentElement.parentElement.querySelectorAll("button.btn.btn-success"),r=0;r<a.length;r++)a[r].click()}),r,t.rewardManager)),s.appendChild(d)}function Re(e){var t=new Audio;t.volume=_.getUnderscriptVolumeSettingValue("sfx"),t.src=e,t.play()}$e.src="https://github.com/elytrafae/prettycards/raw/master/audio/sfx/mus_intronoise.ogg",t.GameEndTypes=Pe,t.displayMatchResults=Ne,t.testMatchResults=()=>{Ne(Ie({action:"getVictory",gameType:"RANKED",disconnected:!0,golds:5944,isDonator:!1,oldGold:5919,oldXp:5709561,newXp:5713123,nbLevelPassed:0,oldJaugeSize:6e3,jaugeSize:6e3,xpUntilNextLevel:3189,queueGoldBonus:10,oldDivision:"AMETHYST_I",newDivision:"AMETHYST_I",oldDivision:"LEGEND",newDivision:"LEGEND",oldElo:1888,newElo:1900,rewardStringKey:"reward-dt-fragment",rewardType:"DTFRAGMENT",rewardQuantity:4,bonusRewardStringKey:"card",bonusRewardType:"CARD",bonusRewardQuantity:518}))},t.testMatchResultsDraw=()=>{Ne({endType:Pe.DRAW,rewardManager:new Ae})};var Le=i({key:"custom_game_end",name:"Custom Game End Screen",type:"boolean",refresh:!1,default:!0}),Me=i({key:"custom_game_end_death_anim",name:"Custom Game End Screen: Death Animation",note:"Should the death animation play with the Custom Game End Screen? I honestly do not know if this should be on or off.",type:"boolean",refresh:!1,default:!0}),Oe=["getVictory","getDefeat"];e.events.on("PreGameEvent",(function(e){Le.value()&&Oe.includes(e.action)&&(function(e,t){window.music.pause(),window.musicEnabled=!1,window.finish=!0,window.$(".spellPlayed").remove(),window.$("#enemyMute").remove(),window.$("#game-history").remove(),null!==window.settingsDialog&&window.settingsDialog.close(),null!==window.selectCardDialog&&window.selectCardDialog.close(),null!==window.dustpileDialog&&window.dustpileDialog.close();var n=[window.$("#user"+(e?window.opponentId:window.userId)),window.$(e?"#enemyAvatar":"#yourAvatar")];window.shakeEnabled&&Me.value()?(n.forEach((e=>{e.effect("shake")})),setTimeout((()=>{n.forEach((e=>{e.effect("puff")})),Re("/sounds/dust.wav"),setTimeout((()=>{t()}),750)}),750)):t()}("getVictory"===e.action,(()=>{Ne(Ie(e))})),this.canceled=!0)})),e.events.on("getError:before getGameError:before",(function(e){if(Le.value()){var t=JSON.parse(JSON.parse(e.message).args)[0];console.log(e,t),"game-turn-limit"!=t&&"game-time-limit"!=t||(this.canceled=!0,Ne({endType:Pe.DRAW,rewardManager:new Ae}))}}));var Be=[];function Fe(e,t,n,a,r,i,o){var s=document.createElement("DIV");s.className="PrettyCards_Hidden",s.style.display="none",s.style.marginTop="30px";var d=document.createElement("DIV");d.className="PrettyCards_GameEnd_FriendshipHeader",s.appendChild(d);var c=document.createElement("DIV");c.innerHTML=window.$.i18n(e),c.style.fontSize="2.5em",d.appendChild(c);var l=document.createElement("BUTTON");l.innerHTML=window.$.i18n(t),l.className="btn btn-primary",d.appendChild(l);var u=document.createElement("DIV");function p(e){u.innerHTML="",a(e,u,s,o),s.style.display=u.children.length>0?"block":"none"}return u.className=n,s.appendChild(u),i.then((e=>{l.onclick=function(){l.setAttribute("disabled",!0),r(e,l,p)},p(e)})),Be.push(s),s}var He=[g.GOLD,g.DUST,g.DTFRAG,g.UT_PACK,g.DR_PACK,g.SHINY_PACK,g.SUPER_PACK,g.FINAL_PACK],Ge=["standard-skin","full-skin","breaking-skin"];function Ue(e){return new Promise(((t,n)=>{window.$.post("/Quests",{questId:e,dailyQuest:e},(e=>{t(e)})).error((e=>{n(e)}))}))}window.underscript.lib.tippy(document.body,{target:"[data-reward-hover-data]",theme:"undercards",animateFill:!1,onShow(e){var t=JSON.parse(e.reference.dataset.rewardHoverData),n=window.appendCard(window.getCard(Number(t.card)),$("<DIV>"));if(t.name){var a='url("'+t.src+'")';n.find(".cardImage").css("background-image",a),n.removeClass("standard-skin").addClass(Ge[parseInt(t.type)]||"");var r=t.name+'<br/><span class="Artist">'+t.author+"</span>";n.find(".cardDesc div").html(r)}e.setContent(n[0])}}),t.collectQuestReward=Ue;class We{static get gold(){return Number(document.getElementById("golds").innerHTML)}static set gold(e){document.getElementById("golds").innerHTML=Number(e)}static get ucp(){return Number(document.getElementById("ucp").innerHTML)}static GetNumberOfPacks(e){return underscript.onPage("Packs")?Number(document.getElementById("nb"+e+"s").innerHTML):-1}static get dust(){return Number(s()("#dust").html())}static GetActiveMatchesData(e){const t=e||function(){};s().get("/",{},(function(e){var n=s()(e).find("#liste").find("tr"),a=[];n.each((function(e,t){var n={},r=t.children[0],i={},o=r.onclick.toString();i.spectateLink=o.split("'")[1],i.id=Number(i.spectateLink.split("playerId=")[1]),i.profileSkinUrl=r.style.backgroundImage,i.profilePictureUrl=s()(r).find(".avatar").attr("src"),i.soul=s()(r).find("> .playerInfo > span").attr("class"),i.name=s()(r).find("> .playerInfo > span").clone().children().remove().end().text().trim(),i.level=Number(s()(r).find("> .playerInfo > span > span").text().replace(/^\D+/g,""));var d=t.children[1],c={},l=d.onclick.toString();c.spectateLink=l.split("'")[1],c.id=Number(c.spectateLink.split("playerId=")[1]),c.profileSkinUrl=d.style.backgroundImage,c.profilePictureUrl=s()(d).find(".avatar").attr("src"),c.soul=s()(d).find("> .playerInfo > span").attr("class"),c.name=s()(d).find("> .playerInfo > span").clone().children().remove().end().text().trim(),c.level=Number(s()(d).find("> .playerInfo > span > span").text().replace(/^\D+/g,"")),n.gameId=Number(i.spectateLink.split("&playerId=")[0].split("gameId=")[1]),n.player1=i,n.player2=c,a.push(n)})),t(a)}))}static GetActiveMatchForId(e,t){const n=t||function(){};this.GetActiveMatchesData((function(t){for(var a=0;a<t.length;a++)if(e===t[a].gameId){var r=t[a];n(r)}}))}static IsSelfMod(){return window.selfMainGroup.priority<=4}static IsMyself(e){return window.selfId===e}static IsMyFriend(e){for(var t=0;t<window.selfFriends.length;t++)if(window.selfFriends[t].id==e)return!0;return!1}static GetDecks(e){s().get("/DecksConfig",{},(function(t){var n=JSON.parse(t.decks);e(n)}))}}t.pagegetters=We;var ze=n(3620);l(ze.Z);var je=!1,Ke={};function Ve(){if(underscript.onPage("Decks")){var t=window.decks;for(var n in Ke={},t)Ke[n]={},Ke[n].cards=t[n],Ke[n].artifacts=decksArtifacts[n];je||(je=!0,e.events.emit("SoulSelector:decksLoaded"))}else s().isEmptyObject(Ke)&&We.GetDecks((function(t){for(var n=0;n<t.length;n++){var a=t[n];Ke[a.soul.name]={},Ke[a.soul.name].cards=a.cardsList,Ke[a.soul.name].artifacts=a.artifacts}je||(je=!0,e.events.emit("SoulSelector:decksLoaded"))}))}class qe{constructor(){this.selectedSoul="KINDNESS",this.idPrefix="PrettyCards_ChallengeSoul_",this.highlightSelectedSoul=!0,this.changeSoulCallback=function(){},this.soulsToDisplay=[]}GetPlayableDecks(){Ve();var e={};for(var t in Ke){var n=Ke[t];n.cards.length>=25&&(n.artifacts.length>=2||1===n.artifacts.length&&n.artifacts[0].legendary)&&(e[t]=n)}return e}GenerateArtifacts(e){var t=document.createElement("DIV");t.className="PrettyCards_ArtifactContainer";for(var n=0;n<e.length;n++){var a=e[n];n>0&&t.appendChild(document.createElement("BR"));var r=document.createElement("SPAN");r.className=a.legendary?"yellow":"";var i=_.getArtifactImage(a.image);i.style="height: 16px;",r.appendChild(i),r.appendChild(document.createTextNode(" "+a.name)),t.appendChild(r)}return t}GenerateCards(e){for(var t=document.createElement("DIV"),n="",a=0;a<e.length;a++){var r=e[a];n+=`${r.shiny?'<span class="rainbowText">S</span> ':""}<span class="${r.rarity}">${r.name}</span><br>`}return t.innerHTML=n,t}ChangeDeck(e){this.highlightSelectedSoul&&s()(document.getElementById(this.idPrefix+this.selectedSoul)).removeClass("PrettyCards_SelectedSoul"),this.selectedSoul=e,this.highlightSelectedSoul&&s()(document.getElementById(this.idPrefix+this.selectedSoul)).addClass("PrettyCards_SelectedSoul"),this.changeSoulCallback(this.selectedSoul)}SetUp(e,t){this.idPrefix=e;var n=this.GetPlayableDecks();this.soulsToDisplay.length<=0&&(this.soulsToDisplay=Object.keys(n));var a=document.createElement("DIV"),r="";window["PrettyCards_ChangeDeck_"+this.idPrefix]=this.ChangeDeck.bind(this);for(var i=0;i<this.soulsToDisplay.length;i++){var o=this.soulsToDisplay[i];""===r&&(r=o);var s=_.getSoulImage(o);s.id=this.idPrefix+o,s.className=`PrettyCards_Soul_${o} PrettyCards_${t}Soul ${o===r&&this.highlightSelectedSoul?"PrettyCards_SelectedSoul":""}`,s.onclick=new Function("event",`PrettyCards_ChangeDeck_${this.idPrefix}("${o}");`),a.appendChild(s)}return this.selectedSoul=r,a}AddDeckTooltips(){var e=this.GetPlayableDecks();for(var t in e){document.querySelector("#"+this.idPrefix+t);var n=document.createElement("DIV");n.className="PrettyCards_DeckTooltip",n.appendChild(this.GenerateArtifacts(e[t].artifacts)),n.appendChild(this.GenerateCards(e[t].cards)),window.tippy("#"+this.idPrefix+t,{content:n,allowHTML:!0,arrow:!0,inertia:!0,placement:"auto",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect,onShow(e){}})}}static ExecuteOnDeckLoad(t){je?t():e.events.on("SoulSelector:decksLoaded",t)}static GetDecks(){return Ke}}underscript.onPage("Decks")?e.events.on("Deck:Loaded",(function(e){Ve()})):Ve();var Ye=[];function Je(e,t=!1){return Ye.includes(e)?_.asset(`img/HDCardSkins/${e}.png`):t?`/images/cards/${e}.png`:_.getCardImageLink(e)}i({key:"hd_card_skins",name:"HD Card Skins",note:"Enables HD Card Skins. Only applies to registered card skins.<br>I would recommend turning this off if:<br>- You are using a low resolution device.<br>- You have slow internet access.<br>- You pay for your internet based on consumption (ex. Mobile data).",type:"boolean",refresh:!0,default:!0,category:"controversial"}),e.events.on("PrettyCards:onPageLoad",(function(){var t=window.appendCardCardSkinShop;window.appendCardCardSkinShop=function(n,a){var r=t(n,a);return e.events.emit("appendCardCardSkinShop()",{cardSkin:n,frameName:a,element:r}),r}})),a.hd_card_skins.value()&&(s().getJSON(_.asset("json/hdCardSkins.json"),{},(function(t){Ye=t,e.events.emit.singleton("PrettyCards:hdSkinsFetched",{skins:t})})),e.events.on("func:appendCard",(function(t,n){e.events.on("PrettyCards:hdSkinsFetched",(function(){Ye.includes(t.image)&&n.find(".cardImage").css("backgroundImage",`url("${Je(t.image)}")`)}))})),e.events.on("appendCardCardSkinShop()",(function(t){var n=t.cardSkin,a=t.element,r=n.image;e.events.on("PrettyCards:hdSkinsFetched",(function(){Ye.includes(r)&&a.find(".cardImage").css("backgroundImage",`url("${Je(r)}")`)}))})),e.events.on("appendHubDeck()",(function(t){var n=t.deck,a=t.element,r=n.image;e.events.on("PrettyCards:hdSkinsFetched",(function(){Ye.includes(r)&&a.find(".hubDeckImage img").attr("src",Je(r))}))})));var Qe=[],Xe="Undertale";A("PrettyCards:onPageLoad",(function(){$.get("/CardSkinsConfig",{action:"profile"},(function(e){Qe=JSON.parse(e.cardSkins),Xe=e.frameName}))})),l(n(4145).Z);var Ze=i({key:"old_artifact_rarity",name:"Disable Post-2023 Artifact Rarity System",type:"boolean",refresh:!1,default:!1,category:"artifact"});i({key:"no_artifact_background",name:"Disable Artifact Backgrounds",type:"boolean",refresh:!1,default:!1,category:"artifact"});var et=new class{constructor(){this.artifacts=[],this.buyableArtifactIds={}}AddCustomArtifact(e){this.artifacts[e.id]=e}GetArtifactById(e){return this.artifacts[e]||null}GetArtifactByName(e){for(var t=0;t<this.artifacts.length;t++){var n=this.artifacts[t];if(n&&n.name===e)return n}return null}ReturnArtifactIcon(e){var t=this.GetArtifactById(e),n=_.getArtifactImage(t.image);return n.style="height: 24px;",n.className=`pointer PrettyCards_AverageSizedArtifact PrettyCards_Artifact_${t.rarity||"COMMON"}`,n.setAttribute("name",t.name),n.setAttribute("image",t.image),n.setAttribute("legendary","LEGENDARY"===t.rarity),n.setAttribute("artifactid",t.id),n.onclick=function(){window.artifactInfo(parseInt(this.getAttribute("artifactid")))},n}GetAllArtifacts(){$.getJSON("https://raw.githubusercontent.com/PrettyCards/daily-collector/main/allArtifactsProcessed.json",{},function(t){this.artifacts=[];for(var n=0;n<t.length;n++){var a=t[n];this.artifacts[a.id]=a}e.events.emit("PrettyCards:onArtifacts",this.artifacts)}.bind(this))}GetPage(e=-1){return new Promise(((t,n)=>{if(-1===e&&window.underscript.onPage("Artifacts"))t(document.getElementsByClassName("mainContent")[0]);else{var a={};e>=0&&(a={idArtifact:e,unlock:"Unlock"}),$.post("/Artifacts",a,(function(e){for(var a=$(e),r=0;r<a.length;r++){var i=a[r];if(i&&i.className&&i.classList.contains("mainContent"))return void t(i)}n("ELEMENT_NOT_FOUND_ERROR")}))}}))}GetPurchasableArtifacts(e=-1){return new Promise(((t,n)=>{this.GetPage(e).catch(n).then((e=>{var a=e.querySelector("nav.navbar div .navbar-right .dropdown .dropdown-toggle #golds");a&&(We.gold=parseInt(a.innerText));var r=e.querySelector("table.table");r||n("NO_TABLE");var i,o=r.querySelector("tbody");this.buyableArtifactIds=[];for(var s=0;s<o.children.length;s++){var d=o.children[s],c=d.children[1].getAttribute("data-i18n"),l=parseInt(d.children[4].firstChild.innerText),u=parseInt((i=c.split("-")).length<=0?null:i[i.length-1]);this.buyableArtifactIds[u]=l}t(this.buyableArtifactIds)}))}))}IsArtifactPurchasable(e){return this.BuyPriceForArtifact(e)>-1}BuyPriceForArtifact(e){return e in this.buyableArtifactIds?this.buyableArtifactIds[e]:-1}BuyArtifact(t){this.GetPurchasableArtifacts(t).catch((t=>{console.error(t),e.events.emit("PrettyCards:artBuyError")})).then((n=>{if(this.IsArtifactPurchasable(t))return console.warn("Server error when buying artifact"),void e.events.emit("PrettyCards:artBuyError");e.events.emit("PrettyCards:artBuySuccess",{idArtifact:t,artifact:this.GetArtifactById(t)})}))}GetRarityDataFor(e){var t=e.soul,n=e.rarity,a=e.ownerId&&!!window.getCard(e.ownerId),r="";Ze.value()||!a&&!t?r=window.$.i18n("pc-fd-artifactwithrarity",window.$.i18n("rarity-"+n.toLowerCase())):a&&t?r=window.$.i18n("pc-fd-artifactwithownerandsoul",window.$.i18n("card-name-"+e.ownerId,1),window.$.i18n("soul-"+t.toLowerCase())):a?r=window.$.i18n("pc-fd-artifactwithowner",window.$.i18n("card-name-"+e.ownerId,1)):t&&(r=window.$.i18n("pc-fd-artifactwithsoul",window.$.i18n("soul-"+t.toLowerCase())));var i="PrettyCards_ArtifactDisplay_"+n;return e.customImgClass?i=e.customImgClass:t&&(i="PrettyCards_ArtifactDisplay_SoulArt_"+t,"LEGENDARY"!=n&&"DETERMINATION"!=n&&"MYTHIC"!=n||(i+=" PrettyCards_ArtifactDisplay_FloatingForSoul")),{text:r,txtClass:e.customTxtClass||e.soul||e.rarity,imgClass:i}}};t.artifactDisplay=et,window.artifactDisplay=et,A("PrettyCards:onPageLoad",(function(){et.GetAllArtifacts(),et.GetPurchasableArtifacts()})),e.events.on("connect getPlayersStats",(function(e){var t=[];if("getPlayersStats"==e.action){var n=JSON.parse(e.artifacts);for(var a in n)t=t.concat(n[a])}else t=JSON.parse(e.enemyArtifacts).concat(JSON.parse(e.yourArtifacts));for(var r=0;r<t.length;r++){var i=et.GetArtifactById(t[r].id),o="PrettyCards_Artifact_"+i.rarity;i.soul&&(o="PrettyCards_Artifact_Soul_"+i.soul),window.$(".artifact-img[artifactId="+i.id+"]").addClass(o)}}));var tt="/DecksConfig";class nt{static OptimalImportDeck(e,t){var n=0,a=function(e,a){"success"==a?0==--n&&t("success"):(console.log("ERROR WHILE IMPORTING DECK!",e),t("error",e))};nt.RemoveEverything(e.soul,(function(r,i){if("success"==i){for(var o=0;o<e.cards.length;o++){var s=e.cards[o];n++,nt.AddCard(s.id,s.shiny,e.soul,a)}for(o=0;o<e.artifacts.length;o++){var d=e.artifacts[o];n++,nt.AddArtifact(d,e.soul,a)}}else t("error")}))}static ImportDeck(e,t){$.get("/Decks",{},(function(){$.get("/DecksConfig",{},(function(){nt.OptimalImportDeck(e,(function(e,n){"success"==e?$.get(window.location.pathname,{},(function(){setTimeout((function(){t("success")}),500)})):t(e,n)}))}))}))}static AddCard(e,t,n,a){$.ajax({url:tt,type:"POST",dataType:"json",data:JSON.stringify({action:"addCard",idCard:e,isShiny:!!t,soul:n}),contentType:"application/json",success:function(e){"error"!==e.status?a(e,"success"):a(e,"error")}})}static AddArtifact(e,t,n){$.ajax({url:tt,type:"POST",dataType:"json",data:JSON.stringify({action:"addArtifact",idArtifact:e,soul:t}),contentType:"application/json",success:function(e){"getArtifactAdded"===e.action?n(e,"success"):n(e,"error")}})}static RemoveEverything(e,t){$.ajax({url:tt,type:"POST",dataType:"json",data:JSON.stringify({action:"removeAllCards",soul:e}),contentType:"application/json",success:function(e){void 0===e.status?t(e,"success"):t(e,"error")}})}static RemoveArtifacts(e,t){$.ajax({url:tt,type:"POST",dataType:"json",data:JSON.stringify({action:"clearArtifacts",soul:e}),contentType:"application/json",success:function(e){"getArtifactsCleared"===e.action?t(e,"success"):t(e,"error")}})}static RemoveCard(e,t,n,a){$.ajax({url:tt,type:"POST",dataType:"json",data:JSON.stringify({action:"removeCard",idCard:e,isShiny:t,soul:n}),contentType:"application/json",complete:function(){canRemove=!0},success:function(e){void 0===e.status?a(e,"success"):a(e,"error")}})}}l(n(3410).Z);var at="underscript.deck."+window.selfId+".",rt=Math.random()<=.022;const it={active:!0,authorName:"",cardId:1,cardName:"Dummy",id:-1,image:"Dummy",name:"Default",owned:!0,typeSkin:0,ucpCost:0,unavailable:!1},ot={active:!0,authorName:"",cardId:-1,cardName:"Onutrem",id:-1,image:"Onutrem",name:"Default",owned:!0,typeSkin:0,ucpCost:0,unavailable:!1},st={id:-22,fixedId:-22,typeCard:1,name:"PLACEHOLDER",image:"Big_Mine",baseImage:"Big_Mine",cost:0,rarity:"TOKEN",originalCost:0,shiny:!1,quantity:1,extension:"BASE",tribes:[],selectCards:[],typeSkin:0,playedTurn:0,ownerId:0,loop:0,program:0};function dt(){var e=[];at="underscript.deck."+window.selfId+".";for(var t=0;t<window.localStorage.length;t++){var n=window.localStorage.key(t);if(n.includes(at)){var a=window.localStorage.getItem(n),r=n.substring(at.length,n.length).split(".");if("name"===r[2])continue;var i=JSON.parse(a),o="prettycards.deck."+selfId+"."+r[0]+"."+r[1]+".image",s="prettycards.deck."+selfId+"."+r[0]+"."+r[1]+".description",d=window.localStorage[o];d=d?JSON.parse(d):rt?ot:it;var c=r[0],l={soul:c,id:Number(r[1]),name:window.localStorage[n+".name"]||window.$.i18n("pc-decks-unnamed",window.$.i18n("soul-"+c.toLowerCase())),cards:i.cards,artifacts:i.artifacts,image:d,description:window.localStorage[s]||"",key:n};e.push(l)}}return e}function ct(e,t){if(e.cards.length!=t.cards.length||e.artifacts.length!=t.artifacts.length)return!1;for(var n=0;n<e.artifacts.length;n++)if(!t.artifacts.includes(e.artifacts[n].id))return!1;var a=[...e.cards],r=[...t.cards];for(a.sort(((e,t)=>e.id-t.id||e.shiny-t.shiny)),r.sort((({id:e,shiny:t=!1},{id:n,shiny:a=!1})=>e-n||t-a)),n=0;n<a.length;n++){var i=a[n],{id:o,shiny:s=!1}=r[n];if(i.id!==o||i.shiny!==s)return!1}return!0}function lt(){var e=dt(),t={DETERMINATION:[],BRAVERY:[],JUSTICE:[],KINDNESS:[],PATIENCE:[],INTEGRITY:[],PERSEVERANCE:[]};_.onTestServer()&&(t.MONSTER=[]);for(var n=0;n<e.length;n++){var a=e[n];t[a.soul]?t[a.soul].push(a):console.warn("NEW DECK TYPE DISCOVERED ON CLIENT! "+a.soul)}for(var r in t)t[r].sort((function(e,t){return e.id-t.id}));return t}function ut(e,t){for(var n=e[t],a=0;a<n.length&&a==n[a].id;)a++;return a}class pt{constructor(){this.callback=function(){},this.closeCallback=function(){},this.closable=!1,this.deckSouls={},this.decks=[],this.canEditDecks=!1,this.hideInvalidDecks=!0}IsValidDeck(e){if(25!=e.cards.length)return!1;if(0==e.artifacts.length||e.artifacts.length>=3)return!1;var t=et.GetArtifactById(e.artifacts[0]);if(!t)return console.log("ARTIFACT WITH ID"+e.artifacts[0]+" NOT FOUND!"),!1;if(1==e.artifacts.length)return"LEGENDARY"===t.rarity;var n=et.GetArtifactById(e.artifacts[1]);return n?"LEGENDARY"!==t.rarity&&"LEGENDARY"!==n.rarity:(console.log("ARTIFACT WITH ID"+e.artifacts[1]+" NOT FOUND!"),!1)}SetUpButtons(e){var t=document.createElement("BUTTON");t.className="btn btn-danger PrettyCards_DeckListHeaderButton",t.innerHTML="Purge Autogens",e.appendChild(t)}GetHTML(e){var t=document.createElement("DIV");t.className="PrettyCards_ChooseDeckScreenContainer";var n=document.createElement("DIV");n.className="PrettyCards_DeckListHeader",t.appendChild(n);var a=document.createElement("DIV");for(var r in a.className="PrettyCards_DecklistSoulsContainer",n.appendChild(a),this.soulSelector=new qe,this.soulSelector.changeSoulCallback=function(e){this.deckSouls[e][0].scrollIntoView({behavior:"smooth",block:"start"})}.bind(this),this.soulSelector.highlightSelectedSoul=!1,this.soulSelector.soulsToDisplay=[],e)this.soulSelector.soulsToDisplay.push(r);a.appendChild(this.soulSelector.SetUp("PrettyCards_SavedDeckSelectSoul_","Normal"));var i=document.createElement("DIV");if(i.className="PrettyCards_DeckListContainer",t.appendChild(i),this.closable){var o=document.createElement("DIV"),s=document.createElement("BUTTON");s.className="btn btn-primary PrettyCards_DeckListHeaderButton",s.innerHTML=rt?"<span class='red'>"+window.$.i18n("pc-navigate-later")+"</span>":window.$.i18n("pc-navigate-nevermind"),s.onclick=this.closeCallback,o.appendChild(s),n.appendChild(o)}for(var r in this.deckSouls={},e){for(var d=$('<div><div class="PrettyCards_DeckHeader '+r+'">'+window.$.i18n("soul-"+r.toLowerCase())+"</div></div>"),c=0;c<e[r].length;c++){const t=e[r][c];if(!this.hideInvalidDecks||this.IsValidDeck(t)){var l=this.appendCardDeck(d,t);this.canEditDecks&&(l.append('<div class="PrettyCards_DeckCardErase">'+(rt?window.$.i18n("pc-decks-delete-mystery"):window.$.i18n("pc-decks-delete"))+"</div>"),l.find(".PrettyCards_DeckCardErase").click(function(e){this.DeleteDeckDialogue(t),e.stopPropagation()}.bind(this)),l.find(".cardFooter").css("display","none")),l.click(function(){this.callback(t)}.bind(this))}}if(this.canEditDecks){var u=ut(e,r);const t={image:rt?ot:it,soul:r,name:window.$.i18n("pc-decks-new",window.$.i18n("soul-"+r.toLowerCase())),description:"",cards:[],artifacts:[],id:u,key:at+r+"."+u};this.appendCardDeck(d,t).click(function(){this.callback(t)}.bind(this))}this.deckSouls[r]=d,$(i).append(d)}return t}AppendTo(e){this.decks=lt(),function(e){var t=qe.GetDecks();for(var n in t){var r=!1,i=t[n];if(e[n]&&!(i.cards.length<=0)){for(var o=0;o<e[n].length;o++){var s=e[n][o];s.isBase=ct(i,s),s.isBase&&(r=!0)}if(!r&&a.override_decks_autogen.value()){var d=ut(e,n),c=[],l=[],u=at+n+"."+d,p=window.$.i18n("pc-decks-autogen",window.$.i18n("soul-"+n.toLowerCase()));for(o=0;o<i.cards.length;o++){var h={id:i.cards[o].id};i.cards[o].shiny&&(h.shiny=!0),c.push(h)}for(o=0;o<i.artifacts.length;o++)l.push(i.artifacts[o].id);window.localStorage[u]=JSON.stringify({cards:c,artifacts:l}),window.localStorage[u+".name"]=p,e[n].push({image:rt?ot:it,soul:n,name:p,cards:c,artifacts:l,id:d,key:u,isBase:!0})}}}}(this.decks);var t=this.GetHTML(this.decks);return e.appendChild(t),this.parent=e,t}Reload(){this.parent.innerHTML="",this.AppendTo(this.parent)}DeleteDeckDialogue(e){var t=rt?window.$.i18n("pc-decks-askdelete-title-mystery"):window.$.i18n("pc-decks-askdelete-title"),n=rt?`<span class='red'>${window.$.i18n("pc-decks-askdelete-text-mystery")}</span>`:window.$.i18n("pc-decks-askdelete-text"),a=rt?window.$.i18n("pc-decks-askdelete-yes-mystery"):window.$.i18n("pc-decks-askdelete-yes"),r=rt?window.$.i18n("pc-decks-askdelete-no-mystery"):window.$.i18n("pc-decks-askdelete-no");const i=this;BootstrapDialog.show({title:t,message:n,buttons:[{label:r,cssClass:"btn-primary us-normal",action(e){e.close()}},{label:a,cssClass:"btn-danger us-normal",action(t){i.DeleteDeck(e),t.close()}}]})}DeleteDeck(e){window.localStorage.removeItem(e.key),window.localStorage.removeItem(e.key+".name"),window.localStorage.removeItem("prettycards.deck."+selfId+"."+e.soul+"."+e.id+".image"),window.localStorage.removeItem("prettycards.deck."+selfId+"."+e.soul+"."+e.id+".description"),e.isBase?nt.RemoveEverything(e.soul,function(){qe.GetDecks()[e.soul]={cards:[],artifacts:[]},this.Reload()}.bind(this)):this.Reload()}appendCardDeck(e,t,n){var a=window.appendCard(st,e);a.addClass("PrettyCards_DeckCard");var r=a.find(".cardName div");a.find(".cardName").css("width","160px"),r.html(t.name),a.find(".cardName").addClass(t.soul),a.find(".cardDesc div").html('<span class="'+t.soul+'">'+(t.description||"").replaceAll("\n","<br>")+"</span>"+(!n&&t.isBase?'<p style="color:grey; margin:0px;">(Loaded)</p>':"")),a.find(".cardFrame").css("background-image","url("+(!n&&t.isBase?_.asset("img/CardFrames/frame_deck_gold.png"):_.asset("img/CardFrames/frame_deck.png"))+")"),function(e,t){var n=Je(t.image,!0);t.isCustom&&(n=t.image),e.find(".cardImage").css("background-image","url("+n+")");var a="standard-skin";1==t.typeSkin?a="full-skin":2==t.typeSkin&&(a="breaking-skin"),e.removeClass("standard-skin").addClass(a)}(a,t.image),r.css("font-size","");var i=window.getResizedFontSize(r,25);return r.css("font-size",i+"px"),!n&&t.isBase&&a.addClass("PrettyCards_BaseDeckCard"),a}getDeckBySoulAndId(e,t){this.decks=lt();var n=this.decks[e];if(!n)return null;for(var a=0;a<n.length;a++){var r=n[a];if(r.id===t)return r}return null}}l(ze.Z);var ht,ft=a.override_decks.value(),mt=!1,gt=new qe,yt=new pt,Ct=!1;function wt(){s()("#PrettyCards_PrivateGameChallengeForm").attr("hidden",!0),s()("#PrettyCards_PrivateGameChallengeDeckSelector").attr("hidden",!1),St.$modalDialog.addClass("modal-lg"),Ct=!0}function vt(){s()("#PrettyCards_PrivateGameChallengeForm").attr("hidden",!1),s()("#PrettyCards_PrivateGameChallengeDeckSelector").attr("hidden",!0),St.$modalDialog.removeClass("modal-lg"),Ct=!1}function bt(e){Pt(e),vt()}function Pt(e){ht=e,window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]=e.id,window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"]=e.soul,Ct=!1;var t=s()("#PrettyCards_PrivateGameChallengeDeckCard");t.html(""),yt.appendCardDeck(t,e,!1)}function _t(e){var t=s()(`\n\t\t<div id="PrettyCards_PrivateGameChallengeForm">\n\t\t\t<p>${window.$.i18n("pc-customgame-options-name")}: </p><input id="PrettyCards_PrivateGameName" type="text" class="form-control" value="${"PrettyCardsCustom"+Math.floor(100*Math.random())}"></input>\n\t\t\t<p>${window.$.i18n("pc-customgame-options-recipients")}: </p><input id="PrettyCards_PrivateGameRecipients" type="text" class="form-control" value="${e?e.username:""}"></input>\n\t\t\t<br>\n\t\t\t<label class="form-check-label"><input id="PrettyCards_PrivateGameEveryone" type="checkbox" class="form-check-input" ${e?"":"checked"}></input> ${window.$.i18n("pc-customgame-options-everyone")}</label>\n\t\t\t<p ${ft?"hidden":""} className="PrettyCards_PrivateGameChallengeForm_Souls">${window.$.i18n("pc-customgame-options-soul")}: </p>\n\t\t\t<div id="PrettyCards_PrivateGameChallengeDeckCard"></div>\n\t\t</div>\n\t\t<div id="PrettyCards_PrivateGameChallengeDeckSelector" hidden></div>\n\t`);return t.find("#PrettyCards_PrivateGameChallengeForm .PrettyCards_PrivateGameChallengeForm_Souls").append(gt.SetUp("PrettyCards_ChallengeSoul_","Normal")),ft&&t.find("#PrettyCards_PrivateGameChallengeDeckCard").click(wt),t}function kt(e){ft?(function(){var e=Number(window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]),t=window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"];if("number"==typeof e&&"string"==typeof t){var n=yt.getDeckBySoulAndId(t,e);null==n?(Pt({soul:"DETERMINATION",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:ot,description:window.$.i18n("pc-play-deckerror")}),Ct=!0):Pt(n)}else Pt({soul:"UNIVERSAL",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:it,description:window.$.i18n("pc-play-nodeck")}),Ct=!0}(),yt.closable=!0,yt.closeCallback=vt,yt.callback=bt,yt.AppendTo(s()("#PrettyCards_PrivateGameChallengeDeckSelector")[0])):gt.AddDeckTooltips()}var St,xt={};function Tt(e,t,n){sessionStorage.setItem("PrettyCards_PrivateGameIsHost",!0),sessionStorage.setItem("PrettyCards_PrivateGameName",e),sessionStorage.setItem("PrettyCards_PrivateGameSoul",n),sessionStorage.setItem("PrettyCards_PrivateGameRecipients",JSON.stringify(t));var a="I challenge "+t.join(", ")+" to a CUSTOM game! via PrettyCards";xt.idRoom>0?window.sendMessage(a,String(xt.idRoom)):window.sendPrivateMessage(a,String(xt.user.id)),mt=!0}function At(e){mt&&JSON.parse(e.chatMessage).user.id===window.selfId&&(window.location="/GamesList")}e.events.on("Chat:getPrivateMessage",At),e.events.on("Chat:getMessage",At),l(n(7288).Z);const Et={id:220,priority:10,name:"PrettyCards_Staff",icon:"PC_Staff"},It={id:221,priority:10,name:"PrettyCards_MiniStaff",icon:"PC_MiniStaff"},$t={id:222,priority:10,name:"PrettyCards_Owner",icon:"PC_Owner"},Dt={id:999,priority:15,name:"Overachiever",icon:"Overachiever"},Nt={id:9999,priority:15,name:"Grassless",icon:"Grassless"},Rt={id:277,priority:16,name:"Cutie",icon:"Cutie"};class Lt{#a;chatRoleUserData={};#r=[Et,It,$t,Dt,Nt,Rt];static#i=new Lt;constructor(){this.#o()}static getInstance(){return Lt.#i}#o(){s().getJSON(_.asset("json/customChatRoles.json"),{},(t=>{this.chatRoleUserData=t,e.events.emit.singleton("PrettyCards:customChatRolesData",this.chatRoleUserData)})),e.events.on("PrettyCards:onPageLoad",(()=>{this.#a=window.appendMessage,window.appendMessage=(e,t,n)=>{this.#s(e),this.#a(e,t,n),this.#d(e,t,n)}}))}#s(e){var t=e.user;if(!t.pc_touched){t.pc_touched=!0;var n,a=null;if(this.#c(t.id,"pc_staff")?(a=Et,n=t.mainGroup.priority>=8):this.#c(t.id,"pc_ministaff")?(a=It,n=!1):this.#c(t.id,"pc_owner")&&(a=$t,n=!0),a&&(t.groups.push(a),n)){var r=t.groups.find((e=>e.id===t.mainGroup.id));r&&(r.priority=10),t.mainGroup=a}t.level>=9999?t.groups.push(Nt):t.level>=999&&t.groups.push(Dt),this.#c(t.id,"cutie")&&t.groups.push(Rt),t.groups.sort(((e,t)=>e.priority-t.priority))}}#d(e,t,n){for(var a=n?"chat-private-"+t:"chat-public-"+t,r=s()("#"+a).find("#message-"+e.id).find(".groupIcon"),i=0;i<r.length;i++){var o=r[i],d=o.getAttribute("title"),c=this.#r.find((e=>e.name==d));c&&(o.src=this.#l(c.icon))}}#l(e){return _.asset(`img/ChatBadges/${e}.png`)}#c(e,t){return this.chatRoleUserData[t]?this.chatRoleUserData[t].find((t=>t.id===e)):(console.warn("List name",t,"in",this.chatRoleUserData,"does not exist!"),!1)}getChatBadgeIcon(e){return this.#r.find((t=>t.icon==e))?this.#l(e):`images/${e}.png`}#u(e){var t=this.#c(e,"cutie");return t?t.face:null}#p(e){return this.#c(e,"pc_staff")||this.#c(e,"pc_ministaff")||this.#c(e,"pc_owner")}#h(e){var t=this.#p(e);return t?t.credit:null}getStatusStringForId(e){var t=this.#u(e),n=this.#h(e),a="";return n&&(a+=` <span class="PrettyCards_Staff">(${n})</span>`),t&&(a+=` <span class="Cutie">(${t})</span>`),a}isStaffMember(t){return new Promise(((n,a)=>{try{e.events.on("PrettyCards:customChatRolesData",(()=>{var e=this.#p(t);e?n(e):a("NO_PERMS")}))}catch(e){console.error(e),a("ERROR_INSIDE")}}))}}var Mt=n(4095),Ot=n(9157),Bt=n(9008);l(Mt.Z),l(Ot.Z),l(Bt.Z),window.PrettyCards_plugin=e;var Ft,Ht=window.$,Gt=[];i({key:"user_info",name:"Better User Info",type:"boolean",refresh:!1,default:!0});var Ut=i({key:"user_info_special_bg_opacity",name:"BUI: Background Opacity",note:"Certain profile skins have special backgrounds while in battle. Better User Info displays these backgrounds as its background if there are any, or black if there is not. This setting lets you control the opacity of these special backgrounds, with lower numbers making them darker, and higher numbers making them brighter.",type:"slider",refresh:!1,default:60,min:0,max:100,step:1});function Wt(e,t,n=Ht(".PrettyCards_UserInfo_FriendshipHideable")){e?n.removeClass("PrettyCards_Hidden"):n.addClass("PrettyCards_Hidden")}var zt=i({key:"user_info_friendship_show",name:"Show Friendship Data On User Info",note:'Requires "Better User Info" to have any effect!',type:"boolean",refresh:!1,default:!0,onChange:Wt,hidden:!0});function jt(t){var n=Ht(t).data("infos");console.log(n);var a=n.user;if(!e.events.emit("preChat:getInfo",{infos:n,user:a},!0).canceled){Ft(t);var r=window.BootstrapDialog.dialogs[Object.keys(BootstrapDialog.dialogs)[0]];e.events.emit("Chat:getInfo",{popupElement:r.$modalDialog[0],infos:n,user:a})}}A("PrettyCards:onPageLoad",(function(){window.$.get("Leaderboard?action=ranked",(function(e){Gt=JSON.parse(e.leaderboard)}))})),A("PrettyCards:onPageLoad",(function(){Ft=window.getInfo,window.getInfo=jt,Ht=window.$,_.loadCSSFromLink("/css/meters.css")})),e.events.on("Chat:getInfo",(function(t){if(!a.user_info.value())return;console.log("Chat:getInfo ",t);var n=t.user,r=t.popupElement.querySelector(".modal-header"),i=window.localStorage["prettycards.profile_skin_text_color."+window.selfId+"."+n.profileSkin.id]||"#FFFFFF";t.popupElement.className="modal-dialog modal-lg",r.className+=" PrettyCards_UserHeader",r.style["background-image"]=`url(/images/profiles/${n.profileSkin.image}.png)`;var o=t.popupElement.querySelector(".modal-content");o.style["background-image"]=`url(/images/backgrounds/${n.profileSkin.image}.png)`,o.style["background-color"]="black",o.style["background-size"]="cover",o.style["background-position"]="center";var s=(100-Ut.value())/100;t.popupElement.querySelector(".modal-body").style.background=`rgba(0, 0, 0, ${s})`,t.popupElement.querySelector(".modal-footer").style.background=`rgba(0, 0, 0, ${s})`;var d=Lt.getInstance().getStatusStringForId(n.id),c=r.querySelector(".bootstrap-dialog-title");c.innerHTML+=d,c.className+=" PrettyCards_UserTitle",c.style.color=i;var l=t.popupElement.querySelector(".bootstrap-dialog-footer-buttons");l.style="display: flex; justify-content: flex-end; align-items: center;";var u=document.createElement("INPUT");u.setAttribute("type","color"),u.value=i,u.style="height: 32px; margin: 0px 4px;",u.oninput=function(e){c.style.color=u.value,window.localStorage["prettycards.profile_skin_text_color."+window.selfId+"."+n.profileSkin.id]=u.value},l.prepend(u);var p=t.popupElement.querySelector(".avatar");p.className+=" PrettyCards_UserProfilePic",r.appendChild(p),n.shinyAvatar&&r.appendChild(t.popupElement.querySelector(".rainbowAvatar"));var h=t.popupElement.querySelector(".bootstrap-dialog-message");h.innerHTML="";var f=document.createElement("DIV");f.className="row";var m=document.createElement("DIV");m.className="column PrettyCards_UserColumn",f.appendChild(m);var g=document.createElement("DIV");g.className="column PrettyCards_UserColumn",f.appendChild(g),h.appendChild(f);var y=Math.random()<=.022,C=document.createElement("DIV");C.className="PrettyCards_UserGroups",C.innerHTML="Groups: ";for(var w=0;w<n.groups.length;w++){var v=n.groups[w],b=document.createElement("SPAN");if(b.className="PrettyCards_UserGroupContainer",C.appendChild(b),v.icon){var P=document.createElement("IMG");P.src=Lt.getInstance().getChatBadgeIcon(v.icon),P.onerror=function(e){e.target.style.display="none"},P.title=v.name,b.appendChild(P)}var k=document.createElement("SPAN");k.innerHTML=he.getWithFallback("group-"+v.name.replace(" ","_").toLowerCase(),v.name),k.className=v.name.replace(" ","_"),k.style.paddingRight="15px",b.appendChild(k)}m.appendChild(C);var S=document.createElement("DIV");S.innerHTML=window.$.i18n("stat-lv")+" "+n.level,S.className="PrettyCards_UserLV",m.appendChild(S);var x=document.createElement("DIV");function T(){x.innerHTML='<span class="glyphicon glyphicon-user green"></span> '+window.$.i18n("pc-chat-friend-add"),x.style.cursor="pointer",x.onclick=function(){Ht.post("/Friends",{username:n.username,addFriend:"Add friend"},A)}}function A(){x.innerHTML='<span class="glyphicon glyphicon-user red"></span> '+window.$.i18n("pc-chat-friend-remove"),x.style.cursor="pointer",x.onclick=E}function E(){BootstrapDialog.show({title:window.$.i18n("pc-chat-unfriend-confirm-title",n.username),message:window.$.i18n("pc-chat-unfriend-confirm",n.username),buttons:[{label:window.$.i18n("pc-navigate-no"),cssClass:"btn-primary us-normal",action(e){e.close()}},{label:window.$.i18n("pc-navigate-yes"),cssClass:"btn-danger us-normal",action(e){Ht.get("/Friends?delete="+n.id,{},T()),e.close()}}]})}m.appendChild(x),We.IsMyself(n.id)||We.IsMyFriend(n.id)?We.IsMyself(n.id)?x.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-user"></span> '+he.getRandomFromValueList("pc-chat-friend-mystery")+"</span>":'<span class="glyphicon glyphicon-user gray"></span> '+window.$.i18n("pc-chat-friend-you"):A():T();var I=document.createElement("DIV");function $(){I.innerHTML='<span class="glyphicon glyphicon-volume-off red"></span> '+(underscript.user.isIgnored(n)?window.$.i18n("pc-chat-ignore-remove"):window.$.i18n("pc-chat-ignore-add"))}m.appendChild(I),We.IsMyself(n.id)?I.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-volume-off"></span> '+he.getRandomFromValueList("pc-chat-ignore-mystery")+"</span>":'<span class="glyphicon glyphicon-volume-off gray"></span> '+window.$.i18n("pc-chat-ignore-self"):($(),I.style.cursor="pointer",I.onclick=function(){underscript.user.isIgnored(n)?underscript.user.unIgnore(n):underscript.user.ignore(n),$()});var D=document.createElement("DIV");m.appendChild(D),We.IsMyself(n.id)||!We.IsSelfMod()&&!We.IsMyFriend(n.id)?We.IsMyself(n.id)?D.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-envelope"></span> '+he.getRandomFromValueList("pc-chat-pm-mystery")+"</span>":'<span class="glyphicon glyphicon-envelope gray"></span> '+window.$.i18n("pc-chat-pm-self"):D.innerHTML='<span class="glyphicon glyphicon-envelope gray"></span> '+window.$.i18n("pc-chat-pm-denied"):(D.innerHTML='<span class="glyphicon glyphicon-envelope yellow"></span> '+window.$.i18n("pc-chat-pm-allowed"),D.style.cursor="pointer",D.onclick=function(){openPrivateRoom(n.id,n.username)});const N=document.createElement("DIV");if(m.appendChild(N),!We.IsMyself(n.id)&&n.gameId>-1?We.GetActiveMatchForId(n.gameId,(function(e){if(e.player2.id===n.id){var t=e.player1;e.player1=e.player2,e.player2=t}N.innerHTML=`<span class="glyphicon glyphicon-eye-open green"></span> ${window.$.i18n("pc-chat-spectate-match")}<br><a href="${e.player1.spectateLink}"><img src="images/souls/${e.player1.soul}.png"></img><span class="${e.player1.soul}"> ${e.player1.name}</span></a> ${window.$.i18n("pc-chat-spectate-separator")} \n<a href="${e.player2.spectateLink}"><img src="images/souls/${e.player2.soul}.png"></img><span class="${e.player2.soul}"> ${e.player2.name}</span></a>`})):We.IsMyself(n.id)&&n.gameId>-1?N.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-eye-open"></span> '+he.getRandomFromValueList("pc-chat-spectate-mystery-match")+"</span>":'<span class="glyphicon glyphicon-eye-open gray"></span> '+window.$.i18n("pc-chat-spectate-self"):We.IsMyself(n.id)?N.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-eye-open"></span> '+he.getRandomFromValueList("pc-chat-spectate-mystery-idle")+"</span>":'<span class="glyphicon glyphicon-eye-open gray"></span> '+window.$.i18n("pc-chat-spectate-self"):N.innerHTML='<span class="glyphicon glyphicon-eye-open gray"></span> '+window.$.i18n("pc-chat-spectate-idle"),!We.IsMyself(n.id)&&n.gameId<=-1){var R=document.createElement("DIV");R.innerHTML='<span class="glyphicon glyphicon-flash red"></span> '+window.$.i18n("pc-chat-challenge-create"),R.style.cursor="pointer",R.onclick=function(){!function(t,n){xt=n,St=BootstrapDialog.show({title:"Custom Challenge!",message:_t(t),onshown:kt.bind(this),buttons:[{label:window.$.i18n("pc-navigate-cancel"),cssClass:"btn-primary us-normal",action(e){e.close()}},{label:window.$.i18n("pc-navigate-send"),cssClass:"btn-primary us-normal",action(t){if(!Ct){for(var n=document.getElementById("PrettyCards_PrivateGameName").value,a=document.getElementById("PrettyCards_PrivateGameEveryone").checked?["everyone"]:document.getElementById("PrettyCards_PrivateGameRecipients").value.split(","),r=0;r<a.length;r++)a[r]=a[r].trim();a.length<=0&&(a=["everyone"]);var i,o,s=ft?ht.soul:gt.selectedSoul;ft?(i=function(){Tt(n,a,s)},o=e.toast({title:"Please wait!",text:"Setting up the deck on the server . . ."}),Ct=!0,nt.OptimalImportDeck(ht,(function(e){Ct=!1,o.exists()&&o.close(),"success"==e&&i()}))):Tt(n,a,s)}}}]})}(n,t.infos)},m.appendChild(R)}var L=document.createElement("DIV");if(We.IsSelfMod()&&!We.IsMyself(n.id)){var M={1:"1 "+window.$.i18n("pc-smalltime-sec",1),30:"30 "+window.$.i18n("pc-smalltime-sec",2),60:"1 "+window.$.i18n("pc-smalltime-min",1),600:"10 "+window.$.i18n("pc-smalltime-min",2),3600:"1 "+window.$.i18n("pc-smalltime-hour",1),21600:"6 "+window.$.i18n("pc-smalltime-hour",2),43200:"12 "+window.$.i18n("pc-smalltime-hour",2),43200:"1 day"+window.$.i18n("pc-smalltime-day",1)};L.innerHTML='<span class="glyphicon glyphicon-volume-off gray"></span> '+window.$.i18n("chat-time-out-user")+" ";var O=document.createElement("INPUT");O.setAttribute("type","text"),O.id="PrettyCards_Timeout",O.style="display:inline; width: 110px; margin-right: 15px;",O.setAttribute("list","PrettyCards_TimeoutList"),O.onchange=function(){for(var e in M)if(M[e]==this.value){this.value=e;break}};var B=document.createElement("DATALIST");for(var F in B.id="PrettyCards_TimeoutList",M)B.innerHTML+='<option value="'+M[F]+'"></option>';var H=document.createElement("BUTTON");H.className="btn btn-primary",H.innerHTML=window.$.i18n("pc-chat-mod-timeout"),H.onclick=function(){var e=Ht("#PrettyCards_Timeout").val();for(var t in M)if(M[t]==e){e=t;break}window.timeout(String(n.id),e)},L.appendChild(O),L.appendChild(H),L.appendChild(B)}m.appendChild(L),g.innerHTML+=window.$.i18n("{{DIVISION:"+n.division+"}}");var G,U='<span style="font-size: 20px;" class="rainbowText">'+n.eloRanked+"</span>";"LEGEND"!==n.division&&(U='  <progress max="25" value="'+n.eloRanked%25+'" class="'+(G=n.division).substring(0,G.indexOf("_"))+'Bar" style="width: 150px;"></progress> <span>('+n.eloRanked+")</span>"),g.innerHTML+=U;var W=function(e){if(Gt.length<=0)return-1;for(var t=0;t<Gt.length;t++)if(e.id===Gt[t].id)return t+1;return-1}(n),z="";W>-1&&(z="<div>"+window.$.i18n("pc-chat-ranked-rank")+": "+function(e){return 1==e?ie.DELTARUNE.DETERMINATION+" "+window.$.i18n("pc-chat-ranked-first"):2==e?ie.DELTARUNE.LEGENDARY+" "+window.$.i18n("pc-chat-ranked-second"):3==e?ie.DELTARUNE.EPIC+" "+window.$.i18n("pc-chat-ranked-third"):4==e?ie.DELTARUNE.RARE+" "+window.$.i18n("pc-chat-ranked-fourth"):5==e?ie.DELTARUNE.COMMON+" "+window.$.i18n("pc-chat-ranked-fifth"):e}(W)+"</div>");var j="<div>"+window.$.i18n("pc-chat-ranked-wins")+": "+n.winsRanked+"</div>",K="<div>"+window.$.i18n("pc-chat-ranked-losses")+": "+n.lossesRanked+"</div>",V="<div>"+window.$.i18n("pc-chat-ranked-winrate")+": "+Math.floor(n.winsRanked/(n.winsRanked+n.lossesRanked)*1e4)/100+"%</div>",q="<div>"+window.$.i18n("pc-chat-ranked-winstreak")+": "+n.winStreak+"</div>";g.innerHTML+=z+j+K+V+q;var Y=document.createElement("DIV");Y.className="row";var J=document.createElement("DIV");J.className="double_column PrettyCards_UserColumn",Y.appendChild(J),h.appendChild(Y);var Q=document.createElement("DIV");Q.className="PrettyCards_ChatFriendshipContainer PrettyCards_UserInfo_FriendshipHideable",Q.innerHTML=`<h2 class='gray'>${window.$.i18n("pc-chat-friendship-fetching")}</h2>`;var X=document.createElement("DIV");X.id="PrettyCards_UserInfo_FriendshipTitleContainer";var Z=document.createElement("H2");Z.innerHTML=window.$.i18n("pc-chat-friendship-title"),Z.className="PrettyCards_UserInfo_FriendshipTitleText",X.appendChild(Z),J.appendChild(X),J.appendChild(Q),_.getFriendshipInfo(n.id,(function(e){Q.innerHTML="",Z.onclick=()=>{var e=!zt.value();zt.set(e,!e)};var t=Ht(`\n\t\t<div style="display:flex;" id="PrettyCards_UserInfo_SwapSortArea" class="PrettyCards_UserInfo_FriendshipHideable">\n\t\t\t<label class="form-check-label" for="PrettyCards_UserInfo_SwapSortBtn">${window.$.i18n("pc-chat-friendship-sortxp")}</label>\n\t\t\t<label class="form_switch friendshipSortSwitch">\n\t\t\t\t<input type="checkbox" id="PrettyCards_UserInfo_SwapSortBtn">\n\t\t\t\t<span class="slider round"></span>\n\t\t\t</label>\n\t\t\t<label class="form-check-label" for="PrettyCards_UserInfo_SwapSortBtn">${window.$.i18n("pc-chat-friendship-sortrank")}</label>\n\t\t</div>`);Ht(X).append(t);var n=t.find("#PrettyCards_UserInfo_SwapSortBtn");n.change((function(){qt(e.scores,Ht(Q),n)})),qt(e.scores,Ht(Q),n);var a=document.createElement("P");a.className="PrettyCards_UserInfo_FriendshipHideable gray";var r=new Date(e.lastUpdated);a.innerHTML=`${window.$.i18n("pc-chat-friendship-fetchedat")}: ${r.toUTCString()}`,J.appendChild(a),Wt(zt.value(),zt.value(),Ht(J).find(".PrettyCards_UserInfo_FriendshipHideable"))})).fail((function(){Q.innerHTML=`<p class='red'>${window.$.i18n("pc-chat-friendship-fail")}</p>`}))}));var Kt=function(e,t){return t.xp-e.xp},Vt=function(e,t){return e.rank-t.rank};function qt(e,t,n){n.prop("checked")?Yt(e,t,Vt):Yt(e,t,Kt)}function Yt(e,t,n){e.sort(n),t.empty();for(var a=0;a<Math.min(8,e.length);a++)Jt(e[a],t,0)}function Jt(e,t,n=1){var a;switch(n){case 1:a="TOP XP";break;case 2:a="TOP RANK";break;case 3:a="TOP XP & RANK"}var r=window.getLevel(e.xp),i=_.appendCardFriendship(window.getCard(e.cardId),t,r,e.xp-_.getXpForLevel(r-1),window.distanceNextLevel(r));return a&&i.append('<div class="PrettyCards_FriendshipTop">'+a+"</div>"),i.append(`<div class="PrettyCards_FriendshipRank"${e.rank<=5?" top":""} val="${e.rank}"></div>`),i.off("click"),i}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}window.sendMessageAsPositionInRanked=function(e){var t=Gt[e-1];t.mainGroup={id:10,name:"User",priority:13},t.groups=[t.mainGroup],t.profileSkin={id:34,image:"Charas_Rush",name:"Charas Rush",ucpCost:400};var n={deleted:!1,id:1e5,idRoom:1,me:!1,message:"I am high on leaderboard!!!!!!",rainbow:!0,user:Gt[e-1]};window.appendMessage(n,1,!1),JSON.stringify(n),window.appendMessage(n,"chat-public-1",!1)};var Xt=function(){function e(e){this.word=e.trim(),this.replacedWords=new Set}var t=e.prototype;return t.replace=function(e,t,n){if(void 0===n&&(n=!1),!n&&function(e,t,n){return Array.from(n).some((function(n){return n.replace(e,t)!==n}))}(e,t,this.replacedWords))return this;var a=this.word.replace(e,t).trim(),r=this.word.match(e),i=null!==r?Array.from(r).map((function(e){return e.replace(e,t)})):[];if(a!==this.word){for(var o,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i);!(o=s()).done;){var d=o.value;this.replacedWords.add(d)}this.word=a}return this},t.toString=function(){return this.word},e}(),Zt=["(`)",";;w;;","owo","UwU",">w<","^w^","(* ^  ^)","()","(*)","(o`o)","(oo)","()"],en=[function(e){return e.replace(/([Ff])uc/g,"$1wuc")},function(e){return e.replace(/([Mm])om/g,"$1wom")},function(e){return e.replace(/\b([Tt])ime\b/g,"$1im")},function(e){return e.replace(/^Me$/g,"Mwe").replace(/^me$/g,"mwe")},function(e){return e.replace(/([Oo])ver/g,"$1wor")},function(e){return e.replace(/ove/g,"uv").replace(/OVE/g,"UV")},function(e){return e.replace(/\b(ha|hah|heh|hehe)+\b/g,"hehe xD")},function(e){return e.replace(/\b([Tt])he\b/g,"$1eh")},function(e){return e.replace(/\bYou\b/g,"U").replace(/\byou\b/g,"u")},function(e){return e.replace(/Read/g,"Wead").replace(/read/g,"wead")},function(e){return e.replace(/([Ww])orse/g,"$1ose")},function(e){return e.replace(/([Gg])reat/g,"$1wate")},function(e){return e.replace(/([Aa])viat/g,"$1wiat")},function(e){return e.replace(/([Dd])edicat/g,"$1editat")},function(e){return e.replace(/([Rr])emember/g,"$1ember")},function(e){return e.replace(/([Ww])hen/g,"$1en")},function(e){return e.replace(/([Ff])righten(ed)*/g,"$1rigten")},function(e){return e.replace(/Meme/g,"mem").replace(/Mem/g,"Mem")},function(e){return e.replace(/^([Ff])eel$/g,"$1ell")}],tn=[function(e){return e.replace(/o/g,(function(){return Math.round(Math.random())?"owo":"o"}))},function(e){return e.replace(/ew/g,"uwu")},function(e){return e.replace(/([Hh])ey/g,"$1ay")},function(e){return e.replace(/Dead/g,"Ded").replace(/dead/g,"ded")},function(e){return e.replace(/n[aeiou]*t/g,"nd")}],nn=[function(e){return e.replace(/[({<]/g,":*:,:*:").replace(/[)}>]/g,":*:,:*:")},function(e){return e.replace(/[.,](?![0-9])/g,(function(){return" "+Zt[Math.floor(Math.random()*Zt.length)]})).replace(/[!;]+/g,(function(){return" "+Zt[Math.floor(Math.random()*Zt.length)]}))},function(e){return e.replace(/that/g,"dat").replace(/That/g,"Dat")},function(e){return e.replace(/[Tt]h(?![Ee])/g,"f").replace(/TH(?!E)/g,"F")},function(e){return e.replace(/le$/g,"wal")},function(e){return e.replace(/ve/g,"we").replace(/Ve/g,"We")},function(e){return e.replace(/ry/g,"wwy")},function(e){return e.replace(/(?:r|l)/g,"w").replace(/(?:R|L)/g,"W")}],an=[function(e){return e.replace(/n([aeiou])/g,"ny$1").replace(/N([aeiou])/g,"Ny$1").replace(/N([AEIOU])/g,"NY$1")},function(e){return e.replace(/ll/g,"ww")},function(e){return e.replace(/[aeiur]l$/g,"wl").replace(/[AEIUR]([lL])$/g,"W$1")},function(e){return e.replace(/([Oo])ld/g,"$1wld").replace(/OLD/g,"OWLD")},function(e){return e.replace(/([Oo])l/g,"$1wl").replace(/OL/g,"OWL")},function(e){return e.replace(/[lr]o/g,"wo").replace(/[LR]([oO])/g,"W$1")},function(e){return e.replace(/([bcdfghjkmnpqstxyz])o/g,"$1wo").replace(/([BCDFGHJKMNPQSTXYZ])([oO])/g,(function(e,t,n){return t+(n.toUpperCase()===n?"W":"w")+n}))},function(e){return e.replace(/[vw]le/g,"wal")},function(e){return e.replace(/([Ff])i/g,"$1wi").replace(/FI/g,"FWI")},function(e){return e.replace(/([Vv])er/g,"wer")},function(e){return e.replace(/([Pp])oi/g,"$1woi")},function(e){return e.replace(/([DdFfGgHhJjPpQqRrSsTtXxYyZz])le$/g,"$1wal")},function(e){return e.replace(/([BbCcDdFfGgKkPpQqSsTtWwXxZz])r/g,"$1w")},function(e){return e.replace(/ly/g,"wy").replace(/Ly/g,"Wy")},function(e){return e.replace(/([Pp])le/g,"$1we")},function(e){return e.replace(/([Nn])r/g,"$1w").replace(/NR/g,"NW")},function(e){return e.replace(/Mem/g,"mwem").replace(/mem/g,"Mwem")},function(e){return e.replace(/([Nn])ywo/g,"$1yo",!0)}];const rn=function(e,t){void 0===t&&(t="owo");var n=e.split(/[^\s]+/g),a=e.split(/\s+/g).map((function(e){return new Xt(e)}));return function(e,t){for(var n=[],a=e,r=t,i=null;a.length>0;)n.push(a.shift()),i=a,a=r,r=i;return r.length>0&&n.push.apply(n,r),n}(n,a=a.map((function(e){switch(en.reduce((function(e,t){return t(e)}),e),t){case"uvu":tn.reduce((function(e,t){return t(e)}),e);case"uwu":nn.reduce((function(e,t){return t(e)}),e);case"owo":an.reduce((function(e,t){return t(e)}),e)}return e}))).join("")};var on,sn,dn=i({key:"chat_ascii_emotes_list",name:"Chat Ascii Emotes",note:'Chat shortcuts. The first value is the name you type between "::", the second is the text it will be replaced with. Examples provided below. <span class="red">CAN ONLY CONTAIN LOWERCASE LETTERS FROM THE ENGLISH ALPHABET!</span>',type:(on="EditableList",sn=p[on],sn||(console.warn(`Custom Setting Type with name ${on} not found! Defaulting to boolean!`),sn="boolean"),sn),refresh:!1,default:{shrug:"\\_()_/",shrugl:"\\_(   )_/",above:"()",tableflip:"() ",tabledown:"(  _ )",lenny:"(   )",lelelennynyny:"( (  (   ) ) )",amog:""}});class cn{#f="";#m="";constructor(e,t){this.#f=e,this.#m=t}getCommand(){return this.#f}getText(){return this.#m}}const ln={":upper:":[":fullcaps:",":uppercase:",":caps:"],":lower:":["fulllower",":lowercase:"],":mock:":[":mockcase:",":swapcase:",":alternatecase:"]};var un={":owo:":e=>new cn("",rn(e,"owo")),":uwu:":e=>new cn("",rn(e,"uwu")),":uvu:":e=>new cn("",rn(e,"uvu")),":upper:":e=>new cn("",e.toUpperCase()),":lower:":e=>new cn("",e.toLowerCase()),":mock:":e=>new cn("",e.toMockCase())},pn=dn.value();for(var hn in pn)un[`:${hn}:`]=fn(pn[hn]);function fn(e){return t=>new cn(e,t)}String.prototype.toMockCase=function(){for(var e="",t=!1,n=0;n<this.length;n++){var a=this[n];this[n].toLowerCase()!=this[n].toUpperCase()&&(a=t?this[n].toUpperCase():this[n].toLowerCase(),t=!t),e=e.concat(a)}return e},e.events.on("Chat:send",(function({input:e}){$(e).val(function(e){var t=[];e=(e=e.replaceAll("","")).replace(/:[a-z]*:/gi,(e=>(t.push(e),"")));for(var n=0;n<t.length;n++){var a=t[n];for(var r in ln)ln[r].includes(a.toLowerCase())&&(t[n]=r,a=r);var i=un[a.toLowerCase()];if(i){var o=i(e);t[n]=o.getCommand(),e=o.getText()}}return n=0,e.replaceAll("",(()=>t[n++]))}($(e).val()))}));var mn=JSON.parse(sessionStorage.getItem("PrettyCards_PrivateGameIsHost")),gn=sessionStorage.getItem("PrettyCards_PrivateGameName"),yn=sessionStorage.getItem("PrettyCards_PrivateGameCreator"),Cn=JSON.parse(sessionStorage.getItem("PrettyCards_PrivateGameRecipients")||'["everyone"]'),wn=sessionStorage.getItem("PrettyCards_PrivateGameSoul")||localStorage.getItem("customDeck");function vn(){socket.send(JSON.stringify({action:"createGame",name:gn,soul:wn})),e.events.on("preCustom:getPlayerJoined",bn)}function bn(e){Cn.includes("everyone")||Cn.includes(e.username)?(sessionStorage.removeItem("PrettyCards_PrivateGameName"),window.start()):(window.banUser(),this.canceled=!0)}function Pn(e){for(var t=JSON.parse(e.games),n=0;n<t.length;n++){var a=t[n];a.owner.usernameSafe==yn&&(sessionStorage.removeItem("PrettyCards_PrivateGameName"),socket.send(JSON.stringify({action:"joinGame",gameId:a.id,soul:wn,gamePassword:""})))}}underscript.onPage("GamesList")&&A("PrettyCards:onPageLoad",(function(){!function(){var t=window.socket;const n=t.onopen;t.onopen=function(t){gn&&(mn?vn():e.events.on("preCustom:getGamesList",Pn)),n(t)}}()}));var _n,kn=a.override_decks.value(),Sn=new pt;function xn(t,n){t&&n.message.startsWith("I challenge")&&n.message.endsWith("via PrettyCards")&&e.events.on("PrettyCards:TranslationExtReady",(function(){try{var a=n.message.substring(12,n.message.length-34).split(", ");if(n.user.id===window.selfId){var r=[...a],i=r.indexOf("everyone");i>-1&&(r[i]=window.$.i18n("pc-customgame-everyone"));var o=r.join(", ");$(t).find(".chat-message").html('<span class="gray">'+window.$.i18n("pc-customgame-selfinvite",o)+"</span>")}else a.includes("everyone")||a.includes(window.selfUsername)?qe.ExecuteOnDeckLoad((function(){if(t.style.backgroundColor="black",$(t).find(".chat-message").html(window.$.i18n("pc-customgame-invite")),!kn){var a=new qe,r=document.createElement("SPAN");r.style="white-space: nowrap;",r.appendChild(a.SetUp("PrettyCards_ChallengeMessage_"+n.id+"_","Small")),t.appendChild(r),a.AddDeckTooltips()}var i=document.createElement("BUTTON");i.innerHTML=window.$.i18n("pc-navigate-accept"),i.className="btn btn-success PrettyCards_ChallengeMessageButton",i.onclick=kn?function(){!function(t){Sn.closable=!1,Sn.closeCallback=Tn,Sn.callback=function(n){Tn(),function(t,n){var a=e.toast({title:window.$.i18n("pc-play-decksetup-title"),text:window.$.i18n("pc-play-decksetup-text")});nt.OptimalImportDeck(t,(function(e){a.exists()&&a.close(),"success"==e?n():console.log("DeckEditor.ImportDeck error!")}))}(n,(function(){An(t,n.soul)}))},_n=window.BootstrapDialog.show({title:window.$.i18n("pc-customgame-choosedeck"),size:window.BootstrapDialog.SIZE_WIDE,message:"",onshown:function(){Sn.AppendTo(_n.$modalBody[0].firstChild.firstChild)}.bind(this),buttons:[{label:window.$.i18n("pc-navigate-cancel"),cssClass:"btn-primary us-normal",action(e){e.close()}}]})}(n.user.usernameSafe)}:function(){An(n.user.usernameSafe,a.selectedSoul)},t.appendChild(i)})):$(t).find(".chat-message").html('<span class="gray">'+window.$.i18n("pc-customgame-cuckinvite")+"</span>")}catch(e){console.log("Error! _()_/",e)}}))}function Tn(){_n.close()}function An(e,t){sessionStorage.setItem("PrettyCards_PrivateGameIsHost",!1),sessionStorage.setItem("PrettyCards_PrivateGameName","PLACEHOLDER_SO_CODE_STARTS"),sessionStorage.setItem("PrettyCards_PrivateGameSoul",t),sessionStorage.setItem("PrettyCards_PrivateGameCreator",e),window.location="/GamesList"}function En(e,t,n,a,r=!1){console.log(e,t,n,a,r);var i=document.createElement("DIV");i.className="PrettyCards_SplitSoul_Container "+(r?"PrettyCards_SplitSoul_Big ":"")+String(t);var o=document.createElement("DIV");o.className="PrettyCards_SplitSoul_Left",e.cloneNode().className+=n,o.appendChild(e.cloneNode()),i.appendChild(o);var s=document.createElement("DIV");s.className="PrettyCards_SplitSoul_Right";var d=e;return d.className+=a,s.appendChild(d),i.appendChild(s),i}e.events.on("Chat:getHistory Chat:getPrivateHistory",(function(e){for(var t=JSON.parse(e.history),n=document.querySelectorAll("#"+e.room+" .message-group"),a=0;a<t.length;a++)xn(n[a],t[a])})),e.events.on("Chat:getMessage Chat:getPrivateMessage",(function(e){xn(document.querySelector("#"+e.room+" .message-group:last-of-type"),JSON.parse(e.chatMessage))})),A("PrettyCards:onPageLoad",(function(){a.breaking_skin_fix.value()&&window.$("head").append("<style>\n\t\t\t.card.breaking-skin:hover .cardImage {\n\t\t\t\tz-index: 4;\n\t\t\t}\n\t\t</style>"),a.breaking_skin_stats_fix.value()&&window.$("head").append("\n\t\t\t<style>\n\t\t\t\t.card.breaking-skin .cardStatus {\n\t\t\t\t\tz-index: 5;\n\t\t\t\t}\n\n\t\t\t\t.card.breaking-skin .cardTribes {\n\t\t\t\t\tz-index: 5;\n\t\t\t\t}\n\n\t\t\t\t.card.breaking-skin .PrettyCards_CardBottomLeftInfo {\n\t\t\t\t\tz-index: 5;\n\t\t\t\t}\n\t\t\t</style>\n\t\t"),window.$("head").append("<style>\n\t\t.card .cardImage {\n\t\t\tbackground-size: contain;\n\t\t}\n\t</style>")}));var In=n(4811),$n=n(4810);l(In.Z),l($n.Z);class Dn{constructor(){this.backgroundClass="",this.image=null,this.imageClass="",this.disabled=!1,this.isImageBig=!1,this.counter=0,this.name="",this.textClass="",this.rarityText="",this.description="",this.shopInfo=null,this.note="",this.size=window.BootstrapDialog.SIZE_NORMAL}setBackgroundClass(e){return this.backgroundClass=e,this}setImage(e){return this.image=e,this}setImageClass(e){return this.imageClass=e,this}setDisabled(e){return this.disabled=e||!1,this}setBigImage(e){return this.isImageBig=e,this}setCounter(e){return this.counter=e||0,this}setName(e){return this.name=e,this}setTextClass(e){return this.textClass=e,this}setRarityText(e){return this.rarityText=e,this}setDescription(e){return this.description=e,this}setShopInfo(e){return this.shopInfo=e,this}setNote(e){return this.note=e,this}setSize(e){return this.size=e,this}}class Nn{constructor(e,t){const n=`<span class='gray'>(${window.$.i18n("pc-fd-disabled")})</span>`;for(var r=window.$('<div class="PrettyCards_ArtifactListContainer"></div>'),i=0;i<e.length;i++){var o=e[i],s=a.no_artifact_background.value()?"":o.backgroundClass||"",d=window.$(`<div class="PrettyCards_ArtifactListRow"><div class="PrettyCards_ArtifactListBackground ${s}"></div></div>`),c=window.$('<div class="PrettyCards_ArtifactListCircle"></div>');console.log(o);var l=En(o.image,`PrettyCards_ArtifactListImage ${o.imageClass} ${o.disabled?"transparent":""}`,"","",o.isImageBig);if(c.append(l),d.append(c),o.counter&&o.counter>0){var u=window.$(`<div class="PrettyCards_ArtifactListCounter">${o.counter}</div>`);d.append(u)}var p=`${o.name} (${o.rarityText}) ${o.disabled?n:""}`,h=window.$(`<div class="PrettyCards_ArtifactListName ${o.textClass}">${p}</div>`);h.css("font-size",_.getResizedFontSizeHorizontal(p,25,538,10,.5));var f=window.$('<div class="PrettyCards_ArtifactListDescription"></div>');f.append(o.description),d.append(h),d.append(f),r.append(d)}window.BootstrapDialog.show({title:t||window.$.i18n("artifacts-title"),message:r,buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}}class Rn{constructor(e){this.data=e;var t=a.no_artifact_background.value()?"":e.backgroundClass||"";if(this.box=window.$(`<div class="PrettyCards_ArtifactDisplayBox ${t}"></div>`),this.box.click((function(e){e.stopPropagation()})),this.circle=window.$('<div class="PrettyCards_ArtifactCircle"></div>'),console.log(e),this.circle.append(En(e.image,e.imageClass,"","",e.isImageBig)),this.box.append(this.circle),this.name=window.$(`<div class="PrettyCards_ArtifactDisplayName ${e.textClass}">${e.name}</div>`),this.rarity=window.$(`<div class="PrettyCards_ArtifactDisplayRarity ${e.textClass}">${e.rarityText}</div>`),this.description=window.$('<div class="PrettyCards_ArtifactDisplayDescription"></div>'),this.description.append(e.description),e.counter&&e.counter>0&&(this.counter=window.$(`<div class="PrettyCards_ArtifactDisplayCounter">${e.counter}</div>`),this.box.append(this.counter)),this.box.append(this.name),this.box.append(this.rarity),e.disabled&&(this.disabled=window.$(`<div class="PrettyCards_ArtifactDisplayDisabled gray">(${window.$.i18n("pc-fd-disabled")})</div>`),this.box.append(this.disabled)),this.box.append(this.description),e.shopInfo){var n=`<span class="yellow">${e.shopInfo.price}</span> <img src="images/icons/gold.png" class="height-16">`,r=window.$.i18n("pc-buyart-nomuns",n);e.shopInfo.hasEnough&&(r=window.$.i18n("pc-buyart-willyoubuy",n)+` <button class="btn btn-success">${$.i18n("artifacts-unlock")}</button>`),this.shop=window.$(`<div class="PrettyCards_ArtifactDisplayShop">${e.shopInfo.topLine}<br>${r}</div>`),this.shop.find("button").click(function(){e.shopInfo.action(this)}.bind(this)),this.box.append(this.shop)}e.note&&e.note.length>0&&(this.noteTitle=window.$(`<div class="PrettyCards_ArtifactDisplayNoteTitle">${window.$.i18n("pc-fd-authornote")}</div>`),this.note=window.$(`<div class="PrettyCards_ArtifactDisplayNote">${e.note}</div>`),this.box.append(this.noteTitle),this.box.append(this.note)),window.BootstrapDialog.show({title:"You shouldn't be able to see this!",size:e.size||window.BootstrapDialog.SIZE_NORMAL,message:this.box,onshow:this.OnShow}).$modalDialog[0].className="modal-dialog modal-lg"}OnShow(e){e.$modalFooter.css("display","none"),e.$modalHeader.css("display","none"),e.$modalContent.css("background-color","transparent").css("box-shadow","initial").css("border","none").css("padding","0px"),e.$modalBody.css("border","none").css("background-color","transparent").css("padding","0px").css("box-shadow","initial")}static ViewArtifactInfo(t){var n,a,r=et.GetArtifactById(t);if(e.events.emit("pre:viewArtifact()",r),r.collection){var i=r.collection,o=3==_.getSeasonMonth()&&r.aprilImage,s=o?i.aprilArtifactImagePrefix:i.artifactImagePrefix,d=o?r.aprilImage:r.image;(n=document.createElement("IMG")).src=_.constructURL(s,d,"png",i.oldPrefixBehavior)}else n=_.getArtifactImage(r.image);if(et.IsArtifactPurchasable(t)&&!underscript.onPage("Game")&&!underscript.onPage("Spectate")){const n=t;var c=et.BuyPriceForArtifact(t);a={price:c,topLine:window.$.i18n("pc-buyart-youdonthave"),hasEnough:c<=We.gold,action:function(t){e.events.on("PrettyCards:artBuySuccess",(function(){t.shop.addClass("PrettyCards_Hidden")})),et.BuyArtifact(n)}}}var l=et.GetRarityDataFor(r),u=(new Dn).setName($.i18n("artifact-name-"+r.id)).setImage(n).setTextClass(l.txtClass).setRarityText(l.text).setDescription(window.$.i18n("artifact-"+r.id)).setImageClass(l.imgClass).setNote(window.$.i18n(r.note||"")).setDisabled(r.disabled).setCounter(r.counter).setShopInfo(a).setBackgroundClass(r.backgroundClass).setBigImage(r.isImageBig||!1),p=new Rn(u);e.events.emit("viewArtifact()",{artifact:r,helper:p})}static ViewSoulInfo(t){e.events.emit("pre:viewSoul",t);for(var n,a=null,r=0;r<Rn.customSouls.length;r++){var i=Rn.customSouls[r];if(i.name===t){a=i;break}}if(a){var o=a.collection,s=3==_.getSeasonMonth()&&a.aprilImage,d=s?o.aprilSoulImagePrefix:o.soulImagePrefix,c=s?a.aprilImage:a.image;(n=document.createElement("IMG")).src=_.constructURL(d,c,"png",o.oldPrefixBehavior)}else n=_.getSoulImage(t);var l=window.$.i18n("soul-"+t.toLowerCase()+"-desc"),u=window.$.i18n("soul-"+t.toLowerCase()),p=window.$(`<div><div>${l}</div><div class="PrettyCards_SoulDisplay_SpellsHeader">${window.$.i18n("pc-fd-soulspells",u)}:</div></div>`),h=window.$('<div class="PrettyCards_SoulDisplay_Spells"></div>');for(r=0;r<window.allCards.length;r++){var f=window.allCards[r];f.soul&&f.soul.name===t&&window.appendCard(f,h)}p.append(h);var m=(new Dn).setName(u).setImage(n).setTextClass(t).setRarityText(window.$.i18n("pc-fd-soul")).setDescription(p).setImageClass("PrettyCards_ArtifactDisplay_Floating PrettyCards_DisplaySoul_"+t).setNote(a?window.$.i18n(a.note||""):"").setSize(BootstrapDialog.SIZE_LARGE),g=new Rn(m);e.events.emit("viewSoul()",{id:t,helper:g})}static ViewArtifactsInfoBox(e){if(window.$(e).find(".artifact-img").length>0){var t=[];$(e).find(".artifact-img").each((function(){var e=Number($(this).attr("artifactId")),n=Number($(this).next(".artifact-custom").html()),a=$(this).hasClass("artifact-disabled");t.push({id:e,counter:n,disabled:a})})),Rn.ViewArtifactsInfo(t)}}static ViewArtifactsInfoForIdArray(e,t){var n=[];e.forEach((e=>{n.push({id:e})})),Rn.ViewArtifactsInfo(n,t)}static ViewArtifactsInfo(t,n){if(e.events.emit("pre:viewArtifacts",t),t.length>0){var a=[];t.forEach((e=>{var t,n=e.id,r=e.counter,i=e.disabled,o=et.GetArtifactById(n),s=et.GetRarityDataFor(o);if(o.collection){var d=o.collection,c=3==_.getSeasonMonth()&&o.aprilImage,l=c?d.aprilArtifactImagePrefix:d.artifactImagePrefix,u=c?o.aprilImage:o.image;(t=document.createElement("IMG")).src=_.constructURL(l,u,"png",d.oldPrefixBehavior)}else t=_.getArtifactImage(o.image);a.push((new Dn).setName($.i18n("artifact-name-"+o.id)).setImage(t).setTextClass(s.txtClass).setRarityText(s.text).setDescription(window.$.i18n("artifact-"+o.id)).setImageClass(s.imgClass).setNote(window.$.i18n(o.note||"")).setDisabled(i).setCounter(r).setBackgroundClass(o.backgroundClass).setBigImage(o.isImageBig||!1))}));var r=new Nn(a,n);e.events.emit("viewArtifacts()",{artDatas:t,helper:r})}}static TestArtifactsInfo(){e.events.emit("pre:viewArtifacts",t);for(var t=window.$("<div></div>"),n=0;n<et.artifacts.length;n++){var a=et.artifacts[n];t.append(`<img class="artifact-img" artifactId="${a.id}">`)}window.artifactsInfo(t),e.events.emit("viewArtifacts()",{})}}Rn.customSouls=[],A("PrettyCards:onPageLoad",(function(){window.artifactInfo=Rn.ViewArtifactInfo.bind(this),window.showArtifactDescBox=Rn.ViewArtifactInfo.bind(this),window.soulInfo=Rn.ViewSoulInfo.bind(this),window.artifactsInfo=Rn.ViewArtifactsInfoBox.bind(this),t.viewArtifactsInfoForIdArray=Rn.ViewArtifactsInfoForIdArray.bind(this),t.testArtifactsInfo=Rn.TestArtifactsInfo.bind(this)})),t.FancyDisplay=Rn;var Ln={};function Mn(e,t=0){var n=e;return t>0&&(n=e+t),Ln[n]?Mn(e,t+1):n}function On(e,t){var n=Mn(e),a=new FontFace(n,"url("+t+")");return Ln[n]=a,a.load().then((function(e){window.document.fonts.add(e)})).catch((function(e){console.error('Error loading font "'+n+'": ',e)})),n}i({key:"multi_theme_songs",name:"Enable Multiple Card Jingles",note:"Also adds some sound effects to certaion token cards.",type:"boolean",refresh:!0,default:!0,category:"card"});var Bn=i({key:"theme_song_preload",name:"Card Theme Song Preload",note:"If Multiple Card Jingles is on alongside this, songs will be preloaded to prevent delays between the action and the song actually playing",type:"boolean",refresh:!0,default:!0,category:"card"});class Fn{constructor(e){this.cardId=e.fixedId||e.id,this.originalUrl=`musics/cards/${e.name.replaceAll(" ","_")}.ogg`,this.replacements=[],this.playedBefore=0,this.playAsJingle=!0,this.preloadedNr=-1}getNextReplacement(){return this.playedBefore++,this.replacements[(this.playedBefore-1)%this.replacements.length]}getRandomReplacement(){return this.replacements[Math.floor(Math.random()*this.replacements.length)]}getReplacementOnCardData(e){return null}addFile(e){this.replacements.push(e)}preloadNext(){Bn.value()&&(this.preloadedNr++,this.preloadedNr>=this.replacements.length||_.preloadAudio(this.replacements[this.preloadedNr]).catch((e=>{})))}preloadAllIfInGame(){if((underscript.onPage("Game")||underscript.onPage("Spectate"))&&Bn.value()){for(var e=this.preloadedNr+1;e<this.replacements.length;e++)_.preloadAudio(this.replacements[e]).catch((e=>{}));this.preloadedNr=this.replacements.length}}}var Hn,Gn=[],Un={};function Wn(e){for(var t=0;t<Gn.length;t++){var n=Gn[t];if(n.cardId==e)return n}return null}function zn(e){var t=Wn(e.fixedId||e.id);return t||(t=new Fn(e),Gn.push(t),t)}A("allCardsReady PrettyCards:baseThemeSongDataReady PrettyCards:TranslationExtReady",(function(){var t=function(){if(!Un._Disabled_Themes)return[];for(var e=0;e<Un._Disabled_Themes.length;e++){var t=Un._Disabled_Themes[e];if(t.season_nr==_.getSeasonNumber())return t.cards}return[]}();for(var n in Un)if("_Disabled_Themes"!=n&&!t.includes(n)){var a=underscript.onPage("Game")||underscript.onPage("Spectate"),r=window.getCardWithName(n);if(r){var i=zn(r);i.playAsJingle="LEGENDARY"==r.rarity||"DETERMINATION"==r.rarity||r.tribes.includes("ROYAL_INVENTION");for(var o=1;o<=Un[n];o++)i.addFile(_.asset(`audio/cards/${r.name.replaceAll(" ","_")}/intro_${o}.ogg`));a&&i.preloadNext()}}!function(){var e=Wn(710);e&&(e.getReplacementOnCardData=function(e){return e.originalAttack<1?null:this.replacements[(e.originalAttack-2)/1]},e.preloadAllIfInGame());var t=Wn(54);t&&(t.getReplacementOnCardData=function(e){return e.originalAttack<1?null:this.replacements[(4-e.originalAttack)%this.replacements.length]},t.preloadAllIfInGame());var n=Wn(106);n&&(n.getReplacementOnCardData=function(e){return e.originalAttack<1?null:this.replacements[(7-e.originalAttack)/1]},n.preloadAllIfInGame())}(),e.events.emit.singleton("PrettyCards:customCardsSongsAppend"),e.events.emit.singleton("PrettyCards:themeSongsReady")})),a.multi_theme_songs.value()?e.events.on("PrettyCards:onPageLoad",(function(){if(s().getJSON(_.asset("json/baseThemeSongData.json"),{},(function(t){Un=t,e.events.emit.singleton("PrettyCards:baseThemeSongDataReady",t)})),window.underscript.onPage("Game")||window.underscript.onPage("Spectate"))Hn=new Audio,e.events.on("getMonsterPlayed getSpellPlayed",(function(e){var t=JSON.parse(e.card);if(0!=t.typeCard||"getSpellPlayed"!=e.action){var n=Wn(t.fixedId||t.id);if(n){var a=n.getReplacementOnCardData(t);null==a&&(a=n.getNextReplacement()),n.playAsJingle?(window.playJingle("NON EXISTENT CARD"),window.jingle.src=a,window.jingle.play()):((Hn=new Audio(a)).volume=_.getUnderscriptVolumeSettingValue("jingle"),Hn.play()),n.preloadNext()}}}));else{window.Audio;class e extends Audio{constructor(e){var t=function(e){if(!e)return null;for(var t=0;t<Gn.length;t++){var n=Gn[t];if(e.includes(n.originalUrl))return n}return null}(e);t&&(e=t.getRandomReplacement()),super(e)}}window.Audio=e}if(Bn.value()){var t=[];e.events.on("func:appendCard PC_appendCard",(function(n,a){e.events.on("PrettyCards:themeSongsReady",(function(){var e=n.fixedId||n.id;if(!t.includes(e)){t.push(e);var a=Wn(e);a&&a.replacements.forEach((e=>{_.preloadAudio(e).catch((()=>{}))}))}}))}))}})):e.events.emit.singleton("PrettyCards:themeSongsReady");var jn=2e3,Kn=200,Vn=20,qn=[];function Yn(e,t,n=0){var a=e+t.toLowerCase();if(n>0&&(a+=n),window.$.i18n(a)!=a)return Yn(e,t,n+1);var r=t;return n>0&&(r+=n),r}class Jn{constructor(e){this.cards=[],this.tribes=[],this.artifacts=[],this.souls=[],this.keywords=[],this.frames=[],this.cardImagePrefix=e.cardImagePrefix||"",this.cardSongPrefix=e.cardSongPrefix||"",this.rarityImagePrefix=e.rarityImagePrefix||e.rarityIconPrefix||"images/rarity/",this.tribeImagePrefix=e.tribeImagePrefix||"",this.artifactImagePrefix=e.artifactImagePrefix||"",this.soulImagePrefix=e.soulImagePrefix||"",this.aprilCardImagePrefix=e.aprilCardImagePrefix||"",this.aprilArtifactImagePrefix=e.aprilArtifactImagePrefix||"",this.aprilSoulImagePrefix=e.aprilSoulImagePrefix||"",this.name=e.name||"UNNAMED CATEGORY",this.author=e.author||"",this.note=e.note||"",this.universalCustomFont=e.universalCustomFont||"",this.oldPrefixBehavior=!1}newCard(e){var t=new Qn(e,this);return t.collection=this,this.cards.push(t),t}newTribe(e){var t=new Xn(e);return this.tribes.push(t),t}newArtifact(e){var t=new Zn(e);return t.collection=this,this.artifacts.push(t),t}newSoul(e){var t=new ea(e);return t.collection=this,this.souls.push(t),t}newKeyword(e){var t=new ta(e);return this.keywords.push(t),t}newFrame(e){var t=new na(e);return this.frames.push(t),t}reloadFrames(){for(var e="",t=0;t<this.frames.length;t++)e+=this.frames[t].returnCSSStyles();$("#collectionCustomCSS").html(e)}loadFont(e,t){return On(e,t)}getTribeById(e){for(var t=0;t<this.tribes.length;t++){var n=this.tribes[t];if(n.id==e)return n}return null}toJSON(){return this.id}}class Qn{constructor(e,t){for(var n in this.armor=!1,this.burn=0,this.candy=!1,this.cantAttack=!1,this.charge=!1,this.cost=0,this.dodge=0,this.extension="BASE",this.fixedId=196,this.frameSkinName="Undertale",this.haste=!1,this.image="Tiny_Froggit",this.invulnerable=!1,this.kr=!1,this.name="Tiny Froggit",this.ownerId=0,this.paralyzed=0,this.playedTurn=0,this.quantity=99999,this.rarity="COMMON",this.selectCards=[],this.shiny=!1,this.silence=!1,this.taunt=!1,this.transparency=!1,this.tribes=[],this.typeCard=1,this.typeSkin=0,this.shockEnabled=!1,this.supportEnabled=!1,this.loop=0,this.program=0,this.customFont="",this.note="",e)this[n]=e[n];if((this.attack||this.hp)&&(this.typeCard=0),this.id=jn,this.fixedId=jn,jn++,this.maxHp=this.hp,this.originalHp=this.hp,this.originalAttack=this.attack,this.originalCost=this.cost,this.baseImage=this.image,this.isCustom=!0,window.$.i18n().load({en:{["card-name-"+this.id]:this.name,["card-"+this.id]:this.description||this.desc}}),this.tribes=this.tribes.map((e=>e.toString())),this.name=window.$.i18n("card-name-"+this.id,1),this.description=void 0,this.themeSongs)for(var a=zn(this),r=0;r<this.themeSongs.length;r++)a.addFile(_.constructURL(t.cardSongPrefix,this.themeSongs[r],"ogg",t.oldPrefixBehavior));window.allCards.push(this)}mention(e="1"){return"{{CARD:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["card-name-"+this.id]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("card-name-"+this.id,e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["card-"+this.id]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("card-"+this.id)}}class Xn{constructor(e){this.name=e.name||"{{PLURAL:$1|Unnamed Tribe|Unnamed_Tribes}}",Object.defineProperty(this,"id",{value:Yn("tribe-",e.id||"unnamed_tribe"),writable:!1}),this.image=e.image||"NO_IMAGE",this.setName(this.name),this.name=window.$.i18n("tribe-"+this.id,1)}toString(){return this.id.toString()}setName(e,t="en"){var n={};n[t]={},n[t]["tribe-"+this.id.toLowerCase()]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("tribe-"+this.id.toLowerCase(),e)}mention(e=1){return"{{TRIBE:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}}class Zn{constructor(e){this.name=e.name||"UNNAMED ARTIFACT",this.description=e.description||"NO EFFECT",this.image=e.image||"NO_IMAGE",this.aprilImage=e.aprilImage,this.rarity=e.rarity||"COMMON",this.note=e.note||"",this.soul=e.soul,this.soul&&this.soul.name&&(this.soul=this.soul.name),this.ownerId=e.ownerId,this.backgroundClass=e.backgroundClass||"",this.isImageBig=e.isImageBig||!1,Object.defineProperty(this,"id",{value:Kn,writable:!1}),Kn++,window.$.i18n().load({en:{["artifact-name-"+this.id]:this.name,["artifact-"+this.id]:this.description}}),this.name=window.$.i18n("artifact-name-"+this.id,1),et.AddCustomArtifact(this)}mention(e=1){return"{{ARTIFACT:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["artifact-name-"+this.id]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("artifact-name-"+this.id,e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["artifact-"+this.id]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("artifact-"+this.id)}}class ea{constructor(e){Object.defineProperty(this,"id",{value:Vn,writable:!1}),Vn++,Object.defineProperty(this,"name",{value:Yn("soul-name-",e.name||"NONAME"),writable:!1}),this.displayName=e.displayName||"NoName",this.image=e.image||"NO_IMAGE",this.aprilImage=e.aprilImage,this.description=e.description||"No description",this.note=e.note||"",window.$.i18n().load({en:{["soul-"+this.name.toLowerCase()]:this.displayName,["soul-"+this.name.toLowerCase()+"-desc"]:this.description}}),this.displayName=window.$.i18n("soul-"+this.name.toLowerCase(),1),Rn.customSouls.push(this)}mention(e="1"){return"{{SOUL:"+this.name+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["soul-"+this.name.toLowerCase()]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("soul-"+this.name.toLowerCase(),e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["soul-"+this.name.toLowerCase()+"-desc"]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("soul-"+this.name.toLowerCase()+"-desc")}}class ta{constructor(e){Object.defineProperty(this,"id",{value:Yn("kw-",e.id||"NOID"),writable:!1}),this.name=e.name||"NoName",this.description=e.description||"No description",window.$.i18n().load({en:{["kw-"+this.id.toLowerCase()]:this.name,["kw-"+this.id.toLowerCase()+"-desc"]:this.description}}),this.name=window.$.i18n("kw-"+this.id.toLowerCase(),1)}mention(e="1"){return"{{KW:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["kw-"+this.id.toLowerCase()]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("kw-"+this.id.toLowerCase(),e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["kw-"+this.id.toLowerCase()+"-desc"]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("kw-"+this.id.toLowerCase()+"-desc")}}class na{constructor(e){this.id=e.id.toLowerCase()||"unnamed",this.monsterImage=e.monsterImage,this.spellImage=e.spellImage,this.shinyImage=e.shinyImage||"/images/frameSkins/Undertale/frame_shiny.png",this.animatedShinyImage=e.animatedShinyImage||"/images/frameSkins/Undertale/frame_shiny_animated.png",this.nameTop=this.makeIntoCSSMeasurement(e.nameTop,"9px"),this.descTop=this.makeIntoCSSMeasurement(e.descTop,"129px"),this.rarityTop=this.makeIntoCSSMeasurement(e.rarityTop,"213px"),this.quantityTop=this.makeIntoCSSMeasurement(e.quantityTop,"240px")}makeIntoCSSMeasurement(e,t){return"number"==typeof e?e+"px":e||t}returnCSSStyles(){return`\n\t\t.${this.id}-frame .shinySlot {\n\t\t\tbackground-image: url(${this.shinyImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame .shinySlot.animated {\n\t\t\tbackground-image: url(${this.animatedShinyImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame.spell .cardFrame {\n\t\t\tbackground-image: url(${this.spellImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame.monster .cardFrame {\n\t\t\tbackground-image: url(${this.monsterImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardName,.${this.id}-frame .cardCost {\n\t\t\ttop: ${this.nameTop}\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardDesc,.${this.id}-frame .cardSilence {\n\t\t\ttop: ${this.descTop}\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardATK,.${this.id}-frame .cardHP,.${this.id}-frame .cardRarity {\n\t\t\ttop: ${this.rarityTop}\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardQuantity,.${this.id}-frame .cardUCPCost {\n\t\t\ttop: ${this.quantityTop}\n\t\t}\n\n\t\t`}toString(){return this.id}replace(e,t){return this.id.replace(e,t)}toJSON(){return this.id}}t.newCollection=function(e){var t=new Jn(e);return t.id=qn.length,qn.push(t),t},i({key:"theme_song_preview",name:"Card Theme Song Preview",note:"Outside of games, if this is on, a button will appear on cards if they are hovered in the top-left corner of the card image. Pressing it will play that card's theme song (if it has one)!",type:"boolean",refresh:!0,default:!1,category:"card"});var aa={358:"/sounds/load.wav",351:"/sounds/gasterBlaster.wav"};const ra=new Audio;function ia(e){return'<span class="glyphicon glyphicon-volume-up PrettyCards_CardThemeSongPlayer" onclick="prettycards.playThemeSongPreviewEvent(\''+e+"', event)\"></span>"}t.playThemeSongPreviewEvent=function(t,n){e.events.emit("PrettyCards:pauseBGM"),ra.src=t,ra.volume=_.getUnderscriptVolumeSettingValue("jingle"),ra.play(),ra.onended=ra.onerror=function(){e.events.emit("PrettyCards:resumeBGM")},n.stopPropagation()},!a.theme_song_preview.value()||underscript.onPage("Game")||underscript.onPage("Spectate")||e.events.on("func:appendCard PC_appendCard",(function(t,n){e.events.on("PrettyCards:themeSongsReady",(function(){var e,a=Wn(t.fixedId||t.id),r="LEGENDARY"===t.rarity||"DETERMINATION"===t.rarity;t.id in aa?r=!0:"hasThemeSong"in t?r=t.hasThemeSong:a&&(r=!0),r&&(e=a?function(e){if(0==e.replacements.length)return"";if(1==e.replacements.length)return ia(e.replacements[0]);var t,n="";return e.replacements.forEach(((e,t)=>{n=`${n}<button class="btn btn-primary" onclick="prettycards.playThemeSongPreviewEvent('${e}', event)">${t+1}</button>`})),$(`\n\t<span class="glyphicon glyphicon-volume-up PrettyCards_CardThemeSongPlayer" onclick="event.stopPropagation();">\n\t\t<span class="PrettyCards_TransparentText">S</span>\n\t\t<span class="PrettyCards_CardThemeSongList${t=e.replacements.length,4!=t&&t<7?" PrettyCards_CardThemeSongList_Big":""}">\n\t\t\t${n}\n\t\t</span>\n\t</span>`)}(a):function(e){var t=e.collection;"number"==typeof t&&(t=qn[t],e.collection=t);var n;return n=e.isCustom?t.cardSongPrefix+e.name.split(" ").join("_")+".ogg":e.id in aa?aa[e.id]:_.getCardJingleLink(e.name),$(ia(n))}(t),n.append(e))}))}));var oa=["Text","Adapt","Undertale","Deltarune"];function sa(e){var t="WHY DOES THIS KEEP HAPPENING!?";switch(e){case oa[0]:t="TEXT";break;case oa[1]:t="ADAPT";break;case oa[2]:t="BASE";break;case oa[3]:t="DELTARUNE"}return t}i({key:"rarity_text_change",name:"Change Rarity Text",note:function(){return"Change every mention of a rarity into their respective icons."},type:"select",options:oa,refresh:!0,default:oa[0],category:"card"});var da="TEXT";e.events.on("translation:loaded",(function(){$.extend($.i18n.parser.emitter,{rarity:function(e){if(e.length>=1){var t=e[0],n="rarity-"+t.replace(/_/g,"-").toLowerCase(),a=checkOverride(e)||$.i18n(n);if("TEXT"==da)return'<span class="'+t+'">'+a+"</span>";var r=ie[da][t];return $(r).css({height:"1.5em"})[0].outerHTML}}})})),e.events.on("pre:func:appendCard pre:viewArtifacts() pre:viewArtifact() pre:viewSoul()",(e=>{if(window.underscript.onPage("CustomCards"))return void(da="TEXT");const t=a.rarity_text_change.value();"Text"!==t&&(da=e.extension?"Adapt"===t?e.extension:sa(t):"Adapt"===t?"TEXT":sa(t))})),e.events.on("func:appendCard viewArtifacts() viewArtifact() viewSoul()",(()=>{da="TEXT"}));const ca=_.asset("img/RarityIcons/ALL_RARITIES.png"),la=["baseRarityInput","commonRarityInput","rareRarityInput","epicRarityInput","legendaryRarityInput","determinationRarityInput","tokenRarityInput","baseGenInput:not(:disabled)"];if(i({key:"za_filter",name:'Enable "Toggle All Rarities" button',note:'Also known as the "Za Filter".',type:"boolean",refresh:!1,default:!0}),["Crafting","Decks","Friendship","CardSkins"].includes(window.location.pathname.substring(1))&&a.za_filter.value()){var ua=$('<label><input type="checkbox" id="everyRarityInput"> <img style="height: 24px;" src="'+ca+'" alt="Check all rarities"></label>');ua.find("input").change((function(e){var t=$("#everyRarityInput").prop("checked");$("#"+la.join(", #")).prop("checked",t),window.applyFilters(),window.showPage(0)})),$("#deltaruneInput").parent().parent().append(ua)}var pa;i({key:"hd_game_animations",name:"HD Game Animations",note:"As per the request of the original animator of the game's visual effects, now you can use their new and improved version of the visual effects!",type:"boolean",refresh:!0,default:!0,category:"controversial"}),a.hd_game_animations.value()&&(window.underscript.onPage("Game")||window.underscript.onPage("Spectate")),e.events.on("func:appendCardDeck func:appendCardCraft",(function(t,n){e.events.on("PrettyCards:friendshipFetched",(function(a){e.events.on("PrettyCards:selfFriendshipLeaderboardFetched",(function(e){var r,i=-1;Array.isArray(a)&&(a=a[0]);var o=JSON.parse(a.friendshipItems),s=_.binarySearch(o,t.id,(e=>e.idCard));if(s&&!(s.xp<=0)){if(r=s.xp,e=e[0]){var d=_.binarySearch(e.scores,t.id,(e=>e.cardId));d&&(i=d.rank)}var c=window.getLevel(r),l=r-_.getXpForLevel(c-1),u=window.distanceNextLevel(c);_.addCustomSimpleTextIconToCard(n,"/images/friendship.png",`<span>Level: ${c}</span><br><span>XP: ${l}/${u}</span>${-1!=i?`<br><span>Rank: ${i}</span>`:""}`)}}))}))})),i({key:"friendship_info_on_cards",name:"Display Friendship Info on Cards",note:"When on, a heart will appear on the bottom-left corner of a card's image. Hovering over it will display information about your friendship status for that card.",type:"boolean",refresh:!0,default:!0,category:"card"}),a.friendship_info_on_cards.value()&&(window.underscript.onPage("Decks")||window.underscript.onPage("Crafting"))&&(s().getJSON("/FriendshipConfig",{},(function(t){pa=t,e.events.emit.singleton("PrettyCards:friendshipFetched",pa)})),e.events.on("Chat:Connected",(function(){_.getFriendshipInfo(window.selfId,(function(t){t.scores=t.scores.sort(((e,t)=>e.cardId-t.cardId)),e.events.emit.singleton("PrettyCards:selfFriendshipLeaderboardFetched",t)})).fail((function(){e.events.emit.singleton("PrettyCards:selfFriendshipLeaderboardFetched",null)}))}))),i({key:"uco_badge",name:"Display UC:O Badge on Cards",note:"When on, an icon will appear on the bottom-left corner of a card's image, indicating that it is an Undercards Original card. Clicking on it will let you read more about it.",type:"boolean",refresh:!0,default:!0,category:"card"}).value()&&(s().getJSON(_.asset("json/ucoCardIds.json"),{},(function(t){var n=new Set(t);e.events.emit.singleton("PrettyCards:ucoCardListFetched",n)})).fail((function(t){console.error("ERROR FETCHING UCO CARD LIST! ",t),e.events.emit.singleton("PrettyCards:ucoCardListFetched",new Set)})),e.events.on("func:appendCard",(function(t,n){e.events.on("PrettyCards:ucoCardListFetched",(function(a){a.has(t.fixedId||t.id)&&e.events.on("PrettyCards:TranslationExtReady",(function(){_.addCustomSimpleTextIconToCard2(n,_.asset("img/CardPowers/uco.png"),window.$.i18n("pc-cardbadge-uco-short"),window.$.i18n("pc-cardbadge-uco-desc"),window.$.i18n("pc-cardbadge-uco-title"))}))}))})));var ha=new _.SortedUniqueEntryHolder;e.events.on("PrettyCards:onCardSkinShopConfig",(function(){window.cardSkins.forEach((e=>{e.owned&&ha.insert(e.cardId)})),e.events.emit.singleton("PrettyCards:cardSkinShop:idsWithOwnedCardSkins")})),e.events.on("appendCardCardSkinShop()",(function(t){var n=t.cardSkin,a=t.element;e.events.on("PrettyCards:cardSkinShop:idsWithOwnedCardSkins",(function(){ha.includes(n.cardId)&&_.addCustomSimpleTextIconToCard(a,_.asset("img/CardPowers/already_have.png"),`You already own a card skin for <span style="white-space: nowrap;">${window.$.i18n(`card-name-${n.cardId}`,1)}</span>!`)}))})),t.ids_with_owned_card_skins=ha;var fa,ma=i({key:"interactive_card_hover",name:"Interactive card Hover Helper",note:"Hovering over a card's name to see what it is is not moved over to an interractive tippy hover, which lets you click on things on that card as well. Useful for nested TOKEN references.",type:"boolean",refresh:!1,default:!1,hidden:!0,category:"card"}),ga=!1;function ya(){!ga&&window.displayCardHelp&&(ga=!0,fa=window.displayCardHelp,window.displayCardHelp=function(e,t,n=!1){if(!ma.value())return fa(...arguments);if(window.cardHoverEnabled){var a=window.getCard(t);if(a){var r=window.$("<div></div>"),i=a.shiny;a.shiny=n,window.appendCard(a,r),a.shiny=i,window.tippy(e,{content:r[0],arrow:!1,animation:!1,interactive:!0,placement:"left-end",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect})}else console.warn("No card is registered with the ID of ",t)}})}ya(),e.events.on("PrettyCards:onPageLoad",(function(){ya()}));var Ca=i({key:"shiny_hover_fix",name:"Card Hover Helper Shiny Fix",note:"Hovering over a card's name to see what it is SHOULD now have proper shiny status based on the parent card.",type:"boolean",refresh:!0,default:!0,category:"card"}),wa=!1;Ca.value()&&(e.events.on("translation:loaded",(function(){$.extend($.i18n.parser.emitter,{card:function(e){if(!(e.length<=0)){var t=parseInt(e[0]),n=checkOverride(e);if(null===n){var a=1;if(e.length>1){var r=e[1];isNaN(r)||(a=parseInt(r))}n=$.i18n("card-name-"+t,a)}return'<span onmouseover="displayCardHelp(this, '+t+", "+wa.toString()+');" onmouseleave="removeCardHover();" class="PATIENCE">'+n+"</span>"}}})})),e.events.on("pre:func:appendCard",(function(e){wa=e.shiny})),e.events.on("func:appendCard",(function(e){wa=!1}))),i({key:"card_skin_text_fix",name:"Card Skin Preview Text Fix",note:"Viewing card skins now always resizes text based on the skin's name's length instead of the original card's description!",type:"boolean",refresh:!0,default:!0,category:"card"}).value()&&e.events.on("func:appendCardCardSkinShop func:appendCardCardSkinProfile",((e,t)=>{var n=t.find(".cardDesc div");n.css("font-size","");var a=window.getResizedFontSize(n,81);n.css("font-size",a+"px")}));var va=new class{constructor(){}zoomElement(e,t,n){n[0],n.css("transform",`scale(${e}, ${t})`)}zoomScreen(e,t){this.zoomElement(e,t,$("body"))}};t.zoomManager=va,l(n(525).Z);var ba,Pa=null,_a={close:function(){Pa.remove(),$("body").removeClass("PrettyCards_LookAt_NoScroll")}};function ka(e){window.selectCardDialog=_a,document.body.className+=" PrettyCards_LookAt_NoScroll",(Pa=document.createElement("DIV")).className="PrettyCards_LookAt_Background";var t=document.createElement("DIV");t.className="PrettyCards_LookAt_Container",Pa.appendChild(t);var n=document.createElement("DIV");n.className="PrettyCards_LookAt_Title",n.innerHTML=window.$.i18n("game-select-card"),t.appendChild(n);var a=document.createElement("DIV");a.className="PrettyCards_LookAt_CardContainer";for(var r=0;r<e.length;r++){var i=window.appendCard(e[r],$(a));i.css("margin","6px"),i.click((function(e){if(0===e.button){var t=$(this).attr("id");sendEffectTarget(t)}}))}t.appendChild(a),document.body.appendChild(Pa)}i({key:"fancy_card_select",name:'Enable Fancy "Choose a card" screen in games.',type:"boolean",refresh:!1,default:!0,onChange:function(e){window.showSelectCards=e?ka:ba}}),e.events.on("PrettyCards:onPageLoad",(function(){ba=window.showSelectCards,a.fancy_card_select.value()&&(window.showSelectCards=ka)})),l(n(1252).Z),i({key:"emote_sounds",name:"Enable Emote Sounds",type:"boolean",refresh:!0,default:!0});var Sa=new Audio;function xa(t,n=function(){},a=!1){a&&e.events.emit("PrettyCards:pauseBGM"),Sa.pause(),Sa.src=_.asset(`audio/emotes/${t}.ogg`),Sa.onerror=function(){n(),e.events.emit("PrettyCards:resumeBGM")},Sa.onended=function(){e.events.emit("PrettyCards:resumeBGM")},Sa.play()}Sa.volume=.7,(window.underscript.onPage("Game")||window.underscript.onPage("Spectate"))&&e.events.on("getEmote:before",(function(e){if(a.emote_sounds.value()){var t=window.userId==e.idUser,n=e.emoteImage;window.gameEmotesEnabled&&(t&&!window.youDoingEmote?xa(n):t||window.enemyDoingEmote||window.enemyMute||xa(n))}})),a.emote_sounds.value()&&window.underscript.onPage("CosmeticsShop")&&e.events.on("PrettyCards:onPageLoad",(function(){document.querySelectorAll(".emote-bordered").forEach((function(e){var t=new URL(e.src).pathname;const n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf(".")),a=$('<div class="glyphicon glyphicon-volume-up PrettyCards_EmoteSoundPlayer"></div>')[0];a.onclick=function(){xa(n,(function(){a.style.color="red",a.onclick=function(){}}),!0)},e.parentElement.appendChild(a)}))})),t.playEmoteSound=xa;prettycards.showCredits=function(){var e=document.createElement("DIV");e.innerHTML='\n\t<span style="font-size: 2em;">General</span>\n\t<span>Uses Underscript\'s API.</span>\n\t<span>Feildmaster has been a MASSIVE help over the years and I cannot thank him enough! ^^</span>\n\t<span>Also huge thanks to the <span class="Translator">Translator</span> and <span class="Artist">Artist</span> teams for helping me out with certain features, including our team of English Translators!</span>\n\n\t<span style="font-size: 2em;">Card Theme Songs</span>\n\t<span>MysteryHD is the one who makes the audio files, I just paste them in and run a script. <img style="height:3em;" src="images/emotes/Hue.png"></span>\n\t<span>I could not have pulled this off without the help of HeavenlyFlower, who suggested a genious solution for non-Game pages.</span>\n\n    <span style="font-size: 2em;">PrettyCards Staff</span><span style="color:gray"> (in no particular order)</span>\n    <ul class="PrettyCards_Credits_GeneratedStaff"></ul>\n\t<span style="font-size: 2em;">Custom Cards</span>\n\t<span>Doki Doki Literature Club by <a href="http://teamsalvato.com/" target="_blank">Team Salvato</a></span>\n\t<span>Chibi MC sprite by <a href="https://www.deviantart.com/gyletotherescue/art/DDLC-MC-Chibi-Sprites-711310032" target="_blank">GyleToTheRescue on Deviantart</a></span>\n\t<span>MC SpriteSheet by <a href="https://www.deviantart.com/childish-n/art/DDLC-Protagonist-Sprite-715239172" target="_blank">Childish-N on Deviantart</a></span>\n\t<span>Amy Sprite Sheet by <a href="https://www.reddit.com/r/DDLC/comments/7qlzao/amy_sprite_sheet_for_those_who_wanted_it/" target="_blank">Meddy-sin on Reddit</a></span>\n\t<span>File Explorer/Character Folder artifact transparency fixed by @bantikat#6321 on Discord.</span>\n\t<br>\n\t<span>Battle Mew Mew theme by <a href="https://www.youtube.com/channel/UChAHYPBvyaQIpjyTSdQhOMQ" target="_blank">FalKKonE</a>. <a href="https://www.youtube.com/watch?v=jSozDtrESQE" target="_blank">Listen to the full remix here</a>.\n'.replaceAll("\n","<br>");var t=e.querySelector(".PrettyCards_Credits_GeneratedStaff"),n=Lt.getInstance().chatRoleUserData;for(var a in n)["pc_owner","pc_staff","pc_ministaff"].includes(a)&&(console.log(n[a]),n[a].forEach((e=>{if(!e.creditHidden){var n=document.createElement("LI");n.innerHTML=e.username+" "+Lt.getInstance().getStatusStringForId(e.id),t.appendChild(n)}})));BootstrapDialog.show({title:"PrettyCards Credits!",message:e,buttons:[{label:"Ok!",cssClass:"btn-primary us-normal",action(e){e.close()}}]})},l(n(8586).Z);function Ta(){window.$("footer").css("display",a.remove_footer.value()?"none":"block")}function Aa(){BootstrapDialog.show({title:window.$.i18n("pc-footerremove-ask-title"),message:window.$.i18n("pc-footerremove-ask"),buttons:[{label:$.i18n("pc-navigate-nevermind"),cssClass:"btn-danger",action:function(e){e.close()}},{label:$.i18n("pc-navigate-yes"),cssClass:"btn-primary",action:function(e){a.remove_footer.set(!0),e.close()}}]})}function Ea(){var t=window.$("footer");if(0!=t.length){var n=t[0].querySelector(".navbar-right");if(n){var a=document.createElement("LI");a.style="border-left: 1px solid white;";var r=document.createElement("A");r.style="padding: 8px 10px 10px 10px;";var i=document.createElement("SPAN");i.style.fontSize="18px",i.className="glyphicon glyphicon-chevron-down white",r.appendChild(i),a.appendChild(r),r.onclick=Aa,n.appendChild(a),e.events.on("PrettyCards:TranslationExtReady",(function(){window.tippy(r,{content:window.$.i18n("pc-footerremove-hover"),arrow:!0,inertia:!0,placement:"auto",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect})}))}}}A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){var t=$(document).width()-450,n=window.$(`<div class="dropdown" id="PrettyCards_MainMenu">\n\t\t\t<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">${window.$.i18n("pc-menu-title")}</button>\n\t\t\t<div class="dropdown-menu" aria-labelledby="dropdownMenuButton" style="padding: 3px 5px;">\n\t\t\t\t<a><p style="cursor: pointer;" onclick="prettycards.openSettings()">${window.$.i18n("pc-menu-settings")}</p></a>\n\t\t\t\t<a><p style="cursor: pointer;" onclick="prettycards.showCredits()">${window.$.i18n("pc-menu-credits")}</p></a>\n\t\t\t\t<a class="PrettyCards_HiddenUntilLogin" href="/CustomCardSkins"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customcardskins")}</p></a>\n\t\t\t\t<a class="PrettyCards_HiddenUntilLogin" href="/CustomCards"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customcards")}</p></a>\n\t\t\t\t${3==_.getSeasonMonth()?'<a href="/SmashOrPass"><p style="cursor: pointer; color: yellow;">'+window.$.i18n("pc-menu-sop")+"</p></a>":""}\n\t\t\t\t<a href="/CustomTranslations" class="PrettyCards_Hidden Translator PrettyCards_Staff"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customtranslate")}</p></a>\n\t\t\t\t<a class="PrettyCards_Hidden PrettyCards_Staff"><p style="cursor: pointer;" onclick="prettycards.downloadEmotesFile()">${window.$.i18n("pc-menu-emotefile")}</p></a>\n\t\t\t\t<a href="https://elytrafae.github.io/prettycards/artistConsole.html" class="PrettyCards_Hidden Artist"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customartistconsole")}</p></a>\n\t\t\t\t<a href="https://github.com/elytrafae/prettycards/wiki"><p style="cursor: pointer;">${window.$.i18n("pc-menu-apidocs")}</p></a>\n\t\t\t</div>\n\t\t</div>`);e.events.on("PC_Chat:getSelfInfos Chat:Connected",(function(){$(".PrettyCards_HiddenUntilLogin").css("display","initial"),_.translatorFeaturesAccess()&&$("#PrettyCards_MainMenu .Translator").removeClass("PrettyCards_Hidden"),_.featuresAccessForGroupOnly("Artist")&&$("#PrettyCards_MainMenu .Artist").removeClass("PrettyCards_Hidden"),Lt.getInstance().isStaffMember(window.selfId).then((()=>{$("#PrettyCards_MainMenu .PrettyCards_Staff").removeClass("PrettyCards_Hidden")})).catch((e=>{}))}));var a=!1;$("body").mousemove((function(e){e.pageX>=t&&e.pageY<=300?a||(n.stop().fadeIn(),a=!0):a&&(n.stop().fadeOut(),a=!1)})),$("body").append(n)})),e.events.on("PrettyCards:onPageLoad",(function(){var t;function n(e=!1){$("#PrettyCards_TopAdvert").remove(),$("#PrettyCards_MainMenu").css("top","0px"),e&&(localStorage["prettycards.top_advert_closed"]=!0)}"true"===localStorage["prettycards.top_advert_closed"]||3!=(t=new Date).getMonth()||1!=t.getDate()||window.underscript.onPage("Game")||window.underscript.onPage("SmashOrPass")||(window.$("#PrettyCards_MainMenu").css("top","36px"),e.events.on("PrettyCards:onPageLoad",(function(){window.$("body").prepend('\n\t\t\t\t<div id="PrettyCards_TopAdvert">\n\t\t\t\t\t<span>New! Undercards Smash or Pass Game!</span> <a href="/SmashOrPass">Are you brave enough~?</a>\n\t\t\t\t\t<div id="PrettyCards_TopAdvert_CloseButtons">\n\t\t\t\t\t\t<div id="PrettyCards_TopAdvert_CloseForever">Don\'t Remind Me!</div>\n\t\t\t\t\t\t<div id="PrettyCards_TopAdvert_Close">X</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),window.$("#PrettyCards_TopAdvert_Close").click((function(){n(!1)})),window.$("#PrettyCards_TopAdvert_CloseForever").click((function(){n(!0)}))})))})),t.downloadEmotesFile=()=>{_.downloadFile(JSON.stringify(window.chatEmotes),"every_undercards_emote.json")},i({key:"remove_footer",name:"Remove Footer",note:"Sayonara, ugly!",type:"boolean",refresh:!1,default:!1,onChange:Ta}),window.$?(Ta(),Ea()):e.events.on("PrettyCards:onPageLoad",(function(){Ta(),Ea()})),l(".PrettyCards_HiddenLogo #logo {display: none;} .PrettyCards_HiddenLogo header {height: initial;}");var Ia=i({key:"remove_logo",name:"Remove Logo",note:"For small devices, like laptops, who need the extra space",type:"boolean",refresh:!0,default:!1,onChange:$a});function $a(){Ia.value()?document.body.classList.add("PrettyCards_HiddenLogo"):document.body.classList.remove("PrettyCards_HiddenLogo")}$a(),PrettyCards_plugin.events.on("PrettyCards:onPageLoad",(function(){$a()}));const Da="Arial, Helvetica, sans-serif",Na=['"Times New Roman", Times, serif','"Courier New", monospace','"Brush Script MT"','"Comic Sans MS", "Comic Sans", cursive',"Papyrus, fantasy"],Ra="Arial",La=["TimesNewRoman","CourierNew","BrushScriptMT","ComicSansMS","Papyrus"];var Ma,Oa=i({key:"april_fools_font",name:"April Fools Font",type:"select",options:["SEASONAL","RANDOM","OFF",Ra].concat(La),refresh:!0,default:"SEASONAL",hidden:function(){return _.getSeasonNumber()<81},category:"april"}).value();function Ba(){if("OFF"!=Oa){if("RANDOM"==Oa)Ma=Da,underscript.utils.rand(10,1,!0)<=2&&(Ma=Na[underscript.utils.rand(Na.length)]);else if(Oa==Ra)Ma=Da;else{var t=La.findIndex((e=>e==Oa));Ma=Na[t]}Fa(),e.events.on("PrettyCards:onPageLoad",Fa)}}function Fa(){if(!document.getElementById("PrettyCards_AprilFoolsFonts")){var e=document.createElement("STYLE");e.id="PrettyCards_AprilFoolsFonts",e.innerHTML=`\n        body {\n            font-family: ${Ma}!important;\n        }\n\n        div.chat-box {\n            font-family: ${Ma}!important;\n        }\n\n        .mono .modal-body { font-family: ${Ma}!important; }\n\n        .underscript-dialog legend { font-family: ${Ma}!important; }\n    `,document.head.appendChild(e)}}"SEASONAL"==Oa?e.events.on("PrettyCards:seasonNumber",(function(){Oa=3!=_.getSeasonMonth()?"OFF":"RANDOM",Ba()})):Ba();var Ha=[{text:"ThiS [[Number ONE rated SalesMASCOT]] is DROWNing in [[KROMER]]!!! CLICK HERE!!!",bgImage:"https://a-z-animals.com/media/2023/01/iStock-1283011874-1024x683.jpg",bgSize:"cover",bgPosition:"center",color:"red",picSrc:"images/cards/Golden_Mascot.png",textSize:2,link:"https://www.youtube.com/watch?v=ETxmCCsMoD0"},{text:"Do you hate this [[VILE DOG]]?<br>CLICK HERE!",bgImage:"https://www.hartz.com/wp-content/uploads/2022/04/small-dog-owners-1.jpg",bgSize:"contain",bgPosition:"center",color:"darkblue",picSrc:"images/cards/Bulldogzer.png",textSize:2,link:"https://media.discordapp.net/attachments/1089991272174993519/1089991301069545492/image.png"},{text:"Does your neighbors grass look [delicious and natural]? You can have the same [delicious outdoor floor], JUST BUY NOW!",bgImage:"https://cdn.britannica.com/22/215522-050-8315BB78/green-grass-close-up.jpg",bgSize:"contain",bgPosition:"center",color:"purple",textSize:2,link:"https://store.steampowered.com/app/1944240/Touch_Some_Grass/"},{text:"K N O W L E D G E",bgColor:"yellow",bgImage:"https://images.theconversation.com/files/45159/original/rptgtpxd-1396254731.jpg?ixlib=rb-1.1.0&q=45&auto=format&w=1356&h=668&fit=crop",bgSize:"50%",bgPosition:"center",color:"#696969",textSize:3,link:"https://undercards.fandom.com/wiki/Undercards_Wikia",centerText:!0},{text:"Looking for a little fun with \\[\\[{{CARD:723|1}}\\]\\] in your area~?",bgImage:"https://t4.ftcdn.net/jpg/03/22/89/73/360_F_322897394_X2JQen9I6ECDSsQZoESOJ87dfebaGaAe.jpg",bgSize:"cover",bgPosition:"center",color:"#220000",picSrc:"images/cards/HOTSINGLE.png",textSize:2,link:"https://i.redd.it/6ztypom2wy661.jpg",centerText:!0},{text:"Club music for any<br>&gt[[MAN, WOMAN OR CHILD]]&lt!!",bgImage:"https://www.bettaeventhire.com.au/wp-content/uploads/2019/10/shutterstock_139152893.jpg",bgSize:"cover",bgPosition:"center",color:"cyan",picSrc:"images/cards/Dancer_Mettaton.png",textSize:2,link:"https://www.youtube.com/watch?v=x_QgxpTeKzM"},{text:"Hey   EVERY   !!!IT's ME!! Wan to be [[Number 1 Rated Salesman1997]]? Click HERE for the [[Specil Deal]]",bgImage:"https://media.tenor.com/FOgfl0x7RiUAAAAC/spamton-dancing.gif",bgSize:"contain",bgPosition:"unset",color:"green",picSrc:"images/cards/Spamton.png",textSize:1.5,link:"https://cdn.discordapp.com/attachments/1089991272174993519/1089996859998736414/k55m8nkfsra81.png"},{text:"are YOU [[All Alone On A Late Night?]]????? Want more [[PRIME ENTERTAINMENT!]] CLICK HERE!!!",bgImage:"https://media.discordapp.net/attachments/1089991272174993519/1090257788938240131/Sanest_libteg.jpg",bgSize:"contain",bgPosition:"unset",color:"green",picSrc:"images/cards/Sand_Dog.png",textSize:1.75,link:"https://youtu.be/4X2y5_k2zEw"}],Ga=i({key:"spamton_ads",name:"Enable Spamton Ads",note:"[[NumberOneRatedSetting1997]]",type:"select",refresh:!1,options:["OFF","SEASONAL","ON"],default:"SEASONAL",category:"april",hidden:function(){return _.getSeasonNumber()<81}});e.events.on("BootstrapDialog:show",(function(e){var t="OFF"==Ga.value();if("SEASONAL"==Ga.value()&&(t=3!=_.getSeasonMonth()),!t&&!e.$modalContent.find(".mulligan")[0]){var n=_.getRandomFromArray(Ha),a=document.createElement("DIV"),r=`background-color: ${n.bgColor||"black"};`;n.bgImage&&(r=`background-image: url(${n.bgImage}); background-size: ${n.bgSize||"auto"}; background-position: ${n.bgPosition||"unset"}`);var i=window.$.i18n(n.text.replaceAll("   "," &nbsp "));a.style=`${r};border: 5px solid white;border-width: 0 5px;margin: 0;padding: 5px; display:flex; user-select: none; justify-content: space-between;`,a.innerHTML=`<p style="font-size: ${n.textSize||2}em; color: ${n.color||white}">${i}</p>${n.picSrc?`<img src="${n.picSrc}">`:""}`,e.$modalContent.find(".PrettyCards_ArtifactDisplayName")[0]&&(a.style.borderWidth="0 5px 5px 5px"),n.link&&(a.style.cursor="pointer",a.onclick=function(){window.open(n.link,"_blank")}),n.centerText&&(a.querySelector("p").style.width="100%",a.querySelector("p").style.textAlign="center"),e.$modalContent[0].insertBefore(a,e.$modalFooter[0])}})),i({key:"crafting_in_decks",name:"Crafting in Decks Page",note:"An icon on craftable cards will appear. Clicking it will display a menu for crafting. Uncrafting in the Decks page is not supported.",type:"boolean",refresh:!0,default:!0}).value()&&window.underscript.onPage("Decks")&&(window.$.get("/Crafting",{},(function(t){var n=window.$(t).find("#dust");n[0]&&(Ua=Number(n[0].innerHTML)),console.log("DUST",Ua),Ua<underscript.utils.rarity.cost("COMMON",!1)?console.warn("Crafting in Decks page: Insufficient Dust to craft anything. Won't continue forward."):window.$.getJSON("/CraftConfig",{},(function(t){Wa=function(t){var n=Va(t,!1);return t.forEach((e=>{(!ja.includes(e.rarity)||e.quantity>0)&&za.push(e)})),e.events.emit.singleton("PrettyCards:DeckCollectionAppendReady"),n}(JSON.parse(t.collection))}))})),e.events.on("Deck:Loaded",(()=>{e.events.on("PrettyCards:DeckCollectionAppendReady",(()=>{for(var e in window.collection=za,window.decks){window.deckCollections[e]=[];for(var t=0;t<window.collection.length;t++){var n=JSON.parse(JSON.stringify(window.collection[t]));(0===n.typeCard||n.hasOwnProperty("soul")&&n.soul.name===e||window.playground)&&(n.quantity=n.quantity-window.getQuantityInDeck(n,e),window.deckCollections[e].push(n))}}}))})),e.events.on("func:appendCardDeck",(function(e,t){var n=qa(e.id,e.shiny);if(n){var a='<img style="height:1.6em;" src="/images/icons/dust.png">',r=(n.shiny?'<span class="rainbowText">S</span> ':"")+$.i18n("card-name-"+e.id,1),i=window.$(`<p style="font-size: 1.2em;">${a} ${Ua}</p>`),o=function(e){var t=underscript.utils.rarity.max(e.rarity)-e.quantity;if(t<=0)return 0;var n=underscript.utils.rarity.cost(e.rarity,e.shiny);return Ua<n*t&&(t=Math.floor(Ua/n)),t}(n);if(o<=0)return;var s=window.$(`<button class="btn btn-success">Craft One (-${underscript.utils.rarity.cost(n.rarity,n.shiny)} ${a})</button>`),d=window.$(`<button class="btn btn-success" style="margin-left: 0.6em">Craft x${o} (-${underscript.utils.rarity.cost(n.rarity,n.shiny)*o} ${a})</button>`);s.click((()=>{s.prop("disabled",!0),d.prop("disabled",!0),function(e){Ja(e.id,e.shiny).then((t=>{Ua=t.dust,e.quantity++,Wa=Va(Wa),Qa(e.id,e.shiny),window.applyFilters(),window.showPage(window.currentPage),window.BootstrapDialog.closeAll();var n=(e.shiny?'<span class="rainbowText">S</span> ':"")+$.i18n("card-name-"+e.id,1);window.BootstrapDialog.show({type:window.BootstrapDialog.TYPE_SUCCESS,title:$.i18n("crafting-title",n),message:$.i18n("crafting-craft-success",n),buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})})).catch((e=>{e instanceof Error?console.error(e):(window.BootstrapDialog.closeAll(),window.BootstrapDialog.show({type:window.BootstrapDialog.TYPE_DANGER,title:window.$.i18n("dialog-error"),message:Xa(e),buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]}))}))}(n)})),d.click((()=>{s.prop("disabled",!0),d.prop("disabled",!0),function(e,t){for(var n=[],a=t,r=0,i=0;i<t;i++)Ja(e.id,e.shiny).then((t=>{r++,a--,Ua=t.dust,e.quantity++,Ya(r,n,a,e)})).catch((t=>{t instanceof Error?console.error(t):(a--,n.push(Xa(t)),Ya(r,n,a,e))}))}(n,o)}));var c=$("<div></div>");c.append(i),c.append(s),o>1&&c.append(d),_.addCustomSimpleTextIconToCard2(t,"/images/icons/dust.png","Craft!",c,window.$.i18n("crafting-title",r))}})));var Ua=0,Wa=[],za=[],ja=["TOKEN","DETERMINATION"];function Ka(e){var t=e.rarity;return!ja.includes(t)&&e.quantity<underscript.utils.rarity.max(t)&&Ua>=underscript.utils.rarity.cost(t,e.shiny)}function Va(e,t=!0){for(var n=[],a=0;a<e.length;a++){var r=e[a];Ka(r)&&(t?n.push(r):n.push({shiny:r.shiny,quantity:r.quantity,id:r.id,rarity:r.rarity}))}return n}function qa(e,t=!1){for(var n=0;n<Wa.length;n++){var a=Wa[n];if(a.id===e&&a.shiny===t)return a}return null}function Ya(e,t=[],n=0,a){if(!(n>0)){Wa=Va(Wa),Qa(a.id,a.shiny,e),window.applyFilters(),window.showPage(window.currentPage),window.BootstrapDialog.closeAll();var r=e+t.length,i=e>0?window.BootstrapDialog.TYPE_SUCCESS:window.BootstrapDialog.TYPE_DANGER,o=`<p style="font-size:1.2em" class="green">${e}/${r} ${(a.shiny?'<span class="rainbowText">S</span> ':"")+$.i18n("card-name-"+a.id,r)} Crafted successfully!</p>`;t.length>0&&(o+=`<h2 class="red">Errors: </h2><ul>${"<li>"+t.join("</li><li>")+"</li>"}</ul>`),window.BootstrapDialog.show({type:i,title:"Multi Craft Results",message:o,buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}}function Ja(e,t){var n=`{"action": "craft", "idCard": ${e}, "isShiny": ${t?"true":"false"}}`;return new Promise(((e,t)=>{window.$.post("/CraftConfig",n,(function(n){"success"===n.status?e(n):t(n)}))}))}function Qa(e,t,n=1){var a=[window.collection];for(var r in deckCollections)a.push(deckCollections[r]);a.forEach((a=>{for(var r=0;r<a.length;r++){var i=a[r];if(i.id===e&&i.shiny===t){i.quantity+=n;break}}}))}function Xa(e){return"errorMaintenance"===e.status?translateFromServerJson(e.message):"An unexpected error occurred!"}t.test_SearchInCraftableCollection=qa,l(n(4232).Z),e.events.on("PrettyCards:onPageLoad",(()=>{}));class Za{constructor(){this.displayName="Base",this.description="This should not be visible!",this.packs_data2={}}terribleDropRatesButtonHTML(){return`<span style="color: gray;border: 1px dotted gray;padding: 5px;background-color: black;position: absolute;top: 0em;left: 5em;font-size: 2em;" onclick="showDropRates();" class="pointer" data-i18n="[html]packs-drop-rates">${window.$.i18n("packs-drop-rates")}</span>`}pageAdditions(e){for(var t=this.terribleDropRatesButtonHTML()+'<div class="PrettyCards_PacksRow">',n=0;n<e.length;n++)t+=`<div class="PrettyCards_PackCell" data-packid="${e[n].code_id}"></div>`,n%3==2&&n!=e.length-1&&(t+='</div><div class="PrettyCards_PackSpacer"></div><div class="PrettyCards_PacksRow">');return t+'</div><div class="PrettyCards_PackSpacer"></div>'}generateBuyRow(e){return`\n\t\t\t<input type="number" class="PrettyCards_PackBuyCount" data-packid="${e.code_id}" value="1" min="1" pattern="[0-9]">\n\t\t\tx <button class="PrettyCards_PackGBuy btn-primary" data-packid="${e.code_id}">${window.$.i18n("pc-packs-buy")} (<span class="PrettyCards_PackGPrice" data-packid="${e.code_id}">${e.g_cost}</span> <img src="images/icons/gold.png" class="height-16">)</button>\n\t\t\t<button class="PrettyCards_PackUcpBuy btn-primary" data-packid="${e.code_id}">${window.$.i18n("pc-packs-buy")} (<span class="ucp PrettyCards_PackUcpPrice" data-packid="${e.code_id}">${e.ucp_cost}</span> UCP)</button>\n\t\t`}generateOpenRow(e){return`\n\t\t\t<input type="number" class="PrettyCards_PackOpenCount" data-packid="${e.code_id}" value="1" min="1" pattern="[0-9]">\n\t\t\tx <button class="PrettyCards_PackOpen btn-primary" data-packid="${e.code_id}">${window.$.i18n("pc-packs-open")} <span class="PrettyCards_PackOpenCountButton" data-packid="${e.code_id}">${Math.min(e.amount,1)}</span></button>\n\t\t`}generatePack(e){var t=e.does_exist&&e.g_cost>-1?this.generateBuyRow(e):window.$.i18n("pc-packs-cannotbuy"),n=e.does_exist?this.generateOpenRow(e):window.$.i18n("pc-packs-cannotopen");return`\n\t\t<div class="PrettyCards_PackContainer">\n\t\t\t<div class="PrettyCards_FloatingPack">\n\t\t\t\t<div class="PrettyCards_FloatingPackImage" style="background-image: url(${_.asset("img/Packs/"+e.image)})">\n\t\t\t\t\t<img src="${_.asset("img/Packs/UndertalePack.png")}" class="PrettyCards_InvisiblePack">\n\t\t\t\t\t<div class="PrettyCards_PackAmount">${e.amount}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="PrettyCards_PackText">\n\t\t\t\t<div class="PrettyCards_PackName">${window.$.i18n(e.name)}</div>\n\t\t\t\t<div class="PrettyCards_PackDescription">${window.$.i18n(e.description)}</div>\n\t\t\t\t<div class="PrettyCards_PackBuy">${t}</div>\n\t\t\t\t<div class="PrettyCards_PackOpen">${n}</div>\n\t\t\t</div>\n\t\t</div>\n\t\t`}sanitizeNumberInput(e){var t=e.value||"1";t=(t=(t=t.replace("-","")).replace(",","")).replace(".",""),e.value=t}changePrices(e,t){if(NaN!=(t=Number(t))){var n=this.packs_data2[e];n.g_buy_count=Math.min(t,Math.floor(We.gold/n.g_cost)),n.ucp_buy_count=Math.min(t,Math.floor(We.ucp/n.ucp_cost)),document.querySelector(".PrettyCards_PackGPrice[data-packid="+e+"]").innerHTML=n.g_buy_count*n.g_cost,document.querySelector(".PrettyCards_PackUcpPrice[data-packid="+e+"]").innerHTML=n.ucp_buy_count*n.ucp_cost}}changePackCountButton(e,t){if(NaN!=(t=Number(t))){var n=this.packs_data2[e];n.open_count=Math.min(t,n.amount),document.querySelector(".PrettyCards_PackOpenCountButton[data-packid="+e+"]").innerHTML=n.open_count}}onPackMouseOver(e){e.currentTarget.getAttribute("data-packid")}onPackMouseLeave(e){e.currentTarget.getAttribute("data-packid")}onPackOpenCountChange(e){this.sanitizeNumberInput(e.target),this.changePackCountButton(e.target.getAttribute("data-packid"),e.target.value)}onPackBuyCountChange(e){this.sanitizeNumberInput(e.target),this.changePrices(e.target.getAttribute("data-packid"),e.target.value)}onPackGBuyClick(e){var t=this.packs_data2[e.target.getAttribute("data-packid")],n=Math.floor(We.gold/t.g_cost);t.g_buy_count>n&&(t.g_buy_count=n);var a=t.code_id;a=a.substring(0,a.length-4),underscript.buyPacks(t.g_buy_count,{type:a,gold:!0}),t.amount+=t.g_buy_count,this.updatePackCount(t.code_id)}onPackUcpBuyClick(e){const t=this;var n=this.packs_data2[e.target.getAttribute("data-packid")],a=Math.floor(We.ucp/n.ucp_cost);n.ucp_buy_count>a&&(n.ucp_buy_count=a),window.BootstrapDialog.show({title:"Buy packs with UCP?",message:$.i18n(`Buy ${n.ucp_buy_count} pack${n.ucp_buy_count>1?"s":""} for {{UCP:${n.ucp_buy_count*n.ucp_cost}}} UCP?`),buttons:[{label:$.i18n("dialog-continue"),cssClass:"btn-success",action(e){t.onPackUcpBuy(n),e.close()}},{label:$.i18n("dialog-cancel"),cssClass:"btn-danger",action(e){e.close()}}]})}onPackUcpBuy(e){var t=e.code_id;t=t.substring(0,t.length-4),underscript.buyPacks(e.ucp_buy_count,{type:t,gold:!1}),e.amount+=e.ucp_buy_count,this.updatePackCount(e.code_id)}onPackOpenClick(e){if(!underscript.openingPacks()&&!document.querySelector(".PrettyCards_PackOpenContent .PrettyCards_AnimationPack")){var t=this.packs_data2[e.target.getAttribute("data-packid")];if(!(t.amount<=0)){t.open_count>t.amount&&(t.open_count=t.amount);var n=t.code_id;n=n.substring(0,n.length-4),window.PrettyCards_pack_being_opened=t,underscript.openPacks(t.open_count,n)}}}updatePackCount(e){document.querySelector(".PrettyCards_PackCell[data-packid="+e+"] .PrettyCards_PackAmount").innerHTML=this.packs_data2[e].amount}onPackGeneration(e,t){t.addEventListener("mouseover",this.onPackMouseOver),t.addEventListener("mouseleave",this.onPackMouseLeave),$(".PrettyCards_PackCell[data-packid="+e.code_id+"] .PrettyCards_FloatingPack").css("animation-delay",1.5*-Math.random()+"s"),e.does_exist&&(document.querySelector(".PrettyCards_PackOpenCount[data-packid="+e.code_id+"]").onchange=this.onPackOpenCountChange.bind(this),document.querySelector(".PrettyCards_PackOpen[data-packid="+e.code_id+"]").onclick=this.onPackOpenClick.bind(this),e.g_cost>-1&&(document.querySelector(".PrettyCards_PackBuyCount[data-packid="+e.code_id+"]").onchange=this.onPackBuyCountChange.bind(this),document.querySelector(".PrettyCards_PackGBuy[data-packid="+e.code_id+"]").onclick=this.onPackGBuyClick.bind(this),document.querySelector(".PrettyCards_PackUcpBuy[data-packid="+e.code_id+"]").onclick=this.onPackUcpBuyClick.bind(this)))}generatePagePack(e){var t=this.generatePack(e),n=document.querySelector(".PrettyCards_PackCell[data-packid="+e.code_id+"]");n.innerHTML=t,this.onPackGeneration(e,n)}generatePage(e,t){this.packs_data2=t,document.getElementById("PrettyCards_MainContent").innerHTML=this.pageAdditions(e);for(var n=0;n<e.length;n++)this.generatePagePack(e[n])}}var er=new class extends Za{constructor(){super(),this.displayName="Default",this.description="The default theme. Looks quite ugly."}};class tr{constructor(e,t,n=!0,a=!0){if(this.baseScale=1,this.container=document.createElement("DIV"),this.container.className="PrettyCards_FlippableCardContainer",this.flipContainer=document.createElement("DIV"),this.flipContainer.className="PrettyCards_FlipContainer",this.flipContainer.style="transform: rotateY(180deg);",this.container.appendChild(this.flipContainer),n&&(e=function(e){var t=function(e){for(var t=0;t<Qe.length;t++){var n=Qe[t];if(n.cardId==e&&n.active)return n}return null}(e.id);return null!==t&&(e.image=t.image,e.typeSkin=t.typeSkin),e.frameSkinName=Xe,e}(e)),window.appendCard(e,s()(this.flipContainer)),this.front=this.flipContainer.children[0],this.front.className+=" PrettyCards_CardFront",a){var r=`<div class="cardQuantity">${e.quantity>0?'<span class="nb">x'+e.quantity+"</span>":""} ${e.quantityShiny>0?'<span class="nb_shiny rainbowText">x'+e.quantityShiny+"</span>":""}</div>`;s()(this.front).append(r),s()(this.front).css("height","275px")}const i="url(/images/cardBacks/"+e.extension+"Card"+e.rarity+".png)",o="url(/images/cardBacks/"+e.extension+"CardNORMAL.png)";this.back=document.createElement("DIV"),this.back.style.backgroundImage=t?o:i,this.back.className="PrettyCards_CardBack",t&&s()(this.container).hover(function(e){this.back.style.backgroundImage=i}.bind(this),function(e){this.back.style.backgroundImage=o}.bind(this)),this.flipContainer.appendChild(this.back),this.isShiny=e.shiny,this.shinySlot=this.front.querySelector(".shinySlot"),this.card_data=e,this.handleRotation(180)}appendTo(e){e.appendChild(this.container)}moveTo(e,t){this.container.style.top=t+"px",this.container.style.left=e+"px"}setBaseScale(e){this.container.style.transform="scale("+e+")"}glideTo(e,t,n,a){s()(this.container).animate({top:t+"px",left:e+"px"},{duration:n||1e3,easing:"swing",complete:a})}flipToFace(e){s()(this.flipContainer).animateRotate(180,0,e,"swing",this.handleRotation.bind(this))}flipToBack(e){s()(this.flipContainer).animateRotate(0,180,e,"swing",this.handleRotation.bind(this))}scaleTo(e,t){this.container.style["transition-duration"]=t/1e3+"s",this.container.style.transform="translate(-50%, -50%) scale("+e+")"}makeIntoSummaryCard(){this.container.style.position="static",this.container.style.display="inline-block",this.container.style.transform="none"}handleRotation(e){e<90?(this.front.style.opacity="1",this.back.style.opacity="0",this.isShiny&&(this.shinySlot.style["mix-blend-mode"]="multiply")):(this.front.style.opacity="0",this.back.style.opacity="1",this.isShiny&&(this.shinySlot.style["mix-blend-mode"]="normal"))}playJingle(){if("LEGENDARY"==this.card_data.rarity||"DETERMINATION"==this.card_data.rarity){var e="/musics/cards/"+this.card_data.name.split(" ").join("_")+".ogg",t=new window.Audio(e);t.volume=.4,t.play(),this.silent=!0}}}class nr{constructor(){this.clicks_to_break=1,this.current_click=0,this.pack_data,this.card_data,this.cards=[],this.flipCards=[],this.displayName="Base",this.description="You shouldn't be able to see this!",this.hasSkipButton=!1,this.audio=new Audio}OnPackMoveBegin(e,t,n,a){this.pack_data=n,this.AnalyzeCards(a),this.flipCards=[],this.current_click=0,this.cardsSpawned=!1,this.glideTimeouts=[];var r=s()("#PrettyCards_PackOpenContent");r.css("display","block"),r.css("backgroundColor","rgba(0,0,0,0)"),window.$("#PrettyCards_PackOpenContent").animate({backgroundColor:"rgba(0,0,0,1)"},1e3,"swing",(function(){})),s()(".PrettyCards_AnimationPack").animate({top:t+"px",left:e+"px"},1e3,"swing",this.OnPackMoveFinish.bind(this)),this.hasSkipButton&&(this.button=s()(`<button class="btn btn-primary PrettyCards_PacksSkipButton">${window.$.i18n("pc-navigate-skip")}</button>`),r.append(this.button),this.button.click(function(e){e.stopPropagation(),this.button.remove(),this.onSkipButtonPressed(e)}.bind(this)))}OnPackMoveFinish(){s()(".PrettyCards_AnimationPack").addClass("PrettyCards_Floating"),s()("#PrettyCards_PackOpenContent").click(this.OnBeforeBreakClick.bind(this))}OnBeforeBreakClick(){this.current_click++,this.current_click>=this.clicks_to_break?(s()("#PrettyCards_PackOpenContent").unbind("click"),this.OnPackBreakBegin()):(s()(".PrettyCards_AnimationPack").removeClass("PrettyCards_Floating"),window.$(".PrettyCards_AnimationPack").effect("shake"))}OnPackBreakBegin(){this.SpawnCards();var e=this.RipPackHorizontally();this.up=e[0],this.down=e[1],s()(this.up).animate({top:"-=30%",opacity:"0"},800,"swing"),s()(this.down).animate({top:"+=30%",opacity:"0"},800,"swing",this.OnPackBreakFinish.bind(this))}OnPackBreakFinish(){this.up.remove(),this.down.remove(),this.cards_finished_gliding=0;const e=1500/this.flipCards.length,t=this.OnCardFinishedGliding.bind(this);for(var n=0;n<this.flipCards.length;n++){const a=this.flipCards[n];this.glideTimeouts.push(setTimeout((function(){a.glideTo(200,window.innerHeight/2,500,t)}),(n+1)*e))}}cancelGlideTimeouts(){this.glideTimeouts.forEach((function(e){clearTimeout(e)}))}OnCardFinishedGliding(){this.cards_finished_gliding++,this.cards_finished_gliding>=this.flipCards.length&&this.OnFinishedGliding()}OnFinishedGliding(){this.card_viewed=-1,s()("#PrettyCards_PackOpenContent").click(this.OnNextCard.bind(this)),this.OnNextCard()}OnNextCard(){if(!(this.card_viewed>=this.flipCards.length)){var e=function(){};this.card_viewed==this.flipCards.length-1&&(e=function(){this.OnCardViewFinish()}),this.card_viewed>=0&&(this.flipCards[this.card_viewed].glideTo(window.innerWidth/2,window.innerHeight+600,500,e.bind(this)),this.flipCards[this.card_viewed].scaleTo(1,500)),this.card_viewed++,this.card_viewed>=this.flipCards.length||(this.flipCards[this.card_viewed].glideTo(window.innerWidth/2,window.innerHeight/2,500),this.flipCards[this.card_viewed].scaleTo(1.5,500),this.flipCards[this.card_viewed].flipToFace(500),this.flipCards[this.card_viewed].playJingle())}}OnCardViewFinish(){s()("#PrettyCards_PackOpenContent").unbind("click"),this.OnCardSummary()}OnCardSummary(){this.button&&this.button.remove();const e=this,t=document.createElement("DIV");t.className="PrettyCards_CardSummary";var n=document.createElement("P");n.innerHTML=window.$.i18n("pc-packs-summary"),n.className="PrettyCards_CardSummaryTitle",t.appendChild(n);for(var a=0;a<this.flipCards.length;a++){var r=this.flipCards[a];r.scaleTo(1,0),r.flipToFace(0),r.appendTo(t),r.makeIntoSummaryCard()}s()("#PrettyCards_PackOpenContent").append(t),s()(t).animate({top:"0px"},{duration:500,easing:"swing",complete:function(){s()(t).click(e.OnExitFade.bind(e))}})}OnExitFade(e){if(!s()(e.target).is(".PrettyCards_CardSummary"))return!0;s()("#PrettyCards_PackOpenContent").animate({opacity:"0"},{duration:1e3,easing:"swing",complete:this.OnExit.bind(this)})}OnExit(){s()("#PrettyCards_PackOpenContent").unbind("click").html("").css("display","none").css("opacity","1")}RipPackHorizontally(){var e=document.getElementsByClassName("PrettyCards_AnimationPack")[0].getBoundingClientRect(),t=document.createElement("DIV");t.className="PrettyCards_RippedPack_Up PrettyCards_RippedPack",t.style.backgroundImage=`url("${_.asset("img/Packs/"+this.pack_data.image)}")`,t.style.top=window.innerHeight/2-e.height/2+"px",t.style.left=window.innerWidth/2-e.width/2+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(t);var n=document.createElement("DIV");return n.className="PrettyCards_RippedPack_Down PrettyCards_RippedPack",n.style.backgroundImage=`url("${_.asset("img/Packs/"+this.pack_data.image)}")`,n.style.top=window.innerHeight/2-e.height/2+"px",n.style.left=window.innerWidth/2-e.width/2+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(n),s()(".PrettyCards_AnimationPack").css("opacity",0),[t,n]}RipPackVertically(){var e=document.getElementsByClassName("PrettyCards_AnimationPack")[0].getBoundingClientRect(),t=document.createElement("DIV");t.className="PrettyCards_RippedPack_Left PrettyCards_RippedPack",t.style.backgroundImage=`url("${_.asset("img/Packs/"+this.pack_data.image)}")`,t.style.top=window.innerHeight/2-e.height/2+"px",t.style.left=window.innerWidth/2-e.width/2+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(t);var n=document.createElement("DIV");return n.className="PrettyCards_RippedPack_Left PrettyCards_RippedPack",n.style.backgroundImage=`url("${_.asset("img/Packs/"+this.pack_data.image)}")`,n.style.top=window.innerHeight/2-e.height/2+"px",n.style.left=window.innerWidth/2-e.width/2+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(n),s()(".PrettyCards_AnimationPack").css("opacity",0),[t,n]}AnalyzeCards(e){for(var t={},n=0;n<oe.length;n++)t[oe[n]]={};for(n=0;n<e.length;n++){var a=t[(o=e[n]).rarity][o.id];a||(t[o.rarity][o.id]={normal:0,shiny:0,id:o.id},a=t[o.rarity][o.id]),o.shiny?a.shiny+=o.quantity||1:a.normal+=o.quantity||1}for(this.cards=[],n=0;n<oe.length;n++){var r=t[oe[n]];for(var i in r){var o,s=r[i];(o=_.completeCopy(window.getCard(s.id))).quantity=s.normal,o.quantityShiny=s.shiny,s.shiny>0&&(o.shiny=!0),this.cards.push(o)}}}SpawnCards(){this.cardsSpawned=!0;for(var e=this.cards.length-1;e>=0;e--){var t=new tr(this.cards[e],!1);t.appendTo(document.getElementById("PrettyCards_PackOpenContent")),t.moveTo(window.innerWidth/2,window.innerHeight/2),this.flipCards.unshift(t)}}onSkipButtonPressed(e){}}var ar=new class extends nr{constructor(){super(),this.displayName="Default",this.description="The default pack open animation. It is very much similar to the one in the previous version.",this.hasSkipButton=!0}onSkipButtonPressed(e){$(".PrettyCards_AnimationPack").stop().remove(),this.up&&(this.up.remove(),this.down.remove()),this.cardsSpawned||this.SpawnCards(),this.cancelGlideTimeouts(),this.OnCardViewFinish()}},rr=new class extends nr{constructor(){super(),this.displayName="Onu",this.description="For those who like clicking the cards themselves, but still think the original pack opening is a chore."}OnPackBreakFinish(){this.up.remove(),this.down.remove(),this.cards_finished_gliding=0;const e=1500/this.flipCards.length,t=this.OnCardFinishedGliding.bind(this);for(var n=0;n<this.flipCards.length;n++){const a=this.flipCards[n];setTimeout((function(){a.glideTo(window.innerWidth/2,window.innerHeight+600,500,t)}),(n+1)*e)}}OnFinishedGliding(){$("#PrettyCards_PackOpenContent").click(this.OnNextCard.bind(this)),this.OnCardViewFinish();for(var e=0;e<this.flipCards.length;e++){const t=this.flipCards[e];t.flipToBack(0),$(t.container).click((function(){t.flipToFace(500),t.playJingle(),$(t.container).unbind("click")}))}}SpawnCards(){for(var e=this.cards.length-1;e>=0;e--){var t=new tr(this.cards[e],!0);t.appendTo(document.getElementById("PrettyCards_PackOpenContent")),t.moveTo(window.innerWidth/2,window.innerHeight/2),this.flipCards.unshift(t)}}};e.events.on("openedPacks",(function(e){console.log(e,window.PrettyCards_pack_being_opened),window.PrettyCards_pack_being_opened.amount-=e.count,mr(a.packs_page_template.value()||pr[0]).updatePackCount(window.PrettyCards_pack_being_opened.code_id),function(e,t){var n=document.createElement("IMG");n.className="PrettyCards_AnimationPack",n.src=_.asset("img/Packs/"+e.image);var a=document.querySelector(".PrettyCards_PackCell[data-packid="+e.code_id+"] .PrettyCards_InvisiblePack").getBoundingClientRect();n.style.top=a.top+"px",n.style.left=a.left+"px",n.style.width=a.width+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(n),ir.OnPackMoveBegin((window.innerWidth-a.width)/2,(window.innerHeight-a.height)/2,e,t)}(window.PrettyCards_pack_being_opened,e.cards),this.canceled=!0}));for(var ir=ar,or=[ar,rr],sr=[],dr="Select the pack opening animation!",cr=0;cr<or.length;cr++)sr[cr]=or[cr].displayName,dr+="<br>"+or[cr].displayName+": "+or[cr].description;function lr(e,t){ir=function(e){for(var t=0;t<or.length;t++)if(or[t].displayName==e)return or[t];return console.error("Cannot find Pack Open Animation Template with name ",e),null}(e)}i({key:"packs_animation_template",name:"Pack Opening Animation",type:"select",note:dr,refresh:!0,default:sr[0],options:sr,refresh:!1,reset:!0,onChange:lr,category:"packs"}),lr(a.packs_animation_template.value()||sr[0]),l(n(1905).Z);for(var ur=[er],pr=[],hr="Select the look of the Packs Page!",fr=0;fr<ur.length;fr++)pr[fr]=ur[fr].displayName,hr+="<br>"+ur[fr].displayName+": "+ur[fr].description;function mr(e){for(var t=0;t<ur.length;t++)if(ur[t].displayName==e)return ur[t];return console.error("Cannot find Packs Page Template with name ",e),null}function gr(e,t){mr(e).generatePage(yr,Cr)}i({key:"packs_page_template",name:"Packs Page Template",type:"select",note:hr,refresh:!0,default:pr[0],options:pr,reset:!0,refresh:!1,onChange:gr,category:"packs"});var yr=[],Cr={};l(n(9225).Z);var wr=[],vr=[],br=[],Pr=[],_r=[],kr=[],Sr=[],xr=["Heal Delivery","Explosion","Sacrifice","Same Fate","Onutrem"],Tr=[_r,Pr,vr,br,kr,Sr],Ar=["pc-skinselect-header-custom","pc-skinselect-header-default","pc-skinselect-header-owned","pc-skinselect-header-notowned",["pc-skinselect-header-april",2022,69],["pc-skinselect-header-april",2023,81]],Er=[{year:2022,list:kr,ucpCost:69420,id:-69},{year:2023,list:Sr,ucpCost:1997,id:-1997}];function Ir(){for(var e=0;e<allCards.length;e++){var t=allCards[e];Pr.push({active:!0,authorName:"",cardId:t.id,cardName:t.name,id:-1,image:t.image,name:window.$.i18n(`card-name-${t.id}`,1),owned:!0,typeSkin:0,ucpCost:0,unavailable:!1})}for(e=0;e<xr.length;e++){var n=xr[e];Pr.push({active:!0,authorName:"",cardId:-1,cardName:n,id:-1,image:n.replaceAll(" ","_"),name:n,owned:!0,typeSkin:0,ucpCost:0,unavailable:!1})}}var $r=!1;class Dr{constructor(){this.callback=function(){},this.container=null,this.skinElements=[],this.skins=[],this.searchBar=null}GetSkinsToDisplay(){for(var e=[],t=0;t<Tr.length;t++)e=e.concat(Tr[t]);return e}GetHTML(){this.searchBar=document.createElement("INPUT"),this.searchBar.className="form-control",this.searchBar.setAttribute("type","text"),this.searchBar.placeholder=window.$.i18n("pc-skinselect-search"),$(this.searchBar).keyup(this.ApplyFilters.bind(this));var e=document.createElement("DIV");e.appendChild(this.searchBar);var t=document.createElement("DIV");t.className="PrettyCards_SkinsContainer",e.appendChild(t);for(var n=0;n<Tr.length;n++){var a=Tr[n],r=document.createElement("DIV");r.className="PrettyCards_SkinHeader",r.innerHTML=Ar[n];const e=document.createElement("DIV");for(var i=0;i<a.length;i++){const t=a[i];var o=Je(t.image,!0);t.isCustom&&(o=t.image);var s=document.createElement("DIV");s.className="PrettyCards_SkinDiv",s.style.background="url("+o+") no-repeat transparent",s.style.backgroundSize="cover",s.innerHTML='<div class="PrettyCards_SkinText">'+t.name+(""!==t.authorName?'<br><span class="Artist">'+t.authorName+"</span>":"")+"</div>",t.typeSkin>0&&(s.innerHTML+='<div class="PrettyCards_FullSkinPreview"><img src="'+o+'"></div>'),s.onclick=function(){this.callback(t)}.bind(this),this.skinElements.push(s),e.appendChild(s)}r.onclick=function(){$(e).toggle()},t.appendChild(r),t.appendChild(e)}return this.container=e,e}OpenDialogue(){this.container=null,this.skinElements=[],this.skins=[],this.searchBar=null,this.skins=this.GetSkinsToDisplay();var e=this.GetHTML();this.dial=BootstrapDialog.show({title:window.$.i18n("pc-skinselect-title"),size:BootstrapDialog.SIZE_WIDE,closable:!0,closeByBackdrop:!1,message:e,buttons:[{label:window.$.i18n("pc-navigate-nevermind"),cssClass:"btn-primary us-normal",action(e){e.close()}}]})}ApplyFilters(){for(var e=0;e<this.skinElements.length;e++)this.skinElements[e].style.display=this.isRemoved(this.skins[e])?"none":""}isRemoved(e){var t=$(this.searchBar).val().toLowerCase();if(t.length>0){var n="";return n+=$.i18n("card-name-"+e.cardId,1),n+=e.name,n+=e.authorName,0==e.typeSkin?n+="normal":1==e.typeSkin?n+="full":2==e.typeSkin&&(n+="breaking"),!n.toLowerCase().includes(t)}return!1}}window.CardSkinSelector=Dr;var Nr,Rr=window.$,Lr=new pt,Mr=new Dr,Or=document.createElement("INPUT"),Br=document.createElement("TEXTAREA"),Fr=document.createElement("BUTTON"),Hr=document.createElement("DIV"),Gr=null,Ur=document.querySelector(".mainContent > table");function Wr(){Lr.callback=function(e){zr(e),jr()}.bind(this),Lr.closeCallback=jr.bind(this),Hr.innerHTML="",Lr.closable=!0,Lr.AppendTo(Hr),Hr.style.display="initial",Ur.style.display="none"}function zr(e){Gr=e,function(e){e.isBase&&nt.OptimalImportDeck(e,(function(){})),window.soul=e.soul,updateSoul(),ni(!0,!0);for(var t=0;t<e.cards.length;t++){var n=e.cards[t];ei(n=Zr(window.deckCollections[window.soul],n.id,!!n.shiny),window.decks[window.soul])&&(window.decks[window.soul].push(n),updateQuantity(window.soul,n,-1))}for(t=0;t<e.artifacts.length;t++)ti(e.artifacts[t],!0,!0);checkCompletion(),refreshDeckList()}(e)}function jr(){Hr.style.display="none",Ur.style.display="initial"}function Kr(){Mr.callback=function(e){!function(e){var t="prettycards.deck."+selfId+"."+Gr.soul+"."+Gr.id+".image";Gr.image=e,window.localStorage[t]=JSON.stringify(e),Jr()}(e),Mr.dial.close()},Mr.OpenDialogue()}function Vr(){var e=Rr(Or).val();Gr.name=e;var t=Gr.key+".name";window.localStorage[t]=e,Jr()}function qr(){var e=Rr(Br).val();Gr.description=e;var t="prettycards.deck."+selfId+"."+Gr.soul+"."+Gr.id+".description";window.localStorage[t]=e,Jr()}function Yr(){var e=document.createElement("DIV"),t=document.createElement("DIV");t.style="min-height: 230px;",e.appendChild(t);var n=document.createElement("DIV");n.style="display: inline-block; margin: 0; float:left; min-height:250px; width: 320px;",t.appendChild(n),(Nr=document.createElement("DIV")).style="display: inline-block; margin: 0; width: 235px; display: flex; justify-content: space-evenly;",t.appendChild(Nr),n.innerHTML="<span>"+window.$.i18n("pc-decks-editor-name")+"</span>",n.appendChild(Or),Or.value=Gr.name,Or.className="form-control "+Gr.soul,Or.style="background: rgba(0,0,0,.5);",Or.placeholder=window.$.i18n("pc-decks-editor-name2"),Rr(Or).unbind("keyup").keyup(Vr.bind(this));var a=document.createElement("SPAN");a.innerHTML="<br>"+window.$.i18n("pc-decks-editor-desc")+"<br>",n.appendChild(a),n.appendChild(Br),Br.className=Gr.soul,Br.style="background: rgba(0,0,0,.5); width: 100%; max-width: 320px;",Br.value=Gr.description,Rr(Br).unbind("keyup").keyup(qr.bind(this));var r=document.createElement("BUTTON");r.innerHTML=window.$.i18n("pc-decks-editor-image"),r.className="btn btn-primary",r.style="display: block; margin-top: 10px;",r.onclick=Kr.bind(this),n.appendChild(r);var i=document.createElement("BUTTON");i.innerHTML=window.$.i18n("pc-decks-editor-emergency"),i.className="btn btn-danger",i.style="display: block; margin-top: 10px;",i.onclick=function(){nt.ImportDeck(Gr,(function(){}))},n.appendChild(i);var o=document.createElement("P");return o.className="gray",o.style="margin-top: 15px;",o.innerHTML=window.$.i18n("pc-decks-editor-emergencynote"),e.appendChild(o),Jr(),e}function Jr(){Nr.innerHTML="",Lr.appendCardDeck(Rr(Nr),Gr,!0)}function Qr(){BootstrapDialog.show({title:window.$.i18n("pc-decks-editor-title"),size:BootstrapDialog.SIZE_NORMAL,closable:!0,closeByBackdrop:!1,message:Yr(),buttons:[{label:window.$.i18n("pc-navigate-ok"),cssClass:"btn-primary us-normal",action(e){e.close()}}]})}const Xr={BASE:3,COMMON:3,RARE:3,EPIC:2,LEGENDARY:1,DETERMINATION:1,TOKEN:0};function Zr(e,t,n){for(var a=0;a<e.length;a++){var r=e[a];if(r.id==t&&r.shiny==n)return r}return null}function ei(e,t){if(!e||e.quantity<=0||t.length>=25)return!1;for(var n=0,a=0;a<t.length;a++){var r=t[a];e.id==r.id&&n++}return!(!_.onTestServer()&&n>=Xr[e.rarity])}function ti(e,t,n=!1){for(var a=null,r=0;r<window.userArtifacts.length;r++){var i=window.userArtifacts[r];i.id==e&&(a=i)}var o=window.soul;decksArtifacts[o].push(a),updateArtifactSlots(),null!==lastOpenedDialog&&lastOpenedDialog.close(),checkCompletion(),t||ai(),Gr.isBase&&!n&&nt.AddArtifact(e,Gr.soul,(function(){}))}function ni(e,t=!1){Rr("#deckCards"+window.soul).empty(),Rr("#nbCardDeck"+window.soul).html(0);for(var n=0;n<window.decks[window.soul].length;n++){var a=window.decks[window.soul][n];updateQuantity(window.soul,a,1)}decks[window.soul]=[],decksArtifacts[window.soul]=[],updateArtifactSlots(),checkCompletion(),refreshDeckList(),applyFilters(),showPage(currentPage),canClearCards=!0,e||ai(),Gr.isBase&&!t&&nt.RemoveEverything(Gr.soul,(function(){}))}function ai(){for(var e={cards:[],artifacts:[]},t=0;t<window.decks[window.soul].length;t++){var n=window.decks[window.soul][t],a={id:n.id};n.shiny&&(a.shiny=!0),e.cards.push(a)}for(t=0;t<window.decksArtifacts[window.soul].length;t++){var r=window.decksArtifacts[window.soul][t];e.artifacts.push(r.id)}window.localStorage[Gr.key]=JSON.stringify(e)}var ri=window.showDeckLoad;var ii=n(5092);l(ii.Z);var oi=!0,si=!0,di={},ci=new pt,li="",ui=0,pi=!1,hi=window.$;e.events.on("Chat:getSelfInfos",(function(e){var t=JSON.parse(e.me);li=t.division,ui=t.eloRanked}));var fi={standard:window.sendJoinQueue,ranked:window.sendJoinRankedQueue,event:window.sendJoinEventQueue,boss:window.sendJoinBossQueue,reload:function(){window.location.reload()}};function mi(){si||(hi("#phase1").attr("hidden",!0).css("display","none"),hi("#deckSelectContainer").attr("hidden",!1))}function gi(){hi("#phase1").attr("hidden",!1).css("display","block"),hi("#deckSelectContainer").attr("hidden",!0)}function yi(e){Ci(e),gi()}function Ci(e){di=e,hi("#PrettyCards_DeckArtifacts").html("");for(var t=0;t<e.artifacts.length;t++){var n=e.artifacts[t];hi("#PrettyCards_DeckArtifacts").append(et.ReturnArtifactIcon(n)).append(" ")}window.localStorage["prettycards."+window.selfId+".selectedPlayDeckId"]=e.id,window.localStorage["prettycards."+window.selfId+".selectedPlayDeckSoul"]=e.soul,oi=!1,si=!1;var a=hi("#PrettyCards_DeckContainer");a.html(""),ci.appendCardDeck(a,e,!1)}function wi(t){if(!(oi||"ranked"==t&&!pi&&"LEGEND"==li&&ui<=2e3&&(window.BootstrapDialog.show({title:window.$.i18n("pc-play-ranked-warning-title"),type:window.BootstrapDialog.TYPE_DANGER,message:window.$.i18n("pc-play-ranked-warning-body"),buttons:[{label:window.$.i18n("pc-play-ranked-warning-smart"),cssClass:"btn-primary",action:function(e){e.close()}},{label:window.$.i18n("pc-play-ranked-warning-dumbass"),cssClass:"btn-danger",action:function(e){pi=!0,wi("ranked"),e.close()}}]}),1))){var n=e.toast({title:window.$.i18n("pc-play-decksetup-title"),text:window.$.i18n("pc-play-decksetup-text")});si=!0,oi=!0,nt.ImportDeck(di,(function(e){si=!1,oi=!1,n.exists()&&n.close(),"success"==e?(hi("#playDecks").val(di.soul),fi[t]()):console.log("DeckEditor.ImportDeck error!")}))}}l(ii.Z);var vi=!0,bi=!0,Pi={},_i=new pt,ki={normal:window.joinGame,password:window.joinGamePassword,create:window.createGame};function Si(){$("#state1").attr("hidden",!1).css("display","block"),$("#deckSelectContainer").attr("hidden",!0)}function xi(e){Ti(e),Si()}function Ti(e){Pi=e,$("#PrettyCards_DeckArtifacts").html("");for(var t=0;t<e.artifacts.length;t++){var n=e.artifacts[t];$("#PrettyCards_DeckArtifacts").append(et.ReturnArtifactIcon(n)).append(" ")}window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]=e.id,window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"]=e.soul,vi=!1,bi=!1;var a=$("#PrettyCards_DeckContainer");a.html(""),_i.appendCardDeck(a,e,!1)}window.PrettyCards_StartJoiningQueue=function(t,n){if(!vi){var a=e.toast({title:window.$.i18n("pc-play-decksetup-title"),text:window.$.i18n("pc-play-decksetup-text")});bi=!0,vi=!0,nt.ImportDeck(Pi,(function(e,r){bi=!1,vi=!1,a.exists()&&a.close(),"success"==e&&($("#customDecks").val(Pi.soul),ki[n](t))}))}};var Ai=a.override_decks.value();function Ei(e,t){for(var n={},a=0;a<e.length;a++){var r=e[a];if(r.fixedId==t&&(r.shiny?n.shiny=r:n.normal=r,n.normal&&n.shiny))return n}return n}l(n(1298).Z);var Ii,$i=[],Di=[],Ni=0,Ri=[];function Li(){$i.forEach((e=>{window.craft(e.id,e.shiny)})),Di.forEach((e=>{et.BuyArtifact(e.id)}))}function Mi(e,t){!e||t.length<=0||(Di=[],e.empty(),t.forEach((t=>{var n=et.GetArtifactById(t),a=et.IsArtifactPurchasable(n.id)?"PrettyCards_MassCraft_MissingArtifact":"",r=(function(e){"COMMON"!==e&&e.toLowerCase()}(n.rarity),document.createElement("DIV"));r.className=`PrettyCards_MassCraft_ArtifactSlot pointer ${a} ${n.rarity}`,r.appendChild(_.getArtifactImage(n.image)),r.appendChild(document.createTextNode(" "+$.i18n("artifact-name-"+t))),e.append(r),et.IsArtifactPurchasable(n.id)&&Di.push(n)})))}function Oi(){$("#PrettyCards_MassCraft_DustCount").html(We.dust);var e=0;$i.forEach((t=>{e+=t.cost}));var t=0;Di.forEach((e=>{t+=e.cost}));var n="";e>0&&(n+=e>0?`${e} <img src="images/icons/dust.png" class="height-32">`:""),t>0&&(e>0&&(n+=" "),n+=e>0?`<span class="yellow">${t}</span> <img src="images/icons/gold.png" class="height-32">`:"");var a=window.$.i18n("pc-masscraft-buyall",n);$("#PrettyCards_MassCraft_BuyAllBtn").removeClass("PrettyCards_Hidden"),$("#PrettyCards_MassCraft_BuyAllBtn").addClass("btn-success"),$("#PrettyCards_MassCraft_BuyAllBtn").removeClass("btn-danger"),$("#PrettyCards_MassCraft_BuyAllBtn").attr("disabled",!1),0==e&&0==t&&(a=`<span class='green'>${window.$.i18n("pc-masscraft-allgood")}</span>`,$("#PrettyCards_MassCraft_BuyAllBtn").addClass("PrettyCards_Hidden"),Ni>0&&(a=`<span class='yellow'>${window.$.i18n("pc-masscraft-allgood-nodt",Ni)}</yellow>`)),(e>We.dust||t>We.gold)&&($("#PrettyCards_MassCraft_BuyAllBtn").addClass("btn-danger"),$("#PrettyCards_MassCraft_BuyAllBtn").removeClass("btn-success"),$("#PrettyCards_MassCraft_BuyAllBtn").attr("disabled",!0)),$("#PrettyCards_MassCraft_Cost").html(a)}function Bi(e){var t=e.soul,n=$('<div id="PrettyCards_MassCraft_Preview"></div>'),a=$('<div id="PrettyCards_MassCraft_SoulDeckRow"></div>'),r=$(`<div class="${t} pointer" onclick="soulInfo('${t}')"> ${$.i18n("soul-"+t.toLowerCase())}</div>`);r.prepend(_.getSoulImage(t)),Ri=e.artifactIds;var i=$('<div id="PrettyCards_MassCraft_Artifacts"></div>');Mi(i,Ri),a.append(r),a.append(i);var o=$(`\n        <div id="PrettyCards_MassCraft_ModeSelectRow">\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-nonly")}</div>\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-sonly")}</div>\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-nmixed")}</div>\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-smixed")}</div>\n        </div>\n    `),s=$('<div id="PrettyCards_MassCraft_CardSlot"></div>');function d(t=0,n=!1){var a=$(`.PrettyCards_MassCraft_ModeSelectBtn:nth-child(${t+1})`);a.hasClass("PrettyCards_MassCraft_ModeSelected")&&!n||($(".PrettyCards_MassCraft_ModeSelectBtn").removeClass("PrettyCards_MassCraft_ModeSelected"),a.addClass("PrettyCards_MassCraft_ModeSelected"),s.empty().append(function(e,t=0){var n=function(){var e={};return window.collection.forEach((t=>{e[t.id]||(e[t.id]={normal:0,shiny:0}),e[t.id][t.shiny?"shiny":"normal"]=t.quantity})),e}(),a=$('<div id="PrettyCards_MassCraft_CardContainer"></div>');function r(e,t,r){var i={...window.getCard(e)};i.shiny=t;var o=window.appendCard(i,a);r?n[e][t?"shiny":"normal"]--:(o.addClass("PrettyCards_MassCraft_NotHave"),"DETERMINATION"!==i.rarity?($i.push({id:e,shiny:t,cost:window.underscript.utils.rarity.cost(i.rarity,t)}),o.click((function(){window.craft(e,t)}))):(Ni++,o.addClass("transparent")))}function i(e,t=!0){r(e,!1,t)}function o(e,t=!0){r(e,!0,t)}return $i=[],Ni=0,e.forEach((e=>{var a=n[e]||{normal:0,shiny:0};(0==t||2==t)&&a.normal>0?i(e):(1==t||3==t)&&a.shiny>0||2==t&&a.shiny>0?o(e):3==t&&a.normal>0?i(e):0==t||2==t?i(e,!1):o(e,!1)})),a}(e.cardIds,t)),Oi())}for(var c=o.find(".PrettyCards_MassCraft_ModeSelectBtn"),l=0;l<c.length;l++){const e=l,t=function(){d(e)};c[l].onclick=t,console.log(c[l],e,t)}var u=$(`\n        <div id="PrettyCards_MassCraft_BuyRow">\n            <div>\n                <img src="images/icons/dust.png" class="height-32">\n                <span id="PrettyCards_MassCraft_DustCount">[A LOT!]</span>\n            </div>\n            <div>\n                <span id="PrettyCards_MassCraft_Cost"></span> <button class="btn btn-success" id="PrettyCards_MassCraft_BuyAllBtn">${window.$.i18n("pc-masscraft-buyallbtn")}</button>\n            </div>\n        </div>\n    `);return d(0,!0),$(c[0]).addClass("PrettyCards_MassCraft_ModeSelected"),u.find("#PrettyCards_MassCraft_BuyAllBtn").click(Li),n.append(a),n.append(o),n.append(s),n.append(u),n}i({key:"sktimacraft",name:"Enable Mass Crafting input",note:'Also known as "Sktimacraft".',type:"boolean",refresh:!1,default:!0}),e.events.on("craftcard",(function(e){if(Ii&&Ii.opened){$(`#PrettyCards_MassCraft_CardContainer #${e.id}${e.shiny?".shiny":""}.PrettyCards_MassCraft_NotHave:first-of-type`).removeClass("PrettyCards_MassCraft_NotHave");for(var t=0;t<$i.length;t++){var n=$i[t];if(n.id==e.id&&n.shiny==e.shiny){$i.splice(t,1),Oi();break}}}})),e.events.on("PrettyCards:artBuySuccess",(function(e){Ii&&Ii.opened&&(Mi($("#PrettyCards_MassCraft_Artifacts"),Ri),Oi())}));var Fi,Hi,Gi,Ui=i({key:"hand_reveal_setting",name:"Improved Reveal Hand Setting",type:"boolean",refresh:!0,default:!0});function Wi(){Hi.setAttribute("disabled","true"),Gi.setAttribute("disabled","true"),window.$.post("/Settings",{toggleSpectator:"lol"},(function(e){Hi.removeAttribute("disabled"),Gi.removeAttribute("disabled")})).fail((function(){window.location.reload()}))}function zi(e,t){var n=_.completeCopy(window.getCard(e.cardId)||window.allCards[0]);n.typeSkin=e.typeSkin;var a=window.appendCard(n,t);return a.find(".cardImage").css("background-image",'url("'+e.image+'")').css("background-size","contain"),a.find(".cardDesc").find("div").html(e.name+'<br><span class="Artist">'+e.authorName+"</span>"),a.click(to),a}function ji(){var e=window.$("#PrettyCards_CardListContainer");e.html("");for(var t=0;t<Vi.length;t++)zi(Vi[t],e)}function Ki(){qi=function(){for(var e="",t=0;t<window.allCards.length;t++){var n=window.allCards[t];e=e+'<option value="'+(n.fixedId||n.id)+'">'+n.name+"</option>"}return e}(),ji()}l(n(5727).Z);var Vi,qi,Yi,Ji=!1;function Qi(){Ji?($(".cardBackground").css("box-shadow",""),Ji=!1,window.$("#PrettyCards_DeleteCustomCardSkinButton").html("Delete")):($(".cardBackground").css("box-shadow","0px 0px 10px 6px rgba(255,0,0,0.8)"),Ji=!0,window.$("#PrettyCards_DeleteCustomCardSkinButton").html("Cancel"))}function Xi(){Ji&&Qi(),eo({active:!1,authorName:window.selfUsername||"Unknown",cardId:1,cardName:window.getCard(1).name,id:-22,image:"",name:"New Skin",owned:!0,typeSkin:0,ucpCost:-9999,isCustom:!0,unavailable:!0,storageId:Vi.length})}function Zi(){window.BootstrapDialog.show({title:"Image URL Help",size:window.BootstrapDialog.SIZE_WIDE,message:'<h1>Why is a link needed instead of an uploaded image from my PC?</h1><p>Because localStorage, the place where I need to store things around here, has quite some strict policies with memory usage, and image data would most of the time take up all of the available space and more, causing a bunch of issues. So, instead, I settled with a method that is reliable and will always work.</p><h1>How do I get an image link?</h1><p>There are quite a lot of options out there host-wise, but what\'s important is that the link you type in is pointing towards the raw image. Nothing else, nothing more.</p><h1>How do I upload an image if I don\'t have a server of my own, or don\'t pay a host?</h1><p>You can use image sharing sites, or even <i>some</i> social media sites to do the hosting for you. I would personally recommend <a href="https://imgur.com/">Imgur</a>, as it\'s easy to upload an image there AND the compression is minimal. Discord is also a similarly excellent choice.</p><p>After uploading the image to your preferred "hosting service", right-click the image, then click "Copy Image Address" or "Copy Image Link". Then paste THAT into the Image Link input and you should be done. This should work ~90% of the time.</p><h1>I did what you said and it\'s still not working. What do I do?</h1><p>Contact me on Discord so we can sort this issue out, and potentially correct or expand upon this tutorial for others who may be struggling.</p><br><p class="gray">Thanks for reading! ^^</p><p class="gray">PS: The recommended resolutions: <br>Normal Skins: 160x90<br>Full Skins: 160x230<br>Breaking Skins: 176x246</p>',closable:!0,buttons:[{label:"Close!",cssClass:"btn btn-primary us-normal",action(e){e.close()}}]})}function eo(e){var t=document.createElement("DIV");t.id="PrettyCards_CustomCardSkins_EditContainer",t.className="PrettyCards_RowFlex";var n=document.createElement("DIV");n.className="PrettyCards_CustomCardSkins_EditColumn";var a=document.createElement("DIV");a.className="PrettyCards_CustomCardSkins_EditColumn",t.appendChild(n),t.appendChild(a);var r=document.createElement("P");r.innerHTML="Card Skin Name",r.className="PrettyCards_InvertedP",n.appendChild(r);var i=document.createElement("INPUT");i.className="form-control",i.value=e.name,i.setAttribute("type","text"),n.appendChild(i);var o=document.createElement("P");o.innerHTML="Artist Name",o.className="PrettyCards_InvertedP",n.appendChild(o);var s=document.createElement("INPUT");s.className="form-control",s.value=e.authorName,s.setAttribute("type","text"),n.appendChild(s);var d=document.createElement("P");d.innerHTML="Skin Type",d.className="PrettyCards_InvertedP",n.appendChild(d);var c=document.createElement("SELECT");c.className="form-control white",c.innerHTML='\n\t\t<option value="0">Normal</option>\n\t\t<option value="1">Full</option>\n\t\t<option value="2">Breaking</option>\n\t',c.value=e.typeSkin,n.appendChild(c);var l=document.createElement("P");l.innerHTML="Card (Currently doesn't matter)",l.className="PrettyCards_InvertedP",n.appendChild(l);var u=document.createElement("SELECT");u.className="form-control white",u.innerHTML=qi,u.value=e.cardId,n.appendChild(u);var p=document.createElement("P");p.innerHTML="Image Link",p.className="PrettyCards_InvertedP",n.appendChild(p);var h=document.createElement("DIV");h.className="PrettyCards_RowFlex",n.appendChild(h);var f=document.createElement("INPUT");f.className="form-control",f.id="PrettyCards_EditCardSkin_ImageInput",f.value=e.image,f.setAttribute("type","text"),h.appendChild(f);var m=document.createElement("BUTTON");m.className="btn btn-primary",m.innerHTML='<span class="glyphicon glyphicon-question-sign"></span>',m.onclick=Zi,h.appendChild(m),window.BootstrapDialog.show({title:"Edit Card Skin!",size:window.BootstrapDialog.SIZE_LARGE,message:t,closable:!0,closeByBackdrop:!1,buttons:[{label:"Cancel!",cssClass:"btn btn-danger us-normal",action(e){e.close()}},{label:"Save!",cssClass:"btn btn-primary us-normal",action(t){var n=f.value;!function(e,t,n,a,r,i){var o={active:!1,authorName:n,cardId:r,cardName:window.getCard(r).name,id:-22,image:i,name:t,owned:!0,typeSkin:a,ucpCost:-9999,isCustom:!0,unavailable:!0};localStorage[no(e)]=JSON.stringify(o),o.storageId=e,Vi[e]=o,ji()}(e.storageId,i.value,s.value,Number(c.value),Number(u.value),n),t.close()}}]})}function to(e){var t=$(e.currentTarget),n=Array.prototype.indexOf.call(document.getElementById("PrettyCards_CardListContainer").children,t[0]),a=Vi[n];Ji?function(e){for(var t=e.storageId;t<Vi.length-1;t++)localStorage[no(t)]=localStorage[no(t+1)],Vi[t+1].storageId--;localStorage.removeItem(no(Vi.length-1)),Vi.splice(e.storageId,1),Qi(),ji()}(a):eo(a)}function no(e){return"prettycards.custom_card_skin."+window.selfId+"."+e}function ao(e){var t=window.localStorage[no(e)];return t?JSON.parse(t):null}A("PrettyCards:onPageLoad",(function(){if(underscript.onPage("CustomCards")){var t=window.appendCard;window.appendCard=function(n,a){var r=t(n,a);return e.events.emit("PC_appendCard",n,r),r},e.events.on("PC_appendCard",(function(e,t){if(e.isCustom){var n=e.collection;"number"==typeof n&&(n=qn[n],e.collection=n),t.addClass("ext_"+e.extension);var a=(l=3==_.getSeasonMonth()&&e.aprilImage)?n.aprilCardImagePrefix:n.cardImagePrefix,r=l?e.aprilImage:e.image,i=_.constructURL(a,r,"png",n.oldPrefixBehavior);t.find(".cardImage").css("background-image",'url("'+i+'")'),t.find(".cardRarity").css("background-image",'url("'+_.constructURL(n.rarityImagePrefix,e.extension+"_"+e.rarity,"png",n.oldPrefixBehavior)+'")');for(var o=t.find(".cardTribes .tribe"),s=0;s<e.tribes.length;s++){var d=e.tribes[s],c=n.getTribeById(d);c&&(o[s].src=_.constructURL(n.tribeImagePrefix,c.image,"png",n.oldPrefixBehavior))}if(e.background){var l,u=$('<div class="breakingSkinBackground"></div>'),p=(a=(l=3==_.getSeasonMonth()&&e.aprilBackground)?n.aprilCardImagePrefix:n.cardImagePrefix,r=l?e.aprilBackground:e.background,_.constructURL(a,r,"png",n.oldPrefixBehavior));u.css("background","url('"+p+"') no-repeat"),u.css("background-size","contain"),u.css("background-position","center"),t.prepend(u)}var h=""!=e.customFont?e.customFont:n.universalCustomFont;if(""!=h&&"DTM-Mono"!=h){var f=t.find(".cardName div"),g=t.find(".cardDesc div");f.css("font-family",h),g.css("font-family",h),f.css("font-size",""),g.css("font-size","");var y=window.getResizedFontSize(f,25);f.css("font-size",y+"px");var C=window.getResizedFontSize(g,81);g.css("font-size",C+"px")}if(e.note&&e.note.length>0){var w=window.$(`<img src="${_.asset("img/CardPowers/note.png")}"></img>`);w.contextmenu((function(){!function(e){window.BootstrapDialog.show({title:"Author's Note",message:window.$.i18n(e.note),buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}(e)})),m(t).append(w[0])}}}))}})),e.events.on("PrettyCards:customCards",(function(){var e=window.prettycards.newCollection({name:"Doki Doki Literature Club Set",author:"elytrafae",cardImagePrefix:_.asset("img/Cards/DDLC/"),cardSongPrefix:_.asset("audio/cards/DDLC/"),rarityImagePrefix:_.asset("img/RarityIcons/"),artifactImagePrefix:_.asset("img/Artifacts/"),tribeImagePrefix:_.asset("img/Tribes/"),soulImagePrefix:_.asset("img/Souls/"),aprilCardImagePrefix:_.asset("img/Cards/DDLC/aprilFools/"),aprilArtifactImagePrefix:_.asset("img/Artifacts/aprilFools/"),note:"This is a Doki Doki Literature Club themed card set I wanted to make for the longest time. I wanted it to be perfect, so I often modified it, asked for feedback and even the custom cards idea was born because of this set. So, please enjoy and don't be afraid to give me feedback! ^^\n\t\t<br><br>\n\t\tNOTE: Hand nerfs cannot bring a monster below 1 HP. I didn't add this in every instance because some cards are full enough already."}),n=e.loadFont("Aller",_.asset("fonts/Aller_Rg.ttf"));e.universalCustomFont=n;var a=e.newFrame({id:"DDLC",monsterImage:_.asset("img/CardFrames/DDLC/frame_monster.png"),spellImage:_.asset("img/CardFrames/DDLC/frame_spell.png")}),r=e.newTribe({name:"{{PLURAL:$1|Doki|Dokis}}",image:"DOKI",id:"DOKI"}),i=e.newTribe({name:"{{PLURAL:$1|CHR Spell|CHR Spells}}",image:"CHRSPELL",id:"CHRSPELL"}),o=e.newKeyword({name:"Fallen",description:"This effect triggers when this monster dies during its owner's turn.",id:"FALLEN"});e.newCard({name:"{{PLURAL:$1|Sayori|Sayoris}}",image:"Sayori",aprilImage:"Sayori",cost:3,attack:3,hp:3,description:`{{KW:MAGIC}}: Kill an ally monster to gain {{KW:HASTE}}. ${o.me()}: Give 3 ${r.me(2)} in your hand and 2 in your deck +2/-1.`,tribes:[r],extension:"DDLC",rarity:"COMMON",frameSkinName:a,note:`One of the textbook examples of this tribe (or, at least, the old direction I wanted to take with it). <br><br>It has slightly better than average stats with an either negligable or useful side effect and a slightly weak ${o.me()} effect, which serves to make it easier for these monsters to trade. <br><br>I was thinking of modifying her slightly, but I am really unsure if I want that.`}),e.newCard({name:"{{PLURAL:$1|Natsuki|Natsukis}}",image:"Natsuki",aprilImage:"Natsuki",cost:3,attack:3,hp:3,loop:1,description:`{{KW:LOOP}} (1). {{KW:MAGIC}}: Force an ally ${o.me()} monster to attack the monster in front of it.`,tribes:[r],extension:"DDLC",rarity:"COMMON",frameSkinName:a,note:"Simple, effective, powerful. This is the main activator of the tribe. While it IS tribed old Politics Bear, this card fits here too perfectly to warrant changing it."}),e.newCard({name:"{{PLURAL:$1|Yuri|Yuris}}",image:"Yuri",aprilImage:"Yuri",cost:4,attack:4,hp:5,description:`{{KW:MAGIC}}: Deal this card's {{HP}} buffs or nerfs as {{DMG}} to a monster. ${o.me()}: Give the highest {{ATK}} enemy monster -2/-1.`,tribes:[r],extension:"DDLC",rarity:"COMMON",frameSkinName:a,note:`Originally created around anti-ping and {{KW:PARALYZE}}, then {{KW:KR}}. Now I feel like she sits at a pretty good spot with a choice system built into her ${o.me()} effect.`}),e.newCard({name:"{{PLURAL:$1|Monika|Monikas}}",image:"Monika",aprilImage:"Monika",cost:7,attack:4,hp:6,taunt:!0,description:`{{KW:TAUNT}}. {{KW:DUST}}: Give the top 5 ${r.me(2)} in your deck -1 {{cost}}.`,tribes:[r],extension:"DDLC",rarity:"RARE",frameSkinName:a,note:`The tribe's {{KW:TAUNT}}. I am unsure how well she would perform, but she's hardly a bad {{KW:TAUNT}}, so she can offer protection to other ${o.me()} monsters with stronger effects.`}),e.newCard({name:"{{PLURAL:$1|Amy|Amys}}",image:"Amy",aprilImage:"Amy",cost:4,attack:4,hp:3,description:`{{KW:MAGIC}}: Kill an ally ${o.me()} monster to trigger its ${o.me()} effect. ${o.me()}: Add a copy of it to your deck with -1 {{cost}}.`,tribes:[r],extension:"DDLC",rarity:"RARE",frameSkinName:a,note:`One of the more complicated cards, but basically it's a double ${o.me()} trigger, and it can give you back copies of the cards. Pure value!`}),e.newCard({name:"{{PLURAL:$1|Main Character|Main Characters}}",image:"Protagonist",cost:5,attack:3,hp:5,taunt:!0,description:`{{KW:TAUNT}}. {{KW:MAGIC}}: If this has 3- {{HP}}, lose {{KW:TAUNT}} to gain {{KW:HASTE}}. {{KW:DELAY}} and ${o.me()}: Burn the last other ${r.me()} from your dustpile to add it your deck with {{KW:HASTE}}.`,tribes:[r],extension:"DDLC",rarity:"RARE",frameSkinName:a,note:"Does anyone even read these?"}),e.newCard({name:"{{PLURAL:$1|Alphys's PC|Alphys's PCs}}",image:"Alphys_PC",cost:6,attack:5,hp:7,description:"{{KW:MAGIC}}: Look at 3 random {{TRIBE:DOKI|2}} you didn't start in your deck with and catch one. {{KW:DUST}}: Release it into your hand.",extension:"BASE",rarity:"RARE",customFont:"DTM-Mono",note:"One of my headcanons as to how could such cards be added to Undercards was that Alphys would play a dating sim on her PC, but somehow the characters from the dating sim would come to life."}),e.newCard({name:"{{PLURAL:$1|Anime Poster|Anime Posters}}",image:"Anime_Poster",cost:5,attack:4,hp:4,description:`{{KW:MAGIC}}: Look at 3 random ${o.me()} monsters (rarity <= {{RARITY:EPIC}}) and choose one. {{KW:DELAY}}: Summon it for both players and force yours to attack the enemy one.`,extension:"BASE",rarity:"EPIC",customFont:"DTM-Mono",note:`Most of the time the effect is just helpful to you, since there are few ${r.me(2)} who mess this up. It's also {{KW:SUPPORT}} support!`}),e.newCard({name:"{{PLURAL:$1|Depressed Sayori|Depressed Sayoris}}",image:"Depressed_Sayori",cost:4,attack:3,hp:2,description:`{{KW:MAGIC}}: Heal 1 {{HP}} for each ${r.me()} in your dustpile (max: 12). ${o.me()}: Trigger the effect of the highest {{HP}} other ${o.me()} monster in your hand and give it +1/-1.`,tribes:[r],extension:"DDLC",rarity:"EPIC",frameSkinName:a,note:"Probably the hardest one to give a magic to for me. This card's original magic caused this card's text to be unreadable, so I made it a bit simpler."}),e.newCard({name:"{{PLURAL:$1|Obsessed Yuri|Obsessed Yuris}}",image:"Obsessed_Yuri",cost:6,attack:5,hp:5,description:`{{KW:MAGIC}}: Target an ally monster. {{KW:DELAY}}: If it's dead, {{KW:SILENCE}} and deal 5 {{DMG}} to the monster in front of it. Otherwise, give all ${r.me(2)} in your hand +3/-2.`,tribes:[r],extension:"DDLC",rarity:"EPIC",frameSkinName:a,note:`A ${o.me()} support card that doesn't actually HAVE a ${o.me()} keyword? Yes, and it can even singlehandedly take out some cards that could cause you trouble if you play your cards right, such as a Mettaton NEO or Sans (if you really must). Its secondary effect can also bring advantages that could be considered.`}),e.newCard({name:"{{PLURAL:$1|Corrupted Natsuki|Corrupted Natsukis}}",image:"Corrupted_Natsuki",cost:5,attack:4,hp:4,transparency:!0,description:`{{KW:TRANSPARENCY}}. ${o.me()}: Add 2 random ${r.me(2)} from your dustpile to your hand with -1 {{cost}} and -2 {{HP}}.`,tribes:[r],extension:"DDLC",rarity:"EPIC",frameSkinName:a,note:`I wanted to mess around with things that can help one trigger ${o.me()} effects without the use of {{KW:Haste}}, bonus attacks or self damage . . . And the answer was {{KW:TRANSPARENCY}}!<br><br>I am unsure how cool the effect is, but I still think that something like this can be very useful in ${o.me()} decks.`}),e.newCard({name:"{{PLURAL:$1|Traumatized MC|Traumatized MCs}}",image:"Traumatized_MC",cost:4,attack:5,hp:3,description:"{{KW:MAGIC}}: Swap this card's {{HP}} with the {{HP}} of another monster.",tribes:[r],extension:"DDLC",rarity:"EPIC",frameSkinName:a,note:"Does anyone even read these?"});var s=e.newCard({name:"{{PLURAL:$1|Desparation|Desparations}}",image:"Desparation",cost:0,description:"Give an ally monster {{KW:HASTE}} and +2/-1. {{KW:DELAY}}: If it's alive, {{KW:SILENCE}} and kill it. Draw a card.",extension:"DDLC",rarity:"TOKEN",frameSkinName:a,note:"Giving Haste in this tribe is very controversial, so I kept it to a conditionally bad(?) card."});e.newCard({name:"{{PLURAL:$1|Club President Monika|Club President Monikas}}",image:"Club_President_Monika",cost:6,attack:6,hp:5,description:`{{KW:DELAY}}: Force all ally monsters to attack enemy monsters in front of them. {{KW:FALLEN}}: Add a ${s.me()} to your deck.`,tribes:[r],extension:"DDLC",rarity:"LEGENDARY",frameSkinName:a,note:"This is one card I am not all that happy with now, personally, but I admit it can have some very clever strategies to ensure that the {{KW:DELAY}} effect doesn't hit you, so I left it as-is."}),e.newCard({name:"{{PLURAL:$1|Club President Sayori|Club President Sayoris}}",image:"Club_President_Sayori",cost:6,attack:5,hp:6,description:`{{KW:TURN-START}}: Burn the first ${r.me()} from your dustpile to add it to your hand with +2/-1. {{KW:MAGIC}}: Trigger the {{KW:TURN-START}} effect twice.`,tribes:[r],extension:"DDLC",rarity:"LEGENDARY",frameSkinName:a,note:'This card just screams "TRADES!". This one, just like Depressed Sayori, originally had a very long text, so I modified the effect a little, but the principle is the same.'}),e.newCard({name:"{{PLURAL:$1|Sayori.chr|Sayori.chrs}}",image:"SayoriCHR",cost:0,description:"Heal 5 {{HP}} to yourself or give a monster -1/-1 and {{KW:HASTE}}. Draw a card.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:a,note:`Semi-targeted heals and second best card draw out of the ${i.me(2)}.`}),e.newCard({name:"{{PLURAL:$1|Natsuki.chr|Natsuki.chrs}}",image:"NatsukiCHR",cost:0,description:"Look at 4 different random 3-5 {{cost}} cards in your dustpile. Add one to your hand with +2/-1.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:a,note:`Card revive and best card draw out of the ${i.me(2)}.`}),e.newCard({name:"{{PLURAL:$1|Yuri.chr|Yuri.chrs}}",image:"YuriCHR",cost:0,description:"Give an enemy monster -1/-2, then a random other enemy monster -1/-1. If there is only one enemy monster, draw a card.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:a,note:"Nerfs and either more nerfs or a conditional card draw if there was only one enemy monster."}),e.newCard({name:"{{PLURAL:$1|Monika.chr|Monika.chrs}}",image:"MonikaCHR",cost:0,description:"{{KW:SILENCE}} an enemy monster if its {{ATK}} was 4 or less. Otherwise, give it -3 {{ATK}}.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:a,note:"Powerful effect at the downside of no card draws."}),e.newCard({name:"{{PLURAL:$1|Just Monika|Just Monikas}}",image:"Just_Monika_Breaking",aprilImage:"Just_Monika",background:"Just_Monika_Breaking_BG",aprilBackground:"Just_Monika_Back",themeSongs:["Just_Monika","Just_Monika_2","Just_Monika_3"],cost:9,attack:6,hp:7,description:`{{KW:MAGIC}}: Add 8 ${i.me(2)} to your hand, and excess ones to your deck. ${o.me()}: Add a random different ${i.me()} to your hand and deck.`,tribes:[r],extension:"DDLC",typeSkin:2,rarity:"LEGENDARY",frameSkinName:a}),t.ddlc_collection=e})),e.events.on("PrettyCards:customCards",(function(){var e=window.prettycards.newCollection({name:"Switch Soul Set",author:"Baltoni and elytrafae",cardImagePrefix:_.asset("img/Cards/Switch_Soul/"),artifactImagePrefix:_.asset("img/Artifacts/"),tribeImagePrefix:_.asset("img/Tribes/"),soulImagePrefix:_.asset("img/Souls/"),note:"A collaboration between @Baltoni#7741 and I for Soultest back in the day, now in a fresh format!"}),t=e.newSoul({displayName:"SWITCH",description:"",image:"SWITCH",name:"SWITCH",note:"An idea for a spell-oriented soul. Unfortunately, I lost access to the original sheet where I submitted all of these cards, so they will have minimal reasoning now . . ."});Yi=e.newCard({soul:t,name:"{{PLURAL:$1|Spellbook|Spellbooks}}",image:"Spellbook",cost:0,description:`Look at 3 random ${t.me()} spells (<= {{RARITY:RARE}}). Add one to your hand. If your opponent has more monsters than you, give it -1 {{cost}}.`,extension:"BASE",rarity:"TOKEN"}),t.setDescription(`At the start of every 4th turn add a ${Yi.me()} to your hand.`),e.newCard({soul:t,name:"{{PLURAL:$1|Magic Orbs|Magic Orbs}}",image:"Magic_Orbs_2",cost:1,description:"Swap the {{ATK}} and {{HP}} of a monster. Draw a card.",extension:"BASE",rarity:"BASE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Sacrificial Lamb|Sacrificial Lambs}}",image:"Sacrificial_Lamb",cost:5,description:"Burn the most expensive {{KW:GENERATED}} spell in your hand to kill an enemy monster.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:t,name:"{{PLURAL:$1|Sabotage|Sabotages}}",image:"Sabotage",cost:1,description:"Look at 3 random different {{RARITY:BASE}} spells. Choose one. Add the other two to your hand.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:t,name:"{{PLURAL:$1|Chaotic Powers|Chaotic Powers}}",image:"Chaotic_Powers",cost:4,description:"Add 3 random other spells ({{cost}} <= 4) to your hand which you didn't cast this game with -1 {{cost}}.",extension:"DELTARUNE",rarity:"COMMON"}),e.newCard({soul:t,name:"{{PLURAL:$1|Mass Necromancy|Mass Necromancies}}",image:"Even_Necromancy",cost:3,description:"For ever 3 different spells you've cast this game, burn a random monster in your dustpile and add it to your hand (max: 3).",extension:"BASE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Evolutionary Leap|Evolutionary Leaps}}",image:"Evolutionary_Leap",cost:2,description:"Turn a monster in your hand into a random monster with +1 base {{cost}}, then give it -1 {{cost}} (keep base buffs). Draw a card.",extension:"BASE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Hysteria|Hysterias}}",image:"Mew_Mew_Special",cost:1,description:"Burn the 2 cheapest {{KW:GENERATED}} cards in your hand to draw 2 cards. Reduce their {{cost}} by the average of the burned cards' costs.",extension:"BASE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Breeze of Freedom|Breezes of Freedom}}",image:"Breeze_Of_Freedom",cost:2,description:"Deal 1 {{DMG}} to all enemies and heal 1 {{HP}} to you for each {{DMG}} dealt.",extension:"DELTARUNE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Power Drain|Power Drains}}",image:"Power_Drain",cost:3,description:"Set a monsters {{ATK}} and {{HP}} to the {{ATK}} and {{HP}} of the monster in front of it. If it has {{KW:CHARGE}}, replace it with {{KW:HASTE}}.",extension:"BASE",rarity:"EPIC"}),e.newCard({soul:t,name:"{{PLURAL:$1|Triggers of Lunacy|Triggers of Lunacy}}",image:"Triggers_Of_Lunacy",cost:15,description:"In hand, this has -1 {{cost}} for each unique {{KW:GENERATED}} card you played this game. Deal 7 {{DMG}} to all enemy monsters.",extension:"BASE",rarity:"EPIC"}),e.newCard({soul:t,name:"{{PLURAL:$1|Food Fight|Food Fights}}",image:"Food_Fight",cost:7,description:"Summon a {{CARD:431}}. Shuffle 5 {{CARD:596|2}} into the top 10 cards of the enemy's deck.",extension:"DELTARUNE",rarity:"EPIC"}),e.newCard({soul:t,name:"{{PLURAL:$1|Royal Switch|Royal Switches}}",image:"Royal_Switch",cost:4,description:`Send your hand to the top of your deck and fill your hand with -1 {{cost}} non-{{RARITY:TOKEN}} ${t.me()} spells from highest to lowest rarity.`,extension:"BASE",tribes:["ROYAL_INVENTION"],rarity:"TOKEN"}),e.newArtifact({name:"Magic Wand",image:"Magic_Wand",rarity:"DETERMINATION",ownerId:65,soul:t.name,backgroundClass:"PrettyCards_ArtBG_MagicWand",description:`At the start of every even turn add a ${Yi.me()} to your hand.`})})),e.events.on("PrettyCards:customCards",(function(){if(a.my_own_custom_cards.value()){var e=window.prettycards.newCollection({name:"Hate Soul Set",author:"MysteryHD, bantikat and elytrafae",cardImagePrefix:_.asset("img/Cards/Hate_Soul/"),artifactImagePrefix:_.asset("img/Artifacts/"),tribeImagePrefix:_.asset("img/Tribes/"),soulImagePrefix:_.asset("img/Souls/"),note:"A HATE Soul concept we threw together to explore some game mechanics that went underutilised in the main game. Enjoy! ^^"}),t=e.newArtifact({name:"Darkness",description:"Whenever an ally monster dies, spend a counter to give the lowest {{HP}} enemy monster -1/-1. {{KW:TURN-START}}: Set the counters to 2.",image:"Darkness",rarity:"TOKEN"}),n=e.newSoul({displayName:"HATE",description:`After the opponent played their third card this game, gain the ${t.me()} artifact.`,image:"HATE",name:"HATE",note:"An idea for a soul that is oriented around killing its own minions and self damage."});e.newCard({soul:n,name:"{{PLURAL:$1|Leeching|Leechings}}",image:"Leeching",cost:2,description:"Kill an ally monster to heal yourself by its {{ATK}} and max {{HP}}.",extension:"BASE",rarity:"BASE"}),e.newCard({soul:n,name:"{{PLURAL:$1|Desparation|Desparations}}",image:"Desparation",cost:1,description:"Kill a 1+ base {{cost}} ally monster to draw 2 cards. If it has 4+ base {{cost}}, give them -1 {{cost}}, too.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:n,name:"{{PLURAL:$1|Magic Knife|Magic Knives}}",image:"Magic_Knife",cost:3,description:"Deal 3 {{DMG}} to a monster. If it survived, heal it by 3 and give it +2/+1.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:n,name:"{{PLURAL:$1|Graveyard Rise|Graveyard Rises}}",image:"Graveyard_Rise",cost:3,description:"{{KW:DELAY}}: Add a copy of every different ally monster that died this turn to your hand with -1 {{cost}}.",extension:"DELTARUNE",rarity:"COMMON"});var r=e.newCard({soul:n,name:"{{PLURAL:$1|Dark Wand|Dark Wands}}",image:"Dark_Wand",cost:3,description:"",extension:"BASE",rarity:"RARE"}),i=e.newCard({soul:n,name:"{{PLURAL:$1|Arcane Choice|Arcane Choices}}",image:"Arcane_Choice",cost:0,description:"Look at all spells with a {{cost}} equal to the base {{cost}} of this card. Add one to your hand and halve its {{cost}}.",extension:"BASE",rarity:"TOKEN"});r.setDescription(`Kill an ally monster to add an ${i.me()} to your hand. Set its base {{cost}} to the killed monster's {{cost}}, then set its {{cost}} to 0.`),e.newCard({soul:n,name:"{{PLURAL:$1|Eye for an Eye|Eye for an Eyes}}",image:"Eye_For_An_Eye",cost:4,description:"Kill an ally monster to kill a random enemy monster costing less than the killed ally monster.",extension:"BASE",rarity:"RARE"}),e.newCard({soul:n,name:"{{PLURAL:$1|Theft|Thefts}}",image:"Theft",cost:4,description:'Give a non-{{RARITY:DETERMINATION}} enemy monster: "{{KW:DUST}}: Summon a copy of this monster for your opponent with +1/+1".',extension:"BASE",rarity:"RARE"}),e.newCard({soul:n,name:"{{PLURAL:$1|???|???s}}",image:"Breeze_Of_Freedom",cost:"?",description:"",extension:"DELTARUNE",rarity:"RARE"}),e.newCard({soul:n,name:"{{PLURAL:$1|Avenge|Avenges}}",image:"Avenge",cost:"3",description:"Kill an ally monster and give all ally monsters +1/+1 for every 3 {{gold}} it costed.",extension:"BASE",rarity:"EPIC"});var o=e.newCard({soul:n,name:"{{PLURAL:$1|Numbing|Numbings}}",image:"Numbing",cost:2,description:"",extension:"BASE",rarity:"EPIC"}),s=e.newCard({name:"{{PLURAL:$1|Aimless Vessel|Aimless Vessel}}",image:"Aimless_Vessel",cost:5,description:"{{KW:HASTE}}. {{KW:DUST}}: Deal this card's {{cost}} as {{DMG}} to all monsters.",attack:4,hp:4,extension:"BASE",rarity:"TOKEN"});o.setDescription(`Kill a non-{{RARITY:DETERMINATION}} ally monster costing 3 or more and add an ${s.me()} to your hand with same stats.`),e.newCard({soul:n,name:"{{PLURAL:$1|Death Sentence|Death Sentences}}",image:"Death_Sentence",cost:5,description:'Give all ally monsters "{{KW:DUST}}: Deal half of this monsters {{ATK}} (rounded up) randomly split as {{DMG}} to enemy monsters.. {{KW:Delay}} (1): Kill all ally monsters.',extension:"DELTARUNE",rarity:"EPIC"});var d=e.newArtifact({name:"Finale",description:"{{KW:TURN_START}}: Gain -1 Max {{HP}} for each ally monster to give them all +1/+1.",image:"Finale",rarity:"TOKEN"});e.newCard({soul:n,name:"{{PLURAL:$1|Royal Hate|Royal Hates}}",image:"Royal_Hate",cost:2,description:`Gain the ${d.me()} artifact. Trigger its effect 3 times instantly.`,extension:"BASE",tribes:["ROYAL_INVENTION"],rarity:"TOKEN"})}}));const ro={name:"{{PLURAL:$1|Battle Mew Mew|Battle Mew Mews}}",image:"Battle_Mew_Mew",aprilImage:"Battle_Mew_Mew",extension:"BASE",rarity:"LEGENDARY",themeSongs:["Battle_Mew_Mew_1","Battle_Mew_Mew_2","Battle_Mew_Mew_3"]};function io(e){return{...e,...ro}}function oo(e,t,n){var a=3==_.getSeasonMonth()&&e.aprilImage,r=a?t.aprilArtifactImagePrefix:t.artifactImagePrefix,i=a?e.aprilImage:e.image,o=et.GetRarityDataFor(e),s=_.constructURL(r,i,"png",t.oldPrefixBehavior),d=$(`<img class="PrettyCards_Artifact ${o.imgClass}" src="${s}">`);return d.click((function(){window.artifactInfo(e.id)})),n.append(d),d}function so(e,t,n){var a=3==_.getSeasonMonth()&&e.aprilImage,r=a?t.aprilArtifactImagePrefix:t.artifactImagePrefix,i=a?e.aprilImage:e.image,o=et.GetRarityDataFor(e),s=document.createElement("IMG");s.src=_.constructURL(r,i,"png",t.oldPrefixBehavior);var d=$(`\n\t<div class="PrettyCards_CollectionNew_Soultifact ${e.backgroundClass||""}">\n\t\t<div id="PrettyCards_CollectionNew_SoultifactImageContainer"></div>\n\t\t<div>\n\t\t\t<div class="${o.txtClass} PrettyCards_CollectionNew_SoultifactName">${window.$.i18n("artifact-name-"+e.id)}</div>\n\t\t\t<div class="${o.txtClass} PrettyCards_CollectionNew_SoultifactRarity">${o.text}</div>\n\t\t\t<div>${window.$.i18n("artifact-"+e.id)}</div>\n\t\t</div>\n\t<div>`);return d.find("#PrettyCards_CollectionNew_SoultifactImageContainer").append(En(s,"PrettyCards_CollectionNew_SoultifactImage "+o.imageClass,"","")),d.find(".PrettyCards_CollectionNew_SoultifactImage").click((function(){window.artifactInfo(e.id)})),n.append(d),d}function co(e,t,n){var a=3==_.getSeasonMonth()&&e.aprilImage,r=a?t.aprilSoulImagePrefix:t.soulImagePrefix,i=a?e.aprilImage:e.image,o=_.constructURL(r,i,"png",t.oldPrefixBehavior),s=$(`<img class="PrettyCards_Soul" src="${o}">`);return s.click((function(){window.soulInfo(e.name)})),n.append(s),s}function lo(e,t,n){var a=3==_.getSeasonMonth()&&e.aprilImage,r=a?t.aprilSoulImagePrefix:t.soulImagePrefix,i=a?e.aprilImage:e.image,o=document.createElement("IMG");o.src=_.constructURL(r,i,"png",t.oldPrefixBehavior);var s=$(`\n\t<div class="PrettyCards_CollectionNew_Soultifact">\n\t\t<div id="PrettyCards_CollectionNew_SoultifactImageContainer"></div>\n\t\t<div>\n\t\t\t<div class="${e.name} PrettyCards_CollectionNew_SoultifactName">${window.$.i18n("soul-"+e.name.toLowerCase())}</div>\n\t\t\t<div>${window.$.i18n("soul-"+e.name.toLowerCase()+"-desc")}</div>\n\t\t</div>\n\t<div>`);return s.find("#PrettyCards_CollectionNew_SoultifactImageContainer").append(En(o,"PrettyCards_CollectionNew_SoultifactImage PrettyCards_DisplaySoul_"+e.name,"","")),s.find(".PrettyCards_CollectionNew_SoultifactImage").click((function(){window.soulInfo(e.name)})),n.append(s),s}function uo(e){var t=$("#PrettyCards_CustomCardShowcase");$("#PrettyCards_CustomCardCategories").css("display","none"),t.css("display","block").html("");var n=$(`\n\t\t<div id='PrettyCards_CustomCardsShowcaseContent'>\n\t\t\t<div class="PrettyCards_BigCollectionName">${e.name}</div>\n\t\t\t<div class="PrettyCards_BigCollectionAuthor Artist">${e.author}</div>\n\t\t\t<div>${e.note}</div>\t\n\t\t</div>\n\t`),a=$('\n\t\t<div id="PrettyCards_CollectionHeaderTop">\n\t\t\t<div class="PrettyCards_CollectionBackButton"><span class="glyphicon glyphicon-arrow-left"></span> Back to Collection Select Screen</div>\n\t\t\t<button id="PrettyCards_CollectionTakeScreenshot" class="btn btn-primary">Take Picture</button>\n\t\t\t<button id="PrettyCards_CollectionViewButton" class="btn btn-primary">Toggle View</button>\n\t\t</div>\n\t');if(a.find("#PrettyCards_CollectionViewButton").click((function(e){$("#PrettyCards_SoulsShowcase").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_NewSoulsShowcase").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_ArtifactsShowcase").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_NewArtifactsShowcase").toggleClass("PrettyCards_Hidden"),e.stopPropagation()})),a.find("#PrettyCards_CollectionTakeScreenshot").css("display","none").click((function(){!function(e){if(0!=window.$("#PrettyCards_CustomCardShowcase:visible").length){var t=!0;window.$("#PrettyCards_NewArtifactsShowcase").hasClass("PrettyCards_Hidden")&&(window.$("#PrettyCards_CollectionViewButton").click(),t=!1);var n=window.$("#PrettyCards_CustomCardsShowcaseContent");n.addClass("PrettyCards_CustomCardsShowcaseScreenshot"),window.html2canvas(n[0]).then((a=>{_.saveCanvasAsImage(a,e),n.removeClass("PrettyCards_CustomCardsShowcaseScreenshot"),t||$("#PrettyCards_CollectionViewButton").click()}))}}(e.name.toLowerCase())})),a.find(".PrettyCards_CollectionBackButton").click(po),t.append(a),t.append(n),e.souls.length>0){n.append("<h2>Souls</h2>");for(var r=$('<div id="PrettyCards_SoulsShowcase"></div>'),i=0;i<e.souls.length;i++)co(e.souls[i],e,r);n.append(r);var o=$('<div id="PrettyCards_NewSoulsShowcase" class="PrettyCards_Hidden"></div>');for(i=0;i<e.souls.length;i++)lo(e.souls[i],e,o);n.append(o)}if(e.artifacts.length>0){n.append("<h2>Artifacts</h2>");var s=$('<div id="PrettyCards_ArtifactsShowcase"></div>');for(i=0;i<e.artifacts.length;i++)oo(e.artifacts[i],e,s);n.append(s);var d=$('<div id="PrettyCards_NewArtifactsShowcase" class="PrettyCards_Hidden"></div>');for(i=0;i<e.artifacts.length;i++)so(e.artifacts[i],e,d);n.append(d)}if(e.cards.length>0){n.append("<h2>Cards</h2>");var c=$('<div id="PrettyCards_CardsShowcase"></div>');for(i=0;i<e.cards.length;i++)window.appendCard(e.cards[i],c);n.append(c)}$("#collectionCustomCSS").length<=0&&$("head").append('<style id="collectionCustomCSS"></style>'),e.reloadFrames(),e.souls.length+e.artifacts.length<10&&a.find("#PrettyCards_CollectionViewButton").click()}function po(){$("#PrettyCards_CustomCardCategories").css("display","block"),$("#PrettyCards_CustomCardShowcase").css("display","none")}function ho(){var e=$("#PrettyCards_CustomCardCategories");e.html("");for(var t=0;t<qn.length;t++){const a=qn[t];var n=$(`\n\t\t\t<div class="PrettyCards_CardCollection">\n\t\t\t\t<div class="PrettyCards_CollectionName">${a.name}</div>\n\t\t\t\t<div class="PrettyCards_CollectionAuthor Artist">${a.author}</div>\n\t\t\t\t<div class="PrettyCards_CollectionDetails">\n\t\t\t\t\t<div>${a.souls.length} ${1==a.souls.length?"Soul":"Souls"}</div>\n\t\t\t\t\t<div>${a.artifacts.length} ${1==a.artifacts.length?"Artifact":"Artifacts"}</div>\n\t\t\t\t\t<div>${a.cards.length} ${1==a.cards.length?"Card":"Cards"}</div>\n\t\t\t\t</div>\n\t\t\t</div>`);n.click((function(){uo(a)})),e.append(n)}}function fo(){var t;$("#PrettyCards_CustomCardCategories").html("Loading Custom Cards . . ."),e.events.emit.singleton("PrettyCards:customCards"),e.events.emit.singleton("PrettyCards:customCardsAfter"),$("#PrettyCards_CustomCardCategories").html("Loading Custom Fonts . . ."),t=ho,window.document.fonts.ready.then(t)}e.events.on("PrettyCards:customCards",(function(){var e=window.prettycards.newCollection({name:"UCO Ideas Set",author:"elytrafae",cardImagePrefix:_.asset("img/Cards/UCO_Ideas/"),cardSongPrefix:_.asset("audio/cards/UCO_Ideas/"),artifactImagePrefix:_.asset("img/Artifacts/"),tribeImagePrefix:_.asset("img/Tribes/"),soulImagePrefix:_.asset("img/Souls/"),aprilCardImagePrefix:_.asset("img/Cards/UCO_Ideas/aprilFools/"),aprilArtifactImagePrefix:_.asset("img/Artifacts/aprilFools/"),note:'Here are some of my UCO ideas.\n        <br>\n        This is also the place where I shall document my descent into madness as I try to make an actually good idea for a Battle Mew Mew card. This, of course, only includes the ones that still have the slightest chance of holding up. Purely stat change variations are also not included.\n        \n        <p style="color:red;font-size:1.2em;">I know these cards aren\'t perfectly balanced, and are subject to changes. I just want a general idea going on.</p>'});e.newKeyword({name:"Murder",description:"This effect triggers when this monster attacks and kills an enemy monster.",id:"MURDER"}),e.newCard(io({cost:8,attack:5,hp:5,haste:!0,description:"{{KW:HASTE}}. {{KW:DELAY}}: Summon 2/1 copies of all enemy monsters killed this turn."})),e.newCard(io({cost:7,attack:4,hp:4,haste:!0,description:"{{KW:HASTE}}. Before this attacks a monster, halve the {{ATK}} and {{HP}} of the target."})),e.newCard(io({cost:6,attack:4,hp:4,haste:!0,description:"{{KW:MAGIC}}: Burn half of your Dustpile, deal 3 {{DMG}} randomly spilt among enemy monsters for each 2 monsters burned."})),e.newCard({name:"{{PLURAL:$1|NEO Combo|NEO Combos}}",image:"NEO_Combo",aprilImage:"NEO_Combo",extension:"BASE",rarity:"LEGENDARY",cost:7,attack:10,hp:1,description:"{{KW:MAGIC}}: Choose a {{TRIBE:BARGAIN}} to cast to gain {{KW:CHARGE}}."}),e.newCard({name:"{{PLURAL:$1|Gothelle|Gothelles}}",image:"Gothelle",aprilImage:"Gothelle",extension:"DELTARUNE",rarity:"EPIC",cost:7,attack:7,hp:7,description:"Whenever an enemy monster deals {{DMG}} to an ally, this deals 2 {{DMG}} back."}),e.newCard({name:"{{PLURAL:$1|Gothelle|Gothelles}}",image:"Gothelle",aprilImage:"Gothelle",extension:"DELTARUNE",rarity:"EPIC",cost:7,attack:7,hp:7,description:"Whenever an enemy monster deals {{DMG}} to you, this deals 3 {{DMG}} back."}),e.newArtifact({name:"BASE Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"BASE",description:"Increase the chance of being the second player."}),e.newArtifact({name:"RARE Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"RARE",description:"Old Glamburger lol"}),e.newArtifact({name:"EPIC Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"EPIC",description:"Reverberation."}),e.newArtifact({name:"MYTHIC Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"MYTHIC",description:"Win the game XD"})})),e.events.on("PrettyCards:customCards",(function(){if(a.my_own_custom_cards.value()){var e=window.prettycards.newCollection({name:"Update Tester Sheet",author:"elytrafae",cardImagePrefix:"/images/cards/",cardSongPrefix:_.asset("audio/cards/UpdateTest/"),artifactImagePrefix:_.asset("img/Artifacts/"),tribeImagePrefix:_.asset("img/Tribes/"),soulImagePrefix:_.asset("img/Souls/"),aprilCardImagePrefix:_.asset("img/Cards/UpdateTest/aprilFools/"),aprilArtifactImagePrefix:_.asset("img/Artifacts/aprilFools/"),note:"Test sheet go brrrrrr"}),t=e.newCard({name:"{{PLURAL:$1|Frisk|Frisks}}",image:"Frisk",aprilImage:"Frisk",cost:10,attack:7,hp:8,description:"",tribes:[],extension:"BASE",rarity:"DETERMINATION"}),n=e.newCard({name:"{{PLURAL:$1|ACT Button|ACT Buttons}}",image:"ACT_Button",aprilImage:"ACT_Button",cost:1,description:"{{KW:LOOP}} (2). Look at all spells of the enemy SOUL (max. {{RARITY:RARE}}). Choose one to add to your hand.",tribes:[],extension:"BASE",rarity:"TOKEN"}),r=e.newArtifact({name:"Worn Dagger",image:"Worn_Dagger",rarity:"DETERMINATION",ownerId:t.id,soul:"DETERMINATION",backgroundClass:"PrettyCards_ArtBG_WornDagger",description:"Whenever a monster dies (except {{TRIBE:LOST_SOUL|2}}), gain a counter. {{KW:TURN-END}}: Spend 7 counters to summon the next {{TRIBE:LOST_SOUL}}. ({{TRIBE:LOST_SOUL}} order is the same as the {{ARTIFACT:33}} artifact.)"}),i=e.newArtifact({name:"Tough Glove",image:"Tough_Glove",rarity:"DETERMINATION",ownerId:t.id,soul:"BRAVERY",backgroundClass:"PrettyCards_ArtBG_ToughGlove",description:"At the start of every 3rd turn, add a {{CARD:577}} to your hand. If you have 4 or less cards in hand, add 2 instead. If you have 7 cards in your hand, add it to your deck."}),o=e.newArtifact({name:"Empty Gun",image:"Empty_Gun",rarity:"DETERMINATION",ownerId:t.id,soul:"JUSTICE",backgroundClass:"PrettyCards_ArtBG_EmptyGun",description:"{{KW:TURN-START}} and {{KW:TURN-END}}: Deal 1 {{DMG}} to the lowest {{HP}} enemy monster. If you have less {{HP}} than your opponent, deal 1 {{DMG}} to them too."}),s=e.newArtifact({name:"Burnt Pan",image:"Burnt_Pan",rarity:"DETERMINATION",ownerId:t.id,soul:"KINDNESS",backgroundClass:"PrettyCards_ArtBG_BurntPan",description:"{{KW:TURN-END}}: Heal 1 {{HP}} to you and 2 {{HP}} to all damaged ally monsters. If there are none, give the rightmost ally monster +1/+1."}),d=e.newArtifact({name:"Toy Knife",image:"Toy_Knife",rarity:"DETERMINATION",ownerId:t.id,soul:"PATIENCE",backgroundClass:"PrettyCards_ArtBG_ToyKnife",description:"{{KW:TURN-END}}: Add a {{CARD:552}} to the top of your deck if you don't have one in hand."}),c=e.newArtifact({name:"Ballet Shoes",image:"Ballet_Shoes",rarity:"DETERMINATION",ownerId:t.id,soul:"INTEGRITY",backgroundClass:"PrettyCards_ArtBG_BalletShoes",description:"{{KW:TURN-END}}: Earn 1 {{gold}}. If it's turn 10 or later, earn 1 more."}),l=e.newArtifact({name:"Torn Notebook",image:"Torn_Notebook",rarity:"DETERMINATION",ownerId:t.id,soul:"PERSEVERANCE",backgroundClass:"PrettyCards_ArtBG_TornNotebook",description:"{{KW:TURN-START}}: Give {{KR}} and -1/-1 to the highest {{ATK}} enemy monster without {{KR}}."}),u="";[r,i,o,s,d,c,l].forEach((e=>{u+="|"+e.id})),u="{{PC_ARTIFACTS:Upgraded Version"+u+"}}",t.setDescription(`{{KW:MAGIC}}: Gain an ${u} of the enemy SOUL. Add an ${n.me(1)} to your hand.`)}})),e.events.on("PrettyCards:customCards",(function(){if(a.my_own_custom_cards.value()){var e=window.prettycards.newCollection({name:"Kyra x elytrafae Sheet",author:"Kyra and elytrafae",cardImagePrefix:_.asset("img/Cards/Kyra/"),cardSongPrefix:_.asset("audio/cards/Kyra/"),artifactImagePrefix:_.asset("img/Kyra/"),tribeImagePrefix:_.asset("img/Tribes/"),soulImagePrefix:_.asset("img/Souls/"),aprilCardImagePrefix:_.asset("img/Cards/Kyra/aprilFools/"),aprilArtifactImagePrefix:_.asset("img/Artifacts/aprilFools/"),note:"A little sheet I made for ideas that we came up with together :3"});e.newCard({name:"{{PLURAL:$1|Moldog|Moldogs}}",image:"Moldog",cost:5,attack:4,hp:5,description:"{{KW:MAGIC}}: {{KW:Switch}}: Become a {{TRIBE:MOLD}} or {{TRIBE:DOG}}. Give all other ally monsters of the same tribe as this one +1/+2. {{KW:Synergy}}: Heal all allies by 3.",tribes:[],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Tangled Wires|Tangled Wires}}",image:"Tangled_Wires",cost:6,attack:4,hp:4,description:"{{KW:MAGIC}}: Turn an ally {{TRIBE:PLUG}} or {{TRIBE:AMALGAMATE}} into a {{CARD:684|1}} that catches the original. It becomes an {{TRIBE:AMALGAMATE}}, too.",tribes:["PLUG","AMALGAMATE"],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Tangled Wires|Tangled Wires}}",image:"Tangled_Wires",cost:6,attack:4,hp:4,description:"{{KW:MAGIC}}: Turn an ally {{TRIBE:PLUG}} or {{TRIBE:AMALGAMATE}} into a {{CARD:684|1}} that catches the original. It becomes an {{TRIBE:AMALGAMATE}}, too. {{KW:SYNERGY}}: It gains its stat buffs.",tribes:["PLUG","AMALGAMATE"],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Tembomination|Tembominations}}",image:"Tembomination",cost:5,attack:4,hp:4,description:"{{KW:MAGIC}}: {{KW:SWITCH}}: Gain +1 {{ATK}} and {{KW:HASTE}} or +2 {{HP}} and {{KW:TAUNT}}.",tribes:["TEMMIE","AMALGAMATE"],extension:"BASE",rarity:"RARE"}),e.newCard({name:"{{PLURAL:$1|Hoivemind|Hoiveminds}}",image:"Hoivemind",cost:4,attack:4,hp:2,haste:!0,description:"{{KW:HASTE}}. {{KW:MAGIC}}: {{KW:SWITCH}}: Draw a {{TRIBE:TEMMIE}} or an {{TRIBE:AMALGAMATE}}. {{KW:SYNERGY}}: If this is not {{KW:GENERATED}}, add two copies of it to your deck.",tribes:["TEMMIE","AMALGAMATE"],extension:"BASE",rarity:"COMMON"}),e.newCard({name:"{{PLURAL:$1|Ice Cave|Ice Cave}}",image:"Ice_Cave",cost:7,attack:4,hp:6,description:"{{KW:MAGIC}} and {{KW:TURN_START}}: Summon an {{CARD:9}}.",tribes:[],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Ice Cave|Ice Cave}}",image:"Ice_Cave",cost:6,attack:2,hp:5,candy:!0,description:"{{KW:CANDY}}. {{KW:MAGIC}} and {{KW:TURN_START}}: Summon an {{CARD:9}}.",tribes:[],extension:"BASE",rarity:"EPIC"})}})),window.underscript.onPage("CustomCards")||e.events.emit.singleton("PrettyCards:customCardsAfter");var mo=i({key:"friendship_sort",name:"Enable Friendship Sorting",type:"boolean",refresh:!0,default:!0});l(n(2486).Z);const go=["baseRarityInput","commonRarityInput","rareRarityInput","epicRarityInput","legendaryRarityInput","determinationRarityInput","tokenRarityInput","baseGenInput:not(:disabled)"];var yo,Co,wo,vo,bo,Po,_o,ko=[],So=-1,xo=!1;function To(e,t){var n=$("#PrettyCards_SOP_ButtonSettingsContainer"),a=window.$(`\n        <div style="padding: 5px;" class="PrettyCards_SOP_ButtonData">\n            <span class="handle glyphicon glyphicon-sort" style="cursor:grab;"></span> \n            <label>\n                <span>${window.$.i18n("pc-sop-name")}: </span>\n                <input type="text" value="${e}" id="PrettyCards_SOP_ButtonNameInput"></input>\n            </label>\n            <label>\n                <span>${window.$.i18n("pc-sop-style")}: </span>\n                <select id="PrettyCards_SOP_ButtonStyleInput">\n                    <option value="btn-primary" class="text-primary">${window.$.i18n("pc-sop-stylelist-0")}</option>\n                    <option value="btn-info" class="text-info">${window.$.i18n("pc-sop-stylelist-1")}</option>\n                    <option value="btn-success" class="text-success">${window.$.i18n("pc-sop-stylelist-2")}</option>\n                    <option value="btn-danger" class="text-danger">${window.$.i18n("pc-sop-stylelist-3")}</option>\n                    <option value="btn-warning" class="text-warning">${window.$.i18n("pc-sop-stylelist-4")}</option>\n                </select>\n            </label>\n            <button class="btn btn-danger" onclick="this.parentElement.remove()">${window.$.i18n("pc-sop-remove")}</button>\n        </div>\n    `);return a.find("#PrettyCards_SOP_ButtonStyleInput").val(t),n.append(a),a}function Ao(){if(!(So>=ko.length||(So>=0&&yo.glideTo(window.innerWidth/2,window.innerHeight+500,500,(function(){So>=ko.length&&(window.$("#PrettyCards_SOP_Phase3").addClass("PrettyCards_Hidden"),window.$("#PrettyCards_SOP_Phase4").removeClass("PrettyCards_Hidden")),this.remove()})),++So>=ko.length))){!$("#PrettyCards_SOP_BlindModeSetting").prop("checked")&&$("#PrettyCards_SOP_ViewSkinsSetting").prop("checked")&&function(e){for(var t=[{cardId:e.fixedId,name:e.name,id:-22,image:e.image,typeSkin:0}],n=0;n<wr.length;n++){var a=wr[n];a.cardId==e.id&&t.push(a)}console.log(e,t);var r=$("#PrettyCards_SOP_Phase3_Skins");if(r.html(""),!(t.length<=1))for(n=0;n<t.length;n++){const e=t[n];var i=$(`\n            <div class="PrettyCards_SOP_SkinDisplay ${0==n?"selected":""}">\n                <img src="${_.getCardImageLink(e.image)}">\n            </div>\n        `);i.click((function(){var t=$(yo.front);t.removeClass("full-skin").removeClass("breaking-skin").removeClass("standard-skin"),0==e.typeSkin?t.addClass("standard-skin"):1==e.typeSkin?t.addClass("full-skin"):t.addClass("breaking-skin"),t.find(".cardImage").css("backgroundImage","url("+_.getCardImageLink(e.image)+")"),$(".PrettyCards_SOP_SkinDisplay").removeClass("selected"),$(this).addClass("selected")})),r.append(i)}}(ko[So]),yo=new tr(ko[So],!1,!1,!1);var e=document.getElementById("PrettyCards_SOP_Phase3_CardSpace").getBoundingClientRect();if(yo.appendTo(document.getElementById("PrettyCards_SOP_Phase3_CardContainer")),yo.moveTo(-300,e.top+e.height/2),yo.flipToFace(500),yo.glideTo(window.innerWidth/2,e.top+e.height/2,500,(function(){})),$("#PrettyCards_SOP_BlindModeSetting").prop("checked")){yo.back.style.backgroundImage="url(https://github.com/elytrafae/prettycards/raw/master/img/CardBackMystery.png)";var t=$(yo.front);t.removeClass("monster").addClass("spell"),t.removeClass("full-skin").removeClass("breaking-skin").addClass("standard-skin"),t.find(".cardATK").remove(),t.find(".cardHP").remove(),t.find(".cardName").html("???"),t.find(".cardTribes").html(""),t.find(".cardStatus").html(""),t.find(".cardCost").html("?"),t.find(".cardName")[0].className="cardName",t.find(".cardDesc > div").html(he.getRandomFromValueList("pc-sop-mysterydescriptions")),t.find(".cardImage").css("background-image","url(https://github.com/elytrafae/prettycards/raw/master/img/MysteryCard.png)"),t.find(".cardRarity").css("background-image","url(https://github.com/elytrafae/prettycards/raw/master/img/MysteryRarity.png)"),t.find(".PrettyCards_CardThemeSongPlayer").remove();var n=t.find(".cardName div"),a=t.find(".cardDesc div");n.css("font-size",""),a.css("font-size","");var r=window.getResizedFontSize(n,25);n.css("font-size",r+"px");var i=window.getResizedFontSize(a,81);a.css("font-size",i+"px")}}}function Eo(){var e=$("#PrettyCards_SOP_Buttons"),t=$(".PrettyCards_SOP_ButtonData");if(0!=t.length&&(ko=function(){var e=$(".rarityInput:checked").map((function(){return this.getAttribute("rarity")})).get();0==e.length&&(e=["COMMON","RARE","EPIC","LEGENDARY","DETERMINATION"]);var t=$(".typeCardInput:checked").map((function(){return this.getAttribute("typeCard")})).get();0==t.length&&(t=$(".typeCardInput").map((function(){return this.getAttribute("typeCard")})).get()),t.forEach(((e,n)=>{t[n]=Number(e)}));var n=$(".extensionInput:checked").map((function(){return this.getAttribute("extension")})).get();0==n.length&&(n=$(".extensionInput").map((function(){return this.getAttribute("extension")})).get());var a=[];return window.allCards.forEach((r=>{e.includes(r.rarity)&&t.includes(r.typeCard)&&n.includes(r.extension)&&a.push(r)})),a}(),!(ko.length<=0))){($("#PrettyCards_SOP_RandomizeSetting").prop("checked")||$("#PrettyCards_SOP_BlindModeSetting").prop("checked"))&&function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}(ko);var n=window.$.i18n("pc-sop-results-title-nouser");window.selfUsername&&(n=window.$.i18n("pc-sop-results-title",window.selfUsername));var a="<h1 style='text-align:center;'>"+n+"</h1>";e.html(""),t.each(((t,n)=>{var r=$(n),i=r.find("#PrettyCards_SOP_ButtonNameInput").val();const o=i.replace(/[^\w]/gi,"_");var s=r.find("#PrettyCards_SOP_ButtonStyleInput").val();a+=`<h2>${r.find("#PrettyCards_SOP_ButtonNameInput").val()}</h2><div id="PrettyCards_SOP_Cards_${o}" class="PrettyCards_SOP_CardResults"></div>`;var d=$(`<button class="btn ${s}">${i}</button>`);d.click((function(){var e;e=o,window.appendCard(ko[So],$("#PrettyCards_SOP_Cards_"+e)),Ao()})),e.append(d)})),$("#PrettyCards_SOP_Phase4_ScreenshotArea").html(a),window.$("#PrettyCards_SOP_Phase2").addClass("PrettyCards_Hidden"),window.$("#PrettyCards_SOP_Phase3").removeClass("PrettyCards_Hidden"),Ao()}}l(n(1315).Z);var Io=[],$o=0;function Do(e){bo=e,s().getJSON(`/translation/${e}.json`,{},(function(t){Po=t,window.$.i18n().load({[e]:t}),Ro()})),s().getJSON(Co.urlFunc(e),{},(function(e){_o=e,Ro()})).fail((function(){_o={},Ro()}))}function No(e){var t=_o[e];return t&&t.ifEqual&&t.ifEqual!=Po[e]}function Ro(){wo&&vo&&Po&&_o&&(function(){for(var e in _o){var t=_o[e],n=vo[e];No(e)&&(n?t.ifEqual=Po[e]:_o[e]=void 0)}}(),s()("#PrettyCards_CT_Phase1").addClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase2").removeClass("PrettyCards_Hidden"),console.log("SUCCESS",wo,vo,Po,_o),function(){var e=[""];for(var t in vo){var n=t.indexOf("-"),a=t.substring(0,n);"pc"===a&&(n=t.indexOf("-",n+1),a=t.substring(0,n)),e.includes(a)||e.push(a)}var r="";e.forEach((e=>{r+=`<option value="${e}">${e}</option>`})),document.getElementById("selectCategory").innerHTML=r}(),Oo(),Ho(0))}function Lo(e){var t=_o[e];if(!t)return!0;if("string"==typeof t&&""==t)return!0;if(t.value&&""==t.value)return!0;if(t.values){for(var n=0;n<t.values.length;n++)if(t.values[n]&&t.values[n].length>0)return!1;return!0}return!1}function Mo(e){var t=s()("#selectCategory").val(),n=s()("#selectStatus").val(),a=s()("#searchInput").val(),r=(_o[e],Lo(e));return""!=t&&!e.startsWith(t)||!("DONE"!=n||!r)||"NEW"==n&&!r||!e.startsWith(t)||!function(e,t){if(""===t)return!0;var n=[e];if(!Lo(e)){var a=_o[e];"string"==typeof a&&n.push(a),a.value&&n.push(a.value),a.values&&(n=n.concat(a.values))}for(var r=0;r<n.length;r++)if(n[r].includes(t))return!0;return!1}(e,a)}function Oo(){for(var e in Io=[],vo)Mo(e)||Io.push(e);s()("#maxPages").html(Io.length);var t=s()("#selectPage");t.html("");for(var n=0;n<Io.length;n++)t.append(`<option value="${n}">${n+1}</option>`)}function Bo(){$o<Io.length-1&&Ho($o+1)}function Fo(){$o>0&&Ho($o-1)}function Ho(e){if($o=e,s()("#selectPage").val($o),s()("#btnNext").prop("disabled",$o+1>=Io.length),s()("#btnPrevious").prop("disabled",$o<=0),$o<0&&($o=0),$o>=Io.length&&($o=Io.length-1),Io.length<=0)return s()("#PrettyCards_CT_Phase2_Table").addClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase2_Error").html("No entry matches the search! Please try something else!"),void console.error("No entry matches the search! Please try something else!");s()("#PrettyCards_CT_Phase2_Table").removeClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase2_Error").html(""),function(e){s()("#PrettyCards_CT_Phase2_Preview").html("");var t=_o[e];if(s()("#PrettyCards_CT_Phase2_TranslationKey").html(e),t||(t=function(e){var t=vo[e];if(console.log(e,t),"string"==typeof t)return"";var n={};if(t.ifEqual&&(n.ifEqual=Po[e]||""),t.values){n.values=[];for(var a=0;a<t.values.length;a++)n.values[a]=""}else n.value="";return n}(e),_o[e]=t),s()(".PrettyCards_CT_Phase2_ListEntryRow").remove(),t.values)return void function(e,t){var n=vo[e];s()("#PrettyCards_CT_Phase2_EnglishText").addClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase2_OGEnglishText").parent().addClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase2_OGTranslatedText").parent().addClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase2_TranslationArea").parent().addClass("PrettyCards_Hidden");var a=s()("#PrettyCards_CT_Phase2_Table > tbody");const r=e;for(var i=0;i<n.values.length;i++){var o=t.values[i];const e=i,d=s()(`\n        <tr class="PrettyCards_CT_Phase2_ListEntryRow">\n            <td colspan="1">${zo(n.values[i])}</td>\n            <td colspan="2">\n                <textarea maxlength="500" class="form-control" class="PrettyCards_CT_Phase2_ListTranslationArea"></textarea>\n            </td>\n        </tr>`);d.find("textarea").val(o||""),d.find("textarea").keyup((function(){var t=Wo(s()(this).val());_o[r].values[e]=t,Ko(t,r)})),a.append(d)}}(e,t);var n=Go(vo[e]);s()("#PrettyCards_CT_Phase2_EnglishText").removeClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase2_EnglishText").html(zo(n)),t.ifEqual?(s()("#PrettyCards_CT_Phase2_OGEnglishText").parent().removeClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase2_OGTranslatedText").parent().removeClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase2_OGEnglishText").html(zo(wo[e])),s()("#PrettyCards_CT_Phase2_OGTranslatedText").html(zo(Po[e]))):(s()("#PrettyCards_CT_Phase2_OGEnglishText").parent().addClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase2_OGTranslatedText").parent().addClass("PrettyCards_Hidden")),s()("#PrettyCards_CT_Phase2_TranslationArea").parent().removeClass("PrettyCards_Hidden");var a=Go(t);s()("#PrettyCards_CT_Phase2_TranslationArea").val(a),Ko(Wo(a),e);const r=e;s()("#PrettyCards_CT_Phase2_TranslationArea").unbind("keyup").keyup((function(){var e=Wo(s()("#PrettyCards_CT_Phase2_TranslationArea").val());!function(e,t){var n=_o[e];n.value||""===n.value?n.value=t:_o[e]=Wo(t)}(r,e),Ko(e,r)}))}(Io[$o])}function Go(e){var t=e;return(e.value||""===e.value)&&(t=e.value),t}function Uo(){var e=JSON.stringify(_o);_.downloadFile(e,bo+".json","text/plain"),BootstrapDialog.show({title:"Thank you for your collaboration! ^^",size:BootstrapDialog.SIZE_WIDE,message:`<p>The language JSON file should be downloading now! Please send it to me through Discord to the <span class="PrettyCards_DiscordMention">#translation-files-go-here</span> channel!</p><p>is the file didn't download, you can copy-paste its contents below!</p>\n            <code class="PrettyCards_DarkThemeCode PrettyCards_BlockCode" onclick="navigator.clipboard.writeText(this.innerText)">${e}</code>\n        `,buttons:[{label:"Alright!",cssClass:"btn-primary us-normal",action(e){e.close()}}]})}function Wo(e){return e.replaceAll("\\n","\n").replaceAll("\\r","\r")}function zo(e,t=!0){var n,a=["#00ff06","#fc00ff","#00d6ff","#ff5300","#0074ff","#ff0030","#ffa400"];t&&(n=e,e=(e=s()("<span>").text(n).html()).replaceAll("\n",'<span class="gray">\\n</span>').replaceAll("\r",'<span class="gray">\\r</span>'));var r=e.replace(/({{[^{}]*?}})/g,(function(e){return'<span class="JUSTICE">'+e+"</span>"}));return r.replace(/(\$[1-9]+)/g,(function(e){var t=parseInt(e.replace("$",""))-1;return'<span style="color: '+a[t%a.length]+'">'+e+"</span>"}))}var jo;function Ko(e="",t=""){if(jo&&jo.onremove(),""!==e){for(var n,a=window.prettycards.translationManager.previewTypes,r=0;r<a.length;r++){var i=a[r];if(t.match(i.regex)){n=i;break}}jo=n,s()("#PrettyCards_CT_Phase2_Preview").html(`<span>${_.toLocale("decks-preview",bo)}: </span><span id="PrettyCards_CT_Phase2_PreviewInsert"></span>`),s()("#PrettyCards_CT_Phase2_PreviewInsert").append(n.eleFunc(_.toLocale(e,bo)))}else s()("#PrettyCards_CT_Phase2_Preview").html("")}const Vo=Object.freeze({NULL:Symbol("NULL"),AVATAR:Symbol("AVATAR"),EMOTE:Symbol("EMOTE"),PROFILE_SKIN:Symbol("PROFILE_SKIN")}),qo=Object.freeze({[Vo.AVATAR]:"idAvatar",[Vo.EMOTE]:"idEmote",[Vo.PROFILE_SKIN]:"idProfileSkin",[Vo.NULL]:""});function Yo(e=Vo.NULL,t=-1){return new Promise(((n,a)=>{if(e===Vo.NULL&&window.underscript.onPage("CosmeticsShop"))n(document.getElementsByClassName("mainContent")[0]);else{var r={};e!==Vo.NULL&&t>=0&&(r[qo[e]]=t),s().post("/CosmeticsShop",r,(function(e){for(var t=s()(e),r=0;r<t.length;r++){var i=t[r];if(i&&i.className&&i.classList.contains("mainContent"))return void n(i)}a("ELEMENT_NOT_FOUND_ERROR")}))}}))}function Jo(e){return e.classList.contains("avatar")?Vo.AVATAR:e.classList.contains("emote-bordered")?Vo.EMOTE:e.classList.contains("profileSkin")?Vo.PROFILE_SKIN:Vo.NULL}function Qo(e){var t,n=(t=e.getAttribute("data-i18n-tips")).indexOf("|");return n<0?t:t=t.substring(n+1,t.length-2)}const Xo=["BASE","COMMON","RARE","EPIC","LEGENDARY","DETERMINATION","MYTHIC","TOKEN"];function Zo(e){for(var t=0;t<Xo.length;t++){var n=Xo[t];if(e.classList.contains(n))return n}}var es,ts,ns;t.cosmeticShop={},t.cosmeticShop.isLastReadASuccessfulBuy=!1,t.cosmeticShop.GetPage=Yo,t.cosmeticShop.GetData=function(e=Vo.NULL,n=-1){return new Promise(((a,r)=>{Yo(e,n).then((e=>{t.cosmeticShop.isLastReadASuccessfulBuy=!1;for(var n=e.querySelector(".navbar"),r=e.querySelector("footer"),i=[],o="",s=e.querySelectorAll("img,.ucp,:scope > p,form[action=CosmeticsShop]"),d=0;d<s.length;d++){var c=s[d];if(!n.contains(c)&&!r.contains(c)){var l=i[i.length-1];if("P"===c.tagName){var u=c.children[0];if(u){var p=u.getAttribute("data-i18n");if(p)o=p.substring(6);else{var h=u.getAttribute("data-i18n-custom");console.log(c,u,h),h.endsWith("unlocked")&&(t.cosmeticShop.isLastReadASuccessfulBuy=!0)}}}else if("IMG"===c.tagName){l&&!l.cost&&(l.owned=!0);var f={imageSrc:c.getAttribute("src"),name:Qo(c),type:Jo(c),owned:!1,category:o},m=Zo(c);m&&(f.rarity=m),i.push(f)}else if("FORM"===c.tagName)for(var g=0;g<c.children.length;g++){var y=c.children[g];if("INPUT"===y.tagName&&y.hasAttribute("name")&&y.getAttribute("name").toString().includes("id")){l.id=parseInt(y.getAttribute("value"));break}}else{var C=Number(c.innerHTML);l.cost?l.discountPercent?console.warn(`A THIRD (or more) NUMBER ASSIGNED TO THE COSMETIC ${l.name}. PLEASE INVESTIGATE!`):l.discountPercent=C:l.cost=C}}}a(i)}))}))},t.cosmeticShop.COSMETIC_TYPES=Vo,t.cosmeticShop.COSMETIC_TYPE_TO_BUY_NAME=qo,a.packs_page.value()&&underscript.onPage("Packs")?(es=()=>{A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){_.hideUglyPage(),document.querySelector(".mainContent").innerHTML+="<div id='PrettyCards_MainContent'></div><div id='PrettyCards_PackOpenContent'></div>",gr(a.packs_page_template.value()||pr[0]),t.testPackOpeningNew=(t=.4,n=.2)=>{window.PrettyCards_pack_being_opened=yr[0];var a=[];window.allCards.forEach((e=>{if(Math.random()<t)for(var r=Math.floor(3*Math.random()+1);r>0;r--){var i={...e};a.push(i)}if(Math.random()<n)for(r=Math.floor(3*Math.random()+1);r>0;r--){var o={...e};o.shiny=!0,a.push(o)}})),e.events.emit("openedPacks",{count:999,cards:a})}}))},window.$.getJSON(_.asset("json/packs.json"),{},(e=>{console.log(e);for(var t=0;t<e.length;t++){var n=e[t];n.does_exist=!0,n.open_count=1,n.g_cost>=0&&(n.g_buy_count=1),n.ucp_cost>=0&&(n.ucp_buy_count=1),n.amount=0;try{n.amount=We.GetNumberOfPacks(n.code_id)}catch(e){}n.image=n.image_without_extension+n.image_extension,yr.push(n),Cr[n.code_id]=n}es()}))):underscript.onPage("Hub")?function(){var t=window.showDeckLoadHub;window.showDeckLoadHub=function(n,a,r,i,o){t(n,a);var s=window.Object.values(window.BootstrapDialog.dialogs)[0];if(s){var d=s.$modalFooter.find(".bootstrap-dialog-footer-buttons"),c=$(`<button class="btn btn-success">${window.$.i18n("pc-hub-savedeck")}</button>`);c.click((function(){!function(t,n,a,r){for(var i=JSON.parse(atob(t)),o=i.soul,s=window.cloneList(window.collection),d={cards:[],artifacts:i.artifactIds},c=0;c<i.cardIds.length;c++){var l=Ei(s,h=i.cardIds[c]);l.shiny&&l.shiny.quantity>0?(d.cards.push({id:h,shiny:!0}),l.shiny.quantity--):l.normal&&l.normal.quantity>0&&(d.cards.push({id:h}),l.normal.quantity--)}if(Ai){for(var u="underscript.deck."+window.selfId+"."+o+".",p="prettycards.deck."+window.selfId+"."+o+".",h=0;window.localStorage.getItem(u+h);)h++;window.localStorage.setItem(u+h,JSON.stringify(d)),window.localStorage.setItem(u+h+".name",n),window.localStorage.setItem(p+h+".description",he.getWithFallback("pc-hub-deckby","by "+r,r)),window.localStorage.setItem(p+h+".image",JSON.stringify({id:-2,authorName:"",active:!1,cardId:-2,cardName:"IMPORTED_FROM_HUB",image:a,name:"IMPORTED_FROM_HUB",owned:!0,typeSkin:0,ucpCost:222,unavailable:!1}))}else nt.ImportDeck({soul:o,cards:d.cards,artifacts:d.artifacts},(function(t,n){"success"==t?e.toast({title:window.$.i18n("pc-hub-upload-success")}):(console.log("DeckEditor.ImportDeck error!",n),e.toast({title:window.$.i18n("pc-hub-upload-error1"),text:window.$.i18n("pc-hub-upload-error2")}))}))}(n,r,i,o),this.setAttribute("disabled",!0)})),d.prepend(c)}};var n=window.appendHubDeck;window.appendHubDeck=function(t,a){var r=n(t,a);return e.events.emit("appendHubDeck()",{container:t,deck:a,element:r}),r},e.events.on("appendHubDeck()",(function(e){var t=e.deck;e.element.find(".hubDeckShow .show-button")[0].onclick=function(){window.showDeckLoadHub(t.code,t.date,t.name,t.image,t.owner.username)}}))}():underscript.onPage("Crafting")?a.sktimacraft.value()&&e.events.on("PrettyCards:onPageLoad",(function(){var t=$('<td><input type="text" class="form-control" placeholder=". . ."></input></td>'),n=$("#dust").closest("td");n.css("width","unset").after(t),n.closest("tr").css({display:"flex","flex-wrap":"nowrap","justify-content":"space-between",width:"100%"}),n.closest("table").css("width","100%"),t.find("input").keyup((function(){!function(e){var t=e.value;if(!(t.length<=50||Ii&&Ii.opened)){var n;try{n=JSON.parse(atob(t))}catch(e){return void console.warn("DECK CODE ERROR",e)}"string"!=typeof n.soul||"object"!=typeof n.cardIds||25!=n.cardIds.length||"object"!=typeof n.artifactIds||n.artifactIds.length>2||(e.value="",Ii=window.BootstrapDialog.show({title:window.$.i18n("pc-masscraft-title"),message:Bi(n),size:window.BootstrapDialog.SIZE_WIDE,onshown:function(e){Oi()},buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]}))}}(this)})),e.events.on("PrettyCards:TranslationExtReady",(function(){t.find("input").attr("placeholder",window.$.i18n("pc-masscraft-inserthere"))}))})):underscript.onPage("Settings")?Ui.value()&&e.events.on("PrettyCards:onPageLoad",(function(){var e=document.querySelector("input[name=toggleSpectator]");if(e){Fi=!e.className.includes("btn-success"),e.parentElement.className="PrettyCards_Hidden";var t=document.createElement("P");t.innerHTML=`\n                    <span>${$.i18n("settings-spectator-enable")}</span> \n                    <input id="toggleSpectatorON" type="radio" name="toggleSpectator" value="true" class="toggleSpectator"> \n                    <label for="toggleSpectatorON">${$.i18n("settings-on")}</label> \n                    <input id="toggleSpectatorOFF" type="radio" name="toggleSpectator" value="false" class="toggleSpectator"> \n                    <label for="toggleSpectatorOFF">${$.i18n("settings-off")}</label>\n                `,Hi=t.querySelector("#toggleSpectatorON"),Gi=t.querySelector("#toggleSpectatorOFF"),(Fi?Hi:Gi).setAttribute("checked","true"),Hi.addEventListener("change",Wi),Gi.addEventListener("change",Wi),e.parentElement.parentElement.insertBefore(t,e.parentElement)}})):underscript.onPage("CustomCardSkins")?(e.events.on(":GuestMode",(function(){window.location.href="/SignIn"})),A("PrettyCards:onPageLoad PC_Chat:getSelfInfos",(function(){window.$("title").html("PrettyCards - Custom Card Skins"),window.$(".mainContent").html('\n\t\t\t<div id="PrettyCards_CardSkinsTab" style="font-size: 2em; margin-bottom: 0.1em;">\n\t\t\t\t<button id="PrettyCards_CreateCustomCardSkinButton" class="brn btn-success">Create New</button>\n\t\t\t\t<button id="PrettyCards_DeleteCustomCardSkinButton" class="brn btn-danger">Delete</button>\n\t\t\t</div>\n\t\t\t<div class="gray" style="margin-bottom: 1em;">NOTE: These card skins cannot be used on cards themselves, but they can be used for deck images in my custom deck system.</div>\n\t\t\t<div id="PrettyCards_CardListContainer"></div>\n\t\t'),window.$("#PrettyCards_CreateCustomCardSkinButton").click(Xi),window.$("#PrettyCards_DeleteCustomCardSkinButton").click(Qi),Vi=function(){for(var e=[],t=0,n=ao(0);n;)n.storageId=t,e[t]=n,n=ao(++t);return e}(),window.allCards&&window.allCards.length>0?Ki():window.document.addEventListener("allCardsReady",(function(){Ki()}))}))):underscript.onPage("CustomCards")?(e.events.on(":GuestMode",(function(){window.location.href="/SignIn"})),A("PrettyCards:onPageLoad PrettyCards:onArtifacts",(function(){window.$("title").html("PrettyCards - Custom Cards"),window.$(".mainContent").html('\n\t\t\t<div id="PrettyCards_CustomCardCategories">Loading All Cards . . .</div>\n\t\t\t<div id="PrettyCards_CustomCardShowcase"></div>\n\t\t'),$("#PrettyCards_CustomCardShowcase").css("display","none"),window.allCards&&window.allCards.length>0?fo():window.document.addEventListener("allCardsReady",(function(){fo()}))}))):underscript.onPage("Friendship")?mo.value()&&(ts=window.applyFilters,(ns=window.$("table").first()).find("td:nth-child(2)").css("width","300px"),ns.find("td:nth-child(2)").after('<td><select id="PrettyCards_FriendshipSort" class="form-control" style="color:white;" onchange="applyFilters();showPage(0);"><option value="0">Waiting . . .</option></select></td>'),e.events.on("PrettyCards:TranslationExtReady",(function(){for(var e=[window.$.i18n("pc-friendship-sort-xp"),window.$.i18n("pc-friendship-sort-rank"),window.$.i18n("pc-friendship-sort-levelup"),window.$.i18n("pc-friendship-sort-reward",window.$.i18n("item-shiny-pack"))],t="",n=0;n<e.length;n++)t+=`<option value="${n}">${e[n]}</option>`;window.$("#PrettyCards_FriendshipSort").html(t)})),window.applyFilters=function(){var e,t;ts(),0!=(t=window.$("#PrettyCards_FriendshipSort").val())&&(1==t?e=function(e,t){return e.rank-t.rank}:2==t?e=function(e,t){return e.xpUntilNextLevel-t.xpUntilNextLevel}:3==t&&(e=function(e,t){return e.level>=200&&t.level<200||e.xpUntilNextUcpReward-t.xpUntilNextUcpReward}),pages.sort(e))},e.events.on("Friendship:loaded",(function(e){for(var t=JSON.parse(localStorage["underscript.cache.friendship"]),n=0;n<window.collection.length;n++){var a=window.collection[n];a.level=window.getLevel(a.xp),a.xpUntilNextLevel=window.xpUntilNextLevel(a.level,a.xp);var r=t[a.fixedId+";"+selfId];null!=r&&r.rank>0?a.rank=r.rank:a.rank=1e3;var i=_.getXpForLevel(25*Math.ceil((a.level+1)/25));a.xpUntilNextUcpReward=i-a.xp}}))):underscript.onPage("SmashOrPass")?A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){$("title").html("PrettyCards - Smash or Pass"),localStorage["prettycards.top_advert_closed"]=!0,window.allCards&&window.allCards.length>0||window.document.addEventListener("allCardsReady",(function(){})),document.getElementsByClassName("mainContent")[0].innerHTML=`\n            <div id="PrettyCards_SOP_Phase1">\n                <h1>${window.$.i18n("pc-sop-welcome")}</h1>\n                <h2>${window.$.i18n("pc-sop-q1")}</h2>\n                <p>${window.$.i18n("pc-sop-a1-p1")}</p>\n                <p>${window.$.i18n("pc-sop-a1-p2")}</p>\n                <p>${window.$.i18n("pc-sop-a1-p3")}</p>\n                <h2>${window.$.i18n("pc-sop-q2")}</h2>\n                <p>${window.$.i18n("pc-sop-a2-p1")}</p>\n                <p>${window.$.i18n("pc-sop-a2-p2")}</p>\n                <h2>${window.$.i18n("pc-sop-q3")}</h2>\n                <p>${window.$.i18n("pc-sop-a3-p1")}</p>\n                <br>\n                <button class="btn btn-success" id="PrettyCards_SOP_ToPhase2">${window.$.i18n("pc-sop-onwards")}</button>\n                <button class="btn btn-danger" onclick="window.location.href = '/';">${window.$.i18n("pc-sop-retreat")}</button>\n            </div>\n            <div id="PrettyCards_SOP_Phase2" class="PrettyCards_Hidden">\n                <h1>${window.$.i18n("pc-sop-settings")}</h1>\n                <h2>${window.$.i18n("pc-sop-filters")}</h2>\n                <p style="font-size: 16px;">\n                    <label>\n                        <input type="checkbox" id="baseRarityInput" checked class="rarityInput customRarityInput" rarity="BASE"> <img src="images/rarity/BASE_BASE.png">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="commonRarityInput" checked class="rarityInput" rarity="COMMON"> <img src="images/rarity/BASE_COMMON.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="rareRarityInput" checked class="rarityInput" rarity="RARE"> <img src="images/rarity/BASE_RARE.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="epicRarityInput" checked class="rarityInput" rarity="EPIC"> <img src="images/rarity/BASE_EPIC.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="legendaryRarityInput" checked class="rarityInput" rarity="LEGENDARY"> <img src="images/rarity/BASE_LEGENDARY.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="determinationRarityInput" checked class="rarityInput" rarity="DETERMINATION"> <img src="images/rarity/BASE_DETERMINATION.png" alt="">\n                    </label>\n                </p>\n                <p style="font-size: 16px;">\n                    <label>\n                        <input type="checkbox" id="monsterInput" class="typeCardInput" checked typeCard="0"> <img src="images/souls/MONSTER.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="spellInput" class="typeCardInput" typeCard="1"> <img style="height: 24px;" src="images/artifacts/Arcane_Scepter.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="undertaleInput" class="extensionInput" extension="BASE" checked> <img src="images/rarity/BASE.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="deltaruneInput" class="extensionInput" extension="DELTARUNE" checked> <img src="images/rarity/DELTARUNE.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="tokenRarityInput" checked class="rarityInput customRarityInput" rarity="TOKEN"> <img src="images/rarity/BASE_TOKEN.png">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="everyRarityInput" checked> <img style="height: 24px;" src="https://github.com/elytrafae/prettycards/raw/master/img/RarityIcons/ALL_RARITIES.png" alt="Za Filter">\n                    </label>\n                </p>\n                <h2 style="display:inline-block;">${window.$.i18n("pc-sop-answers")}</h2>\n                <button class="btn btn-success" id="PrettyCards_SOP_AddButton">${window.$.i18n("pc-sop-add")}</button>\n                <div id="PrettyCards_SOP_ButtonSettingsContainer"></div>\n                <h2>${window.$.i18n("pc-sop-other")}</h2>\n                <div style="margin-bottom: 1em;">\n                    <label><input type="checkbox" id="PrettyCards_SOP_ViewSkinsSetting" checked> <span>${window.$.i18n("pc-sop-skins")}</span></label><br>\n                    <label><input type="checkbox" id="PrettyCards_SOP_BlindModeSetting"> <span>${window.$.i18n("pc-sop-blind")}</span></label><br>\n                    <label><input type="checkbox" id="PrettyCards_SOP_RandomizeSetting"> <span>${window.$.i18n("pc-sop-random")}</span></label><br>\n                </div>\n                <button class="btn btn-success" id="PrettyCards_SOP_ToPhase3">${window.$.i18n("pc-sop-start")}</button>\n            </div>\n            <div id="PrettyCards_SOP_Phase3" class="PrettyCards_Hidden">\n                <div id="PrettyCards_SOP_Phase3_CardContainer"></div>\n                <div id="PrettyCards_SOP_Phase3_Main">\n                    <div id="PrettyCards_SOP_Phase3_CardSpace"></div>\n                    <div id="PrettyCards_SOP_Phase3_Skins"></div>\n                </div>\n                <div id="PrettyCards_SOP_Buttons"></div>\n            </div>\n            <div id="PrettyCards_SOP_Phase4" class="PrettyCards_Hidden">\n                <div id="PrettyCards_SOP_Phase4_ButtonContainer">\n                    <button class="btn btn-primary" id="PrettyCards_SOP_TakeScreenshot"><span class="glyphicon glyphicon-camera"></span></button>\n                </div>\n                <div id="PrettyCards_SOP_Phase4_ScreenshotArea"></div>\n            </div>\n        `,document.getElementById("PrettyCards_SOP_ToPhase2").onclick=function(){window.$("#PrettyCards_SOP_Phase1").addClass("PrettyCards_Hidden"),window.$("#PrettyCards_SOP_Phase2").removeClass("PrettyCards_Hidden")},document.getElementById("everyRarityInput").onchange=function(){var e=$("#everyRarityInput").prop("checked");$("#"+go.join(", #")).prop("checked",e)},To(window.$.i18n("pc-sop-smash"),"btn-success"),To(window.$.i18n("pc-sop-smashobj"),"btn-warning"),To(window.$.i18n("pc-sop-pass"),"btn-danger"),$("#PrettyCards_SOP_ButtonSettingsContainer").sortable({appendTo:parent,axis:"y",cursor:"grabbing",placeholder:"sortable-placeholder",forcePlaceholderSize:!0,handle:".handle"}),document.getElementById("PrettyCards_SOP_AddButton").onclick=function(){To("","btn-success")},document.getElementById("PrettyCards_SOP_ToPhase3").onclick=Eo,document.getElementById("PrettyCards_SOP_TakeScreenshot").onclick=function(){xo||(xo=!0,$("#PrettyCards_SOP_Phase4_ScreenshotArea").addClass("PrettyCards_SOP_Screenshot"),window.html2canvas(document.getElementById("PrettyCards_SOP_Phase4_ScreenshotArea")).then((e=>{xo=!1,_.saveCanvasAsImage(e,"sop_results");var t=$("<div><p>The screenshot should have started downloading! If not, you can save it from here!</p></div>");$(e).css("height",""),$(e).css("width","100%"),t.append(e),$("#PrettyCards_SOP_Phase4_ScreenshotArea").removeClass("PrettyCards_SOP_Screenshot"),window.BootstrapDialog.show({title:"Successful Screenshot!",message:t,buttons:[{label:"Close",cssClass:"btn-primary",action:function(e){e.close()}}]})})))}})):underscript.onPage("CustomTranslations")&&e.events.on("PrettyCards:onPageLoad",(function(){s()(".mainContent").html("<h1>Please wait until you're logged into chat . . .</h1>"),e.events.on("PC_Chat:getSelfInfos",(function(){_.translatorFeaturesAccess()?(e.events.on("PrettyCards:onPageLoad",(function(){window.$("title").html("PrettyCards - Custom Translations"),s()(".mainContent").html('\n            <div id="PrettyCards_CT_Phase0">\n                <h1>Please select a source!</h1>\n                <div id="PrettyCards_CT_Phase0_SourceSelect"></div>\n            </div>\n            <div id="PrettyCards_CT_Phase1" class="PrettyCards_Hidden">\n                <h1>Please select a language!</h1>\n                <div id="PrettyCards_CT_Phase1_LangaugeSelect"></div>\n            </div>\n            <div id="PrettyCards_CT_Phase2" class="PrettyCards_Hidden">\n                <div id="PrettyCards_CT_Phase2_MainContent">\n                    <div id="PrettyCards_CT_Phase2_FilterRow">\n                        <div>\n                            <p>Search</p>\n                            <input type="text" class="form-control" id="searchInput" onkeyup="applyFilters(); showPage(0);" placeholder="Search..." style="width: 180px;" data-lpignore="true">\n                        </div>\n                        <div>\n                            <p>Category</p>\n                            <select id="selectCategory" class="form-control" style="width: 160px; color: white;" onchange="applyFilters(); showPage(0);"></select>\n                        </div>\n                        <div>\n                            <p>Status</p>\n                            <select id="selectStatus" class="form-control" style="width: 170px; color: white;" onchange="applyFilters(); showPage(0);">\n                                <option value="ALL">All Entries</option>\n                                <option value="DONE">Translated</option>\n                                <option value="NEW">New</option>\n                            </select>\n                        </div>\n                        <div>\n                            <button class="btn btn-primary" id="PrettyCards_CT_Phase2_QuickRefBtn">Quick Ref</button>\n                            <p><select id="selectPage" onchange="showPage(this.value)"></select> / <span id="maxPages"></span></p>\n                        </div>\n                        <div>\n                            <button id="btnPrevious" onclick="previousPage();" class="btn btn-lg btn-primary" disabled=""><span class="glyphicon glyphicon-chevron-left"></span></button>\n                            <button id="btnNext" onclick="nextPage();" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-chevron-right"></span></button>\n                        </div>\n                    </div>\n\n                    <p id="PrettyCards_CT_Phase2_Preview"><span id="PrettyCards_CT_Phase2_PreviewName"></span><span id="PrettyCards_CT_Phase2_Preview"></span></p>\n\n                    <p id="PrettyCards_CT_Phase2_Error" class="red"></p>\n                    <table id="PrettyCards_CT_Phase2_Table" class="translation table table-bordered">\n                        <tbody>\n                            <tr>\n                                <td id="PrettyCards_CT_Phase2_TranslationKey" colspan="2">translation-key-here</td>\n                                <td style="width:50px; text-align: center;">\n                                    <button class="btn btn-sm btn-success" onclick="PrettyCards_CT_downloadJSON()">\n                                        <span class="glyphicon glyphicon-send"></span>\n                                    </button>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan="3" id="PrettyCards_CT_Phase2_OGEnglishText">OG ENGLISH TEXT</td>\n                            </tr>\n                            <tr>\n                                <td colspan="3" id="PrettyCards_CT_Phase2_EnglishText">ENGLISH TEXT</td>\n                            </tr>\n                            <tr>\n                                <td colspan="3" id="PrettyCards_CT_Phase2_OGTranslatedText">OG TRANSLATED TEXT</td>\n                            </tr>\n                            <tr>\n                                <td colspan="3">\n                                    <textarea maxlength="500" class="form-control" id="PrettyCards_CT_Phase2_TranslationArea"></textarea>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div id="PrettyCards_CT_Phase2_QuickRef" class="PrettyCards_Hidden">\n                    <h1>Quick Reference Guide!</h1>\n                    <h3><a href="/translateManual.jsp" target="_blank">Onutrem\'s Guide</a></h3>\n                </div>\n            </div>\n        '),s().getJSON(_.asset("json/translationQuickRef.json"),{},(function(e){for(var t=s()("#PrettyCards_CT_Phase2_QuickRef"),n=0;n<e.length;n++){var a=e[n],r=s()(`\n                <div class="PrettyCards_CT_Phase2_QuickRefEntry">\n                    <h2 class="PrettyCards_CT_Phase2_QuickRefEntryTitle" onclick="$(this).parent().toggleClass('PrettyCards_CT_Phase2_QuickRefEntryOpen')">${a.title}</h2>\n                    <p>${a.description}</p>\n                    <p>Syntax: <code class="PrettyCards_DarkThemeCode">${a.syntax}</code></p>\n                    <p>Example: <code class="PrettyCards_DarkThemeCode">${a.example}</code></p>\n                </div>\n            `);t.append(r)}})),s()("#PrettyCards_CT_Phase2_QuickRefBtn").click((function(){s()(".mainContent").toggleClass("PrettyCards_WiderMainContent"),s()("#PrettyCards_CT_Phase2_QuickRef").toggleClass("PrettyCards_Hidden")})),e.events.on("PrettyCards:translationSourcesDone",(function(){t.translationManager.languageSources.forEach((e=>{var t=s()(`<div>${e.name}</div>`);t.click((function(){!function(e){Co=e,s()("#PrettyCards_CT_Phase0").addClass("PrettyCards_Hidden"),s()("#PrettyCards_CT_Phase1").removeClass("PrettyCards_Hidden"),s().getJSON("/translation/en.json",{},(function(e){wo=e,Ro()})),s().getJSON(Co.urlFunc("en"),{},(function(e){vo=e,Ro()}))}(e)})),s()("#PrettyCards_CT_Phase0_SourceSelect").append(t)}))})),e.events.on("translation:loaded",(function(){for(var e=1;e<window.availableLanguages.length;e++){const n=window.availableLanguages[e];var t=s()(`<div>${window.$.i18n("chat-"+n)}</div>`);t.click((function(){Do(n)})),s()("#PrettyCards_CT_Phase1_LangaugeSelect").append(t)}}))})),window.applyFilters=Oo,window.showPage=Ho,window.nextPage=Bo,window.previousPage=Fo,window.PrettyCards_CT_downloadJSON=Uo):s()(".mainContent").html("<h1 class='red'>You don't have access to this page!</h1>")}))})),a.override_decks.value()&&(underscript.onPage("Decks")?($r||($r=!0,A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){$.get("/CardSkinsConfig?action=shop",{},(function(e){wr=JSON.parse(e.cardSkins),function(){for(var e=0;e<wr.length;e++){var t=wr[e];t.owned?vr.push(t):br.push(t)}Tr[2]=vr}()})),A("Chat:Connected",(function(){!function(){for(var e=window.localStorage["prettycards.custom_card_skin."+window.selfId+".0"],t=0;"string"==typeof e;)_r.push(JSON.parse(e)),t++,e=window.localStorage["prettycards.custom_card_skin."+window.selfId+"."+t];Tr[0]=_r}()})),Er.forEach((e=>{$.getJSON(_.asset(`json/aprilFools${e.year}.json`),{},(function(t){!function(e,t,n,a,r){for(var i=0;i<e.length;i++){r=e[i];var o=window.getCard(r);t.push({active:!1,authorName:"???",cardId:o.id,cardName:o.name,id:r,image:_.asset(`img/Cards/April_Fools_${n}/${o.image}.png`),name:window.$.i18n("pc-skinselect-skinname-april",n,window.$.i18n(`card-name-${o.id}`,1)),owned:!0,typeSkin:0,ucpCost:a,unavailable:!1,isCustom:!0})}}(t,e.list,e.year,e.ucpCost,e.id)}))})),Ar.forEach(((e,t)=>{Ar[t]="string"==typeof e?window.$.i18n(e):window.$.i18n(e[0],e[1],e[2])}))})),e.events.on("allCardsReady",Ir)),A("SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts",(function(){Lr.callback=function(e){jr(),zr(e)},Lr.canEditDecks=!0,Lr.hideInvalidDecks=!1,Lr.AppendTo(Hr)})),Ur.style.display="none",document.querySelectorAll(".mainContent > br").forEach((function(e){e.remove()})),document.getElementsByClassName("mainContent")[0].appendChild(Hr),window.addCard=function(e,t,n){var a=window.soul,r=Zr(window.deckCollections[a],e,t);ei(r,window.decks[window.soul])&&(updateQuantity(a,r,-1),addDeckCardSlot(a,r),refreshDeckList(),applyFilters(),showPage(currentPage),n||ai(),Gr.isBase&&nt.AddCard(e,t,Gr.soul,(function(){})))},window.removeCard=function(e,t){var n=Zr(window.deckCollections[window.soul],e,t),a=window.soul;updateQuantity(a,n,1),removeDeckCardSlot(a,n),refreshDeckList(),applyFilters(),showPage(currentPage),removeCardHover(),ai(),Gr.isBase&&nt.RemoveCard(e,t,Gr.soul,(function(){}))},window.removeAllCards=ni,window.addArtifact=ti,window.clearArtifacts=function(){var e=window.soul;decksArtifacts[e]=[],updateArtifactSlots(),checkCompletion(),dontUpdateDeck||ai(),Gr.isBase&&nt.RemoveArtifacts(Gr.soul,(function(){}))},window.showDeckLoad=function(e){var t=e.classe||e.soul;t==Gr.soul?ri(e):BootstrapDialog.show({title:"Unable to Import!",type:window.BootstrapDialog.TYPE_DANGER,message:'The deck you are trying to import is of a different soul. Please open or create a new <span class="'+t+'">'+t+"</span> deck to import this deck!",buttons:[{label:Rr.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})},A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){var e=Rr(".btn-storage").first().parent();e.css("display","none"),document.getElementById("selectSouls").style.display="none";var t=Rr("<div style='margin-bottom: 5px;' class='PrettyCards_DeckButtons'></div>");t.insertBefore(e);var n=document.createElement("BUTTON");t.append(n),n.style="width: 50%; margin: 0; text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;",n.className="btn btn-primary",n.innerHTML=window.$.i18n("pc-decks-change"),n.onclick=Wr.bind(this),t.append(Fr),Fr.style="width: 50%; margin: 0; text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;",Fr.className="btn btn-primary",Fr.innerHTML=window.$.i18n("pc-decks-edit"),Fr.onclick=Qr.bind(this)}))):underscript.onPage("Play")?function(){if(document.querySelector('span[data-i18n="[html]play-incomplete"]'))return console.log("NO DECKS!"),void A("PrettyCards:onArtifacts",(function(){for(var e=dt(),t=0;t<e.length;t++){var n=e[t];if(ci.IsValidDeck(n)){oi=!1,di=n,wi("reload");break}}}));hi("#phase1 > table").css("display","none"),hi("#game-modes").css("display","none"),hi("#phase1").append('\n\t\t<div class="PrettyCards_GamemodeContainer">\n\t\t\t<div class="PrettyCards_GamemodeDeck">\n\t\t\t\t<div id="PrettyCards_DeckContainer"></div>\n\t\t\t\t<div id="PrettyCards_DeckArtifacts"></div>\n\t\t\t\t<div id="PrettyCards_SeasonRewards">\n\t\t\t\t\t<a style="color: gray; border: 1px dotted gray; padding: 5px; background-color: black;" href="rewards.jsp" class="pointer" data-i18n="[html]play-rewards"></a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="PrettyCards_Gamemodes">\n\t\t\t\t<div id="standardContainer"></div>\n\t\t\t\t<div id="rankedContainer"></div>\n\t\t\t\t<div id="customContainer"></div>\n\t\t\t\t<div id="tornamentContainer">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'),hi(".mainContent").append('<div id="deckSelectContainer" hidden></div>'),hi(".playSoulArtifacts").css({opacity:"0",position:"absolute"}),hi("#standardContainer").append(hi("#standard-mode").addClass("game-mode")),hi("#rankedContainer").append(hi("#ranked-mode").addClass("game-mode")),hi("#customContainer").append(hi("#custom-mode").addClass("game-mode")),hi("#standard-mode")[0].onclick=function(){wi("standard")},hi("#ranked-mode")[0].onclick=function(){wi("ranked")},A("SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts PrettyCards:TranslationExtReady",(function(){window.$("#PrettyCards_SeasonRewards a").html(window.$.i18n("play-rewards")),ci.closable=!0,ci.closeCallback=gi,ci.callback=yi,ci.AppendTo(hi("#deckSelectContainer")[0]);var e=Number(window.localStorage["prettycards."+window.selfId+".selectedPlayDeckId"]),t=window.localStorage["prettycards."+window.selfId+".selectedPlayDeckSoul"];if("number"==typeof e&&"string"==typeof t){var n=ci.getDeckBySoulAndId(t,e);null==n?(Ci({soul:"DETERMINATION",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:ot,description:window.$.i18n("pc-play-deckerror")}),oi=!0):Ci(n)}else Ci({soul:"UNIVERSAL",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:it,description:window.$.i18n("pc-play-nodeck")}),oi=!0;si=!1})),hi("#PrettyCards_DeckContainer").click(mi)}():underscript.onPage("GamesList")&&($("#state1 > table").css("display","none"),$("#state1 br").css("display","none"),$(".mainContent > br").css("display","none"),$("#game-modes").css("display","none"),$("#state1").append('\n\t\t<div class="PrettyCards_GamemodeContainer">\n\t\t\t<div class="PrettyCards_GamemodeDeck">\n\t\t\t\t<div id="PrettyCards_DeckContainer"></div>\n\t\t\t\t<div id="PrettyCards_DeckArtifacts"></div>\n\t\t\t\t<div id="PrettyCards_JoinCreate"></div>\n\t\t\t</div>\n\t\t\t<div class="PrettyCards_GamesList">\n\t\t\t\t<table id="PrettyCards_Games" class="table table-bordered">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-name"></td>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-owner"></td>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-slots"></td>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-password"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t'),$(".mainContent").append('<div id="deckSelectContainer" hidden></div>'),$(".playSoulArtifacts").css({opacity:"0",position:"absolute"}),$("#PrettyCards_JoinCreate").append($("#state1 button")),$("#PrettyCards_JoinCreate button")[0].onclick=function(){window.PrettyCards_StartJoiningQueue(null,"create")},A("SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts PrettyCards:TranslationExtReady",(function(){_i.closable=!0,_i.closeCallback=Si,_i.callback=xi,_i.AppendTo($("#deckSelectContainer")[0]);var e=Number(window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]),t=window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"];if("number"==typeof e&&"string"==typeof t){var n=_i.getDeckBySoulAndId(t,e);null==n?(Ti({soul:"DETERMINATION",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:ot,description:window.$.i18n("pc-play-deckerror")}),vi=!0):Ti(n)}else Ti({soul:"UNIVERSAL",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:it,description:window.$.i18n("pc-play-nodeck")}),vi=!0;bi=!1})),$("#PrettyCards_DeckContainer").click((function(){bi||($("#state1").attr("hidden",!0).css("display","none"),$("#deckSelectContainer").attr("hidden",!1))})),window.regenerateTable=function(e){$("#PrettyCards_Games").find("tr:gt(0)").remove();for(var t=0;t<e.length;t++){var n;n=void 0!==e[t].player?"2/2":"1/2",e[t].gameType,e[t].isPrivate?$("#PrettyCards_Games tr:last").after('<tr class="pointer" onclick="PrettyCards_StartJoiningQueue('+e[t].id+", 'password')\"><td>"+e[t].name+"</td><td>"+e[t].owner.username+"</td><td>"+n+"</td><td>"+$.i18n("lobby-yes")+"</td></tr>"):$("#PrettyCards_Games tr:last").after('<tr class="pointer" onclick="PrettyCards_StartJoiningQueue('+e[t].id+", 'normal')\"><td>"+e[t].name+"</td><td>"+e[t].owner.username+"</td><td>"+n+"</td><td>"+$.i18n("lobby-no")+"</td></tr>")}}))})()})();