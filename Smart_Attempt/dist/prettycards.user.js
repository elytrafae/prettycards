// ==UserScript==
// @name        PrettyCards
// @version     2.12.1b1
// @author      CMD_God
// @description Make (parts of) Undercards look fabulous!
// @homepage    https://github.com/CMD-God/prettycards
// @supportURL  https://github.com/CMD-God/prettycards
// @match       https://*.undercards.net/*
// @exclude     https://*.undercards.net/*/*
// @updateURL   https://github.com/CMD-God/prettycards/releases/latest/download/prettycards.user.js
// @downloadURL https://unpkg.com/prettycards/dist/prettycards.user.js
// @grant       none
// @run-at      document-idle
// ==/UserScript==

/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _libraries_jquery_additions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./libraries/jquery_additions.js */ \"./src/libraries/jquery_additions.js\");\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_custom_page_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/custom_page_base.js */ \"./src/libraries/custom_page_base.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_ajax_event_hooker_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../src/libraries/ajax_event_hooker.js */ \"./src/libraries/ajax_event_hooker.js\");\n/* harmony import */ var _src_libraries_card_modifyers_basic_universal_card_additions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/basic_universal_card_additions.js */ \"./src/libraries/card_modifyers/basic_universal_card_additions.js\");\n/* harmony import */ var _src_libraries_background_background_manager_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../src/libraries/background/background_manager.js */ \"./src/libraries/background/background_manager.js\");\n/* harmony import */ var _src_libraries_kromer_test_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../src/libraries/kromer_test.js */ \"./src/libraries/kromer_test.js\");\n/* harmony import */ var _libraries_mobile_navigation_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./libraries/mobile/navigation.js */ \"./src/libraries/mobile/navigation.js\");\n/* harmony import */ var _libraries_chat_user_info_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./libraries/chat/user_info.js */ \"./src/libraries/chat/user_info.js\");\n/* harmony import */ var _libraries_private_games_private_game_host_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./libraries/private_games/private_game_host.js */ \"./src/libraries/private_games/private_game_host.js\");\n/* harmony import */ var _libraries_private_games_private_game_recipient_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./libraries/private_games/private_game_recipient.js */ \"./src/libraries/private_games/private_game_recipient.js\");\n/* harmony import */ var _src_libraries_card_modifyers_breaking_skin_hover_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/breaking_skin_hover.js */ \"./src/libraries/card_modifyers/breaking_skin_hover.js\");\n/* harmony import */ var _src_libraries_card_modifyers_theme_song_viewer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/theme_song_viewer.js */ \"./src/libraries/card_modifyers/theme_song_viewer.js\");\n/* harmony import */ var _src_libraries_card_modifyers_card_description_corrections_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/card_description_corrections.js */ \"./src/libraries/card_modifyers/card_description_corrections.js\");\n/* harmony import */ var _src_libraries_card_modifyers_rarity_text_changer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/rarity_text_changer.js */ \"./src/libraries/card_modifyers/rarity_text_changer.js\");\n/* harmony import */ var _src_libraries_card_modifyers_switch_highlight_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/switch_highlight.js */ \"./src/libraries/card_modifyers/switch_highlight.js\");\n/* harmony import */ var _src_libraries_card_modifyers_za_filter_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/za_filter.js */ \"./src/libraries/card_modifyers/za_filter.js\");\n/* harmony import */ var _src_libraries_card_modifyers_card_theme_song_manager_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/card_theme_song_manager.js */ \"./src/libraries/card_modifyers/card_theme_song_manager.js\");\n/* harmony import */ var _src_libraries_card_modifyers_hd_card_skins_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/hd_card_skins.js */ \"./src/libraries/card_modifyers/hd_card_skins.js\");\n/* harmony import */ var _src_libraries_card_modifyers_hd_game_animations_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/hd_game_animations.js */ \"./src/libraries/card_modifyers/hd_game_animations.js\");\n/* harmony import */ var _src_libraries_card_modifyers_friendship_info_on_cards_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/friendship_info_on_cards.js */ \"./src/libraries/card_modifyers/friendship_info_on_cards.js\");\n/* harmony import */ var _src_libraries_translation_translation_manager_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../src/libraries/translation/translation_manager.js */ \"./src/libraries/translation/translation_manager.js\");\n/* harmony import */ var _src_libraries_fancy_helper_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../src/libraries/fancy_helper.js */ \"./src/libraries/fancy_helper.js\");\n/* harmony import */ var _src_libraries_fancy_card_select_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../src/libraries/fancy_card_select.js */ \"./src/libraries/fancy_card_select.js\");\n/* harmony import */ var _src_libraries_emote_sound_manager_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../../src/libraries/emote_sound_manager.js */ \"./src/libraries/emote_sound_manager.js\");\n/* harmony import */ var _libraries_main_menu_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./libraries/main_menu.js */ \"./src/libraries/main_menu.js\");\n/* harmony import */ var _src_libraries_footer_remover_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../../src/libraries/footer_remover.js */ \"./src/libraries/footer_remover.js\");\n/* harmony import */ var _page_specific_packs_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./page_specific/packs.js */ \"./src/page_specific/packs.js\");\n/* harmony import */ var _src_page_specific_decks_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../../src/page_specific/decks.js */ \"./src/page_specific/decks.js\");\n/* harmony import */ var _src_page_specific_play_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../../src/page_specific/play.js */ \"./src/page_specific/play.js\");\n/* harmony import */ var _src_page_specific_game_list_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../../src/page_specific/game_list.js */ \"./src/page_specific/game_list.js\");\n/* harmony import */ var _src_page_specific_hub_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../../src/page_specific/hub.js */ \"./src/page_specific/hub.js\");\n/* harmony import */ var _src_page_specific_crafting_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../../src/page_specific/crafting.js */ \"./src/page_specific/crafting.js\");\n/* harmony import */ var _src_page_specific_custom_card_skins_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../../src/page_specific/custom_card_skins.js */ \"./src/page_specific/custom_card_skins.js\");\n/* harmony import */ var _src_page_specific_custom_cards_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../../src/page_specific/custom_cards.js */ \"./src/page_specific/custom_cards.js\");\n/* harmony import */ var _src_page_specific_friendship_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../../src/page_specific/friendship.js */ \"./src/page_specific/friendship.js\");\n/* harmony import */ var _src_page_specific_smash_or_pass_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../../src/page_specific/smash_or_pass.js */ \"./src/page_specific/smash_or_pass.js\");\n/* harmony import */ var _src_page_specific_custom_translations_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../../src/page_specific/custom_translations.js */ \"./src/page_specific/custom_translations.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n//import {} from \"/src/libraries/updater.js\";\r\n\r\n// The Event ensurer MUST be required AFTER underscript stuff, but BEFORE anything else that might require it!\r\n\r\n\r\n // This has to be loaded before any major modifications are done to cards.\r\n\r\n// This is here to make sure the background settings are above the Miscallenious ones.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import {} from \"./libraries/chat/embed_media.js\";\r\n\r\n\r\n\r\n// import {} from \"/src/libraries/card_modifyers/custom_cards.js\";\r\n\r\n\r\n// import {} from \"/src/libraries/card_modifyers/card_flavor.js\";\r\n\r\n\r\n\r\n// import {} from \"/src/libraries/card_modifyers/card_helper_hover.js\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import {} from \"/src/libraries/persona_overlay.js\";\r\n\r\n\r\n\r\n\r\n\r\n// import {} from \"/src/libraries/cosmetic_wishlist.js\"; // Temporarily Removed!\r\n\r\n\r\n\r\n\r\n\r\n// import {} from \"/src/libraries/external_api_integration/youtube_player.js\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import {InitGame} from \"/src/page_specific/game.js\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n//import {} from \"/src/libraries/april_fools_downloader.js\"; // Keeping this here for next year!\r\n\r\nif (_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.settings.packs_page.value() && underscript.onPage('Packs')) {\r\n\t//console.log(\"Packs page!\", InitPacks);\r\n\t(0,_page_specific_packs_js__WEBPACK_IMPORTED_MODULE_28__.InitPacks)();\r\n} else if (underscript.onPage(\"Hub\")) {\r\n\t(0,_src_page_specific_hub_js__WEBPACK_IMPORTED_MODULE_32__.InitHub)();\r\n} else if (underscript.onPage(\"Crafting\")) {\r\n\t(0,_src_page_specific_crafting_js__WEBPACK_IMPORTED_MODULE_33__.InitCrafting)();\r\n} else if (underscript.onPage(\"CustomCardSkins\")) {\r\n\t(0,_src_page_specific_custom_card_skins_js__WEBPACK_IMPORTED_MODULE_34__.InitCustomCardSkins)();\r\n} else if (underscript.onPage(\"CustomCards\")) {\r\n\t(0,_src_page_specific_custom_cards_js__WEBPACK_IMPORTED_MODULE_35__.InitCustomCards)();\r\n} else if (underscript.onPage(\"Friendship\")) {\r\n\t(0,_src_page_specific_friendship_js__WEBPACK_IMPORTED_MODULE_36__.InitFriendship)();\r\n} else if (underscript.onPage(\"SmashOrPass\")) {\r\n\t(0,_src_page_specific_smash_or_pass_js__WEBPACK_IMPORTED_MODULE_37__.InitSmashOrPass)();\r\n} else if (underscript.onPage(\"CustomTranslations\")) {\r\n\t(0,_src_page_specific_custom_translations_js__WEBPACK_IMPORTED_MODULE_38__.InitCustomTranslations)();\r\n}\r\n\r\nif (_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.settings.override_decks.value()) {\r\n\tif (underscript.onPage(\"Decks\")) {\r\n\t\t(0,_src_page_specific_decks_js__WEBPACK_IMPORTED_MODULE_29__.InitDecks)();\r\n\t} else if (underscript.onPage(\"Play\")) {\r\n\t\t(0,_src_page_specific_play_js__WEBPACK_IMPORTED_MODULE_30__.InitPlay)();\r\n\t} else if (underscript.onPage(\"GamesList\")) {\r\n\t\t(0,_src_page_specific_game_list_js__WEBPACK_IMPORTED_MODULE_31__.InitGameList)();\r\n\t}\r\n}\r\n\r\n/*\r\nvar trans_array = [];\r\nfor (var key in settings) {\r\n\tconsole.log(settings[key]);\r\n}\r\n*/\r\n\r\n// ! Deck and Play Page modifications are disabled for now !\r\n\r\n/*\r\nPrettyCards_plugin.events.on(\"GameEvent\", function (data) {\r\n\tif (data.action === \"getPlaySound\") {\r\n\t\tconsole.log(\"Sound played!\", data.sound);\r\n\t}\r\n})\r\n*/\n\n//# sourceURL=webpack://prettycards/./src/index.js?");

/***/ }),

/***/ "./src/libraries/ajax_event_hooker.js":
/*!********************************************!*\
  !*** ./src/libraries/ajax_event_hooker.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n    window.$(document).ajaxComplete((event, xhr, s) => {\r\n        //console.log(event, xhr, s);\r\n        if (s.url === \"CardSkinsConfig?action=shop\") {\r\n            _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:onCardSkinShopConfig\");\r\n            return;\r\n        }\r\n        if (s.url === \"CardSkinsConfig\") {\r\n            _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"PrettyCards:onCardSkinBought\"); // Sadly, I dunno how to check which one :(\r\n        }\r\n        // Do stuff here\r\n    });\r\n});\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/ajax_event_hooker.js?");

/***/ }),

/***/ "./src/libraries/artifact_display.js":
/*!*******************************************!*\
  !*** ./src/libraries/artifact_display.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"artifactDisplay\": () => (/* binding */ artifactDisplay)\n/* harmony export */ });\n/* harmony import */ var _page_getters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page_getters */ \"./src/libraries/page_getters.js\");\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ArtifactDisplay {\r\n\t\r\n\tconstructor() {\r\n\t\tthis.artifacts = [];\r\n\t}\r\n\t\r\n\tGetArtifactById(id) {\r\n\t\tfor (var i=0; i < this.artifacts.length; i++) {\r\n\t\t\tvar artifact = this.artifacts[i];\r\n\t\t\tif (artifact.id === id) {\r\n\t\t\t\treturn artifact;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tReturnArtifactIcon(artifact_id) {\r\n\t\tvar artifact = this.GetArtifactById(artifact_id);\r\n\t\t//console.log(this.artifacts, artifact);\r\n\t\treturn `<img class=\"pointer PrettyCards_Artifact_${artifact.rarity || \"COMMON\"}\" style=\"height: 24px;\" name=\"${artifact.name}\" image=\"${artifact.image}\" legendary=\"${artifact.legendary.toString()}\" artifactid=\"${artifact.id}\" onclick=\"artifactInfo(${artifact.id});\" src=\"${_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_3__.utility.getArtifactImageLink(artifact.image)}\"> `;\r\n\t}\r\n\t\r\n\tSetRarityForArtifact(artifact) {\r\n\t\tif (artifact.rarity) {\r\n\t\t\treturn artifact.rarity;\r\n\t\t}\r\n\t\tif (!this.GetArtifactById(artifact.id)) {this.artifacts.push(artifact);}\r\n\t\tif (artifact.cost != ArtifactDisplay.commonArtifactCost && artifact.cost != ArtifactDisplay.legendaryArtifactCost) {\r\n\t\t\tartifact.rarity = ArtifactDisplay.DTArtifactIds.includes(artifact.id) ? \"DETERMINATION\" : \"TOKEN\";\r\n\t\t} else {\r\n\t\t\tartifact.rarity = artifact.legendary ? \"LEGENDARY\" : \"COMMON\";\r\n\t\t}\r\n\t\treturn artifact.rarity;\r\n\t}\r\n\r\n\tGetAllArtifacts() {\r\n\t\t//console.log(\"Getting Artifact Data!\");\r\n\t\t$.get(\"/DecksConfig\", {}, function(data) {\r\n\t\t\tthis.artifacts = JSON.parse(data.allArtifacts);\r\n\t\t\tvar ownedArtifacts = JSON.parse(data.artifacts);\r\n\r\n\t\t\t// Setting artifact rarities and ownership for my system.\r\n\t\t\tfor (var i=0; i < this.artifacts.length; i++) {\r\n\t\t\t\tvar artifact = this.artifacts[i];\r\n\t\t\t\tthis.SetRarityForArtifact(artifact);\r\n\t\t\t\t// A little school-like code :hue:\r\n\t\t\t\tartifact.owned = false;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i=0; i < ownedArtifacts.length; i++) {\r\n\t\t\t\tthis.GetArtifactById(ownedArtifacts[i].id).owned = true;\r\n\t\t\t}\r\n\t\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit(\"PrettyCards:onArtifacts\", this.artifacts);\r\n\t\t}.bind(this));\r\n\t}\r\n\r\n\tBuyArtifact(artifactId) {\r\n\t\twindow.$.post(\"/Artifacts\", {idArtifact : artifactId, unlock: \"Unlock\"}, function(data) {\r\n\t\t\tif (data.includes(\"artifact-name-\" + artifactId)) {\r\n\t\t\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit(\"PrettyCards:artBuyError\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar artifact = this.GetArtifactById(artifactId);\r\n\t\t\tartifact.owned = true;\r\n\t\t\t_page_getters__WEBPACK_IMPORTED_MODULE_0__.pagegetters.gold = _page_getters__WEBPACK_IMPORTED_MODULE_0__.pagegetters.gold - artifact.cost;\r\n\t\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit(\"PrettyCards:artBuySuccess\", {idArtifact: artifactId, artifact: artifact});\r\n\t\t}.bind(this));\r\n\t}\r\n\t\r\n}\r\n\r\n// The following three variables are the reason why I can even check what an artifact's rarity should be. \r\n// Only used on artifacts the server sends. Custom ones should be handled by the author.\r\nArtifactDisplay.commonArtifactCost = 300;\r\nArtifactDisplay.legendaryArtifactCost = 1000;\r\nArtifactDisplay.DTArtifactIds = [25, 34, 43, 46]; // Genocide, Outbreak, Ultimate Fusion and FREE KROMER respectively.\r\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\nvar artifactDisplay = new ArtifactDisplay();\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_1__.prettycards.artifactDisplay = artifactDisplay;\r\nwindow.artifactDisplay = artifactDisplay;\r\n\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_2__.ExecuteWhen)(\"PrettyCards:onPageLoad\", function() {\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_3__.utility.loadCSSFromGH(\"Artifacts\");\r\n\tartifactDisplay.GetAllArtifacts();\r\n});\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.on(\"connect getPlayersStats\", function (data) {\r\n\t//console.log(\"DATA\", data);\r\n\tvar backup_artifacts = [];\r\n\tif (data.action == \"getPlayersStats\") {\r\n\t\tvar artifacts = JSON.parse(data.artifacts);\r\n\t\tfor (var player in artifacts) {\r\n\t\t\tbackup_artifacts = backup_artifacts.concat(artifacts[player]);\r\n\t\t}\r\n\t} else {\r\n\t\tbackup_artifacts = JSON.parse(data.enemyArtifacts).concat(JSON.parse(data.yourArtifacts));\r\n\t}\r\n\t//console.log(\"BACKUP\", backup_artifacts);\r\n\tfor (var i=0; i < backup_artifacts.length; i++) {\r\n\t\tvar artifact = backup_artifacts[i];\r\n\t\tartifactDisplay.SetRarityForArtifact(artifact);\r\n\t\twindow.$(\".artifact-img[artifactId=\" + artifact.id + \"]\").addClass(\"PrettyCards_Artifact_\" + artifact.rarity);\r\n\t}\r\n});\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/artifact_display.js?");

/***/ }),

/***/ "./src/libraries/background/background_manager.js":
/*!********************************************************!*\
  !*** ./src/libraries/background/background_manager.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n// This is for testing only for now.\r\n// import {} from \"/src/libraries/background/custom_backgrounds.js\";\r\n\r\n\r\n\r\nvar background_sizes = [\"Auto\", \"Cover\", \"Contain\"];\r\nvar background_positions_x = [\"Left\", \"Center\", \"Right\"];\r\nvar background_positions_y = [\"Top\", \"Center\", \"Bottom\"];\r\n\r\nfunction SetBackgroundProperties() {\r\n\t// Dirty, but the most secure.\r\n\tdocument.documentElement.style.height = '100%';\r\n\tdocument.body.style.minHeight = '100%';\r\n\t\r\n\t// The real magic.\r\n\tdocument.body.style.backgroundSize = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.background_size.value().toLowerCase();\r\n\tdocument.body.style.backgroundPositionX = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.background_position_x.value().toLowerCase();\r\n\tdocument.body.style.backgroundPositionY = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.background_position_y.value().toLowerCase();\r\n}\r\n\r\n(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'background_size',\r\n\t'name': 'Background Size', // Name in settings page\r\n\t'note': 'Change the size of the background based on your preferred logic.',\r\n\t'type': 'select',\r\n\t'refresh': false, // true to add note \"Will require you to refresh the page\"\r\n\t'disabled': false,\r\n\t'options': background_sizes,\r\n\t'default': () => background_sizes[1], // default value\r\n\t'onChange': SetBackgroundProperties,\r\n\t'category': \"background\"\r\n});\r\n\r\n(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'background_position_x',\r\n\t'name': 'Background Position X', // Name in settings page\r\n\t'note': 'Change the horizontal position of the background.',\r\n\t'type': 'select',\r\n\t'refresh': false, // true to add note \"Will require you to refresh the page\"\r\n\t'disabled': false,\r\n\t'options': background_positions_x,\r\n\t'default': () => background_positions_x[1], // default value\r\n\t'onChange': SetBackgroundProperties,\r\n\t'category': \"background\"\r\n});\r\n\r\n(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'background_position_y',\r\n\t'name': 'Background Position Y', // Name in settings page\r\n\t'note': 'Change the vertical position of the background.',\r\n\t'type': 'select',\r\n\t'refresh': false, // true to add note \"Will require you to refresh the page\"\r\n\t'disabled': false,\r\n\t'options': background_positions_y,\r\n\t'default': () => background_positions_y[1], // default value\r\n\t'onChange': SetBackgroundProperties,\r\n\t'category': \"background\"\r\n});\r\n\r\nSetBackgroundProperties();\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"connect\", SetBackgroundProperties);\n\n//# sourceURL=webpack://prettycards/./src/libraries/background/background_manager.js?");

/***/ }),

/***/ "./src/libraries/card_cosmetics_manager.js":
/*!*************************************************!*\
  !*** ./src/libraries/card_cosmetics_manager.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SetCosmeticsForCardData\": () => (/* binding */ SetCosmeticsForCardData),\n/* harmony export */   \"SetDeckSkin\": () => (/* binding */ SetDeckSkin)\n/* harmony export */ });\n/* harmony import */ var _card_modifyers_hd_card_skins__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./card_modifyers/hd_card_skins */ \"./src/libraries/card_modifyers/hd_card_skins.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n\r\n\r\n\r\n\r\nvar cardSkins = [];\r\nvar frameName = \"Undertale\";\r\n\r\nfunction FetchCardCosmeticsData() {\r\n\t$.get(\"/CardSkinsConfig\", {action: \"profile\"},function( data ) {\r\n\t\tcardSkins = JSON.parse(data.cardSkins);\r\n\t\tframeName = data.frameName;\r\n\t\t//console.log(\"Card Cosmetics data fetched!\", data, cardSkins, frameName);\r\n\t});\r\n}\r\n\r\nfunction GetSuitableCardSkin(card_id) {\r\n\tfor (var i=0; i < cardSkins.length; i++) {\r\n\t\tvar skin = cardSkins[i];\r\n\t\tif (skin.cardId == card_id && skin.active) {\r\n\t\t\treturn skin;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction SetCosmeticsForCardData(card_data) {\r\n\tvar skin = GetSuitableCardSkin(card_data.id);\r\n\tif (skin !== null) {\r\n\t\tcard_data.image = skin.image;\r\n\t\tcard_data.typeSkin = skin.typeSkin;\r\n\t}\r\n\tcard_data.frameSkinName = frameName;\r\n\treturn card_data;\r\n}\r\n\r\nfunction SetDeckSkin(card, card_skin) {\r\n\tvar image = (0,_card_modifyers_hd_card_skins__WEBPACK_IMPORTED_MODULE_0__.returnHDImageIfThereIs)(card_skin.image, true);\r\n\tif (card_skin.isCustom) {\r\n\t\timage = card_skin.image;\r\n\t}\r\n\tcard.find(\".cardImage\").css(\"background-image\", \"url(\" + image + \")\");\r\n\t\r\n\tvar skinTypeString = \"standard-skin\";\r\n\tif (card_skin.typeSkin == 1) {\r\n\t\tskinTypeString = \"full-skin\";\r\n\t} else if (card_skin.typeSkin == 2) {\r\n\t\tskinTypeString = \"breaking-skin\";\r\n\t}\r\n\tcard.removeClass(\"standard-skin\").addClass(skinTypeString);\r\n}\r\n\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"PrettyCards:onPageLoad\", function() {\r\n\tFetchCardCosmeticsData();\r\n});\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_cosmetics_manager.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/basic_universal_card_additions.js":
/*!************************************************************************!*\
  !*** ./src/libraries/card_modifyers/basic_universal_card_additions.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n    _utility__WEBPACK_IMPORTED_MODULE_0__.utility.loadCSSFromGH(\"CardAdditions\");\r\n});\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.on(\"appendCard() PC_appendCard\", function(data) {\r\n    var element = data.element;\r\n    var card = data.card;\r\n    \r\n    if (element.find(`.PrettyCards_CardBottomLeftInfo`).length > 0) { // If it triggered already, don't do it again;\r\n        return;\r\n    }\r\n\r\n    element.append(`<div class=\"PrettyCards_CardBottomLeftInfo\"></div>`);\r\n})\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/basic_universal_card_additions.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/breaking_skin_hover.js":
/*!*************************************************************!*\
  !*** ./src/libraries/card_modifyers/breaking_skin_hover.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n// This library makes it so when you hover over a breaking skin card, the text goes over the skin (onto z-index 7).\r\n\r\n\r\n\r\n\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_0__.ExecuteWhen)(\"PrettyCards:onPageLoad\", function () {\r\n\tif (_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.settings.breaking_skin_fix.value()) {\r\n\r\n\t\twindow.$(\"head\").append(`<style>\r\n\t\t\t.card.breaking-skin:hover .cardName {\r\n\t\t\t\tz-index: 7;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.card.breaking-skin:hover .cardCost {\r\n\t\t\t\tz-index: 7;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.card.breaking-skin:hover .cardDesc {\r\n\t\t\t\tz-index: 7;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.card.breaking-skin:hover .cardATK {\r\n\t\t\t\tz-index: 7;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.card.breaking-skin:hover .cardHP {\r\n\t\t\t\tz-index: 7;\r\n\t\t\t}\r\n\r\n\t\t\t${!_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.settings.breaking_skin_stats_fix.value() ? \"\" : `\r\n\t\t\t.card.breaking-skin .cardStatus {\r\n\t\t\t\tz-index: 5;\r\n\t\t\t}\r\n\r\n\t\t\t.card.breaking-skin .cardTribes {\r\n\t\t\t\tz-index: 5;\r\n\t\t\t}\r\n\r\n\t\t\t.card.breaking-skin:hover .cardStatus {\r\n\t\t\t\tz-index: 8;\r\n\t\t\t}\r\n\r\n\t\t\t.card.breaking-skin:hover .cardTribes {\r\n\t\t\t\tz-index: 8;\r\n\t\t\t}`}\r\n\r\n\t\t</style>`);\r\n\t}\r\n\t\r\n\t// Let's be real. This just improves things.\r\n\twindow.$(\"head\").append(`<style>\r\n\t\t.card .cardImage {\r\n\t\t\tbackground-size: contain;\r\n\t\t}\r\n\t</style>`);\r\n})\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/breaking_skin_hover.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/card_description_corrections.js":
/*!**********************************************************************!*\
  !*** ./src/libraries/card_modifyers/card_description_corrections.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\n(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'card_number_colors',\r\n\t'name': 'Card Number Colors', // Name in settings page\r\n\t'note': \"Stats in card descriptions in an <span class='atk-color'>ATK</span>/<span class='hp-color'>HP</span> or <span class='cost-color'>COST</span>/<span class='atk-color'>ATK</span>/<span class='hp-color'>HP</span> format will have the numbers colored after the stat they represent.\",\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': true, // default value\r\n\t'category': \"card\"\r\n});\r\n\r\n(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'non_dt_inconsistency',\r\n\t'name': 'Fix Non-DT inconsistency.', // Name in settings page\r\n\t'note': \"Fixes any inconsistent version of the phrase \\\"non-<span class='DETERMINATION'>DT</span>\\\" on card descriptions.\",\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': true, // default value\r\n\t'category': \"card\"\r\n});\r\n\r\nvar card_numbers_regex = /[+-]?(\\d+)\\/[+-]?(\\d+)(?:\\/[+-]?(\\d+))?/gm;\r\nvar color_classes = ['cost-color', 'atk-color', 'hp-color'];\r\n\r\nvar non_dt_regex = /non[-\\s]dt/gmi;\r\n\r\nfunction NonDTCorrector(full) { // Why not throw this in here, too?\r\n\treturn 'non-{{RARITY:DETERMINATION}}';\r\n}\r\n\r\nfunction RegexProcessor(full, stat1, stat2, stat3) {\r\n\t//console.log(full, stat1, stat2, stat3);\r\n\tvar parts = full.split(\"/\");\r\n\t\r\n\tfor (var i=0; i < parts.length; i++) {\r\n\t\tvar color_class = color_classes[i + (color_classes.length - parts.length)];\r\n\t\t//console.log(\"Color class: \", color_class);\r\n\t\tvar prefix = '';\r\n\t\tif (parts[i][0] == \"+\" || parts[i][0] == \"-\") {\r\n\t\t\tprefix = parts[i][0];\r\n\t\t\tparts[i] = parts[i].substr(1);\r\n\t\t}\r\n\t\tparts[i] = prefix + '<span class=\"' + color_class + '\">' + parts[i] + '</span>';\r\n\t\t//console.log(\"parts[i]\", i, parts[i]);\r\n\t}\r\n\t//console.log(parts);\r\n\treturn parts.join(\"/\");\r\n}\r\n\r\nfunction processString(text) {\r\n\tif (_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.card_number_colors.value()) {\r\n\t\ttext = text.replaceAll(card_numbers_regex, RegexProcessor);\r\n\t}\r\n\tif (_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.non_dt_inconsistency.value()) {\r\n\t\ttext = text.replaceAll(non_dt_regex, NonDTCorrector);\r\n\t}\r\n\treturn text;\r\n}\r\n\r\nfunction isKeyEffectDesc(key) {\r\n\tif (key.startsWith(\"card-\")) {\r\n\t\treturn !key.startsWith(\"card-name-\");\r\n\t}\r\n\tif (key.startsWith(\"artifact-\")) {\r\n\t\treturn !key.startsWith(\"artifact-name-\");\r\n\t}\r\n\tif (key.startsWith(\"kw-\") || key.startsWith(\"soul-\")) {\r\n\t\treturn key.endsWith(\"-desc\");\r\n\t}\r\n\treturn key.startsWith(\"status-\");\r\n}\r\n\r\nfunction processLanguage(lan = \"en\") {\r\n\tvar messages = $.i18n.messageStore.messages[lan];\r\n\tfor (var key in messages) {\r\n\t\tif (isKeyEffectDesc(key)) {\r\n\t\t\t$.i18n.messageStore.set(lan, {[key]: processString(messages[key])});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nif (_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.card_number_colors.value() || _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.non_dt_inconsistency.value()) {\r\n\t\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on('PrettyCards:TranslationExtReady PrettyCards:customCardsAfter', () => {\r\n\t\t//console.log(\"CARD CORRECTIONS LOADED!\");\r\n\t\tprocessLanguage('en');\r\n\t\tvar lan = window.localStorage.getItem(\"language\");\r\n\t\tif (!lan) { // Should never happen, but . . . \r\n\t\t\tlan = window.getLanguage();\r\n\t\t}\r\n\t\tif (lan != \"en\") {\r\n\t\t\tprocessLanguage(lan);\r\n\t\t}\r\n\t});\r\n\r\n\t/*\r\n\tPrettyCards_plugin.events.on(\"appendCard() PC_appendCard\", function(data) {\r\n\t\tvar html$ = data.element;\r\n\t\tvar card = data.card;\r\n\t\t\r\n\t\tvar text = $.i18n(\"card-\" + (card.fixedId || card.id));\r\n\t\t\r\n\t\tif (settings.card_number_colors.value()) {\r\n\t\t\ttext = text.replaceAll(card_numbers_regex, RegexProcessor);\r\n\t\t}\r\n\t\tif (settings.non_dt_inconsistency.value()) {\r\n\t\t\ttext = text.replaceAll(non_dt_regex, NonDTCorrector);\r\n\t\t}\r\n\t\thtml$.find(\".cardDesc div\").html(text);\r\n\t\t//console.log(html$.find(\".cardDesc div\"));\r\n\t});\r\n\t*/\r\n\t\r\n}\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/card_description_corrections.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/card_theme_song_manager.js":
/*!*****************************************************************!*\
  !*** ./src/libraries/card_modifyers/card_theme_song_manager.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getThemeSongSettingByCardId\": () => (/* binding */ getThemeSongSettingByCardId),\n/* harmony export */   \"registerCard\": () => (/* binding */ registerCard)\n/* harmony export */ });\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst FLOWEY_BASE_ATK = 4;\r\nconst HEROINE_BASE_ATK = 8;\r\nconst HEROINE_ATK_STEP = 2;\r\n\r\n(0,_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'multi_theme_songs',\r\n\t'name': 'Enable Multiple Card Jingles', // Name in settings page\r\n    'note': 'Also adds some sound effects to certaion token cards.',\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': true, // default value\r\n    'category': \"card\"\r\n});\r\n\r\nclass ThemeSongSetting {\r\n\r\n    constructor(card) {\r\n        this.cardId = card.fixedId || card.id;\r\n        this.originalUrl = `musics/cards/${card.name.replaceAll(\" \", \"_\")}.ogg`;\r\n        this.replacements = [];\r\n        this.playedBefore = 0; // Only counts at times when it goes in order.\r\n        this.playAsJingle = true;\r\n    }\r\n\r\n    getNextReplacement() {\r\n        this.playedBefore++;\r\n        return this.replacements[(this.playedBefore-1) % this.replacements.length]; // Have to reduce it by one because we increase the \"playedBefore\" counter before getting this, skipping the first one.\r\n    }\r\n\r\n    getRandomReplacement() {\r\n        return this.replacements[Math.floor(Math.random() * this.replacements.length)];\r\n    }\r\n\r\n    getReplacementOnCardData(card) {\r\n        return null;\r\n    }\r\n\r\n    addFile(path) {\r\n        if (underscript.onPage(\"Game\") || underscript.onPage(\"Spectate\")) {\r\n            _utility__WEBPACK_IMPORTED_MODULE_1__.utility.preloadAudio(path); // Moving it to whenever a card is rendered, except during Games and Spectating.\r\n        }\r\n        this.replacements.push(path);\r\n    }\r\n\r\n}\r\n\r\nvar options = [];\r\nvar baseThemeSongData = {};\r\n\r\nfunction getThemeSongSettingByOriginalUrl(url) {\r\n    if (!url) {\r\n        return null;\r\n    }\r\n    for (var i=0; i < options.length; i++) {\r\n        var e = options[i];\r\n        if (url.includes(e.originalUrl)) {\r\n            return e;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction getThemeSongSettingByCardId(id) {\r\n    for (var i=0; i < options.length; i++) {\r\n        var e = options[i];\r\n        if (e.cardId == id) {\r\n            return e;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction registerCard(card) {\r\n    var s = getThemeSongSettingByCardId(card.fixedId || card.id);\r\n    if (s) {\r\n        return s;\r\n    }\r\n    s = new ThemeSongSetting(card);\r\n    options.push(s);\r\n    return s;\r\n}\r\n\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_3__.ExecuteWhen)(\"allCardsReady PrettyCards:baseThemeSongDataReady\", function() {\r\n    for (var key in baseThemeSongData) {\r\n        var card = window.getCardWithName(key);\r\n        if (card) {\r\n            var s = registerCard(card);\r\n            s.playAsJingle = card.rarity == \"LEGENDARY\" || card.rarity == \"DETERMINATION\" || card.tribes.includes(\"ROYAL_INVENTION\");\r\n            for (var i=1; i <= baseThemeSongData[key]; i++) {\r\n                s.addFile(`https://github.com/CMD-God/prettycards/raw/master/audio/cards/${card.name.replaceAll(\" \", \"_\")}/intro_${i}.ogg`);\r\n            }\r\n        }\r\n    }\r\n    hardCodedCardInteractions();\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:customCardsSongsAppend\");\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:themeSongsReady\");\r\n    //console.log(options);\r\n});\r\n\r\nfunction hardCodedCardInteractions() {\r\n    var snoelle = getThemeSongSettingByCardId(710);\r\n    if (snoelle) {\r\n        snoelle.getReplacementOnCardData = function(card) {\r\n            if (card.originalAttack < 1) {\r\n                return null;\r\n            }\r\n            return this.replacements[card.originalAttack - 1];\r\n        }\r\n    }\r\n\r\n    var flowey = getThemeSongSettingByCardId(54);\r\n    if (flowey) {\r\n        flowey.getReplacementOnCardData = function(card) {\r\n            if (card.originalAttack < 1) {\r\n                return null;\r\n            }\r\n            return this.replacements[(FLOWEY_BASE_ATK - card.originalAttack) % this.replacements.length];\r\n        }\r\n    }\r\n\r\n    var heroine = getThemeSongSettingByCardId(106);\r\n    if (heroine) {\r\n        heroine.getReplacementOnCardData = function(card) {\r\n            if (card.originalAttack < 1) {\r\n                return null;\r\n            }\r\n            return this.replacements[(HEROINE_BASE_ATK - card.originalAttack)/HEROINE_ATK_STEP];\r\n        }\r\n    }\r\n\r\n    var mtt_neo = getThemeSongSettingByCardId(110);\r\n    if (mtt_neo) {\r\n        mtt_neo.getReplacementOnCardData = function(card) {\r\n            this.playedBefore++;\r\n            return this.replacements[Math.min(this.playedBefore-1, this.replacements.length-1)]; // Have to reduce it by one because we increase the \"playedBefore\" counter before getting this, skipping the first one.\r\n        }\r\n    }\r\n}\r\n\r\nvar originalAudio;\r\nvar cardSoundFX;\r\n\r\nfunction playSoundFX(address) {\r\n    cardSoundFX = new Audio(address);\r\n    cardSoundFX.volume = 0.2;\r\n    cardSoundFX.play();\r\n}\r\n\r\n\r\nif (_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.settings.multi_theme_songs.value()) {\r\n\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default().getJSON(\"https://raw.githubusercontent.com/CMD-God/prettycards/master/json/baseThemeSongData.json\", {}, function(data) {\r\n            //console.log(data);\r\n            baseThemeSongData = data;\r\n            _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:baseThemeSongDataReady\", data);\r\n        });\r\n\r\n        if (window.underscript.onPage(\"Game\") || window.underscript.onPage(\"Spectate\")) {\r\n            cardSoundFX = new Audio();\r\n            _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"getMonsterPlayed getSpellPlayed\", function(data) {\r\n                var card = JSON.parse(data.card);\r\n                // Will trigger when a monster's Dust effect triggers.\r\n                // Why would that happen? Well, apparently, for Onu Dust effect = Spell.\r\n                if (card.typeCard == 0 && data.action == \"getSpellPlayed\") { \r\n                    return;\r\n                }\r\n                var setting = getThemeSongSettingByCardId(card.fixedId || card.id);\r\n                if (setting) {\r\n                    var name = setting.getReplacementOnCardData(card) || setting.getNextReplacement();\r\n                    if (setting.playAsJingle) {\r\n                        window.playJingle(\"NON EXISTENT CARD\");\r\n                        window.jingle.src = name;\r\n                        window.jingle.play();\r\n                    } else {\r\n                        playSoundFX(name);\r\n                    }\r\n                }\r\n            }) \r\n        } else {\r\n            originalAudio = window.Audio;\r\n            class AudioSpoofed extends Audio{\r\n                constructor(name) {\r\n                    var setting = getThemeSongSettingByOriginalUrl(name);\r\n                    //console.log(name, setting);\r\n                    if (setting) {\r\n                        name = setting.getRandomReplacement();\r\n                    }\r\n                    //console.log(\"NAME\", name);\r\n                    super(name);\r\n                }\r\n            }\r\n            window.Audio = AudioSpoofed;\r\n        }\r\n\r\n        // Caching system for non-game pages so that it doesn't load everything at once unnecessarily.\r\n        var cards_preloaded = [];\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"appendCard() PC_appendCard\", function(data) {\r\n            //var html$ = data.element;\r\n            var card = data.card;\r\n            _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:themeSongsReady\", function() { // This makes sure these don't get appended before the page loads.\r\n                var id = card.fixedId || card.id;\r\n                if (!cards_preloaded.includes(id)) {\r\n                    cards_preloaded.push(id);\r\n                    var setting = getThemeSongSettingByCardId(id);\r\n                    if (setting) {\r\n                        setting.replacements.forEach( (url) => {\r\n                            _utility__WEBPACK_IMPORTED_MODULE_1__.utility.preloadAudio(url);\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n\r\n        })\r\n        \r\n    })\r\n\r\n} else {\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:themeSongsReady\"); // Required for the normal song previews to still appear.\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/card_theme_song_manager.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/custom_cards/custom_cards_ddlc_v2.js":
/*!***************************************************************************!*\
  !*** ./src/libraries/card_modifyers/custom_cards/custom_cards_ddlc_v2.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:customCards\", function () {\r\n\t\r\n\tvar c = window.prettycards.newCollection({\r\n\t\tname: \"Doki Doki Literature Club Set\",\r\n\t\tauthor: \"CMD_God\",\r\n\t\tcardImagePrefix: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Cards/DDLC/\",\r\n\t\tcardSongPrefix: \"https://github.com/CMD-God/prettycards/raw/master/audio/cards/DDLC/\",\r\n\t\trarityImagePrefix: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/RarityIcons/\",\r\n\t\tartifactImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Artifacts/\",\r\n\t\ttribeImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Tribes/\",\r\n\t\tsoulImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Souls/\",\r\n\t\taprilCardImagePrefix: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Cards/DDLC/aprilFools/\",\r\n\t\taprilArtifactImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Artifacts/aprilFools/\",\r\n\t\t//universalCustomFont: \"Aller\",\r\n\t\tnote: `This is a Doki Doki Literature Club themed card set I wanted to make for the longest time. I wanted it to be perfect, so I often modified it, asked for feedback and even the custom cards idea was born because of this set. So, please enjoy and don't be afraid to give me feedback! ^^\r\n\t\t<br><br>\r\n\t\tNOTE: Hand nerfs cannot bring a monster below 1 HP. I didn't add this in every instance because some cards are full enough already.`\r\n\t});\r\n\t\r\n\tvar font_name = c.loadFont(\"Aller\", \"https://raw.githubusercontent.com/CMD-God/prettycards/master/fonts/Aller_Rg.ttf\");\r\n\tc.universalCustomFont = font_name;\r\n\r\n\tvar frame = c.newFrame({\r\n\t\tid: \"DDLC\",\r\n\t\tmonsterImage: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/CardFrames/DDLC/frame_monster.png\",\r\n\t\tspellImage: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/CardFrames/DDLC/frame_spell.png\"\r\n\t});\r\n\t\r\n\tvar doki = c.newTribe({\r\n\t\tname: \"{{PLURAL:$1|Doki|Dokis}}\",\r\n\t\timage: \"DOKI\",\r\n\t\tid: \"DOKI\"\r\n\t});\r\n\t\r\n\tvar chr_spells = c.newTribe({\r\n\t\tname: \"{{PLURAL:$1|CHR Spell|CHR Spells}}\",\r\n\t\timage: \"CHRSPELL\",\r\n\t\tid: \"CHRSPELL\"\r\n\t});\r\n\t\r\n\tvar fallen = c.newKeyword({\r\n\t\tname: \"Fallen\",\r\n\t\tdescription: \"This effect triggers when this monster dies during its owner's turn.\",\r\n\t\tid: \"FALLEN\"\r\n\t});\r\n\t\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Sayori|Sayoris}}\",\r\n\t\timage: \"Sayori\",\r\n\t\taprilImage: \"Sayori\",\r\n\t\tcost: 3,\r\n\t\tattack: 3,\r\n\t\thp: 3,\r\n\t\tdescription: `{{KW:MAGIC}}: Kill an ally monster to gain {{KW:HASTE}}. ${fallen.me()}: Give all ${doki.me(2)} in your hand +2/-1.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"COMMON\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `One of the textbook examples of this tribe (or, at least, the old direction I wanted to take with it). <br><br>It has slightly better than average stats with an either negligable or useful side effect and a slightly weak ${fallen.me()} effect, which serves to make it easier for these monsters to trade. <br><br>I was thinking of modifying her slightly, but I am really unsure if I want that.`\r\n\t});\r\n\t\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Natsuki|Natsukis}}\",\r\n\t\timage: \"Natsuki\",\r\n\t\taprilImage: \"Natsuki\",\r\n\t\tcost: 3,\r\n\t\tattack: 3,\r\n\t\thp: 3,\r\n\t\tdescription: `{{KW:MAGIC}}: Force an ally ${fallen.me()} monster to attack the monster in front of it.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"COMMON\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `Simple, effective, powerful. This is the main activator of the tribe. While it IS tribed old Politics Bear, this card fits here too perfectly to warrant changing it.`\r\n\t});\r\n\t\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Yuri|Yuris}}\",\r\n\t\timage: \"Yuri\",\r\n\t\taprilImage: \"Yuri\",\r\n\t\tcost: 4,\r\n\t\tattack: 4,\r\n\t\thp: 5,\r\n\t\tdescription: `{{KW:MAGIC}}: Deal this card's {{HP}} buffs or nerfs as {{DMG}} to a monster. ${fallen.me()}: Give the highest {{ATK}} enemy monster -2/-1.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"COMMON\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `Originally created around anti-ping and {{KW:PARALYZE}}, then {{KW:KR}}. Now I feel like she sits at a pretty good spot with a choice system built into her ${fallen.me()} effect.`\r\n\t});\r\n\t\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Monika|Monikas}}\",\r\n\t\timage: \"Monika\",\r\n\t\taprilImage: \"Monika\",\r\n\t\tcost: 7,\r\n\t\tattack: 4,\r\n\t\thp: 6,\r\n\t\ttaunt: true,\r\n\t\tdescription: `{{KW:TAUNT}}. {{KW:DUST}}: Give the top 5 ${doki.me(2)} in your deck -1 {{cost}}.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"RARE\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `The tribe's {{KW:TAUNT}}. I am unsure how well she would perform, but she's hardly a bad {{KW:TAUNT}}, so she can offer protection to other ${fallen.me()} monsters with stronger effects.`\r\n\t});\r\n\t\r\n\t// Amy Sprite Sheet by u/Meddy-sin\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Amy|Amys}}\",\r\n\t\timage: \"Amy\",\r\n\t\taprilImage: \"Amy\",\r\n\t\tcost: 4,\r\n\t\tattack: 4,\r\n\t\thp: 3,\r\n\t\t//description: \"Whenever you summon an {{KW:ARACHNID}} give it +1/+1. {{KW:DUST}}: Fill your board with {{CARD:115|2}} and give them +1/+1.\",\r\n\t\tdescription: `{{KW:MAGIC}}: Kill an ally ${fallen.me()} monster to trigger its ${fallen.me()} effect. ${fallen.me()}: Add a copy of it to your deck with -1 {{cost}}.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"RARE\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `One of the more complicated cards, but basically it's a double ${fallen.me()} trigger, and it can give you back copies of the cards. Pure value!`\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Main Character|Main Characters}}\",\r\n\t\timage: \"Protagonist\",\r\n\t\t// aprilImage: \"Protagonist\",\r\n\t\tcost: 5,\r\n\t\tattack: 3,\r\n\t\thp: 5,\r\n\t\ttaunt: true,\r\n\t\t//description: \"Whenever you summon an {{KW:ARACHNID}} give it +1/+1. {{KW:DUST}}: Fill your board with {{CARD:115|2}} and give them +1/+1.\",\r\n\t\tdescription: `{{KW:TAUNT}}. {{KW:MAGIC}}: If this has 3- {{HP}}, lose {{KW:TAUNT}} to gain {{KW:HASTE}}. {{KW:DELAY}} and ${fallen.me()}: Burn the last other ${doki.me()} from your dustpile to add it your deck with {{KW:HASTE}}.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"RARE\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `Does anyone even read these?`\r\n\t});\r\n\t\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Alphys's PC|Alphys's PCs}}\",\r\n\t\timage: \"Alphys_PC\",\r\n\t\tcost: 6,\r\n\t\tattack: 5,\r\n\t\thp: 7,\r\n\t\tdescription: `{{KW:MAGIC}}: Look at 3 random {{TRIBE:DOKI|2}} you didn't start in your deck with and catch one. {{KW:DUST}}: Release it into your hand.`,\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"RARE\",\r\n\t\tcustomFont: \"DTM-Mono\",\r\n\t\tnote: `One of my headcanons as to how could such cards be added to Undercards was that Alphys would play a dating sim on her PC, but somehow the characters from the dating sim would come to life.`\r\n\t});\r\n\t\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Anime Poster|Anime Posters}}\",\r\n\t\timage: \"Anime_Poster\",\r\n\t\tcost: 5,\r\n\t\tattack: 4,\r\n\t\thp: 4,\r\n\t\tdescription: `{{KW:MAGIC}}: Look at 3 random ${fallen.me()} monsters (rarity <= {{RARITY:EPIC}}) and choose one. {{KW:DELAY}}: Summon it for both players and force yours to attack the enemy one.`,\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"EPIC\",\r\n\t\tcustomFont: \"DTM-Mono\",\r\n\t\tnote: `Most of the time the effect is just helpful to you, since there are few ${doki.me(2)} who mess this up. It's also {{KW:SUPPORT}} support!`\r\n\t});\r\n\t\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Depressed Sayori|Depressed Sayoris}}\",\r\n\t\timage: \"Depressed_Sayori\",\r\n\t\tcost: 4,\r\n\t\tattack: 3,\r\n\t\thp: 2,\r\n\t\tdescription: `{{KW:MAGIC}}: Heal 1 {{HP}} for each ${doki.me()} in your dustpile (max: 12). ${fallen.me()}: Trigger the effect of the highest {{HP}} other ${fallen.me()} monster in your hand and give it +1/-1.`,\r\n\t\t//description: `{{KW:MAGIC}}: Give an ally ${fallen.me()} monster in your hand +1/+2. ${fallen.me()}: Trigger the effect of a random ${fallen.me()} monster in your hand and return it to your deck with +1/-1.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"EPIC\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `Probably the hardest one to give a magic to for me. This card's original magic caused this card's text to be unreadable, so I made it a bit simpler.`\r\n\t});\r\n\t\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Obsessed Yuri|Obsessed Yuris}}\",\r\n\t\timage: \"Obsessed_Yuri\",\r\n\t\tcost: 6,\r\n\t\tattack: 5,\r\n\t\thp: 5,\r\n\t\t//armor: true,\r\n\t\tdescription: `{{KW:MAGIC}}: Target an ally monster. {{KW:DELAY}}: If it's dead, {{KW:SILENCE}} and deal 5 {{DMG}} to the monster in front of it. Otherwise, give all ${doki.me(2)} in your hand +3/-2.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"EPIC\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `A ${fallen.me()} support card that doesn't actually HAVE a ${fallen.me()} keyword? Yes, and it can even singlehandedly take out some cards that could cause you trouble if you play your cards right, such as a Mettaton NEO or Sans (if you really must). Its secondary effect can also bring advantages that could be considered.`\r\n\t});\r\n\t\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Corrupted Natsuki|Corrupted Natsukis}}\",\r\n\t\timage: \"Corrupted_Natsuki\",\r\n\t\tcost: 5,\r\n\t\tattack: 4,\r\n\t\thp: 4,\r\n\t\ttransparency: true,\r\n\t\t//haste: true,\r\n\t\t//description: \"{{KW:HASTE}}. ${fallen.me()}: If this killed an enemy monster, deal the excess {{DMG}} this received to the enemy player.\",\r\n\t\tdescription: `{{KW:TRANSPARENCY}}. ${fallen.me()}: Add a random ${doki.me()} from your dustpile to your hand with -1 {{cost}} and -2 {{HP}}.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"EPIC\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `I wanted to mess around with things that can help one trigger ${fallen.me()} effects without the use of {{KW:Haste}}, bonus attacks or self damage . . . And the answer was {{KW:TRANSPARENCY}}!<br><br>I am unsure how cool the effect is, but I still think that something like this can be very useful in ${fallen.me()} decks.`\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Traumatized MC|Traumatized MCs}}\",\r\n\t\timage: \"Traumatized_MC\",\r\n\t\t// aprilImage: \"Traumatized_MC\",\r\n\t\tcost: 6,\r\n\t\tattack: 4,\r\n\t\thp: 7,\r\n\t\t//description: \"Whenever you summon an {{KW:ARACHNID}} give it +1/+1. {{KW:DUST}}: Fill your board with {{CARD:115|2}} and give them +1/+1.\",\r\n\t\tdescription: `{{KW:SUPPORT}}: If the attacker has more than 1 {{HP}}, give it +2/-1.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"LEGENDARY\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `Does anyone even read these?`\r\n\t});\r\n\r\n\tvar desparation = c.newCard({\r\n\t\tname: \"{{PLURAL:$1|Desparation|Desparations}}\",\r\n\t\timage: \"Desparation\",\r\n\t\tcost: 0,\r\n\t\t//description: \"{{KW:TURBO}}: Remove all negative effects from ally monsters, apply them to the monsters in front of them, burn this and draw a card.\",\r\n\t\t//description: \"{{KW:TURBO}}: Remove all negative effects from ally monsters, burn this and draw a card.\",\r\n\t\tdescription: `Give an ally monster {{KW:HASTE}} and +2/-1. {{KW:DELAY}}: If it's alive, {{KW:SILENCE}} and kill it. Draw a card.`,\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"TOKEN\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `Giving Haste in this tribe is very controversial, so I kept it to a conditionally bad(?) card.`\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Club President Monika|Club President Monikas}}\",\r\n\t\timage: \"Club_President_Monika\",\r\n\t\tcost: 6,\r\n\t\tattack: 6,\r\n\t\thp: 5,\r\n\t\tdescription: `{{KW:DELAY}}: Force all ally monsters to attack enemy monsters in front of them. {{KW:FALLEN}}: Add a ${desparation.me()} to your deck.`,\r\n\t\t// description: `{{KW:SUPPORT}}: Catch a copy of a non-{{RARITY:DETERMINATION}} attacker. {{KW:DUST}}: Release it with 3/3. If it's a ${fallen.me()} ${doki.me()} monster, trigger its ${fallen.me()} effect and kill it.`,\r\n\t\t//description: \"{{KW:MAGIC}}: Burn 3 {{RARITY:EPIC}} ${fallen.me()} monsters from your dustpile. Trigger their ${fallen.me()} effects. {{KW:DUST}}: Add a random {{TRIBE:CHRSPELL}} to the bottom of your deck for each monster burned.\",\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"LEGENDARY\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `This is one card I am not all that happy with now, personally, but I admit it can have some very clever strategies to ensure that the {{KW:DELAY}} effect doesn't hit you, so I left it as-is.`\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Club President Sayori|Club President Sayoris}}\",\r\n\t\timage: \"Club_President_Sayori\",\r\n\t\tcost: 6,\r\n\t\tattack: 5,\r\n\t\thp: 6,\r\n\t\tdescription: `{{KW:TURN-START}}: Burn the first ${doki.me()} from your dustpile to add it to your hand with +2/-1. {{KW:MAGIC}}: Trigger the {{KW:TURN-START}} effect twice.`, // {{CARD:131}}\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"LEGENDARY\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `This card just screams \"TRADES!\". This one, just like Depressed Sayori, originally had a very long text, so I modified the effect a little, but the principle is the same.`\r\n\t});\r\n\r\n\t// CHR Spells\r\n\r\n\tvar sayori_chr = c.newCard({\r\n\t\tname: \"{{PLURAL:$1|Sayori.chr|Sayori.chrs}}\",\r\n\t\timage: \"SayoriCHR\",\r\n\t\tcost: 0,\r\n\t\t//description: \"{{KW:TURBO}}: Remove all negative effects from ally monsters, apply them to the monsters in front of them, burn this and draw a card.\",\r\n\t\t//description: \"{{KW:TURBO}}: Remove all negative effects from ally monsters, burn this and draw a card.\",\r\n\t\tdescription: `Heal 5 {{HP}} to yourself or give a monster -1/-1 and {{KW:HASTE}}. Draw a card.`,\r\n\t\ttribes: [chr_spells],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"TOKEN\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `Semi-targeted heals and second best card draw out of the ${chr_spells.me(2)}.`\r\n\t});\r\n\r\n\tvar natsuki_chr = c.newCard({\r\n\t\tname: \"{{PLURAL:$1|Natsuki.chr|Natsuki.chrs}}\",\r\n\t\timage: \"NatsukiCHR\",\r\n\t\tcost: 0,\r\n\t\t//description: \"{{KW:TURBO}}: Add a random 5-{{COST}} monster from your dustpile to your hand, give it -4 {{COST}}, burn this and draw a card.\",\r\n\t\t//description: \"{{KW:TURBO}}: Burn a random 4 or 5 {{COST}} monster in your dustpile (prefer {{TRIBE:DOKI|2}}), add it to your hand, give it -2 {{COST}}, burn this and draw a card.\",\r\n\t\t//description: \"Look at all {{TRIBE:DOKI|2}} in your dustpile and choose one. Add it to your hand. Give it -2 {{COST}}. Draw a card.\",\r\n\t\t//description: \"Look at 3 random 4-{{COST}} cards in your dustpile and burn one. Add it to your hand. Give it -1 {{COST}}. Draw a card.\",\r\n\t\t// description: `Look at 3 random non-{{RARITY:DETERMINATION}} ${doki.me(3)} in your dustpile and choose one to add to your hand with -1 {{cost}}.`,\r\n\t\tdescription: `Look at 4 different random 3-5 {{cost}} cards in your dustpile. Add one to your hand with +2/-1.`,\r\n\t\ttribes: [chr_spells],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"TOKEN\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `Card revive and best card draw out of the ${chr_spells.me(2)}.`\r\n\t});\r\n\r\n\tvar yuri_chr = c.newCard({\r\n\t\tname: \"{{PLURAL:$1|Yuri.chr|Yuri.chrs}}\",\r\n\t\timage: \"YuriCHR\",\r\n\t\tcost: 0,\r\n\t\t//description: \"{{KW:TURBO}}: Kill the enemy monster with the lowest {{HP}}, burn this and draw a card.\",\r\n\t\t//description: \"{{KW:TURBO}}: Give the enemy monster with the liwest {{HP}} -4 {{HP}}, burn this and draw a card.\",\r\n\t\tdescription: `Give an enemy monster -1/-2, then a random other enemy monster -1/-1. If there is only one enemy monster, draw a card.`,\r\n\t\ttribes: [chr_spells],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"TOKEN\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `Nerfs and either more nerfs or a conditional card draw if there was only one enemy monster.`\r\n\t});\r\n\r\n\tvar monika_chr = c.newCard({\r\n\t\tname: \"{{PLURAL:$1|Monika.chr|Monika.chrs}}\",\r\n\t\timage: \"MonikaCHR\",\r\n\t\tcost: 0,\r\n\t\t//description: \"{{KW:TURBO}}: Send a random ally and enemy non-{{RARITY:DETERMINATION}} monster from the board to their owners' hands, burn this and draw a card.\",\r\n\t\t//description: \"{{KW:TURBO}}: {{KW:SILENCE}} an enemy non-{{RARITY:DETERMINATION}} monster, burn this and draw a card.\",\r\n\t\tdescription: `{{KW:SILENCE}} an enemy monster if its {{ATK}} was 4 or less. Otherwise, give it -3 {{ATK}}.`,\r\n\t\ttribes: [chr_spells],\r\n\t\textension: \"DDLC\",\r\n\t\trarity: \"TOKEN\",\r\n\t\tframeSkinName: frame,\r\n\t\tnote: `Powerful effect at the downside of no card draws.`\r\n\t});\r\n\t\r\n\t/*\r\n\tvar file_exp = c.newArtifact({\r\n\t\tname: \"Character Folder\", \r\n\t\timage: \"File_Explorer\",\r\n\t\taprilImage: \"File_Explorer\",\r\n\t\trarity: \"DETERMINATION\",\r\n\t\tdescription: `{{KW:TURN-END}}: If an ally monster died this turn, add the next ${chr_spells.me()} to the top of your deck. Whenever you summon a ${fallen.me()} monster, if it's on the right, give it -2/-1 and trigger its ${fallen.me()} effect. \r\n\t\tOrder of ${chr_spells.me(2)}: ${sayori_chr.me()} > ${natsuki_chr.me()} > ${yuri_chr.me()} > ${monika_chr.me()} > Start over.`,\r\n\t\tnote: `Basically, this is where the majority of Just Monika's power lies. While this artifact encourages this to be used in combination with the ${doki.me(2)}, the first effect can prove useful in other tribes, or even in a regular match as well, as most players often trade their cards anyway, so it isn't a dead weight if it ends up in the wrong deck, either.`\r\n\t});\r\n\t*/\r\n\t\r\n\tc.newCard({\r\n\t\tname: \"{{PLURAL:$1|Just Monika|Just Monikas}}\",\r\n\t\timage: \"Just_Monika_Breaking\",\r\n\t\taprilImage: \"Just_Monika\",\r\n\t\tbackground: \"Just_Monika_Breaking_BG\",\r\n\t\taprilBackground: \"Just_Monika_Back\",\r\n\t\tthemeSongs: [\r\n\t\t\t\"Just_Monika\",\r\n\t\t\t\"Just_Monika_2\",\r\n\t\t\t\"Just_Monika_3\"\r\n\t\t],\r\n\t\tcost: 8,\r\n\t\tattack: 6,\r\n\t\thp: 7,\r\n\t\t// description: `{{KW:MAGIC}}: Add the ${file_exp.me()} artifact. {{KW:DELAY}}: Add the next ${chr_spells.me()} to your hand if an ally ${fallen.me()} monster died this turn.`,\r\n\t\t// description: `{{KW:MAGIC}}: Fill your hand with ${chr_spells.me(2)}. {{KW:DELAY}}: Add all of the ${chr_spells.me(2)} to your deck for each 15 {{gold}} the monsters in your dustpile {{cost}} combined.`,\r\n\t\tdescription: `{{KW:MAGIC}}: Fill your hand with ${chr_spells.me(2)}. ${fallen.me()}: Add 2 random different ${chr_spells.me(2)} to your deck and draw a card.`,\r\n\t\ttribes: [doki],\r\n\t\textension: \"DDLC\",\r\n\t\ttypeSkin: 2,\r\n\t\trarity: \"LEGENDARY\",\r\n\t\tframeSkinName: frame,\r\n\t\t//note: `The DT of the ${doki.me()} tribe. The most notable aspects of this card are noted with ${file_exp.me()}.`\r\n\t});\r\n\r\n\t_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.prettycards.ddlc_collection = c;\r\n\t\r\n})\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/custom_cards/custom_cards_ddlc_v2.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/custom_cards/custom_cards_switch.js":
/*!**************************************************************************!*\
  !*** ./src/libraries/card_modifyers/custom_cards/custom_cards_switch.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:customCards\", function () {\r\n\t\r\n\tvar c = window.prettycards.newCollection({\r\n\t\tname: \"Switch Soul Set\",\r\n\t\tauthor: \"Baltoni and CMD_God\",\r\n\t\tcardImagePrefix: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Cards/Switch_Soul/\",\r\n\t\t//cardSongPrefix: \"https://github.com/CMD-God/prettycards/raw/master/audio/cards/DDLC/\",\r\n\t\t//rarityImagePrefix: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/RarityIcons/\",\r\n\t\tartifactImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Artifacts/\",\r\n\t\ttribeImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Tribes/\",\r\n\t\tsoulImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Souls/\",\r\n\t\t//universalCustomFont: \"Aller\",\r\n\t\tnote: `A collaboration between @Baltoni#7741 and I for Soultest back in the day, now in a fresh format!`\r\n\t});\r\n\t\r\n\tvar soul = c.newSoul({\r\n\t\tdisplayName: \"SWITCH\",\r\n\t\tdescription: \"\",\r\n\t\timage: \"SWITCH\",\r\n\t\tname: \"SWITCH\",\r\n\t\tnote: \"An idea for a spell-oriented soul. Unfortunately, I lost access to the original sheet where I submitted all of these cards, so they will have minimal reasoning now . . .\"\r\n\t});\r\n\r\n\tvar spellbook = c.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Spellbook|Spellbooks}}\",\r\n\t\timage: \"Spellbook\",\r\n\t\tcost: 0,\r\n\t\tdescription: `Look at 3 random ${soul.me()} spells (<= {{RARITY:RARE}}). Add one to your hand. If your opponent has more monsters than you, give it -1 {{cost}}.`,\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"TOKEN\"\r\n\t});\r\n\r\n\tsoul.setDescription(`At the start of every 4th turn add a ${spellbook.me()} to your hand.`);\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Magic Orbs|Magic Orbs}}\",\r\n\t\timage: \"Magic_Orbs_2\",\r\n\t\tcost: 1,\r\n\t\tdescription: \"Swap the {{ATK}} and {{HP}} of a monster. Draw a card.\",\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"BASE\"\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Sacrificial Lamb|Sacrificial Lambs}}\",\r\n\t\timage: \"Sacrificial_Lamb\",\r\n\t\tcost: 5,\r\n\t\tdescription: \"Burn the most expensive {{KW:GENERATED}} spell in your hand to kill an enemy monster.\",\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"COMMON\"\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Sabotage|Sabotages}}\",\r\n\t\timage: \"Sabotage\",\r\n\t\tcost: 1,\r\n\t\tdescription: \"Look at 3 random different {{RARITY:BASE}} spells. Choose one. Add the other two to your hand.\",\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"COMMON\"\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Chaotic Powers|Chaotic Powers}}\",\r\n\t\timage: \"Chaotic_Powers\",\r\n\t\tcost: 4,\r\n\t\tdescription: \"Add 3 random other spells ({{cost}} <= 4) to your hand which you didn't cast this game with -1 {{cost}}.\",\r\n\t\textension: \"DELTARUNE\",\r\n\t\trarity: \"COMMON\"\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Mass Necromancy|Mass Necromancies}}\",\r\n\t\timage: \"Even_Necromancy\",\r\n\t\tcost: 3,\r\n\t\tdescription: \"For ever 3 different spells you've cast this game, burn a random monster in your dustpile and add it to your hand (max: 3).\",\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"RARE\"\r\n\t});\r\n\r\n\t/*\r\n\tvar power_drain = c.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Power Drain|Power Drains}}\",\r\n\t\timage: \"Power_Drain\",\r\n\t\tcost: 2,\r\n\t\tdescription: \"\",\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"RARE\"\r\n\t});\r\n\r\n\tvar life_drain = c.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Life Drain|Life Drains}}\",\r\n\t\timage: \"Life_Drain\",\r\n\t\tcost: 2,\r\n\t\tdescription: \"Give an enemy monster -2 {{HP}}. Give the monster in front of it +3 {{HP}}.\",\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"TOKEN\"\r\n\t});\r\n\r\n\tpower_drain.setDescription(`Give an enemy monster -2 {{ATK}}. Give the monster in front of it +2 {{ATK}}. {{KW:DELAY}}: Add a ${life_drain.me()} to your hand.`);\r\n\t*/\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Evolutionary Leap|Evolutionary Leaps}}\",\r\n\t\timage: \"Evolutionary_Leap\",\r\n\t\tcost: 2,\r\n\t\tdescription: `Turn a monster in your hand into a random monster with +1 base {{cost}}, then give it -1 {{cost}} (keep base buffs). Draw a card.`,\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"RARE\"\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Hysteria|Hysterias}}\",\r\n\t\timage: \"Mew_Mew_Special\",\r\n\t\tcost: 1,\r\n\t\tdescription: `Burn the 2 cheapest {{KW:GENERATED}} cards in your hand to draw 2 cards. Reduce their {{cost}} by the average of the burned cards' costs.`,\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"RARE\"\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Breeze of Freedom|Breezes of Freedom}}\",\r\n\t\timage: \"Breeze_Of_Freedom\",\r\n\t\tcost: 2,\r\n\t\tdescription: \"Deal 1 {{DMG}} to all enemies and heal 1 {{HP}} to you for each {{DMG}} dealt.\",\r\n\t\textension: \"DELTARUNE\",\r\n\t\trarity: \"RARE\"\r\n\t});\r\n\r\n\t/*\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Mew Mew's Special|Mew Mew's Specials}}\",\r\n\t\timage: \"Mew_Mew_Special\",\r\n\t\tcost: 2,\r\n\t\tdescription: \"Select a non-{{RARITY:DETERMINATION}} monster in your hand. {{KW:DELAY}}: Add a copy of it to your hand.\",\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"EPIC\"\r\n\t});\r\n\t*/\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Power Drain|Power Drains}}\",\r\n\t\timage: \"Power_Drain\",\r\n\t\tcost: 3,\r\n\t\tdescription: `Set a monsters {{ATK}} and {{HP}} to the {{ATK}} and {{HP}} of the monster in front of it. If it has {{KW:CHARGE}}, replace it with {{KW:HASTE}}.`,\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"EPIC\"\r\n\t});\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Triggers of Lunacy|Triggers of Lunacy}}\",\r\n\t\timage: \"Triggers_Of_Lunacy\",\r\n\t\tcost: 15,\r\n\t\tdescription: \"In hand, this has -1 {{cost}} for each unique {{KW:GENERATED}} card you played this game. Deal 7 {{DMG}} to all enemy monsters.\",\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"EPIC\"\r\n\t});\r\n\r\n\tvar food_fight = c.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Food Fight|Food Fights}}\",\r\n\t\timage: \"Food_Fight\",\r\n\t\tcost: 7,\r\n\t\tdescription: `Summon a {{CARD:431}}. Shuffle 5 {{CARD:596|2}} into the top 10 cards of the enemy's deck.`,\r\n\t\textension: \"DELTARUNE\",\r\n\t\trarity: \"EPIC\"\r\n\t});\r\n\r\n\t/*\r\n\tvar food_fight = c.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Food Fight|Food Fights}}\",\r\n\t\timage: \"Food_Fight\",\r\n\t\tcost: 6,\r\n\t\tloop: 1,\r\n\t\tdescription: \"\",\r\n\t\textension: \"DELTARUNE\",\r\n\t\trarity: \"EPIC\"\r\n\t});\r\n\r\n\tfood_fight.setDescription(`{{KW:LOOP}} (1). Summon a {{CARD:431}}, send the copy to the top of the enemy's deck with -1 {{cost}} and draw a card.`);\r\n\t*/\r\n\r\n\r\n\t/*\r\n\tvar sleep_mist = c.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Sleep Mist|Sleep Mists}}\",\r\n\t\timage: \"Sleep_Mist\",\r\n\t\tcost: 0,\r\n\t\tdescription: \"\",\r\n\t\textension: \"DELTARUNE\",\r\n\t\trarity: \"EPIC\"\r\n\t});\r\n\r\n\tsleep_mist.setDescription(`{{KW:PARALYZE}} an enemy monster. If this isnt {{KW:GENERATED}} by ${sleep_mist.me()}, add one to your opponents hand and draw a card.`);\r\n\t*/\r\n\r\n\t/*\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Cakesplosion|Cakesplosions}}\",\r\n\t\timage: \"Cakesplosion\",\r\n\t\tcost: 7,\r\n\t\tdescription: \"Summon a 10/10/10 {{CARD:306}} with {{KW:HASTE}}. {{KW:DELAY}}: If it didn't attack, kill it to give yourself +8 {{HP}} and give all other ally monsters +2/+2 and {{KW:TAUNT}}.\",\r\n\t\textension: \"DELTARUNE\",\r\n\t\trarity: \"EPIC\"\r\n\t});\r\n\t*/\r\n\r\n\tc.newCard({\r\n\t\tsoul: soul,\r\n\t\tname: \"{{PLURAL:$1|Royal Switch|Royal Switches}}\",\r\n\t\timage: \"Royal_Switch\",\r\n\t\tcost: 4,\r\n\t\t// description: \"Give all ally monsters +1/+1 for every 6 {{KW:GENERATED}} spells you've casted this game.\",\r\n\t\tdescription: `Send your hand to the top of your deck and fill your hand with -1 {{cost}} non-{{RARITY:TOKEN}} ${soul.me()} spells from highest to lowest rarity.`,\r\n\t\textension: \"BASE\",\r\n\t\ttribes: [\"ROYAL_INVENTION\"],\r\n\t\trarity: \"TOKEN\"\r\n\t});\r\n\r\n});\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/custom_cards/custom_cards_switch.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/custom_cards/custom_cards_uco.js":
/*!***********************************************************************!*\
  !*** ./src/libraries/card_modifyers/custom_cards/custom_cards_uco.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\n\r\nconst BATTLE_MEW_MEW_BASE = {\r\n\tname: \"{{PLURAL:$1|Battle Mew Mew|Battle Mew Mews}}\",\r\n\timage: \"Battle_Mew_Mew\",\r\n\taprilImage: \"Battle_Mew_Mew\",\r\n\textension: \"BASE\",\r\n\trarity: \"LEGENDARY\",\r\n    //hasThemeSong: false\r\n    themeSongs: [\r\n        \"Battle_Mew_Mew_1\",\r\n        \"Battle_Mew_Mew_2\",\r\n        \"Battle_Mew_Mew_3\"\r\n    ]\r\n}\r\n\r\nfunction returnBattleMewMew(settings) {\r\n    return { ...settings, ...BATTLE_MEW_MEW_BASE};\r\n}\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:customCards\", function () {\r\n\t\r\n\tvar c = window.prettycards.newCollection({\r\n\t\tname: \"UCO Ideas Set\",\r\n\t\tauthor: \"CMD_God\",\r\n\t\tcardImagePrefix: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Cards/UCO_Ideas/\",\r\n\t\tcardSongPrefix: \"https://github.com/CMD-God/prettycards/raw/master/audio/cards/UCO_Ideas/\",\r\n\t\t//rarityImagePrefix: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/RarityIcons/\",\r\n\t\tartifactImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Artifacts/\",\r\n\t\ttribeImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Tribes/\",\r\n\t\tsoulImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Souls/\",\r\n\t\taprilCardImagePrefix: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Cards/UCO_Ideas/aprilFools/\",\r\n\t\taprilArtifactImagePrefix: \"https://github.com/CMD-God/prettycards/raw/master/img/Artifacts/aprilFools/\",\r\n\t\t//universalCustomFont: \"Aller\",\r\n\t\tnote: `Here are some of my UCO ideas.\r\n        <br>\r\n        This is also the place where I shall document my descent into madness as I try to make an actually good idea for a Battle Mew Mew card. This, of course, only includes the ones that still have the slightest chance of holding up. Purely stat change variations are also not included.\r\n        \r\n        <p style=\"color:red;font-size:1.2em;\">I know these cards aren't perfectly balanced, and are subject to changes. I just want a general idea going on.</p>`\r\n\t});\r\n\r\n    var murder = c.newKeyword({\r\n\t\tname: \"Murder\",\r\n\t\tdescription: \"This effect triggers when this monster attacks and kills an enemy monster.\",\r\n\t\tid: \"MURDER\"\r\n\t});\r\n\r\n    /*\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 7,\r\n        attack: 6,\r\n        hp: 4,\r\n        description: `{{KW:HASTE}}. Whenever this attacks and kills a monster, add a copy of it to your hand and halve its {{cost}}, {{ATK}} and {{HP}} (rounded up).`\r\n    }))\r\n    */\r\n\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 6,\r\n        attack: 6,\r\n        hp: 5,\r\n        haste: true,\r\n        description: `{{KW:HASTE}}. {{KW:MAGIC}}: Summon an exact copy of an enemy monster for the enemy and halve both monsters' stats (rounded down).`\r\n    }))\r\n\r\n    /*\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 8,\r\n        attack: 5,\r\n        hp: 5,\r\n        description: `{{KW:HASTE}}. {{KW:MAGIC}}: Deal 3 {{DMG}} to all enemy monsters. {{KW:DELAY}}: Summon 1/1 copies of all monsters killed this turn.`\r\n    }))\r\n    */\r\n\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 8,\r\n        attack: 5,\r\n        hp: 5,\r\n        haste: true,\r\n        description: `{{KW:HASTE}}. {{KW:DELAY}}: Summon 2/1 copies of all enemy monsters killed this turn.`\r\n    }))\r\n\r\n    /*\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 7,\r\n        attack: 4,\r\n        hp: 2,\r\n        description: `{{KW:HASTE}}. {{KW:MAGIC}} and ${murder.me()}: Summon a {{CARD:1}}. {{KW:DUST}}: Burn an ally {{CARD:1}} to summon a copy of this.`\r\n    }))\r\n\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 8,\r\n        attack: 7,\r\n        hp: 3,\r\n        description: `{{KW:HASTE}}. {{KW:MAGIC}}: Kill an enemy non-{{RARITY:DETERMINATION}} monster. {{KW:DELAY}}: Add a copy with halved {{ATK}}, {{HP}} and {{cost}} (rounded up) to your hand.`\r\n    }))\r\n\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 8,\r\n        attack: 5,\r\n        hp: 3,\r\n        haste: true,\r\n        description: `{{KW:HASTE}}. {{KW:MAGIC}}: Kill an enemy non-{{RARITY:DETERMINATION}} monster. {{KW:DELAY}}: Add a copy with halved {{ATK}} and {{HP}} (rounded up) and {{KW:HASTE}} to your hand.`\r\n    }))\r\n\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 6,\r\n        attack: 5,\r\n        hp: 4,\r\n        haste: true,\r\n        description: `{{KW:HASTE}}. {{KW:MAGIC}}: Swap this monster's stats with an enemy monster's.`\r\n    }))\r\n\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 9,\r\n        attack: 7,\r\n        hp: 5,\r\n        description: `{{KW:MAGIC}}: Copy the stat buffs, {{KW:HASTE}}, {{KW:TRANSPARENCY}} and {{KW:CANDY}} of an ally monster.`\r\n    }))\r\n    */\r\n\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 8,\r\n        attack: 7,\r\n        hp: 8,\r\n        description: `{{KW:DELAY}}: Attack non-{{KW:Invulnerable}} enemy monsters until there are any on the board.`\r\n    }))\r\n\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 8,\r\n        attack: 5,\r\n        hp: 9,\r\n        haste: true,\r\n        dodge: 1,\r\n        description: `{{KW:HASTE}}. {{KW:DODGE}} (1). Ally monsters have +2 {{ATK}} during your turn.`\r\n    }))\r\n\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 8,\r\n        attack: 5,\r\n        hp: 9,\r\n        description: `After an ally monster attacks, deal its {{ATK}} as {{DMG}} to the target.`\r\n    }))\r\n\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 12,\r\n        attack: 4,\r\n        hp: 10,\r\n        description: `{{KW:SUPPORT}}: If the target is a monster, give it -2/-2. If it died, the attacker can attack another monster.`\r\n    }))\r\n\r\n    /*\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 5,\r\n        attack: 5,\r\n        hp: 3,\r\n        description: `{{KW:HASTE}}. {{KW:NEED}}: Killed an enemy monster this turn. {{KW:MAGIC}}: Draw a card and add an exact copy of this to the top of your deck.`\r\n    }))\r\n    */\r\n\r\n    /*\r\n    var astro = c.newCard(returnBattleMewMew({\r\n        cost: 5,\r\n        attack: 5,\r\n        hp: 3,\r\n        description: `{{KW:HASTE}}. {{KW:NEED}}: Killed an enemy monster this turn. {{KW:MAGIC}}: Draw a card and add an exact copy of this to the top of your deck.`\r\n    }))\r\n\r\n    var pit = c.newCard({\r\n        name: \"{{PLURAL:$1|Broken Locket|Broken Lockets}}\",\r\n\t\timage: \"Broken_Locket\",\r\n\t\taprilImage: \"Broken_Locket\",\r\n\t\tcost: 2,\r\n\t\tattack: 1,\r\n\t\thp: 2,\r\n\t\tdescription: `{{KW:SWITCH}}: {{PC_SWITCH_CYAN:1|{{KW:MAGIC}}: Gain +3 {{ATK}} and {{KW:CHARGE}}.}} or {{PC_SWITCH_RED:1|{{KW:TURN-START}}: Turn into a ${astro.me()}.}}`,\r\n\t\textension: \"BASE\",\r\n\t\trarity: \"TOKEN\"\r\n    });\r\n\r\n    astro.setDescription(`{{KW:CHARGE}}. {{KW:DUST}}: Add a ${pit.me()} to your hand.`);\r\n    */\r\n\t\r\n    c.newCard(returnBattleMewMew({\r\n        cost: 5,\r\n        attack: 5,\r\n        hp: 3,\r\n        description: `{{KW:MAGIC}}: Summon an exact copy of a non-{{RARITY:DETERMINATION}} ally monster and {{KW:Switch}}: Halve their {{PC_SWITCH_CYAN:1|{{ATK}}}} or {{PC_SWITCH_RED:1|{{HP}}}}.`\r\n    }))\r\n\r\n    c.newCard({\r\n        name: \"{{PLURAL:$1|NEO Combo|NEO Combos}}\",\r\n        image: \"NEO_Combo\",\r\n        aprilImage: \"NEO_Combo\",\r\n        extension: \"BASE\",\r\n        rarity: \"LEGENDARY\",\r\n        cost: 7,\r\n        attack: 10,\r\n        hp: 1,\r\n        description: `{{KW:MAGIC}}: Choose a {{TRIBE:BARGAIN}} to cast to gain {{KW:CHARGE}}.`\r\n        //hasThemeSong: false\r\n        /*\r\n        themeSongs: [\r\n            \"Battle_Mew_Mew_1\",\r\n            \"Battle_Mew_Mew_2\",\r\n            \"Battle_Mew_Mew_3\"\r\n        ]\r\n        */\r\n    })\r\n\r\n    c.newCard({\r\n        name: \"{{PLURAL:$1|Gothelle|Gothelles}}\",\r\n        image: \"Gothelle\",\r\n        aprilImage: \"Gothelle\",\r\n        extension: \"DELTARUNE\",\r\n        rarity: \"EPIC\",\r\n        cost: 7,\r\n        attack: 7,\r\n        hp: 7,\r\n        description: `Whenever an enemy monster deals {{DMG}} to an ally, this deals 2 {{DMG}} back.`\r\n    })\r\n\r\n    c.newCard({\r\n        name: \"{{PLURAL:$1|Gothelle|Gothelles}}\",\r\n        image: \"Gothelle\",\r\n        aprilImage: \"Gothelle\",\r\n        extension: \"DELTARUNE\",\r\n        rarity: \"EPIC\",\r\n        cost: 7,\r\n        attack: 7,\r\n        hp: 7,\r\n        description: `Whenever an enemy monster deals {{DMG}} to you, this deals 3 {{DMG}} back.`\r\n    })\r\n\r\n    c.newArtifact({\r\n\t\tname: \"BASE Test\", \r\n\t\timage: \"File_Explorer\",\r\n\t\taprilImage: \"File_Explorer\",\r\n\t\trarity: \"BASE\",\r\n\t\tdescription: `Increase the chance of being the second player.`,\r\n\t});\r\n\r\n    c.newArtifact({\r\n\t\tname: \"RARE Test\", \r\n\t\timage: \"File_Explorer\",\r\n\t\taprilImage: \"File_Explorer\",\r\n\t\trarity: \"RARE\",\r\n\t\tdescription: `Old Glamburger lol`,\r\n\t});\r\n\r\n    c.newArtifact({\r\n\t\tname: \"EPIC Test\", \r\n\t\timage: \"File_Explorer\",\r\n\t\taprilImage: \"File_Explorer\",\r\n\t\trarity: \"EPIC\",\r\n\t\tdescription: `Reverberation.`,\r\n\t});\r\n\r\n    c.newArtifact({\r\n\t\tname: \"MYTHIC Test\", \r\n\t\timage: \"File_Explorer\",\r\n\t\taprilImage: \"File_Explorer\",\r\n\t\trarity: \"MYTHIC\",\r\n\t\tdescription: `Win the game XD`,\r\n\t});\r\n\t\r\n})\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/custom_cards/custom_cards_uco.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/custom_cards_dictionary_new.js":
/*!*********************************************************************!*\
  !*** ./src/libraries/card_modifyers/custom_cards_dictionary_new.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"collections\": () => (/* binding */ collections)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/artifact_display.js */ \"./src/libraries/artifact_display.js\");\n/* harmony import */ var _src_libraries_fancy_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/fancy_helper.js */ \"./src/libraries/fancy_helper.js\");\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_font_loader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/font_loader.js */ \"./src/libraries/font_loader.js\");\n/* harmony import */ var _card_theme_song_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./card_theme_song_manager */ \"./src/libraries/card_modifyers/card_theme_song_manager.js\");\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utility */ \"./src/libraries/utility.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar customCardsStart = 2000;\r\nvar nextCustomCardId = customCardsStart;\r\nvar customArtifactsStart = 200;\r\nvar nextCustomArtifact = customArtifactsStart;\r\nvar customSoulsStart = 20;\r\nvar nextCustomSoul = customSoulsStart;\r\n\r\nvar collections = [];\r\n\r\nfunction uniqueNameId(type, id, i = 0) {\r\n\tvar s = type + id.toLowerCase();\r\n\tif (i > 0) {\r\n\t\ts = s + i;\r\n\t}\r\n\t//console.log(\"uniqueNameId\", s, i, window.$.i18n(s));\r\n\tif (window.$.i18n(s) != s) {\r\n\t\treturn uniqueNameId(type, id, i+1);\r\n\t}\r\n\tvar ret = id;\r\n\tif (i > 0) {\r\n\t\tret = ret + i;\r\n\t}\r\n\treturn ret;\r\n}\r\n\r\nfunction newCollection(settings) {\r\n\tvar collection = new CustomCardCollection(settings);\r\n\tcollection.id = collections.length; // This is ugly, but it works. Just some simple logic I use all the time.\r\n\tcollections.push(collection);\r\n\treturn collection;\r\n}\r\n\r\nclass CustomCardCollection {\r\n\t\r\n\tconstructor(settings) {\r\n\t\tthis.cards = [];\r\n\t\tthis.tribes = [];\r\n\t\tthis.artifacts = [];\r\n\t\tthis.souls = [];\r\n\t\tthis.keywords = [];\r\n\t\tthis.frames = [];\r\n\t\tthis.cardImagePrefix = settings.cardImagePrefix || \"\";\r\n\t\tthis.cardSongPrefix = settings.cardSongPrefix || \"\";\r\n\t\tthis.rarityImagePrefix = settings.rarityImagePrefix || settings.rarityIconPrefix || \"images/rarity/\";\r\n\t\tthis.tribeImagePrefix = settings.tribeImagePrefix || \"\";\r\n\t\tthis.artifactImagePrefix = settings.artifactImagePrefix || \"\";\r\n\t\tthis.soulImagePrefix = settings.soulImagePrefix || \"\";\r\n\r\n\t\tthis.aprilCardImagePrefix = settings.aprilCardImagePrefix || \"\";\r\n\t\tthis.aprilArtifactImagePrefix = settings.aprilArtifactImagePrefix || \"\";\r\n\t\tthis.aprilSoulImagePrefix = settings.aprilSoulImagePrefix || \"\";\r\n\t\t\r\n\t\tthis.name = settings.name || \"UNNAMED CATEGORY\";\r\n\t\tthis.author = settings.author || \"\";\r\n\t\tthis.note = settings.note || \"\";\r\n\t\tthis.universalCustomFont = settings.universalCustomFont || \"\";\r\n\t\tthis.oldPrefixBehavior = false;\r\n\t}\r\n\t\r\n\tnewCard(settings) {\r\n\t\tvar card = new Card(settings, this);\r\n\t\tcard.collection = this;\r\n\t\tthis.cards.push(card);\r\n\t\treturn card;\r\n\t}\r\n\t\r\n\tnewTribe(settings) {\r\n\t\tvar tribe = new Tribe(settings);\r\n\t\tthis.tribes.push(tribe);\r\n\t\treturn tribe;\r\n\t}\r\n\t\r\n\tnewArtifact(settings) {\r\n\t\tvar artifact = new Artifact(settings);\r\n\t\tartifact.collection = this;\r\n\t\tthis.artifacts.push(artifact);\r\n\t\treturn artifact;\r\n\t}\r\n\t\r\n\tnewSoul(settings) {\r\n\t\tvar soul = new Soul(settings);\r\n\t\tsoul.collection = this;\r\n\t\tthis.souls.push(soul);\r\n\t\treturn soul;\r\n\t}\r\n\t\r\n\tnewKeyword(settings) {\r\n\t\tvar kw = new Keyword(settings);\r\n\t\tthis.keywords.push(kw);\r\n\t\treturn kw;\r\n\t}\r\n\r\n\tnewFrame(settings) {\r\n\t\tvar frame = new CardFrame(settings);\r\n\t\tthis.frames.push(frame);\r\n\t\treturn frame;\r\n\t}\r\n\r\n\treloadFrames() {\r\n\t\tvar inner = \"\";\r\n\t\tfor (var i=0; i < this.frames.length; i++) {\r\n\t\t\tinner += this.frames[i].returnCSSStyles();\r\n\t\t}\r\n\t\t$(\"#collectionCustomCSS\").html(inner);\r\n\t}\r\n\t\r\n\tloadFont(name, url) {\r\n\t\treturn (0,_src_libraries_font_loader_js__WEBPACK_IMPORTED_MODULE_3__.LoadFont)(name, url);\r\n\t}\r\n\t\r\n\tgetTribeById(id) {\r\n\t\t//console.log(\"getTribeById\", id);\r\n\t\tfor (var i=0; i < this.tribes.length; i++) {\r\n\t\t\tvar tribe = this.tribes[i];\r\n\t\t\tif (tribe.id == id) {\r\n\t\t\t\treturn tribe;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\ttoJSON() {\r\n\t\treturn this.id;\r\n\t}\r\n\t\r\n}\r\n\r\nclass Card {\r\n\t\r\n\tconstructor(settings, collection) {\r\n\t\tthis.armor = false;\r\n\t\t//this.attack = 1;\r\n\t\tthis.burn = 0;\r\n\t\tthis.candy = false;\r\n\t\tthis.cantAttack = false;\r\n\t\tthis.charge = false;\r\n\t\tthis.cost = 0;\r\n\t\tthis.dodge = 0;\r\n\t\tthis.extension = \"BASE\";\r\n\t\tthis.fixedId = 196;\r\n\t\tthis.frameSkinName = \"Undertale\";\r\n\t\tthis.haste = false;\r\n\t\t//this.hp = 1;\r\n\t\tthis.image = \"Tiny_Froggit\";\r\n\t\tthis.invulnerable = false;\r\n\t\tthis.kr = false;\r\n\t\tthis.name = \"Tiny Froggit\";\r\n\t\tthis.ownerId = 0;\r\n\t\tthis.paralyzed = 0;\r\n\t\tthis.playedTurn = 0;\r\n\t\tthis.quantity = 99999;\r\n\t\tthis.rarity = \"COMMON\";\r\n\t\tthis.selectCards = [];\r\n\t\tthis.shiny = false;\r\n\t\tthis.silence = false;\r\n\t\tthis.taunt = false;\r\n\t\tthis.transparency = false;\r\n\t\tthis.tribes = [];\r\n\t\tthis.typeCard = 1;\r\n\t\tthis.typeSkin = 0;\r\n\t\tthis.shockEnabled = false;\r\n\t\tthis.supportEnabled = false;\r\n\t\tthis.loop = 0;\r\n\t\tthis.program = 0;\r\n\t\t\r\n\t\tthis.customFont = \"\";\r\n\t\tthis.note = \"\";\r\n\t\t\r\n\t\tfor (var prop in settings) {\r\n\t\t\tthis[prop] = settings[prop];\r\n\t\t}\r\n\t\t\r\n\t\tif (this.attack || this.hp) {\r\n\t\t\tthis.typeCard = 0;\r\n\t\t}\r\n\t\t\r\n\t\tthis.id = nextCustomCardId;\r\n\t\tthis.fixedId = nextCustomCardId;\r\n\t\t/*\r\n\t\tObject.defineProperty(this, \"id\", {\r\n\t\t\tvalue: nextCustomCardId,\r\n\t\t\twritable: false\r\n\t\t});\r\n\t\tObject.defineProperty(this, \"fixedId\", {\r\n\t\t\tvalue: nextCustomCardId,\r\n\t\t\twritable: false\r\n\t\t});\r\n\t\t*/\r\n\t\tnextCustomCardId++;\r\n\t\t\r\n\t\tthis.maxHp = this.hp;\r\n\t\tthis.originalHp = this.hp;\r\n\t\tthis.originalAttack = this.attack;\r\n\t\tthis.originalCost = this.cost;\r\n\t\tthis.baseImage = this.image;\r\n\r\n\t\tthis.isCustom = true;\r\n\t\t/*\r\n\t\tObject.defineProperty(this, \"isCustom\", {\r\n\t\t\tvalue: true,\r\n\t\t\twritable: false\r\n\t\t});\r\n\t\t*/\r\n\t\t\r\n\t\twindow.$.i18n().load( {\r\n\t\t\ten: { \r\n\t\t\t\t[\"card-name-\" + this.id] : this.name,\r\n\t\t\t\t[\"card-\" + this.id] : (this.description || this.desc),\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\t\r\n\t\tthis.tribes = this.tribes.map((el) => el.toString());\r\n\t\t\r\n\t\t/*\r\n\t\tObject.defineProperty(this, \"tribes\", {\r\n\t\t\tvalue: Object.freeze(this.tribes),\r\n\t\t\twritable: false\r\n\t\t});\r\n\t\t\r\n\t\tObject.defineProperty(this, \"name\", {\r\n\t\t\tvalue: window.$.i18n(\"card-name-\" + this.id, 1),\r\n\t\t\twritable: false\r\n\t\t});\r\n\t\t*/\r\n\t\tthis.name = window.$.i18n(\"card-name-\" + this.id, 1);\r\n\t\tthis.description = undefined;\r\n\r\n\t\tif (this.themeSongs) {\r\n\t\t\tvar s = (0,_card_theme_song_manager__WEBPACK_IMPORTED_MODULE_4__.registerCard)(this);\r\n\t\t\tfor (var i=0; i < this.themeSongs.length; i++) {\r\n\t\t\t\ts.addFile(_utility__WEBPACK_IMPORTED_MODULE_5__.utility.constructURL(collection.cardSongPrefix, this.themeSongs[i], \"ogg\", collection.oldPrefixBehavior));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\twindow.allCards.push(this);\r\n\t}\r\n\t\r\n\tmention(nr = \"1\") {\r\n\t\treturn \"{{CARD:\" + this.id + \"|\" + nr + \"}}\";\r\n\t}\r\n\t\r\n\tme(nr = \"1\") {\r\n\t\treturn this.mention(nr);\r\n\t}\r\n\t\r\n\tsetName(name, language = \"en\") {\r\n\t\tvar data = {};\r\n\t\tdata[language] = {};\r\n\t\tdata[language][\"card-name-\" + this.id] = name;\r\n\t\twindow.$.i18n().load(data);\r\n\t}\r\n\t\r\n\tgetName(nr = 1) {\r\n\t\treturn window.$.i18n(\"card-name-\" + this.id, nr);\r\n\t}\r\n\t\r\n\tsetDescription(desc, language = \"en\") {\r\n\t\tvar data = {};\r\n\t\tdata[language] = {};\r\n\t\tdata[language][\"card-\" + this.id] = desc;\r\n\t\twindow.$.i18n().load(data);\r\n\t}\r\n\t\r\n\tgetDescription() {\r\n\t\treturn window.$.i18n(\"card-\" + this.id);\r\n\t}\r\n\t\r\n}\r\n\r\nclass Tribe {\r\n\t\r\n\tconstructor(settings) {\r\n\t\tthis.name = settings.name || \"{{PLURAL:$1|Unnamed Tribe|Unnamed_Tribes}}\";\r\n\t\tObject.defineProperty(this, \"id\", {\r\n\t\t\tvalue: uniqueNameId(\"tribe-\", settings.id || \"unnamed_tribe\"),\r\n\t\t\twritable: false\r\n\t\t});\r\n\t\tthis.image = settings.image || \"NO_IMAGE\";\r\n\t\tthis.setName(this.name);\r\n\t\tthis.name = window.$.i18n(\"tribe-\" + this.id, 1);\r\n\t}\r\n\t\r\n\ttoString() { // This is so Tribe objects can be used freely in cards' tribes attribute.\r\n\t\treturn this.id.toString(); // The toString is only there for safety.\r\n\t}\r\n\t\r\n\tsetName(name, language = \"en\") {\r\n\t\tvar data = {};\r\n\t\tdata[language] = {};\r\n\t\tdata[language][\"tribe-\" + this.id.toLowerCase()] = name;\r\n\t\t//console.log(\"Tribe Name data: \", data);\r\n\t\twindow.$.i18n().load(data);\r\n\t}\r\n\t\r\n\tgetName(nr = 1) {\r\n\t\treturn window.$.i18n(\"tribe-\" + this.id.toLowerCase(), nr);\r\n\t}\r\n\t\r\n\tmention(nr = 1) {\r\n\t\treturn \"{{TRIBE:\" + this.id + \"|\" + nr + \"}}\";\r\n\t}\r\n\t\r\n\tme(nr = \"1\") {\r\n\t\treturn this.mention(nr);\r\n\t}\r\n\t\r\n}\r\n\r\nclass Artifact {\r\n\t\r\n\tconstructor(settings) {\r\n\t\tthis.name = settings.name || \"UNNAMED ARTIFACT\";\r\n\t\tthis.description = settings.description || \"NO EFFECT\";\r\n\t\tthis.image = settings.image || \"NO_IMAGE\";\r\n\t\tthis.aprilImage = settings.aprilImage;\r\n\t\tthis.rarity = settings.rarity || \"COMMON\";\r\n\t\tthis.note = settings.note || \"\";\r\n\t\tObject.defineProperty(this, \"id\", {\r\n\t\t\tvalue: nextCustomArtifact,\r\n\t\t\twritable: false\r\n\t\t});\r\n\t\tnextCustomArtifact++;\r\n\t\twindow.$.i18n().load( {\r\n\t\t\ten: { \r\n\t\t\t\t[\"artifact-name-\" + this.id] : this.name,\r\n\t\t\t\t[\"artifact-\" + this.id] : this.description,\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.name = window.$.i18n(\"artifact-name-\" + this.id, 1);\r\n\t\t\r\n\t\t_src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_0__.artifactDisplay.artifacts.push(this);\r\n\t}\r\n\t\r\n\tmention(nr = 1) {\r\n\t\treturn \"{{ARTIFACT:\" + this.id + \"|\" + nr + \"}}\";\r\n\t}\r\n\t\r\n\tme(nr = \"1\") {\r\n\t\treturn this.mention(nr);\r\n\t}\r\n\t\r\n\tsetName(name, language = \"en\") {\r\n\t\tvar data = {};\r\n\t\tdata[language] = {};\r\n\t\tdata[language][\"artifact-name-\" + this.id] = name;\r\n\t\twindow.$.i18n().load(data);\r\n\t}\r\n\t\r\n\tgetName(nr = 1) {\r\n\t\treturn window.$.i18n(\"artifact-name-\" + this.id, nr);\r\n\t}\r\n\t\r\n\tsetDescription(desc, language = \"en\") {\r\n\t\tvar data = {};\r\n\t\tdata[language] = {};\r\n\t\tdata[language][\"artifact-\" + this.id] = desc;\r\n\t\twindow.$.i18n().load(data);\r\n\t}\r\n\t\r\n\tgetDescription() {\r\n\t\treturn window.$.i18n(\"artifact-\" + this.id);\r\n\t}\r\n\t\r\n}\r\n\r\nclass Soul {\r\n\t\r\n\tconstructor(settings) {\r\n\t\tObject.defineProperty(this, \"id\", {\r\n\t\t\tvalue: nextCustomSoul,\r\n\t\t\twritable: false\r\n\t\t});\r\n\t\tnextCustomSoul++;\r\n\t\tObject.defineProperty(this, \"name\", {\r\n\t\t\tvalue: uniqueNameId(\"soul-name-\", settings.name || \"NONAME\"),\r\n\t\t\twritable: false\r\n\t\t});\r\n\t\tthis.displayName = settings.displayName || \"NoName\";\r\n\t\tthis.image = settings.image || \"NO_IMAGE\";\r\n\t\tthis.aprilImage = settings.aprilImage;\r\n\t\tthis.description = settings.description || \"No description\";\r\n\t\tthis.note = settings.note || \"\";\r\n\t\t\r\n\t\twindow.$.i18n().load( {\r\n\t\t\ten: { \r\n\t\t\t\t[\"soul-\" + this.name.toLowerCase()] : this.displayName,\r\n\t\t\t\t[\"soul-\" + this.name.toLowerCase() + \"-desc\"] : this.description,\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tthis.displayName = window.$.i18n(\"soul-\" + this.name.toLowerCase(), 1);\r\n\t\t\r\n\t\t_src_libraries_fancy_helper_js__WEBPACK_IMPORTED_MODULE_1__.FancyDisplay.customSouls.push(this);\r\n\t}\r\n\t\r\n\tmention(nr = \"1\") {\r\n\t\treturn \"{{SOUL:\" + this.name + \"|\" + nr + \"}}\";\r\n\t}\r\n\t\r\n\tme(nr = \"1\") {\r\n\t\treturn this.mention(nr);\r\n\t}\r\n\t\r\n\tsetName(name, language = \"en\") {\r\n\t\tvar data = {};\r\n\t\tdata[language] = {};\r\n\t\tdata[language][\"soul-\" + this.name.toLowerCase()] = name;\r\n\t\twindow.$.i18n().load(data);\r\n\t}\r\n\t\r\n\tgetName(nr = 1) {\r\n\t\treturn window.$.i18n(\"soul-\" + this.name.toLowerCase(), nr);\r\n\t}\r\n\t\r\n\tsetDescription(desc, language = \"en\") {\r\n\t\tvar data = {};\r\n\t\tdata[language] = {};\r\n\t\tdata[language][\"soul-\" + this.name.toLowerCase() + \"-desc\"] = desc;\r\n\t\twindow.$.i18n().load(data);\r\n\t}\r\n\t\r\n\tgetDescription() {\r\n\t\treturn window.$.i18n(\"soul-\" + this.name.toLowerCase() + \"-desc\");\r\n\t}\r\n\t\r\n}\r\n\r\nclass Keyword {\r\n\t\r\n\tconstructor(settings) {\r\n\t\tObject.defineProperty(this, \"id\", {\r\n\t\t\tvalue: uniqueNameId(\"kw-\", settings.id || \"NOID\"),\r\n\t\t\twritable: false\r\n\t\t});\r\n\t\tthis.name = settings.name || \"NoName\";\r\n\t\tthis.description = settings.description || \"No description\";\r\n\t\t\r\n\t\twindow.$.i18n().load( {\r\n\t\t\ten: { \r\n\t\t\t\t[\"kw-\" + this.id.toLowerCase()] : this.name,\r\n\t\t\t\t[\"kw-\" + this.id.toLowerCase() + \"-desc\"] : this.description,\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tthis.name = window.$.i18n(\"kw-\" + this.id.toLowerCase(), 1);\r\n\t\t\r\n\t\t//FancyDisplay.customSouls.push(this);\r\n\t}\r\n\t\r\n\tmention(nr = \"1\") {\r\n\t\treturn \"{{KW:\" + this.id + \"|\" + nr + \"}}\";\r\n\t}\r\n\t\r\n\tme(nr = \"1\") {\r\n\t\treturn this.mention(nr);\r\n\t}\r\n\t\r\n\tsetName(name, language = \"en\") {\r\n\t\tvar data = {};\r\n\t\tdata[language] = {};\r\n\t\tdata[language][\"kw-\" + this.id.toLowerCase()] = name;\r\n\t\twindow.$.i18n().load(data);\r\n\t}\r\n\t\r\n\tgetName(nr = 1) {\r\n\t\treturn window.$.i18n(\"kw-\" + this.id.toLowerCase(), nr);\r\n\t}\r\n\t\r\n\tsetDescription(desc, language = \"en\") {\r\n\t\tvar data = {};\r\n\t\tdata[language] = {};\r\n\t\tdata[language][\"kw-\" + this.id.toLowerCase() + \"-desc\"] = desc;\r\n\t\twindow.$.i18n().load(data);\r\n\t}\r\n\t\r\n\tgetDescription() {\r\n\t\treturn window.$.i18n(\"kw-\" + this.id.toLowerCase() + \"-desc\");\r\n\t}\r\n\t\r\n}\r\n\r\nclass CardFrame {\r\n\r\n\tconstructor(settings) {\r\n\t\tthis.id = settings.id.toLowerCase() || \"unnamed\";\r\n\t\tthis.monsterImage = settings.monsterImage;\r\n\t\tthis.spellImage = settings.spellImage;\r\n\t\tthis.shinyImage = settings.shinyImage || \"/images/frameSkins/Undertale/frame_shiny.png\";\r\n\t\tthis.animatedShinyImage = settings.animatedShinyImage || \"/images/frameSkins/Undertale/frame_shiny_animated.png\";\r\n\t\tthis.nameTop = this.makeIntoCSSMeasurement(settings.nameTop, \"9px\");\r\n\t\tthis.descTop = this.makeIntoCSSMeasurement(settings.descTop, \"129px\");\r\n\t\tthis.rarityTop = this.makeIntoCSSMeasurement(settings.rarityTop, \"213px\");\r\n\t\tthis.quantityTop = this.makeIntoCSSMeasurement(settings.quantityTop, \"240px\");\r\n\t}\r\n\r\n\tmakeIntoCSSMeasurement(nr, def) {\r\n\t\tif (typeof(nr) == \"number\") {\r\n\t\t\treturn nr + \"px\";\r\n\t\t}\r\n\t\treturn nr || def;\r\n\t}\r\n\r\n\treturnCSSStyles() {\r\n\t\treturn `\r\n\t\t.${this.id}-frame .shinySlot {\r\n\t\t\tbackground-image: url(${this.shinyImage})\r\n\t\t}\r\n\t\t\r\n\t\t.${this.id}-frame .shinySlot.animated {\r\n\t\t\tbackground-image: url(${this.animatedShinyImage})\r\n\t\t}\r\n\t\t\r\n\t\t.${this.id}-frame.spell .cardFrame {\r\n\t\t\tbackground-image: url(${this.spellImage})\r\n\t\t}\r\n\t\t\r\n\t\t.${this.id}-frame.monster .cardFrame {\r\n\t\t\tbackground-image: url(${this.monsterImage})\r\n\t\t}\r\n\t\t\r\n\t\t.${this.id}-frame .cardName,.${this.id}-frame .cardCost {\r\n\t\t\ttop: ${this.nameTop}\r\n\t\t}\r\n\t\t\r\n\t\t.${this.id}-frame .cardDesc,.${this.id}-frame .cardSilence {\r\n\t\t\ttop: ${this.descTop}\r\n\t\t}\r\n\t\t\r\n\t\t.${this.id}-frame .cardATK,.${this.id}-frame .cardHP,.${this.id}-frame .cardRarity {\r\n\t\t\ttop: ${this.rarityTop}\r\n\t\t}\r\n\t\t\r\n\t\t.${this.id}-frame .cardQuantity,.${this.id}-frame .cardUCPCost {\r\n\t\t\ttop: ${this.quantityTop}\r\n\t\t}\r\n\r\n\t\t`;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn this.id;\r\n\t}\r\n\r\n\treplace(a, b) {\r\n\t\treturn this.id.replace(a, b);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn this.id;\r\n\t}\r\n\r\n}\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_2__.prettycards.newCollection = newCollection;\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/custom_cards_dictionary_new.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/custom_cards_new.js":
/*!**********************************************************!*\
  !*** ./src/libraries/card_modifyers/custom_cards_new.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_card_modifyers_custom_cards_dictionary_new_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/custom_cards_dictionary_new.js */ \"./src/libraries/card_modifyers/custom_cards_dictionary_new.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction OpenAuthorNote(card) {\r\n\twindow.BootstrapDialog.show({\r\n\t\ttitle: \"Author's Note\",\r\n\t\tmessage: window.$.i18n(card.note),\r\n\t\t//onshow: this.OnShow\r\n\t\tbuttons: [\r\n\t\t\t{\r\n\t\t\t\tlabel: window.$.i18n(\"dialog-ok\"),\r\n\t\t\t\tcssClass: 'btn-primary',\r\n\t\t\t\taction: function(dialog) {\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t});\r\n}\r\n\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"PrettyCards:onPageLoad\", function() {\r\n\tif (underscript.onPage(\"CustomCards\")) {\r\n\t\tvar oldAppendCard = window.appendCard;\r\n\t\twindow.appendCard = function(card, container) {\r\n\t\t\tvar element = oldAppendCard(card, container);\r\n\t\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_2__.PrettyCards_plugin.events.emit(\"PC_appendCard\", {card: card, element: element});\r\n\t\t\treturn element;\r\n\t\t}\r\n\t\t\r\n\t\t// PrettyCards_plugin.events.on(\"appendCard()\", function(data) { // Cannot use this because Underscript is in zombie mode on custom pages.\r\n\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_2__.PrettyCards_plugin.events.on(\"PC_appendCard\", function(data) {\r\n\t\t\t//console.log(\"appendCard\", data);\r\n\t\t\tvar card = data.card;\r\n\t\t\tvar element = data.element;\r\n\t\t\tif (!card.isCustom) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar collection = card.collection;\r\n\t\t\tif (typeof(collection) == \"number\") {\r\n\t\t\t\tcollection = _src_libraries_card_modifyers_custom_cards_dictionary_new_js__WEBPACK_IMPORTED_MODULE_3__.collections[collection];\r\n\t\t\t\tcard.collection = collection;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telement.addClass(\"ext_\" + card.extension);\r\n\r\n\t\t\tvar isAprilFools = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getSeasonMonth() == 3 && card.aprilImage;\r\n\t\t\tvar prefix = isAprilFools ? collection.aprilCardImagePrefix : collection.cardImagePrefix;\r\n\t\t\tvar imageName = isAprilFools ? card.aprilImage : card.image;\r\n\r\n\t\t\tvar image = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(prefix, imageName, \"png\", collection.oldPrefixBehavior);\r\n\t\t\t\r\n\t\t\telement.find(\".cardImage\").css(\"background-image\", 'url(\"' + image + '\")');\r\n\t\t\telement.find(\".cardRarity\").css(\"background-image\", 'url(\"' + _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(collection.rarityImagePrefix, card.extension + '_' + card.rarity, \"png\", collection.oldPrefixBehavior) + '\")');\r\n\t\t\t\r\n\t\t\tvar tribes = element.find(\".cardTribes .tribe\");\r\n\t\t\tfor (var i=0; i < card.tribes.length; i++) {\r\n\t\t\t\tvar tribe_string = card.tribes[i];\r\n\t\t\t\tvar tribe = collection.getTribeById(tribe_string);\r\n\t\t\t\tif (tribe) {\r\n\t\t\t\t\t//console.log(\"CUSTOM TRIBE!\", tribe, tribes, tribes[i]);\r\n\t\t\t\t\ttribes[i].src = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(collection.tribeImagePrefix, tribe.image, \"png\", collection.oldPrefixBehavior);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (card.background) {\r\n\t\t\t\tvar bg = $('<div class=\"breakingSkinBackground\"></div>');\r\n\t\t\t\tvar isAprilFools = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getSeasonMonth() == 3 && card.aprilBackground;\r\n\t\t\t\tvar prefix = isAprilFools ? collection.aprilCardImagePrefix : collection.cardImagePrefix;\r\n\t\t\t\tvar imageName = isAprilFools ? card.aprilBackground : card.background;\r\n\t\t\t\tvar b_image = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(prefix, imageName, \"png\", collection.oldPrefixBehavior);\r\n\t\t\t\tbg.css('background', \"url('\" + b_image + \"') no-repeat\");\r\n\t\t\t\tbg.css(\"background-size\", \"contain\");\r\n\t\t\t\tbg.css(\"background-position\", \"center\");\r\n\t\t\t\telement.prepend(bg);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar customFontName = (card.customFont != \"\") ? card.customFont : collection.universalCustomFont;\r\n\t\t\t\r\n\t\t\tif (customFontName != \"\" && customFontName != \"DTM-Mono\") {\r\n\t\t\t\t//console.log(\"customFontName\", customFontName, card);\r\n\t\t\t\tvar cardNameDiv$ = element.find('.cardName div');\r\n\t\t\t\tvar cardDescDiv$ = element.find('.cardDesc div');\r\n\t\t\t\t\r\n\t\t\t\tcardNameDiv$.css(\"font-family\", customFontName);\r\n\t\t\t\tcardDescDiv$.css(\"font-family\", customFontName);\r\n\t\t\t\t\r\n\t\t\t\tcardNameDiv$.css('font-size', '');\r\n\t\t\t\tcardDescDiv$.css('font-size', '');\r\n\r\n\t\t\t\t//console.log(getResizedFontSize(cardNameDiv$, 25) + \"px\");\r\n\t\t\t\tvar nameSize = window.getResizedFontSize(cardNameDiv$, 25);\r\n\t\t\t\tcardNameDiv$.css('font-size', (nameSize + \"px\"));\r\n\t\t\t\t\r\n\t\t\t\tvar descSize = window.getResizedFontSize(cardDescDiv$, 81);\r\n\t\t\t\tcardDescDiv$.css('font-size', (descSize + \"px\"));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (card.note && card.note.length > 0) {\r\n\t\t\t\tvar noteIcon = window.$('<img src=\"https://github.com/CMD-God/prettycards/raw/master/img/CardPowers/note.png\"></img>');\r\n\t\t\t\tnoteIcon.contextmenu(function() {\r\n\t\t\t\t\tOpenAuthorNote(card);\r\n\t\t\t\t});\r\n\t\t\t\telement.find(\".PrettyCards_CardBottomLeftInfo\").append(noteIcon);\r\n\t\t\t\t//element.find(\".cardStatus\").append(noteIcon);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//card.onRender(data); // Removing this system because clones do not mix well with this.\r\n\t\t\t\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/custom_cards_new.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/friendship_info_on_cards.js":
/*!******************************************************************!*\
  !*** ./src/libraries/card_modifyers/friendship_info_on_cards.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\n\r\nvar lastAppendedCard;\r\nvar friendshipData;\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"appendCard()\", function(data) {\r\n    lastAppendedCard = data.element;\r\n})\r\n\r\nconst PLACEHOLDER_FRIENDSHIP_RANK = 222222222; // Really big number that is beyond what the leaderboard position can be.\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"appendCardDeck() appendCardCraft()\", function(data) {\r\n    var card = data.card;\r\n    var element = data.element;\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:friendshipFetched\", function(data) {\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:selfFriendshipLeaderboardFetched\", function(lbData) {\r\n            var xp = 0;\r\n            var pos = PLACEHOLDER_FRIENDSHIP_RANK; \r\n            var friendshipItems = JSON.parse(data[0].friendshipItems);\r\n            var item = _utility__WEBPACK_IMPORTED_MODULE_1__.utility.binarySearch(friendshipItems, card.id, (ele) => ele.idCard);\r\n            if (!item || item.xp <= 0) {\r\n                return;\r\n            }\r\n            xp = item.xp;\r\n            console.log(item, lbData);\r\n            lbData = lbData[0];\r\n            if (lbData) {\r\n                var rankItem = _utility__WEBPACK_IMPORTED_MODULE_1__.utility.binarySearch(lbData.scores, card.id, (ele) => ele.cardId);\r\n                if (rankItem) {\r\n                    pos = rankItem.rank;\r\n                }\r\n            }\r\n            var icon = document.createElement(\"IMG\");\r\n            icon.src = \"/images/friendship.png\";\r\n            element.find(\".PrettyCards_CardBottomLeftInfo\").append(icon);\r\n\r\n            var level = window.getLevel(xp);\r\n            var xp_left = xp - _utility__WEBPACK_IMPORTED_MODULE_1__.utility.getXpForLevel(level - 1);\r\n            var xp_to_next = window.distanceNextLevel(level);\r\n            window.tippy(icon, {\r\n                content: `\r\n                    <span>Level: ${level}</span><br>\r\n                    <span>XP: ${xp_left}/${xp_to_next}</span>\r\n                    ${pos < PLACEHOLDER_FRIENDSHIP_RANK ? `<br><span>Rank: ${pos}</span>` : \"\"}`,\r\n                allowHTML: true,\r\n                arrow: true,\r\n                inertia: true,\r\n                placement: \"top\",\r\n                appendTo: window.document.body,\r\n                boundary: 'window',\r\n                getReferenceClientRect: window.document.body.getBoundingClientRect\r\n            });\r\n        });\r\n    });\r\n})\r\n\r\nfunction overrideWithEvent() {\r\n    var oldFunc = window.appendCardDeck;\r\n    window.appendCardDeck = function(card) {\r\n        var ret = oldFunc(card);\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"appendCardDeck()\", {card: card, element: lastAppendedCard});\r\n        return ret; // Just in case Onu changes the function.\r\n    }\r\n    var oldFuncCraft = window.appendCardCraft;\r\n    window.appendCardCraft = function(card) {\r\n        var ret = oldFuncCraft(card);\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"appendCardCraft()\", {card: card, element: lastAppendedCard});\r\n        return ret; // Just in case Onu changes the function.\r\n    }\r\n}\r\n\r\nif (window.appendCardDeck) {\r\n    overrideWithEvent();\r\n} else {\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n        overrideWithEvent();\r\n    })\r\n}\r\n\r\n_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default().getJSON(\"/FriendshipConfig\", {}, function(data) {\r\n    friendshipData = data;\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:friendshipFetched\", friendshipData);\r\n})\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"Chat:Connected\", function() {\r\n    _utility__WEBPACK_IMPORTED_MODULE_1__.utility.getFriendshipInfo(window.selfId, function(data) {\r\n        // Success\r\n        console.log(data);\r\n        data.scores = data.scores.sort((a, b) => (a.cardId - b.cardId));\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:selfFriendshipLeaderboardFetched\", data);\r\n\t}).fail(function() {\r\n\t\t// Fail\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:selfFriendshipLeaderboardFetched\", null);\r\n\t});\r\n})\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/friendship_info_on_cards.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/hd_card_skins.js":
/*!*******************************************************!*\
  !*** ./src/libraries/card_modifyers/hd_card_skins.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hd_card_skins\": () => (/* binding */ hd_card_skins),\n/* harmony export */   \"returnHDImageIfThereIs\": () => (/* binding */ returnHDImageIfThereIs)\n/* harmony export */ });\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\n\r\nvar hd_card_skins = [];\r\nvar debugList = [];\r\n\r\n(0,_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'hd_card_skins',\r\n\t'name': 'HD Card Skins', // Name in settings page\r\n    'note': 'Enables HD Card Skins. Only applies to registered card skins.<br>I would recommend turning this off if:<br>- You are using a low resolution device.<br>- You have slow internet access.<br>- You pay for your internet based on consumption (ex. Mobile data).',\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': true, // default value\r\n    'category': \"controversial\"\r\n});\r\n\r\nfunction returnHDImageIfThereIs(image, forceNormal = false) {\r\n    if (hd_card_skins.includes(image)) {\r\n        return `https://raw.githubusercontent.com/CMD-God/prettycards/master/img/HDCardSkins/${image}.png`;\r\n    }\r\n    if (forceNormal) {\r\n        return `/images/cards/${image}.png`;\r\n    }\r\n    return _utility__WEBPACK_IMPORTED_MODULE_1__.utility.getCardImageLink(image);\r\n}\r\n\r\n\r\nif (_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.settings.hd_card_skins.value()) {\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default().getJSON(\"https://raw.githubusercontent.com/CMD-God/prettycards/master/json/hdCardSkins.json\", {}, function(data) {\r\n        hd_card_skins = data;\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:hdSkinsFetched\", {skins: data});\r\n    })\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n        var originalAppendCardCardSkinShop = window.appendCardCardSkinShop;\r\n        window.appendCardCardSkinShop = function(cardSkin, frameName) {\r\n            var appendedCard = originalAppendCardCardSkinShop(cardSkin, frameName);\r\n            _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"appendCardCardSkinShop()\", {cardSkin : cardSkin, frameName : frameName, element: appendedCard});\r\n            return appendedCard;\r\n        }\r\n    });\r\n\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"appendCard()\", function(data) {\r\n        var card = data.card;\r\n        var element = data.element;\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:hdSkinsFetched\", function() { // Race conditions bad\r\n            if (hd_card_skins.includes(card.image)) {\r\n                element.find(\".cardImage\").css(\"backgroundImage\", `url(\"${returnHDImageIfThereIs(card.image)}\")`);\r\n            }\r\n        })\r\n    })\r\n\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"appendCardCardSkinShop()\", function(data) {\r\n        var skin = data.cardSkin;\r\n        var element = data.element;\r\n        var image = skin.image;\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:hdSkinsFetched\", function() { // Race conditions bad\r\n            if (hd_card_skins.includes(image)) {\r\n                element.find(\".cardImage\").css(\"backgroundImage\", `url(\"${returnHDImageIfThereIs(image)}\")`);\r\n            }\r\n        })\r\n    })\r\n\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"appendHubDeck()\", function(data) {\r\n\t\tvar deck = data.deck;\r\n\t\tvar element = data.element;\r\n        var image = deck.image;\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:hdSkinsFetched\", function() { // Race conditions bad\r\n            if (hd_card_skins.includes(image)) {\r\n                element.find(\".hubDeckImage img\").attr(\"src\", returnHDImageIfThereIs(image));\r\n            }\r\n        })\r\n    });\r\n    \r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/hd_card_skins.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/hd_game_animations.js":
/*!************************************************************!*\
  !*** ./src/libraries/card_modifyers/hd_game_animations.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../underscript_checker */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n(0,_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'hd_game_animations',\r\n\t'name': 'HD Game Animations', // Name in settings page\r\n    'note': \"As per the request of the original animator of the game's visual effects, now you can use their new and improved version of the visual effects!\",\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': true, // default value\r\n\t'category': \"controversial\"\r\n});\r\n\r\nfunction wrapAnimFunction(funcName, image) {\r\n\tvar oldFunc = window[funcName];\r\n\twindow[funcName] = function(a, b, c, d, e) { // Some parameters, just to be sure!\r\n\t\toldFunc(a, b, c, d, e);\r\n\t\treplaceAnim(image);\r\n\t}\r\n}\r\n\r\nfunction replaceAnim(image) {\r\n\tvar imgs = $(\".vfx:not(.PrettyCards_DoneVFX)\");\r\n\timgs.attr(\"src\", `https://raw.githubusercontent.com/CMD-God/prettycards/master/img/CardVFX/${image}.png?v=${window.animationCounter}`);\r\n\timgs.addClass(\"PrettyCards_DoneVFX\");\r\n}\r\n\r\nif (_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.settings.hd_game_animations.value() && (window.underscript.onPage(\"Game\") || window.underscript.onPage(\"Spectate\"))) {\r\n\t// wrapAnimFunction(\"silenceAnimation\", \"Silence\"); // Activate when animations come!\r\n\r\n\r\n}\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/hd_game_animations.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/rarity_text_changer.js":
/*!*************************************************************!*\
  !*** ./src/libraries/card_modifyers/rarity_text_changer.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _rarity_icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rarity_icons */ \"./src/libraries/rarity_icons.js\");\n\r\n\r\n\r\n\r\nvar optionList = [\"Text\", \"Adapt\", \"Undertale\", \"Deltarune\"];\r\n\r\n(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'rarity_text_change',\r\n\t'name': 'Change Rarity Text', // Name in settings page\r\n    'note': function() {\r\n        return \"Change every mention of a rarity into their respective icons.\";\r\n    },\r\n\t'type': 'select',\r\n    'options': optionList,\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': optionList[0], // default value\r\n    'category': \"card\"\r\n});\r\n\r\nfunction DisplayToSystem(str) {\r\n    //console.log(\"STR\", str);\r\n    var ret = \"WHY DOES THIS KEEP HAPPENING!?\";\r\n    switch (str) {\r\n        case optionList[0]: ret = \"TEXT\"; break;\r\n        case optionList[1]: ret = \"ADAPT\"; break;\r\n        case optionList[2]: ret = \"BASE\"; break;\r\n        case optionList[3]: ret = \"DELTARUNE\"; break;\r\n    }\r\n    return ret;\r\n}\r\n\r\nvar mode = \"TEXT\";\r\n\r\n//if (settings.rarity_text_change.disabled()) {\r\n    _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"translation:loaded\", function() {\r\n        $.extend($.i18n.parser.emitter, {\r\n            rarity: function(nodes) {\r\n                if (nodes.length >= 1) {\r\n                    var rarity = nodes[0];\r\n                    var stringKey = 'rarity-' + rarity.replace(/_/g, '-').toLowerCase();\r\n                    var overrideText = checkOverride(nodes);\r\n                    var text = overrideText || $.i18n(stringKey);\r\n                    if (mode == \"TEXT\") { \r\n                        return '<span class=\"' + rarity + '\">' + text + '</span>';\r\n                    }\r\n                    var icon = _rarity_icons__WEBPACK_IMPORTED_MODULE_1__.rarityIconsHTML[mode][rarity];\r\n                    icon = $(icon).css({height: \"1.5em\"})[0].outerHTML;\r\n                    return icon;\r\n                }\r\n            }\r\n        });\r\n    })\r\n\r\n    _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on('pre:appendCard() pre:viewArtifacts() pre:viewArtifact() pre:viewSoul()', (card) => {\r\n        if (window.underscript.onPage(\"CustomCards\")) {mode = \"TEXT\"; return;} // Feature currently disabled on the Custom Cards page due to technical issues.\r\n        const value = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.rarity_text_change.value();\r\n        //console.log(\"Setting Value: \", value);\r\n        if (value === 'Text') return;\r\n        if (card.extension) { // If the received data is actually a card . . .\r\n            mode = value === 'Adapt' ? card.extension : DisplayToSystem(value); // convert value to appropriate extension\r\n        } else { // If it's something else . . .\r\n            mode = value === 'Adapt' ? \"TEXT\" : DisplayToSystem(value); \r\n        }\r\n        //console.log(\"Translating something . . .\", mode);\r\n    });\r\n    _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on('appendCard() viewArtifacts() viewArtifact() viewSoul()', () => {\r\n        mode = \"TEXT\";\r\n    });\r\n//}\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/rarity_text_changer.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/switch_highlight.js":
/*!**********************************************************!*\
  !*** ./src/libraries/card_modifyers/switch_highlight.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility */ \"./src/libraries/utility.js\");\n\r\n\r\n\r\n(0,_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'switch_highlight',\r\n\t'name': 'Switch Highlight', // Name in settings page\r\n\t'note': 'Adds some handy highlighting to Switch cards while they are being hovered over the arena mid-game.',\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'disabled': false,\r\n\t'default': true, // default value\r\n    'category': \"card\"\r\n});\r\n\r\nfunction isElementSwitchCard(ele) {\r\n    if (ele.hasClass(\"PrettyCards_SwitchHighlight_Cyan\")) {\r\n        return true;\r\n    }\r\n    if (ele.hasClass(\"PrettyCards_SwitchHighlight_Red\")) {\r\n        return true;\r\n    }\r\n    return ele.find(\".PrettyCards_SwitchHighlight_Cyan\").length > 0 || ele.find(\".PrettyCards_SwitchHighlight_Red\").length > 0;\r\n}\r\n\r\nfunction doYouHaveEndgame() {\r\n    var art = $(`#yourArtifacts img[artifactid=\"47\"]`);\r\n    return art.length > 0;\r\n}\r\n\r\nfunction isCardElementAPiece(ele) {\r\n    var tribe = ele.find(`.cardTribes img[src=\"images/tribes/PIECE.png\"]`);\r\n    return tribe.length > 0;\r\n}\r\n\r\nvar didAlreadyUpdateThisFrame = false;\r\nfunction onUpdate() {\r\n    didAlreadyUpdateThisFrame = false;\r\n    window.requestAnimationFrame(onUpdate);\r\n}\r\nwindow.requestAnimationFrame(onUpdate);\r\n\r\nfunction setSwitchAreaAndCard(ele, state = 0) {\r\n    $(\"#yourSide\").removeClass(\"PrettyCards_SwitchHighlight_SwitchBoard_Cyan\");\r\n    $(\"#yourSide\").removeClass(\"PrettyCards_SwitchHighlight_SwitchBoard_Red\");\r\n    var descDiv = ele.find(\".cardDesc > div\");\r\n    var id = ele.attr(\"fixedId\");\r\n    if (state == 1) {\r\n        $(\"#yourSide\").addClass(\"PrettyCards_SwitchHighlight_SwitchBoard_Cyan\");\r\n        descDiv.html($.i18n(`card-${id}-cyan`));\r\n    } else if (state == 2) {\r\n        $(\"#yourSide\").addClass(\"PrettyCards_SwitchHighlight_SwitchBoard_Red\");\r\n        descDiv.html($.i18n(`card-${id}-red`));\r\n    } else if (state == 3) {\r\n        $(\"#yourSide\").addClass(\"PrettyCards_SwitchHighlight_EndgameBoard\");\r\n        descDiv.html($.i18n(`card-${id}-both`));\r\n    } else {\r\n        descDiv.html($.i18n(`card-${id}`));\r\n    }\r\n    if (state != 3) {\r\n        $(\"#yourSide\").removeClass(\"PrettyCards_SwitchHighlight_EndgameBoard\"); // Added this separately because of the animations!\r\n    }\r\n}\r\n\r\nfunction gameSetup() {\r\n    var oldMakeDraggable = window.makeDraggable;\r\n    window.makeDraggable = function() {\r\n        oldMakeDraggable();\r\n        if (window.userId !== window.userTurn || window.spectate) {return;}\r\n        $(\"#handCards .canPlay\").each(function(i, e) {\r\n            const $e = $(e);\r\n            $e.on(\"dragstart\", function() {\r\n                if (!isElementSwitchCard($e)) {return;}\r\n                $(\"#yourSide\").addClass(\"PrettyCards_SwitchHighlight_SwitchBoard\");\r\n                if (doYouHaveEndgame() && isCardElementAPiece($e)) {\r\n                    setSwitchAreaAndCard($e, 3);\r\n                }\r\n            });\r\n            $e.on(\"dragstop\", function() {\r\n                $(\"#yourSide\").removeClass(\"PrettyCards_SwitchHighlight_SwitchBoard\");\r\n                setSwitchAreaAndCard($e, 0);\r\n            });\r\n            window.enableDraggable();\r\n        })\r\n    }\r\n\r\n    var oldUpdateDroppables = window.updateDroppables;\r\n    window.updateDroppables = function($card) {\r\n        oldUpdateDroppables($card);\r\n        if ($card.hasClass('canPlay')) {\r\n            if ($card.hasClass('monster')) {\r\n\r\n                var selectoredCard = $('.droppableMonster:not(:has(.monster))');\r\n\r\n                selectoredCard.on(\"dropout\", function( event, ui ) { // I hate how this reminded me of my childhood . . .\r\n                    var $card = ui.draggable;\r\n                    if (didAlreadyUpdateThisFrame) {return;}\r\n                    if (!isElementSwitchCard($card)) {return;}\r\n                    if (doYouHaveEndgame() && isCardElementAPiece($card)) {\r\n                        setSwitchAreaAndCard($card, 3);\r\n                    } else {\r\n                        setSwitchAreaAndCard($card, 0);\r\n                    }\r\n                    //console.log(\"DROPOUT\", event, ui);\r\n                });\r\n\r\n                selectoredCard.on( \"dropover\", function( event, ui ) {\r\n                    var $card = ui.draggable;\r\n                    if (!isElementSwitchCard($card)) {return;}\r\n                    var position = Number(event.target.getAttribute(\"x\"));\r\n                    if (isNaN(position)) {return;}\r\n                    if (doYouHaveEndgame() && isCardElementAPiece($card)) {\r\n                        setSwitchAreaAndCard($card, 3);\r\n                     } else {\r\n                        setSwitchAreaAndCard($card, (position < 2) ? 1 : 2);\r\n                    }\r\n                    didAlreadyUpdateThisFrame = true;\r\n                });\r\n\r\n                selectoredCard.on(\"drop\", function(event, ui) {\r\n                    var $card = ui.draggable;\r\n                    $(\"#yourSide\").removeClass(\"PrettyCards_SwitchHighlight_SwitchBoard\");\r\n                    setSwitchAreaAndCard($card, 0);\r\n                });\r\n            }\r\n            // So far, there are no Switch Spells. I'll worry about this later.\r\n        }\r\n    }\r\n\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"appendCard()\", function(data) {\r\n        var card = data.card;\r\n\t\tvar element = data.element;\r\n        var id = card.fixedId || card.id;\r\n        //console.log(\"ASSIGN FIXED ID\", card, id);\r\n        element.attr(\"fixedId\", id);\r\n    })\r\n\r\n    /*\r\n    PrettyCards_plugin.events.on(\"appendCard()\", function(data) {\r\n        var card = data.card;\r\n\t\tvar element = data.element;\r\n        if (!isElementSwitchCard(element)) {return;}\r\n        var id = card.fixedId | card.id;\r\n        var regularText = $.i18n(`card-${id}`);\r\n        var cyanKey = `card-${id}-cyan`;\r\n        var redKey = `card-${id}-red`;\r\n        var cyanText = $.i18n(cyanKey);\r\n        var redText = $.i18n(redKey);\r\n        if (cyanText == cyanKey) {\r\n            cyanText = regularText;\r\n        }\r\n        if (redText == redKey) {\r\n            redText = regularText;\r\n        }\r\n\r\n        element.find(\".cardDesc\").append(`<div class=\"PrettyCards_SwitchHighlight_CyanDesc\">${cyanText}</div><div class=\"PrettyCards_SwitchHighlight_CyanDesc\">${cyanText}</div>`);\r\n\r\n    })\r\n    */\r\n\r\n}\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n    _utility__WEBPACK_IMPORTED_MODULE_1__.utility.loadCSSFromGH(\"SwitchHighlight\");\r\n    if (underscript.onPage(\"Game\") && _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.settings.switch_highlight.value()) {\r\n        gameSetup();\r\n    }\r\n})\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/switch_highlight.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/theme_song_viewer.js":
/*!***********************************************************!*\
  !*** ./src/libraries/card_modifyers/theme_song_viewer.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_card_modifyers_custom_cards_dictionary_new_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/custom_cards_dictionary_new.js */ \"./src/libraries/card_modifyers/custom_cards_dictionary_new.js\");\n/* harmony import */ var _src_libraries_card_modifyers_card_theme_song_manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/card_theme_song_manager.js */ \"./src/libraries/card_modifyers/card_theme_song_manager.js\");\n\r\n// This library adds a button onto cards outside of games so you can listen to their theme songs.\r\n\r\n\r\n\r\n\r\n\r\n\r\n(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'theme_song_preview',\r\n\t'name': 'Card Theme Song Preview', // Name in settings page\r\n\t'note': \"Outside of games, if this is on, a button will appear on cards if they are hovered in the top-left corner of the card image. Pressing it will play that card's theme song (if it has one)!\",\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': false, // default value\r\n\t'category': \"card\"\r\n});\r\n\r\nvar cardExceptions = {\r\n\t358 : \"/sounds/load.wav\",\r\n\t351 : \"/sounds/gasterBlaster.wav\"\r\n}\r\n\r\nconst audio = new Audio();\r\n//console.log(\"Audio\", audio);\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.prettycards.playThemeSongPreviewEvent = function(SRC, e) {\r\n\t// console.log(\"Button clicked!\", e);\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"PrettyCards:pauseBGM\");\r\n\taudio.src = SRC;\r\n\taudio.play();\r\n\taudio.onended = audio.onerror = function() {\r\n\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"PrettyCards:resumeBGM\");\r\n\t}\r\n\te.stopPropagation();\r\n}\r\n\r\nfunction returnSimpleButtonHTML(SRC) {\r\n\treturn '<span class=\"glyphicon glyphicon-volume-up PrettyCards_CardThemeSongPlayer\" onclick=\"prettycards.playThemeSongPreviewEvent(\\'' + SRC + '\\', event)\"></span>';\r\n}\r\n\r\nfunction createSimpleButton(card) {\r\n\tvar collection = card.collection;\r\n\tif (typeof(collection) == \"number\") {\r\n\t\tcollection = _src_libraries_card_modifyers_custom_cards_dictionary_new_js__WEBPACK_IMPORTED_MODULE_1__.collections[collection];\r\n\t\tcard.collection = collection;\r\n\t}\r\n\r\n\tvar _SRC = \"\";\r\n\tif (card.isCustom) {\r\n\t\t_SRC = collection.cardSongPrefix + card.name.split(' ').join('_') + '.ogg';\r\n\t\t//console.log(card, card.id, $.i18n('card-name-' + card.id, 1), _SRC);\r\n\t} else {\r\n\t\tif (card.id in cardExceptions) {\r\n\t\t\t_SRC = cardExceptions[card.id];\r\n\t\t} else {\r\n\t\t\t_SRC = \"/musics/cards/\" + card.name.split(' ').join('_') + \".ogg\";\r\n\t\t}\r\n\t}\r\n\tconst SRC = _SRC;\r\n\tvar button = $(returnSimpleButtonHTML(SRC));\r\n\treturn button;\r\n}\r\n\r\nfunction createComplexButton(settings) {\r\n\tif (settings.replacements.length == 0) {\r\n\t\treturn \"\";\r\n\t}\r\n\tif (settings.replacements.length == 1) {\r\n\t\treturn returnSimpleButtonHTML(settings.replacements[0]);\r\n\t}\r\n\tvar options = \"\";\r\n\tsettings.replacements.forEach( (url, i) => {\r\n\t\toptions = `${options}<button class=\"btn btn-primary\" onclick=\"prettycards.playThemeSongPreviewEvent('${url}', event)\">${i+1}</button>`\r\n\t});\r\n\tvar button = $(`\r\n\t<span class=\"glyphicon glyphicon-volume-up PrettyCards_CardThemeSongPlayer\" onclick=\"event.stopPropagation();\">\r\n\t\t<span class=\"PrettyCards_TransparentText\">S</span>\r\n\t\t<span class=\"PrettyCards_CardThemeSongList\">\r\n\t\t\t${options}\r\n\t\t</span>\r\n\t</span>`);\r\n\treturn button;\r\n} \r\nfunction processCard(data) {\r\n\tvar html$ = data.element;\r\n\tvar card = data.card;\r\n\t//console.log(\"appendCard() event fired on \" + card.name);\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:themeSongsReady\", function() { // This makes sure these don't get appended before the page loads.\r\n\t\t//console.log(\"Theme Song Data Ready for \" + card.name);\r\n\t\tvar themeSongSettings = (0,_src_libraries_card_modifyers_card_theme_song_manager_js__WEBPACK_IMPORTED_MODULE_2__.getThemeSongSettingByCardId)(card.fixedId || card.id);\r\n\t\tvar doesCardHaveTheme = card.rarity === \"LEGENDARY\" || card.rarity === \"DETERMINATION\";\r\n\t\tif (card.id in cardExceptions) { // Load and Gaster Blaster respectively.\r\n\t\t\t//console.log(card, \"This is a Gaster Blaster or a Load!\");\r\n\t\t\tdoesCardHaveTheme = true;\r\n\t\t} else if (\"hasThemeSong\" in card) {\r\n\t\t\tdoesCardHaveTheme = card.hasThemeSong;\r\n\t\t} else if (themeSongSettings) {\r\n\t\t\tdoesCardHaveTheme = true;\r\n\t\t}\r\n\t\t\r\n\t\tif (doesCardHaveTheme) {\r\n\t\t\t//console.log(card.name + \" has theme songs!\");\r\n\t\t\tvar button;\r\n\t\t\tif (themeSongSettings) {\r\n\t\t\t\t//console.log(card.name + \" has complex buttons!\");\r\n\t\t\t\tbutton = createComplexButton(themeSongSettings);\r\n\t\t\t} else {\r\n\t\t\t\t//console.log(card.name + \" has a simple button!\");\r\n\t\t\t\tbutton = createSimpleButton(card);\r\n\t\t\t}\r\n\t\t\t//console.log(card.name + \"'s button: \" + button);\r\n\t\t\thtml$.append(button);\r\n\t\t}\r\n\t});\r\n} \r\n\r\n\r\nif (_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.theme_song_preview.value() && !underscript.onPage(\"Game\") && !underscript.onPage(\"Spectate\")) {\r\n\r\n\t//console.log(\"Theme Song Preview is turned on, and it's not the Game or Spectator page! Attempt 2!\");\r\n\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"appendCard()\", processCard);\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PC_appendCard\", processCard);\r\n\t\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/theme_song_viewer.js?");

/***/ }),

/***/ "./src/libraries/card_modifyers/za_filter.js":
/*!***************************************************!*\
  !*** ./src/libraries/card_modifyers/za_filter.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../underscript_checker */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\nconst icon = \"https://github.com/CMD-God/prettycards/raw/master/img/RarityIcons/ALL_RARITIES.png\";\r\nconst rarityInputList = [\"baseRarityInput\", \"commonRarityInput\", \"rareRarityInput\", \"epicRarityInput\", \"legendaryRarityInput\", \"determinationRarityInput\", \"tokenRarityInput\", \"baseGenInput:not(:disabled)\"];\r\n\r\n(0,_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'za_filter',\r\n\t'name': 'Enable \"Toggle All Rarities\" button', // Name in settings page\r\n\t'note': \"Also known as the \\\"Za Filter\\\".\",\r\n\t'type': 'boolean',\r\n\t'refresh': false, // true to add note \"Will require you to refresh the page\"\r\n\t'default': true, // default value\r\n});\r\n\r\nfunction allRarityUpdate(e) {\r\n    var checked = $(\"#everyRarityInput\").prop(\"checked\");\r\n    $('#'+rarityInputList.join(', #')).prop(\"checked\", checked); // Credit goes to Feildmaster for the optimized version.\r\n    window.applyFilters();\r\n    window.showPage(0);\r\n}\r\n\r\nconst pagesToWorkOn = [\"Crafting\", \"Decks\", \"Friendship\", \"CardSkins\"];\r\n\r\nif (pagesToWorkOn.includes(window.location.pathname.substring(1)) && _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.settings.za_filter.value()) {\r\n    var label = $('<label><input type=\"checkbox\" id=\"everyRarityInput\"> <img style=\"height: 24px;\" src=\"' + icon + '\" alt=\"Check all rarities\"></label>');\r\n    label.find(\"input\").change(allRarityUpdate);\r\n\t$(\"#deltaruneInput\").parent().parent().append(label);\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_modifyers/za_filter.js?");

/***/ }),

/***/ "./src/libraries/card_skin_selector.js":
/*!*********************************************!*\
  !*** ./src/libraries/card_skin_selector.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CardSkinSelector\": () => (/* binding */ CardSkinSelector),\n/* harmony export */   \"allCardSkins\": () => (/* binding */ allCardSkins),\n/* harmony export */   \"loadAllCardSkins\": () => (/* binding */ loadAllCardSkins)\n/* harmony export */ });\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_card_modifyers_hd_card_skins_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/hd_card_skins.js */ \"./src/libraries/card_modifyers/hd_card_skins.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nvar allCardSkins = [];\r\nvar ownedCardSkins = [];\r\nvar notOwnedCardSkins = [];\r\nvar defaultCardSkins = [];\r\nvar customCardSkins = [];\r\nvar aprilFools2022 = [];\r\n\r\nvar bonusBaseCards = [\"Heal Delivery\", \"Explosion\", \"Sacrifice\", \"Same Fate\", \"Onutrem\"];\r\n\r\nvar skinLists = [customCardSkins, defaultCardSkins, ownedCardSkins, notOwnedCardSkins, aprilFools2022];\r\nvar listNames = [\"pc-skinselect-header-custom\", \"pc-skinselect-header-default\", \"pc-skinselect-header-owned\", \"pc-skinselect-header-notowned\", [\"pc-skinselect-header-april\", 2022, 69]]\r\n\r\nfunction processHeaderTranslations() {\r\n\tlistNames.forEach((e, i) => {\r\n\t\tif (typeof(e) == \"string\") {\r\n\t\t\tlistNames[i] = window.$.i18n(e);\r\n\t\t} else {\r\n\t\t\tlistNames[i] = window.$.i18n(e[0], e[1], e[2]);\r\n\t\t}\r\n\t})\r\n} \r\n\r\n/*\r\n$.get(\"CardSkinsConfig?action=profile\", {}, function(data) {\r\n\t//console.log(data);\r\n\townedCardSkins = JSON.parse(data.cardSkins);\r\n\tProcessNotOwnedSkins();\r\n\t//console.log(\"OWNED_CARD_SKINS:\", ownedCardSkins);\r\n});\r\n*/\r\n\r\nfunction ProcessAprilFools2022Skins(data) {\r\n\tfor (var i=0; i < data.length; i++) {\r\n\t\tvar id = data[i];\r\n\t\tvar card = window.getCard(id);\r\n\t\taprilFools2022.push({\r\n\t\t\tactive: false,\r\n\t\t\tauthorName: \"???\",\r\n\t\t\tcardId: card.id,\r\n\t\t\tcardName: card.name,\r\n\t\t\tid: -69,\r\n\t\t\timage: `https://github.com/CMD-God/prettycards/raw/856f490c607fdd90d54e82143d0b696da6e27bde/img/Cards/April_Fools_2022/${card.image}.png`,\r\n\t\t\tname: window.$.i18n(\"pc-skinselect-skinname-april\", 2022, window.$.i18n(`card-name-${card.id}`)),\r\n\t\t\towned: true,\r\n\t\t\ttypeSkin: 0,\r\n\t\t\tucpCost: 69420,\r\n\t\t\tunavailable: false,\r\n\t\t\tisCustom: true\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction ProcessCustomCardSkins() {\r\n\tvar skin = window.localStorage[\"prettycards.custom_card_skin.\" + window.selfId + \".0\"];\r\n\tvar i = 0;\r\n\twhile (typeof(skin) === \"string\") {\r\n\t\t//console.log(\"SKIN BEING ADDED: \", skin);\r\n\t\tcustomCardSkins.push(JSON.parse(skin));\r\n\t\ti++;\r\n\t\tskin = window.localStorage[\"prettycards.custom_card_skin.\" + window.selfId + \".\" + i];\r\n\t}\r\n\tskinLists[0] = customCardSkins;\r\n\t//console.log(\"CUSTOM CARD SKINS: \", customCardSkins);\r\n}\r\n\r\nfunction ProcessCardSkinLists() {\r\n\tfor (var i=0; i < allCardSkins.length; i++) {\r\n\t\tvar skin = allCardSkins[i];\r\n\t\tif (skin.owned) {\r\n\t\t\townedCardSkins.push(skin);\r\n\t\t} else {\r\n\t\t\tnotOwnedCardSkins.push(skin);\r\n\t\t}\r\n\t}\r\n\t\r\n\tskinLists[2] = ownedCardSkins;\r\n\t//console.log(\"Not owned card skins: \", notOwnedCardSkins);\r\n}\r\n\r\n_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_2__.utility.loadCSSFromGH(\"CardSkinSelector\");\r\n\r\nfunction ProcessDefaultSkins() {\r\n\tfor (var i=0; i < allCards.length; i++) {\r\n\t\tvar card = allCards[i];\r\n\t\tdefaultCardSkins.push({\r\n\t\t\tactive: true,\r\n\t\t\tauthorName: \"\",\r\n\t\t\tcardId: card.id,\r\n\t\t\tcardName: card.name,\r\n\t\t\tid: -1,\r\n\t\t\timage: card.image,\r\n\t\t\tname: window.$.i18n(`card-name-${card.id}`),\r\n\t\t\towned: true,\r\n\t\t\ttypeSkin: 0,\r\n\t\t\tucpCost: 0,\r\n\t\t\tunavailable: false\r\n\t\t});\r\n\t}\r\n\tfor (var i=0; i < bonusBaseCards.length; i++) {\r\n\t\tvar name = bonusBaseCards[i];\r\n\t\tdefaultCardSkins.push({\r\n\t\t\tactive: true,\r\n\t\t\tauthorName: \"\",\r\n\t\t\tcardId: -1,\r\n\t\t\tcardName: name,\r\n\t\t\tid: -1,\r\n\t\t\timage: name.replaceAll(\" \", \"_\"),\r\n\t\t\tname: name,\r\n\t\t\towned: true,\r\n\t\t\ttypeSkin: 0,\r\n\t\t\tucpCost: 0,\r\n\t\t\tunavailable: false\r\n\t\t});\r\n\t}\r\n\t//console.log(defaultCardSkins);\r\n}\r\n\r\nvar alreadyLoading = false;\r\nfunction loadAllCardSkins() { // This function is called whenever a feature requests this, so it doesn't load on pages it doesn't need to.\r\n\tif (alreadyLoading) {return;}\r\n\talreadyLoading = true;\r\n\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"PrettyCards:onPageLoad PrettyCards:TranslationExtReady\", function () {\r\n\t\t$.get(\"/CardSkinsConfig?action=shop\", {}, function(data) {\r\n\t\t\t//console.log(data);\r\n\t\t\tallCardSkins = JSON.parse(data.cardSkins);\r\n\t\t\tProcessCardSkinLists();\r\n\t\t\t//console.log(allCardSkins);\r\n\t\t});\r\n\t\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"Chat:Connected\", function() {\r\n\t\t\tProcessCustomCardSkins();\r\n\t\t});\r\n\t\t$.getJSON(\"https://raw.githubusercontent.com/CMD-God/prettycards/50f69f27a249d843792aedc5139d60fc9b178b23/json/aprilFools2022.json\", {}, function(data) {\r\n\t\t\tProcessAprilFools2022Skins(data);\r\n\t\t})\r\n\r\n\t\tprocessHeaderTranslations();\r\n\t});\r\n\r\n\t_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"allCardsReady\", ProcessDefaultSkins);\r\n}\r\n\r\nclass CardSkinSelector {\r\n\t\r\n\tconstructor() {\r\n\t\tthis.callback = function() {};\r\n\t\t\r\n\t\tthis.container = null;\r\n\t\tthis.skinElements = [];\r\n\t\tthis.skins = [];\r\n\t\tthis.searchBar = null;\r\n\t}\r\n\t\r\n\tGetSkinsToDisplay() {\r\n\t\tvar skinsToDisplay = [];\r\n\t\tfor (var i=0; i < skinLists.length; i++) {\r\n\t\t\tskinsToDisplay = skinsToDisplay.concat(skinLists[i]);\r\n\t\t}\r\n\t\treturn skinsToDisplay;\r\n\t}\r\n\t\r\n\tGetHTML() {\r\n\t\tthis.searchBar = document.createElement(\"INPUT\");\r\n\t\tthis.searchBar.className = \"form-control\";\r\n\t\tthis.searchBar.setAttribute(\"type\", \"text\");\r\n\t\tthis.searchBar.placeholder = window.$.i18n(\"pc-skinselect-search\");\r\n\t\t//console.log(this);\r\n\t\t$(this.searchBar).keyup(this.ApplyFilters.bind(this));\r\n\t\t\r\n\t\tvar cont = document.createElement(\"DIV\");\r\n\t\t\r\n\t\tcont.appendChild(this.searchBar);\r\n\t\t\r\n\t\tvar skinsCont = document.createElement(\"DIV\");\r\n\t\tskinsCont.className = \"PrettyCards_SkinsContainer\";\r\n\t\tcont.appendChild(skinsCont);\r\n\t\t\r\n\t\tfor (var i=0; i < skinLists.length; i++) {\r\n\t\t\tvar list = skinLists[i];\r\n\t\t\t//console.log(\"LIST \", i, list);\r\n\t\t\t\r\n\t\t\tvar category_header = document.createElement(\"DIV\");\r\n\t\t\tcategory_header.className = \"PrettyCards_SkinHeader\";\r\n\t\t\tcategory_header.innerHTML = listNames[i];\r\n\t\t\t\r\n\t\t\tconst category_container = document.createElement(\"DIV\");\r\n\t\t\tfor (var j=0; j < list.length; j++) {\r\n\t\t\t\tconst skin = list[j];\r\n\t\t\t\tvar image = (0,_src_libraries_card_modifyers_hd_card_skins_js__WEBPACK_IMPORTED_MODULE_3__.returnHDImageIfThereIs)(skin.image, true);\r\n\t\t\t\tif (skin.isCustom) {\r\n\t\t\t\t\timage = skin.image;\r\n\t\t\t\t}\r\n\t\t\t\tvar div = document.createElement(\"DIV\");\r\n\t\t\t\tdiv.className = \"PrettyCards_SkinDiv\";\r\n\t\t\t\tdiv.style.background = \"url(\" + image + \") no-repeat transparent\";\r\n\t\t\t\tdiv.style.backgroundSize = \"cover\";\r\n\t\t\t\t\r\n\t\t\t\tdiv.innerHTML = '<div class=\"PrettyCards_SkinText\">' + skin.name + (skin.authorName !== \"\" ? '<br><span class=\"Artist\">' + skin.authorName + '</span>' : '') + '</div>';\r\n\t\t\t\tif (skin.typeSkin > 0) {\r\n\t\t\t\t\tdiv.innerHTML += '<div class=\"PrettyCards_FullSkinPreview\"><img src=\"' + image + '\"></div>';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdiv.onclick = function() {\r\n\t\t\t\t\tthis.callback(skin);\r\n\t\t\t\t}.bind(this);\r\n\t\t\t\t\r\n\t\t\t\tthis.skinElements.push(div);\r\n\t\t\t\tcategory_container.appendChild(div);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcategory_header.onclick = function() {\r\n\t\t\t\t$(category_container).toggle();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tskinsCont.appendChild(category_header);\r\n\t\t\tskinsCont.appendChild(category_container);\r\n\t\t}\r\n\t\t\r\n\t\tthis.container = cont;\r\n\t\treturn cont;\r\n\t}\r\n\t\r\n\tOpenDialogue() {\r\n\t\tthis.container = null;\r\n\t\tthis.skinElements = [];\r\n\t\tthis.skins = [];\r\n\t\tthis.searchBar = null;\r\n\t\t\r\n\t\tthis.skins = this.GetSkinsToDisplay();\r\n\t\tvar html = this.GetHTML();\r\n\t\tthis.dial = BootstrapDialog.show({\r\n\t\t\ttitle: window.$.i18n(\"pc-skinselect-title\"),\r\n\t\t\tsize: BootstrapDialog.SIZE_WIDE,\r\n\t\t\tclosable: true,\r\n            closeByBackdrop: false,\r\n\t\t\tmessage: html,\r\n\t\t\tbuttons: [{\r\n\t\t\t\t\tlabel: window.$.i18n(\"pc-navigate-nevermind\"),\r\n\t\t\t\t\tcssClass: 'btn-primary us-normal',\r\n\t\t\t\t\taction(dialog) {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t}\r\n\t\r\n\tApplyFilters() {\r\n\t\t//console.log(\"Filters!\");\r\n\t\tfor (var i=0; i < this.skinElements.length; i++) {\r\n\t\t\t//console.log(this.skinElements)\r\n\t\t\tthis.skinElements[i].style.display = this.isRemoved(this.skins[i]) ? \"none\" : \"\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tisRemoved(skin) {\r\n\t\tvar searchValue = $(this.searchBar).val().toLowerCase();\r\n\t\t//console.log(\"Search value:\", searchValue);\r\n\t\t\r\n\t\t if (searchValue.length > 0) {\r\n\t\t\tvar findableString = '';\r\n\t\t\tfindableString += $.i18n('card-name-' + skin.cardId, 1);\r\n\t\t\tfindableString += skin.name;\r\n\t\t\tfindableString += skin.authorName;\r\n\t\t\tif (skin.typeSkin == 0) {\r\n\t\t\t\tfindableString += \"normal\";\r\n\t\t\t} else if (skin.typeSkin == 1) {\r\n\t\t\t\tfindableString += \"full\";\r\n\t\t\t} else if (skin.typeSkin == 2) {\r\n\t\t\t\tfindableString += \"breaking\";\r\n\t\t\t}\r\n\t\t\t//findableString += skin.ucpCost;\r\n\t\t\t//console.log(findableString, skin);\r\n\t\t\t\r\n\t\t\treturn !findableString.toLowerCase().includes(searchValue);\r\n\t\t }\r\n\t\t return false;\r\n\t}\r\n\t\r\n}\r\n\r\nwindow.CardSkinSelector = CardSkinSelector;\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/card_skin_selector.js?");

/***/ }),

/***/ "./src/libraries/chat/user_info.js":
/*!*****************************************!*\
  !*** ./src/libraries/chat/user_info.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/rarity_icons.js */ \"./src/libraries/rarity_icons.js\");\n/* harmony import */ var _src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/page_getters.js */ \"./src/libraries/page_getters.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_private_games_private_game_screen_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../src/libraries/private_games/private_game_screen.js */ \"./src/libraries/private_games/private_game_screen.js\");\n/* harmony import */ var _translation_translation_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../translation/translation_manager */ \"./src/libraries/translation/translation_manager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwindow.PrettyCards_plugin = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin;\r\n\r\nvar $ = window.$;\r\n\r\n/*\r\n\tRemaining Checklist:\r\n\t- Maybe get some more data to display. (IDEA: Challonge Tournaments)\r\n\t- Remember to update the CSS files at the end!\r\n\t\r\n\tDone:\r\n\t- Group wrapping fixed!\r\n\t- Shiny avatars fixed!\r\n\t- For some reason it does not work on private messages. Fixed!\r\n\t- Underscript: Right-Click, then Profile shows the default profile screen. Fixed by overriding getInfo.\r\n\t- Add Friend/Unfriend, Private Message, Spectate.\r\n\t- Added Admin controls.\r\n\t- Add Ignore/Unignore and Mention actions.\r\n\t- Show friendship leaderboard data!\r\n*/\r\n\r\nvar leaderboard = [];\r\nvar $;\r\nvar oldGetInfo;\r\n\r\n(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n    'key': 'user_info',\r\n    'name': 'Better User Info', // Name in settings page\r\n    'type': 'boolean',\r\n    'refresh': false, // true to add note \"Will require you to refresh the page\"\r\n    'default': true, // default value\r\n});\r\n\r\nfunction getRankedLeaderboard() {\r\n\twindow.$.get(\"Leaderboard?action=ranked\", function(e) {\r\n\t\t//console.log(JSON.parse(e.leaderboard));\r\n\t\tleaderboard = JSON.parse(e.leaderboard);\r\n\t});\r\n}\r\n\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_4__.ExecuteWhen)(\"PrettyCards:onPageLoad\", getRankedLeaderboard);\r\n\r\nfunction onPageLoaded() {\r\n\toldGetInfo = window.getInfo;\r\n\twindow.getInfo = sendUserInfoEvent;\r\n\t$ = window.$;\r\n\t\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.loadCSSFromGH(\"UserInfo\");\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.loadCSSFromGH(\"CustomFriendship\");\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.loadCSSFromGH(\"FormExtensions\");\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.loadCSSFromLink(\"/css/meters.css\");\r\n\t//utility.loadCSSFromLink(\"/css/cards.css\");\r\n\t//utility.loadCSSFromLink(\"/css/frames.css\");\r\n}\r\n\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_4__.ExecuteWhen)(\"PrettyCards:onPageLoad\", onPageLoaded);\r\n\r\nfunction sendUserInfoEvent(ele) {\r\n\t\r\n\tvar infos = $(ele).data('infos');\r\n    var user = infos.user;\r\n\t//console.log(infos);\r\n\t\r\n\tconst preEvenet = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"preChat:getInfo\", {infos : infos, user : user}, true);\r\n\tif (!preEvenet.canceled) {\r\n\t\toldGetInfo(ele);\r\n\t\tvar popup = window.BootstrapDialog.dialogs[Object.keys(BootstrapDialog.dialogs)[0]];\r\n\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"Chat:getInfo\", {popup : popup, popupElement : popup.$modalDialog[0], infos : infos, user : user});\r\n\t}\r\n}\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"Chat:getInfo\", function(data) {\r\n\tif (!_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.user_info.value()) {return;}\r\n\t//console.log(\"Chat:getInfo \", data);\r\n\tvar user = data.user;\r\n\tvar header = data.popupElement.querySelector(\".modal-header\");\r\n\tvar name_color = window.localStorage[\"prettycards.profile_skin_text_color.\" + window.selfId + \".\" + user.profileSkin.id] || \"#FFFFFF\"\r\n\tdata.popup.$modalDialog[0].className = \"modal-dialog modal-lg\";\r\n\t\r\n\theader.className += \" PrettyCards_UserHeader\";\r\n\theader.style[\"background-image\"] = \"url(images/profiles/\" + user.profileSkin.image + \".png)\";\r\n\t\r\n\tvar title = header.querySelector(\".bootstrap-dialog-title\");\r\n\ttitle.className += \" PrettyCards_UserTitle\";\r\n\ttitle.style.color = name_color;\r\n\t\r\n\tvar footer = data.popupElement.querySelector(\".bootstrap-dialog-footer-buttons\");\r\n\tfooter.style = \"display: flex; justify-content: flex-end; align-items: center;\";\r\n\t\r\n\tvar color_picker = document.createElement(\"INPUT\");\r\n\tcolor_picker.setAttribute(\"type\", \"color\");\r\n\tcolor_picker.value = name_color;\r\n\tcolor_picker.style = \"height: 32px; margin: 0px 4px;\";\r\n\tcolor_picker.oninput = function(e) {\r\n\t\t//console.log(user);\r\n\t\ttitle.style.color = color_picker.value;\r\n\t\twindow.localStorage[\"prettycards.profile_skin_text_color.\" + window.selfId + \".\" + user.profileSkin.id] = color_picker.value;\r\n\t}\r\n\tfooter.prepend(color_picker);\r\n\t\r\n\tvar pfp = data.popupElement.querySelector(\".avatar\"); // The style pixels all assume the PFP size is the default 64x64\r\n\tpfp.className += \" PrettyCards_UserProfilePic\";\r\n\theader.appendChild(pfp);\r\n\t\r\n\tif (user.shinyAvatar) {\r\n\t\theader.appendChild(data.popupElement.querySelector(\".rainbowAvatar\"));\r\n\t}\r\n\t\r\n\t// Body setup\r\n\tvar message = data.popupElement.querySelector(\".bootstrap-dialog-message\");\r\n\tmessage.innerHTML = \"\";\r\n\t\r\n\tvar row = document.createElement(\"DIV\");\r\n\trow.className = \"row\";\r\n\t\r\n\tvar column1 = document.createElement(\"DIV\");\r\n\tcolumn1.className = \"column PrettyCards_UserColumn\";\r\n\trow.appendChild(column1);\r\n\t\r\n\tvar column2 = document.createElement(\"DIV\");\r\n\tcolumn2.className = \"column PrettyCards_UserColumn\";\r\n\trow.appendChild(column2);\r\n\t\r\n\tmessage.appendChild(row);\r\n\t/////////////\r\n\t\r\n\tvar demoniocEasterEgg = Math.random() <= 0.022;\r\n\t\r\n\t// Column 1\r\n\tvar groups = document.createElement(\"DIV\");\r\n\tgroups.className = \"PrettyCards_UserGroups\";\r\n\tgroups.innerHTML = \"Groups: \";\r\n\tfor (var i=0; i < user.groups.length; i++) {\r\n\t\tvar group = user.groups[i];\r\n\t\tvar cont = document.createElement(\"SPAN\");\r\n\t\tcont.className = \"PrettyCards_UserGroupContainer\";\r\n\t\tgroups.appendChild(cont);\r\n\t\t\r\n\t\tif (group.icon) {\r\n\t\t\tvar icon = document.createElement(\"IMG\");\r\n\t\t\ticon.src = \"images/\" + group.icon + \".png\";\r\n\t\t\ticon.onerror = function (e) {e.target.style.display = \"none\";};\r\n\t\t\ticon.title = group.name;\r\n\t\t\tcont.appendChild(icon);\r\n\t\t}\r\n\t\t\r\n\t\tvar text = document.createElement(\"SPAN\");\r\n\t\ttext.innerHTML = _translation_translation_manager__WEBPACK_IMPORTED_MODULE_6__.translationManager.getWithFallback(\"group-\" + group.name.replace(\" \", \"_\").toLowerCase(), group.name);\r\n\t\ttext.className = group.name.replace(\" \", \"_\");\r\n\t\ttext.style.paddingRight = \"15px\";\r\n\t\tcont.appendChild(text);\r\n\t}\r\n\tcolumn1.appendChild(groups);\r\n\t\r\n\tvar lv = document.createElement(\"DIV\");\r\n\tlv.innerHTML = window.$.i18n(\"stat-lv\") + \" \" + user.level;\r\n\tlv.className = \"PrettyCards_UserLV\";\r\n\tcolumn1.appendChild(lv);\r\n\t\r\n\tvar friendButton = document.createElement(\"DIV\");\r\n\tcolumn1.appendChild(friendButton);\r\n\tif (!_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyself(user.id) && !_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyFriend(user.id)) {\r\n\t\tfriendButtonFriend();\r\n\t} else if (_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyself(user.id)) {\r\n\t\tfriendButtonYou();\r\n\t} else {\r\n\t\tfriendButtonUnfriend();\r\n\t}\r\n\t\r\n\tfunction friendButtonYou() {\r\n\t\tif (!demoniocEasterEgg) {\r\n\t\t\tfriendButton.innerHTML = '<span class=\"glyphicon glyphicon-user gray\"></span> ' + window.$.i18n(\"pc-chat-friend-you\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfriendButton.innerHTML = '<span style=\"color:red\"><span class=\"glyphicon glyphicon-user\"></span> ' + _translation_translation_manager__WEBPACK_IMPORTED_MODULE_6__.translationManager.getRandomFromValueList(\"pc-chat-friend-mystery\") + \"</span>\";\r\n\t}\r\n\t\r\n\tfunction friendButtonFriend() {\r\n\t\tfriendButton.innerHTML = '<span class=\"glyphicon glyphicon-user green\"></span> ' + window.$.i18n(\"pc-chat-friend-add\");\r\n\t\tfriendButton.style.cursor = \"pointer\";\r\n\t\tfriendButton.onclick = function() {\r\n\t\t\t$.post(\"/Friends\", {username: user.username, addFriend: \"Add friend\"}, friendButtonUnfriend);\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction friendButtonUnfriend() {\r\n\t\tfriendButton.innerHTML = '<span class=\"glyphicon glyphicon-user red\"></span> ' + window.$.i18n(\"pc-chat-friend-remove\");\r\n\t\tfriendButton.style.cursor = \"pointer\";\r\n\t\tfriendButton.onclick = unfriendConfirmation;\r\n\t}\r\n\t\r\n\tfunction unfriendConfirmation() {\r\n\t\tBootstrapDialog.show({\r\n\t\t\ttitle: window.$.i18n(\"pc-chat-unfriend-confirm-title\", user.username),\r\n\t\t\tmessage: window.$.i18n(\"pc-chat-unfriend-confirm\", user.username),\r\n\t\t\tbuttons: [{\r\n\t\t\t\t\tlabel: window.$.i18n(\"pc-navigate-no\"),\r\n\t\t\t\t\tcssClass: 'btn-primary us-normal',\r\n\t\t\t\t\taction(dialog) {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, {\r\n\t\t\t\t\tlabel: window.$.i18n(\"pc-navigate-yes\"), \r\n\t\t\t\t\tcssClass: 'btn-danger us-normal',\r\n\t\t\t\t\taction(dialog) {\r\n\t\t\t\t\t\t$.get(\"/Friends?delete=\" + user.id, {}, friendButtonFriend());\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t}\r\n\t\r\n\tvar ignoreContainer = document.createElement(\"DIV\");\r\n\tcolumn1.appendChild(ignoreContainer);\r\n\t\r\n\tfunction UpdateIgnoreText() {\r\n\t\tignoreContainer.innerHTML = '<span class=\"glyphicon glyphicon-volume-off red\"></span> ' + (underscript.user.isIgnored(user) ? window.$.i18n(\"pc-chat-ignore-remove\") : window.$.i18n(\"pc-chat-ignore-add\"));\r\n\t}\r\n\t\r\n\tif (!_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyself(user.id)) {\r\n\t\tUpdateIgnoreText();\r\n\t\tignoreContainer.style.cursor = \"pointer\";\r\n\t\tignoreContainer.onclick = function() {\r\n\t\t\t//console.log(\"IGNORING USER\", user, underscript.user.isIgnored(user));\r\n\t\t\tif (underscript.user.isIgnored(user)) {\r\n\t\t\t\tunderscript.user.unIgnore(user);\r\n\t\t\t} else {\r\n\t\t\t\tunderscript.user.ignore(user);\r\n\t\t\t}\r\n\t\t\tUpdateIgnoreText();\r\n\t\t}\r\n\t} else {\r\n\t\tif (!demoniocEasterEgg) {\r\n\t\t\tignoreContainer.innerHTML = '<span class=\"glyphicon glyphicon-volume-off gray\"></span> ' + window.$.i18n(\"pc-chat-ignore-self\");\r\n\t\t} else {\r\n\t\t\tvar ignoreButtonMessages = [\r\n\t\t\t\t\"Believe me, I tried doing this a lot . . .\",\r\n\t\t\t\t\"You don't even like yourself, huh?\",\r\n\t\t\t\t\"You will always find a way to harrass yourself anyway.\"\r\n\t\t\t];\r\n\t\t\tignoreContainer.innerHTML = '<span style=\"color:red\"><span class=\"glyphicon glyphicon-volume-off\"></span> ' + _translation_translation_manager__WEBPACK_IMPORTED_MODULE_6__.translationManager.getRandomFromValueList(\"pc-chat-ignore-mystery\") + \"</span>\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tvar privateMessageContainer = document.createElement(\"DIV\");\r\n\tcolumn1.appendChild(privateMessageContainer);\r\n\tif (!_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyself(user.id) && (_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsSelfMod() || _src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyFriend(user.id))) {\r\n\t\tprivateMessageContainer.innerHTML = '<span class=\"glyphicon glyphicon-envelope yellow\"></span> ' + window.$.i18n(\"pc-chat-pm-allowed\");\r\n\t\tprivateMessageContainer.style.cursor = \"pointer\";\r\n\t\tprivateMessageContainer.onclick = function() {openPrivateRoom(user.id, user.username);}\r\n\t} else if (_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyself(user.id)) {\r\n\t\tif (!demoniocEasterEgg) {\r\n\t\t\tprivateMessageContainer.innerHTML = '<span class=\"glyphicon glyphicon-envelope gray\"></span> ' + window.$.i18n(\"pc-chat-pm-self\");\r\n\t\t} else {\r\n\t\t\tprivateMessageContainer.innerHTML = '<span style=\"color:red\"><span class=\"glyphicon glyphicon-envelope\"></span> ' + _translation_translation_manager__WEBPACK_IMPORTED_MODULE_6__.translationManager.getRandomFromValueList(\"pc-chat-pm-mystery\") + \"</span>\";\r\n\t\t}\r\n\t} else {\r\n\t\tprivateMessageContainer.innerHTML = '<span class=\"glyphicon glyphicon-envelope gray\"></span> ' + window.$.i18n(\"pc-chat-pm-denied\");\r\n\t}\r\n\t\r\n\tconst spectateContainer = document.createElement(\"DIV\");\r\n\tcolumn1.appendChild(spectateContainer);\r\n\tif (!_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyself(user.id) && user.gameId > -1) {\r\n\t\t_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.GetActiveMatchForId(user.gameId, function (game) {\r\n\t\t\tif (game.player2.id === user.id) {\r\n\t\t\t\tvar p1 = game.player1;\r\n\t\t\t\tgame.player1 = game.player2;\r\n\t\t\t\tgame.player2 = p1;\r\n\t\t\t}\r\n\t\t\tspectateContainer.innerHTML = `<span class=\"glyphicon glyphicon-eye-open green\"></span> ${window.$.i18n(\"pc-chat-spectate-match\")}<br><a href=\"${game.player1.spectateLink}\"><img src=\"images/souls/${game.player1.soul}.png\"></img><span class=\"${game.player1.soul}\"> ${game.player1.name}</span></a> ${window.$.i18n(\"pc-chat-spectate-separator\")} \r\n<a href=\"${game.player2.spectateLink}\"><img src=\"images/souls/${game.player2.soul}.png\"></img><span class=\"${game.player2.soul}\"> ${game.player2.name}</span></a>`;\r\n\t\t});\r\n\t} else if (_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyself(user.id) && user.gameId > -1) {\t\r\n\t\tif (!demoniocEasterEgg) {\r\n\t\t\tspectateContainer.innerHTML = '<span class=\"glyphicon glyphicon-eye-open gray\"></span> ' + window.$.i18n(\"pc-chat-spectate-self\");\r\n\t\t} else {\r\n\t\t\tvar spectateButtonMessages = [\r\n\t\t\t\t\"You shouldn't spectate yourself.\",\r\n\t\t\t\t\"You should pay attention to the game instead of looking at yourself.\",\r\n\t\t\t\t\"Don't just sit by looking at yourself! Play the game!\"\r\n\t\t\t];\r\n\t\t\tspectateContainer.innerHTML = '<span style=\"color:red\"><span class=\"glyphicon glyphicon-eye-open\"></span> ' + _translation_translation_manager__WEBPACK_IMPORTED_MODULE_6__.translationManager.getRandomFromValueList(\"pc-chat-spectate-mystery-match\") + \"</span>\";\r\n\t\t}\r\n\t} else if (_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyself(user.id)) {\r\n\t\tif (!demoniocEasterEgg) {\r\n\t\t\tspectateContainer.innerHTML = '<span class=\"glyphicon glyphicon-eye-open gray\"></span> ' + window.$.i18n(\"pc-chat-spectate-self\");\r\n\t\t} else {\r\n\t\t\tvar spectateButtonMessages = [\r\n\t\t\t\t\"You shouldn't spectate yourself, anyway.\",\r\n\t\t\t\t\"Spectate others, not yourself.\"\r\n\t\t\t];\r\n\t\t\tspectateContainer.innerHTML = '<span style=\"color:red\"><span class=\"glyphicon glyphicon-eye-open\"></span> ' + _translation_translation_manager__WEBPACK_IMPORTED_MODULE_6__.translationManager.getRandomFromValueList(\"pc-chat-spectate-mystery-idle\") + \"</span>\";\r\n\t\t}\r\n\t} else {\r\n\t\tspectateContainer.innerHTML = '<span class=\"glyphicon glyphicon-eye-open gray\"></span> ' + window.$.i18n(\"pc-chat-spectate-idle\");\r\n\t}\r\n\t\r\n\tif (!_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyself(user.id) && user.gameId <= -1) {\r\n\t\tvar challengeContainer = document.createElement(\"DIV\");\r\n\t\tchallengeContainer.innerHTML = '<span class=\"glyphicon glyphicon-flash red\"></span> ' + window.$.i18n(\"pc-chat-challenge-create\");\r\n\t\tchallengeContainer.style.cursor = \"pointer\";\r\n\t\tchallengeContainer.onclick = function() {\r\n\t\t\t(0,_src_libraries_private_games_private_game_screen_js__WEBPACK_IMPORTED_MODULE_5__.ChallengePlayerScreen)(user, data.infos);\r\n\t\t};\r\n\t\tcolumn1.appendChild(challengeContainer);\r\n\t}\r\n\t\r\n\tvar modContainer = document.createElement(\"DIV\");\r\n\tif (_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsSelfMod() && !_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__.pagegetters.IsMyself(user.id)) {\r\n\t\tvar times = {\r\n\t\t\t1 : '1 ' + window.$.i18n(\"pc-smalltime-sec\", 1),\r\n\t\t\t30 : '30 ' + window.$.i18n(\"pc-smalltime-sec\", 2),\r\n\t\t\t60 : '1 ' + window.$.i18n(\"pc-smalltime-min\", 1),\r\n\t\t\t600 : '10 ' + window.$.i18n(\"pc-smalltime-min\", 2),\r\n\t\t\t3600 : '1 ' + window.$.i18n(\"pc-smalltime-hour\", 1),\r\n\t\t\t21600 : '6 ' + window.$.i18n(\"pc-smalltime-hour\", 2),\r\n\t\t\t43200 : '12 ' + window.$.i18n(\"pc-smalltime-hour\", 2),\r\n\t\t\t43200 : '1 day' + window.$.i18n(\"pc-smalltime-day\", 1)\r\n\t\t}\r\n\t\tmodContainer.innerHTML = '<span class=\"glyphicon glyphicon-volume-off gray\"></span> ' + window.$.i18n('chat-time-out-user') + ' ';\r\n\t\t\r\n\t\tvar input = document.createElement(\"INPUT\");\r\n\t\tinput.setAttribute(\"type\", \"text\");\r\n\t\tinput.id = \"PrettyCards_Timeout\";\r\n\t\tinput.style = \"display:inline; width: 110px; margin-right: 15px;\";\r\n\t\tinput.setAttribute( \"list\", \"PrettyCards_TimeoutList\");\r\n\t\t\r\n\t\tinput.onchange = function() {\r\n\t\t\tfor (var sec in times) {\r\n\t\t\t\tif (times[sec] == this.value) {\r\n\t\t\t\t\tthis.value = sec;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar dataList = document.createElement(\"DATALIST\");\r\n\t\tdataList.id = \"PrettyCards_TimeoutList\";\r\n\t\tfor (var sec in times) {\r\n\t\t\tdataList.innerHTML += '<option value=\"' + times[sec] + '\"></option>';\r\n\t\t}\r\n\t\t\r\n\t\tvar button = document.createElement(\"BUTTON\");\r\n\t\tbutton.className = \"btn btn-primary\";\r\n\t\tbutton.innerHTML = window.$.i18n(\"pc-chat-mod-timeout\");\r\n\t\tbutton.onclick = function() {\r\n\t\t\tvar val = $('#PrettyCards_Timeout').val();\r\n\t\t\tfor (var sec in times) {\r\n\t\t\t\tif (times[sec] == val) {\r\n\t\t\t\t\tval = sec;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//console.log(\"timeout\", String(user.id), val);\r\n\t\t\twindow.timeout(String(user.id), val);\r\n\t\t}\r\n\t\tmodContainer.appendChild(input);\r\n\t\tmodContainer.appendChild(button);\r\n\t\tmodContainer.appendChild(dataList);\r\n\t}\r\n\tcolumn1.appendChild(modContainer);\r\n\t/////////////\r\n\t\r\n\t// Column 2\r\n\tcolumn2.innerHTML += window.$.i18n('{{DIVISION:' + user.division + '}}');\r\n\tvar progress = '<span style=\"font-size: 20px;\" class=\"rainbowText\">' + user.eloRanked + '</span>';\r\n    if (user.division !== \"LEGEND\") {\r\n        progress = '  <progress max=\"25\" value=\"' + (user.eloRanked % 25) + '\" class=\"' + getRank(user.division) + 'Bar\" style=\"width: 150px;\"></progress> <span>(' + user.eloRanked + ')</span>';\r\n    }\r\n\tcolumn2.innerHTML += progress;\r\n\t\r\n\tvar rankNr = getRankedPosition(user);\r\n\tvar rank = \"\";\r\n\tif (rankNr > -1) {\r\n\t\trank = \"<div>\" + window.$.i18n(\"pc-chat-ranked-rank\") + \": \" + getRankedPositionHTML(rankNr) + \"</div>\";\r\n\t}\r\n\t\r\n\t//console.log(\"USER\", user);\r\n\tvar wins = \"<div>\" + window.$.i18n(\"pc-chat-ranked-wins\") + \": \" + user.winsRanked + \"</div>\";\r\n\tvar losses = \"<div>\" + window.$.i18n(\"pc-chat-ranked-losses\") + \": \" + user.lossesRanked + \"</div>\";\r\n\tvar winrate = \"<div>\" + window.$.i18n(\"pc-chat-ranked-winrate\") + \": \" + (Math.floor((user.winsRanked / (user.winsRanked + user.lossesRanked))*10000) / 100) + \"%</div>\";\r\n\tvar winstreak = \"<div>\" + window.$.i18n(\"pc-chat-ranked-winstreak\") + \": \" + user.winStreak + \"</div>\";\r\n\tcolumn2.innerHTML += rank + wins + losses + winrate + winstreak;\r\n\t/////////////\r\n\r\n\t// Another set of rows\r\n\tvar row2 = document.createElement(\"DIV\");\r\n\trow2.className = \"row\";\r\n\t\r\n\tvar column3 = document.createElement(\"DIV\");\r\n\tcolumn3.className = \"double_column PrettyCards_UserColumn\";\r\n\trow2.appendChild(column3);\r\n\t\r\n\t/*\r\n\tvar column4 = document.createElement(\"DIV\");\r\n\tcolumn4.className = \"column PrettyCards_UserColumn\";\r\n\trow2.appendChild(column4);\r\n\t*/\r\n\t\r\n\tmessage.appendChild(row2);\r\n\t//////////////////////\r\n\r\n\t// Friendship Stuff\r\n\tvar friendshipContainer = document.createElement(\"DIV\");\r\n\tfriendshipContainer.className = \"PrettyCards_ChatFriendshipContainer\";\r\n\tfriendshipContainer.innerHTML = `<h2 class='gray'>${window.$.i18n(\"pc-chat-friendship-fetching\")}</h2>`;\r\n\r\n\tvar titleCont = document.createElement(\"DIV\");\r\n\ttitleCont.id = \"PrettyCards_UserInfo_FriendshipTitleContainer\";\r\n\ttitleCont.innerHTML = `<h2>${window.$.i18n(\"pc-chat-friendship-title\")}</h2>`;\r\n\r\n\tcolumn3.appendChild(titleCont);\r\n\tcolumn3.appendChild(friendshipContainer);\r\n\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.getFriendshipInfo(user.id, function(data) {\r\n\t\tfriendshipContainer.innerHTML = \"\";\r\n\t\t/*\r\n\t\tvar topXpCard = data.scores[0];\r\n\t\tvar topRankCard = data.scores[0];\r\n\t\tfor (var i=1; i < data.scores.length; i++) {\r\n\t\t\tvar score = data.scores[i];\r\n\t\t\tif (topXpCard.xp < score.xp || (topXpCard.xp == score.xp && topXpCard.rank < score.rank)) { // Find the highest XP, then worst Rank card.\r\n\t\t\t\ttopXpCard = score;\r\n\t\t\t}\r\n\t\t\tif (topRankCard.rank > score.rank || (topRankCard.rank == score.rank && topRankCard.xp > score.xp)) { // Find the best Rank, then the lowest XP card.\r\n\t\t\t\ttopRankCard = score;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (topRankCard.cardId == topXpCard.cardId) {\r\n\t\t\tappendFriendshipCard(topRankCard, $(friendshipContainer), 3);\r\n\t\t} else {\r\n\t\t\tappendFriendshipCard(topXpCard, $(friendshipContainer), 1);\r\n\t\t\tappendFriendshipCard(topRankCard, $(friendshipContainer), 2);\r\n\t\t}\r\n\t\t*/\r\n\r\n\t\t//var $swapSortBtn = $(`<button class=\"btn btn-primary\" id=\"PrettyCards_UserInfo_SwapSortBtn\"></button>`);\r\n\t\tvar $swapSortBtn = $(`\r\n\t\t<div style=\"display:flex;\" id=\"PrettyCards_UserInfo_SwapSortArea\">\r\n\t\t\t<label class=\"form-check-label\" for=\"PrettyCards_UserInfo_SwapSortBtn\">${window.$.i18n(\"pc-chat-friendship-sortxp\")}</label>\r\n\t\t\t<label class=\"form_switch friendshipSortSwitch\">\r\n\t\t\t\t<input type=\"checkbox\" id=\"PrettyCards_UserInfo_SwapSortBtn\">\r\n\t\t\t\t<span class=\"slider round\"></span>\r\n\t\t\t</label>\r\n\t\t\t<label class=\"form-check-label\" for=\"PrettyCards_UserInfo_SwapSortBtn\">${window.$.i18n(\"pc-chat-friendship-sortrank\")}</label>\r\n\t\t</div>`);\r\n\t\t$(titleCont).append($swapSortBtn);\r\n\t\t\r\n\t\tvar $input = $swapSortBtn.find(\"#PrettyCards_UserInfo_SwapSortBtn\");\r\n\t\t$input.change(function() {\r\n\t\t\tupdateSortAndDisplay(data.scores, $(friendshipContainer), $input);\r\n\t\t})\r\n\r\n\t\tupdateSortAndDisplay(data.scores, $(friendshipContainer), $input);\r\n\r\n\t\tvar lastFetched = document.createElement(\"P\");\r\n\t\tlastFetched.className = \"gray\";\r\n\t\tvar date = new Date(data.lastUpdated);\r\n\t\tlastFetched.innerHTML = `${window.$.i18n(\"pc-chat-friendship-fetchedat\")}: ${date.toUTCString()}`;\r\n\t\tcolumn3.appendChild(lastFetched);\r\n\r\n\t}).fail(function() {\r\n\t\tfriendshipContainer.innerHTML = `<p class='red'>${window.$.i18n(\"pc-chat-friendship-fail\")}</p>`; \r\n\t});\r\n\r\n\r\n\t/////////////////////\r\n\t\r\n});\r\n\r\nvar xpSort = function(a, b) {return b.xp - a.xp};\r\nvar rankSort = function(a, b) {return a.rank - b.rank};\r\nfunction updateSortAndDisplay(scores, parent, $input) {\r\n\tif (!$input.prop(\"checked\")) {\r\n\t\tsortAndDisplay(scores, parent, xpSort);\r\n\t} else {\r\n\t\tsortAndDisplay(scores, parent, rankSort);\r\n\t}\r\n}\r\n\r\nfunction sortAndDisplay(scores, parent, sort) {\r\n\tscores.sort(sort);\r\n\tparent.empty();\r\n\tfor (var i=0; i < Math.min(8, scores.length); i++) {\r\n\t\tvar score = scores[i];\r\n\t\tappendFriendshipCard(score, parent, 0);\r\n\t}\r\n}\r\n\r\nfunction appendFriendshipCard(score, container, topType = 1) {\r\n\t\r\n\tvar topTxt;\r\n\tswitch (topType) {\r\n\t\tcase 1: topTxt = \"TOP XP\"; break;\r\n\t\tcase 2: topTxt = \"TOP RANK\"; break;\r\n\t\tcase 3: topTxt = \"TOP XP & RANK\"; break;\r\n\t}\r\n\t\r\n\tvar level = window.getLevel(score.xp);\r\n\tvar card = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.appendCardFriendship(window.getCard(score.cardId), container, level, score.xp - _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.getXpForLevel(level - 1), window.distanceNextLevel(level));\r\n\tif (topTxt) {\r\n\t\tcard.append('<div class=\"PrettyCards_FriendshipTop\">' + topTxt + '</div>');\r\n\t}\r\n\tcard.append(`<div class=\"PrettyCards_FriendshipRank\"${score.rank <= 5 ? ' top' : ''} val=\"${score.rank}\"></div>`);\r\n\t/*\r\n\tif (topType == 1 || topType == 3) {\r\n\t\tcard.append('<div class=\"PrettyCards_FriendshipTop\">TOP XP</div>')\r\n\t}\r\n\tif (topType == 2 || topType == 3) {\r\n\t\tcard.append('<div class=\"PrettyCards_FriendshipTop PrettyCards_FriendshipTop_Right\">TOP RANK</div>')\r\n\t}\r\n\t*/\r\n\tcard.off(\"click\");\r\n\tcard.find('.cardDesc').empty();\r\n\treturn card;\r\n}\r\n\r\nfunction getRankedPosition(user) {\r\n\tif (leaderboard.length <= 0) {\r\n\t\treturn -1;\r\n\t}\r\n\tfor (var i=0; i < leaderboard.length; i++) {\r\n\t\tif (user.id === leaderboard[i].id) {\r\n\t\t\treturn i+1;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\nfunction getRankedPositionHTML(rankNr) {\r\n\tif (rankNr == 1) {\r\n\t\treturn _src_libraries_rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__.rarityIconsHTML.DELTARUNE.DETERMINATION + \" \" + window.$.i18n(\"pc-chat-ranked-first\");\r\n\t}\r\n\tif (rankNr == 2) {\r\n\t\treturn _src_libraries_rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__.rarityIconsHTML.DELTARUNE.LEGENDARY + \" \" + window.$.i18n(\"pc-chat-ranked-second\");\r\n\t}\r\n\tif (rankNr == 3) {\r\n\t\treturn _src_libraries_rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__.rarityIconsHTML.DELTARUNE.EPIC + \" \" + window.$.i18n(\"pc-chat-ranked-third\");\r\n\t}\r\n\tif (rankNr == 4) {\r\n\t\treturn _src_libraries_rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__.rarityIconsHTML.DELTARUNE.RARE + \" \" + window.$.i18n(\"pc-chat-ranked-fourth\");\r\n\t}\r\n\tif (rankNr == 5) {\r\n\t\treturn _src_libraries_rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__.rarityIconsHTML.DELTARUNE.COMMON + \" \" + window.$.i18n(\"pc-chat-ranked-fifth\");\r\n\t}\r\n\treturn rankNr;\r\n}\r\n\r\n// Copied from Undercards itself because it is not present on all pages.\r\nfunction getRank(string) {\r\n    return string.substring(0, string.indexOf('_'));\r\n}\r\n\r\n// Test Function\r\nfunction sendMessageAsPositionInRanked(pos) {\r\n\tvar user = leaderboard[pos-1];\r\n\tuser.mainGroup = {\r\n\t\tid: 10,\r\n\t\tname: \"User\",\r\n\t\tpriority: 13\r\n\t}\r\n\tuser.groups = [user.mainGroup];\r\n\tuser.profileSkin = {\r\n\t\tid: 34,\r\n\t\timage: \"Charas_Rush\",\r\n\t\tname: \"Charas Rush\",\r\n\t\tucpCost: 400\r\n\t}\r\n\t\r\n\tvar fabricatedMessage = {\r\n\t\tdeleted : false,\r\n\t\tid: 100000,\r\n\t\tidRoom: 1,\r\n\t\tme: false,\r\n\t\tmessage: \"I am high on leaderboard!!!!!!\",\r\n\t\trainbow: true,\r\n\t\tuser: leaderboard[pos-1]\r\n\t}\r\n\t//console.log(fabricatedMessage);\r\n\twindow.appendMessage(fabricatedMessage, 1, false);\r\n\tvar eventData = {chatMessage : JSON.stringify(fabricatedMessage), room : \"chat-public-1\"};\r\n\tprocessChatMessageEvent(eventData);\r\n}\r\n\r\nwindow.sendMessageAsPositionInRanked = sendMessageAsPositionInRanked;\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/chat/user_info.js?");

/***/ }),

/***/ "./src/libraries/custom_page_base.js":
/*!*******************************************!*\
  !*** ./src/libraries/custom_page_base.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\n\r\n\r\nvar custom_pages = [\"CustomCardSkins\", \"CustomCards\", \"SmashOrPass\", \"CustomTranslations\"];\r\n\r\nfunction IsOnCustomPage() {\r\n\tfor (var i = 0; i < custom_pages.length; i++) {\r\n\t\tif (window.underscript.onPage(custom_pages[i])) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nvar page_loads = 0;\r\nvar pageLoadEventFired = false;\r\n\r\nfunction SendOnPageLoadEvent() {\r\n\tif (window.$ && !pageLoadEventFired) {\r\n\t\tconsole.log(_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit.singleton(\":loaded\").ran); // Testing if this makes Underscript work on Custom Pages . . .\r\n\t\tconsole.log(_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit.singleton(\":load\").ran);\r\n\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:onPageLoad\");\r\n\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.on(\"PrettyCards:TranslationExtReady\", function() {\r\n\t\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_GoBack\").html(window.$.i18n(\"pc-navigate-goback\"));\r\n\t\t})\r\n\t\tpageLoadEventFired = true;\r\n\t}\r\n}\r\n\r\n_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(document).ready(function () {\r\n\tpage_loads++;\r\n\t//console.log(\"PAGE LOAD NR. \" + page_loads);\r\n\tSendOnPageLoadEvent();\r\n})\r\n\r\nif (IsOnCustomPage()) {\r\n\t\r\n\t//console.log(\"underscript\", underscript);\r\n\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default().ajax({\r\n\t\turl: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/html_templates/undercards.html\",\r\n\t\tsuccess: function (data) {\r\n\t\t\t//console.log(data);\r\n\t\t\tdocument.open();\r\n\t\t\tdocument.write(data);\r\n\t\t\tdocument.close();\r\n\t\t\t(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default().cache) = {};\r\n\t\t\t\r\n\t\t\tdocument.body.onload = function(){SendOnPageLoadEvent();};\r\n\t\t},\r\n\t\t//async: false\r\n    });\r\n\t\r\n\t//waitTillNextDocumentReady().then(function() {\r\n\t//\tconsole.log(\"THIS DOESN'T MATTER BECAUSE THE CODE GOES ON REGARDLESS!\");\r\n\t//});\r\n\t\r\n\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_0__.ExecuteWhen)(\"PrettyCards:onPageLoad\", function () { // I did this only to make sure this works on custom pages, too . . . For some reason underscript breaks there.\r\n\t\twindow.socketChat.onmessage = function (event) {\r\n\t\t\twindow.onMessageChat(event);\r\n\t\t\tvar data = JSON.parse(event.data);\r\n\t\t\t//console.log(data);\r\n\t\t\tif (data.action === \"getSelfInfos\") {\r\n\t\t\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit.singleton(\"PC_Chat:\" + data.action, data); \r\n\t\t\t} else {\r\n\t\t\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit(\"PC_Chat:\" + data.action, data); \r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n}\n\n//# sourceURL=webpack://prettycards/./src/libraries/custom_page_base.js?");

/***/ }),

/***/ "./src/libraries/deck_editor.js":
/*!**************************************!*\
  !*** ./src/libraries/deck_editor.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DeckEditor\": () => (/* binding */ DeckEditor)\n/* harmony export */ });\n\r\n// A script for editing decks outside of the decks page!\r\n\r\nvar ajaxUrl = \"/DecksConfig\";\r\n\r\nclass DeckEditor {\r\n\t\r\n\tstatic OptimalImportDeck(deck, cb) {\r\n\t\tvar posts_in_progress = 0;\r\n\t\t\r\n\t\tvar callback = function(data, status) {\r\n\t\t\tif (status == \"success\") {\r\n\t\t\t\tposts_in_progress--;\r\n\t\t\t\t//console.log(\"Requests left: \", posts_in_progress, data);\r\n\t\t\t\tif (posts_in_progress == 0) {\r\n\t\t\t\t\tcb(\"success\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"ERROR WHILE IMPORTING DECK!\", data)\r\n\t\t\t\tcb(\"error\", data);\r\n\t\t\t}\r\n\t\t}\r\n\t\tDeckEditor.RemoveEverything(deck.soul, function(data, status) {\r\n\t\t\t//console.log(\"Removed everything! \", data, status);\r\n\t\t\tif (status == \"success\") {\r\n\t\t\t\tfor (var i=0; i < deck.cards.length; i++) {\r\n\t\t\t\t\tvar card = deck.cards[i];\r\n\t\t\t\t\tposts_in_progress++;\r\n\t\t\t\t\tDeckEditor.AddCard(card.id, card.shiny, deck.soul, callback);\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i=0; i < deck.artifacts.length; i++) {\r\n\t\t\t\t\tvar artifact = deck.artifacts[i];\r\n\t\t\t\t\tposts_in_progress++;\r\n\t\t\t\t\tDeckEditor.AddArtifact(artifact, deck.soul, callback);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcb(\"error\");\r\n\t\t\t}\r\n\t\t})\r\n\t} \r\n\t\r\n\tstatic ImportDeck(deck, cb) {\r\n\t\t/*\r\n\t\tif (deck.isBase) { // This condition is causing me a bunch of headache, so let's just remove it . . .\r\n\t\t\tcb(\"success\");\r\n\t\t\treturn;\r\n\t\t}*/\r\n\t\t\r\n\t\t$.get(\"/Decks\", {}, function() {\r\n\t\t\t$.get(\"/DecksConfig\", {}, function() {\r\n\t\t\t\tDeckEditor.OptimalImportDeck(deck, function(status, data) {\r\n\t\t\t\t\tif (status == \"success\") {\r\n\t\t\t\t\t\t$.get(window.location.pathname, {}, function() {\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tcb(\"success\");\r\n\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcb(status, data);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\t\r\n\tstatic AddCard(card_id, shiny, soul, callback) {\r\n\t\t$.ajax({\r\n\t\t\turl: ajaxUrl,\r\n\t\t\ttype: \"POST\",\r\n\t\t\tdataType: \"json\",\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\taction: \"addCard\",\r\n\t\t\t\tidCard: card_id,\r\n\t\t\t\tisShiny: !(!shiny),\r\n\t\t\t\tsoul: soul\r\n\t\t\t}),\r\n\t\t\tcontentType: \"application/json\",\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\tif (data.status !== \"error\") {\r\n\t\t\t\t\tcallback(data, \"success\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback(data, \"error\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t//console.log(\"Card Request Sent!\", card_id, shiny, soul, callback);\r\n\t}\r\n\t\r\n\tstatic AddArtifact(artifact_id, soul, callback) {\r\n\t\t$.ajax({\r\n\t\t\turl: ajaxUrl,\r\n\t\t\ttype: \"POST\",\r\n\t\t\tdataType: \"json\",\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\taction: \"addArtifact\",\r\n\t\t\t\tidArtifact: artifact_id,\r\n\t\t\t\tsoul: soul\r\n\t\t\t}),\r\n\t\t\tcontentType: \"application/json\",\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\tif (data.action === \"getArtifactAdded\") {\r\n\t\t\t\t\tcallback(data, \"success\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback(data, \"error\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t//console.log(\"Artifact Request Sent!\", artifact_id, soul, callback);\r\n\t}\r\n\t\r\n\tstatic RemoveEverything(soul, callback) {\r\n\t\t$.ajax({\r\n\t\t\turl: ajaxUrl,\r\n\t\t\ttype: \"POST\",\r\n\t\t\tdataType: \"json\",\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\taction: \"removeAllCards\",\r\n\t\t\t\tsoul: soul\r\n\t\t\t}),\r\n\t\t\tcontentType: \"application/json\",\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\tif (data.status === undefined) {\r\n\t\t\t\t\tcallback(data, \"success\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback(data, \"error\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tstatic RemoveArtifacts(soul, callback) {\r\n\t\t$.ajax({\r\n            url: ajaxUrl,\r\n            type: \"POST\",\r\n            dataType: \"json\",\r\n            data: JSON.stringify({\r\n                action: \"clearArtifacts\",\r\n                soul: soul\r\n            }),\r\n            contentType: \"application/json\",\r\n            success: function(data) {\r\n                if (data.action === \"getArtifactsCleared\") {\r\n                    callback(data, \"success\");\r\n                } else {\r\n\t\t\t\t\tcallback(data, \"error\");\r\n\t\t\t\t}\r\n            }\r\n        });\r\n\t}\r\n\t\r\n\tstatic RemoveCard(card_id, shiny, soul, callback) {\r\n\t\t$.ajax({\r\n            url: ajaxUrl,\r\n            type: \"POST\",\r\n            dataType: \"json\",\r\n            data: JSON.stringify({\r\n                action: \"removeCard\",\r\n                idCard: card_id,\r\n                isShiny: shiny,\r\n                soul: soul\r\n            }),\r\n            contentType: \"application/json\",\r\n            complete: function() {\r\n                canRemove = true;\r\n            },\r\n            success: function(data) {\r\n                if (data.status === undefined) {\r\n                    callback(data, \"success\");\r\n                } else {\r\n                    callback(data, \"error\");\r\n                }\r\n            }\r\n        });\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/deck_editor.js?");

/***/ }),

/***/ "./src/libraries/deck_selector.js":
/*!****************************************!*\
  !*** ./src/libraries/deck_selector.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GetAllDecks\": () => (/* binding */ GetAllDecks),\n/* harmony export */   \"SavedDeckSelector\": () => (/* binding */ SavedDeckSelector),\n/* harmony export */   \"dummy_skin\": () => (/* binding */ dummy_skin),\n/* harmony export */   \"onu_skin\": () => (/* binding */ onu_skin)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_soul_selector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/soul_selector.js */ \"./src/libraries/soul_selector.js\");\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_card_cosmetics_manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/card_cosmetics_manager.js */ \"./src/libraries/card_cosmetics_manager.js\");\n/* harmony import */ var _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/artifact_display.js */ \"./src/libraries/artifact_display.js\");\n/* harmony import */ var _src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../src/libraries/deck_editor.js */ \"./src/libraries/deck_editor.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DECK_STORAGE_PREFIX = \"underscript.deck.\" + window.selfId + \".\";\r\n\r\n_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.loadCSSFromGH(\"SavedDeckList\");\r\n\r\nvar demonEasterEgg = Math.random() <= 0.022;\r\n\r\nconst dummy_skin = {\r\n\tactive: true,\r\n\tauthorName: \"\",\r\n\tcardId: 1,\r\n\tcardName: \"Dummy\",\r\n\tid: -1,\r\n\timage: \"Dummy\",\r\n\tname: \"Default\",\r\n\towned: true,\r\n\ttypeSkin: 0,\r\n\tucpCost: 0,\r\n\tunavailable: false\r\n}\r\n\r\nconst onu_skin = {\r\n\tactive: true,\r\n\tauthorName: \"\",\r\n\tcardId: -1,\r\n\tcardName: \"Onutrem\",\r\n\tid: -1,\r\n\timage: \"Onutrem\",\r\n\tname: \"Default\",\r\n\towned: true,\r\n\ttypeSkin: 0,\r\n\tucpCost: 0,\r\n\tunavailable: false\r\n}\r\n\r\nfunction GetAllDecks() {\r\n\tvar decks = [];\r\n\tDECK_STORAGE_PREFIX = \"underscript.deck.\" + window.selfId + \".\";\r\n\t//console.log(\"Weird debug #1\", window.localStorage.length);\r\n\tfor (var i = 0; i < window.localStorage.length; i++){\r\n\t\tvar key = window.localStorage.key(i);\r\n\t\tif (key.includes(DECK_STORAGE_PREFIX)) {\r\n\t\t\tvar val = window.localStorage.getItem(key);\r\n\t\t\t\r\n\t\t\tvar rest = key.substring(DECK_STORAGE_PREFIX.length, key.length);\r\n\t\t\tvar rest_sliced = rest.split(\".\");\r\n\t\t\t\r\n\t\t\tif (rest_sliced[2] === \"name\") {continue;}\r\n\t\t\t\r\n\t\t\t//console.log(\"PROCESSING: \", key);\r\n\t\t\tvar parsedDeck = JSON.parse(val);\r\n\t\t\tvar image_key = \"prettycards.deck.\" + selfId + \".\" + rest_sliced[0] + \".\" + rest_sliced[1] + \".image\";\r\n\t\t\tvar desc_key = \"prettycards.deck.\" + selfId + \".\" + rest_sliced[0] + \".\" + rest_sliced[1] + \".description\";\r\n\t\t\tvar skin = window.localStorage[image_key];\r\n\t\t\tif (skin) {\r\n\t\t\t\tskin = JSON.parse(skin);\r\n\t\t\t} else {\r\n\t\t\t\tskin = demonEasterEgg ? onu_skin : dummy_skin;\r\n\t\t\t}\r\n\t\t\t//console.log(skin);\r\n\t\t\t//console.log(\"Key: \", key);\r\n\t\t\tvar soul = rest_sliced[0];\r\n\t\t\tvar deck = {\r\n\t\t\t\tsoul : soul,\r\n\t\t\t\tid : Number(rest_sliced[1]),\r\n\t\t\t\tname : (window.localStorage[key + \".name\"] || window.$.i18n(\"pc-decks-unnamed\", window.$.i18n(\"soul-\" + soul.toLowerCase())) ),\r\n\t\t\t\tcards : parsedDeck.cards,\r\n\t\t\t\tartifacts : parsedDeck.artifacts,\r\n\t\t\t\timage : skin,\r\n\t\t\t\tdescription: (window.localStorage[desc_key] || \"\"),\r\n\t\t\t\tkey: key\r\n\t\t\t}\r\n\t\t\t//console.log(\"deck.key\", deck.key);\r\n\t\t\tdecks.push(deck);\r\n\t\t}\r\n\t}\r\n\treturn decks;\r\n}\r\n\r\nfunction CompareDecks(baseDeck, saveDeck) {\r\n\tif (baseDeck.cards.length != saveDeck.cards.length || baseDeck.artifacts.length != saveDeck.artifacts.length) {\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tfor (var i=0; i < baseDeck.artifacts.length; i++) {\r\n\t\tif (!saveDeck.artifacts.includes(baseDeck.artifacts[i].id)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\tvar baseDeckCards = [...baseDeck.cards]; // Shallow copy of array, to allow sorting without changing the order\r\n\tvar saveDeckCards = [...saveDeck.cards]; // Shallow copy, avoid memory overheads and excess object creation\r\n\tbaseDeckCards.sort((a, b) => a.id - b.id || a.shiny - b.shiny);\r\n\tsaveDeckCards.sort(({id: aID, shiny: aShiny = false}, {id: bID, shiny: bShiny = false}) => aID - bID || aShiny - bShiny);\r\n\tfor (var i=0; i < baseDeckCards.length; i++) {\r\n\t\tvar card = baseDeckCards[i];\r\n\t\tvar { id, shiny = false } = saveDeckCards[i];\r\n\t\tif (card.id !== id || card.shiny !== shiny) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn true;\r\n}\r\n\r\nfunction ProcessBaseDecks(organizedDecks) {\r\n\tvar baseDecks = _src_libraries_soul_selector_js__WEBPACK_IMPORTED_MODULE_0__.SoulSelector.GetDecks();\r\n\t//console.log(\"baseDecks\", baseDecks);\r\n\tfor (var soul in baseDecks) {\r\n\t\t//console.log(\"Processing \", soul);\r\n\t\tvar found = false;\r\n\t\tvar baseDeck = baseDecks[soul];\r\n\t\tif (!organizedDecks[soul] || baseDeck.cards.length <= 0) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tfor (var i=0; i < organizedDecks[soul].length; i++) {\r\n\t\t\tvar saveDeck = organizedDecks[soul][i];\r\n\t\t\tsaveDeck.isBase = CompareDecks(baseDeck, saveDeck);\r\n\t\t\tif (saveDeck.isBase) {\r\n\t\t\t\tfound = true;\r\n\t\t\t\t//console.log(\"Deck found!\", saveDeck);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!found) {\r\n\t\t\tvar id = GetFirstAvailableId(organizedDecks, soul);\r\n\t\t\tvar cards = [];\r\n\t\t\tvar artifacts = [];\r\n\t\t\tvar key = DECK_STORAGE_PREFIX + soul + \".\" + id;\r\n\t\t\tvar name = window.$.i18n(\"pc-decks-autogen\", window.$.i18n(\"soul-\" + soul.toLowerCase()));\r\n\t\t\tfor (var i=0; i < baseDeck.cards.length; i++) {\r\n\t\t\t\tvar card = {id: baseDeck.cards[i].id};\r\n\t\t\t\tif (baseDeck.cards[i].shiny) {\r\n\t\t\t\t\tcard.shiny = true;\r\n\t\t\t\t}\r\n\t\t\t\tcards.push(card);\r\n\t\t\t}\r\n\t\t\tfor (var i=0; i < baseDeck.artifacts.length; i++) {\r\n\t\t\t\tartifacts.push(baseDeck.artifacts[i].id);\r\n\t\t\t}\r\n\t\t\twindow.localStorage[key] = JSON.stringify({cards: cards, artifacts: artifacts});\r\n\t\t\twindow.localStorage[key + \".name\"] = name;\r\n\t\t\torganizedDecks[soul].push({\r\n\t\t\t\timage: demonEasterEgg ? onu_skin : dummy_skin,\r\n\t\t\t\tsoul: soul,\r\n\t\t\t\tname: name,\r\n\t\t\t\tcards: cards,\r\n\t\t\t\tartifacts: artifacts,\r\n\t\t\t\tid: id,\r\n\t\t\t\tkey: key,\r\n\t\t\t\tisBase: true\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t//console.log(\"Autogen \", organizedDecks[soul], soul);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction GetAllDecksOrganized() {\r\n\tvar decks = GetAllDecks();\r\n\tvar orderedDecks = {\r\n\t\tDETERMINATION: [],\r\n\t\tBRAVERY: [],\r\n\t\tJUSTICE: [],\r\n\t\tKINDNESS: [],\r\n\t\tPATIENCE: [],\r\n\t\tINTEGRITY: [],\r\n\t\tPERSEVERANCE: [],\r\n\t\t//SWITCH: [],\r\n\t\t//MONSTER: [],\r\n\t\t//FEAR: [],\r\n\t\t//HATE: []\r\n\t};\r\n\tif (_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.onTestServer()) {\r\n\t\torderedDecks[\"MONSTER\"] = [];\r\n\t}\r\n\tfor (var i=0; i < decks.length; i++) {\r\n\t\tvar deck = decks[i];\r\n\t\tif (!orderedDecks[deck.soul]) {\r\n\t\t\t// orderedDecks[deck.soul] = []; // No more waiting for Onu to add new souls!\r\n\t\t\tconsole.warn(\"NEW DECK TYPE DISCOVERED ON CLIENT! \" + deck.soul);\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\torderedDecks[deck.soul].push(deck);\r\n\t}\r\n\t\r\n\tfor (var soul in orderedDecks) {\r\n\t\torderedDecks[soul].sort(function(a,b){\r\n\t\t\treturn a.id - b.id;\r\n\t\t});\r\n\t}\r\n\t\r\n\treturn orderedDecks;\r\n}\r\n\r\nfunction GetFirstAvailableId(decks, soul) { // MUST BE ORDERED DECK LIST!\r\n\tvar decksForSoul = decks[soul];\r\n\tvar i = 0;\r\n\t//var id = 0;\r\n\twhile (i < decksForSoul.length && i == decksForSoul[i].id) {\r\n\t\ti++;\r\n\t\t//id++;\r\n\t}\r\n\treturn i;\r\n}\r\n\r\nclass SavedDeckSelector {\r\n\t\r\n\tconstructor() {\r\n\t\tthis.callback = function() {};\r\n\t\tthis.closeCallback = function() {};\r\n\t\tthis.closable = false;\r\n\t\tthis.deckSouls = {};\r\n\t\tthis.decks = [];\r\n\t\tthis.canEditDecks = false;\r\n\t\tthis.hideInvalidDecks = true;\r\n\t}\r\n\t\r\n\tIsValidDeck(deck) { // ONLY DO IT AFTER THE ARTIFACTS HAVE BEEN LOADED!\r\n\t\tif (deck.cards.length != 25) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (deck.artifacts.length == 0 || deck.artifacts.length >= 3) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tvar art1 = _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_3__.artifactDisplay.GetArtifactById(deck.artifacts[0]);\r\n\t\tif (!art1) {\r\n\t\t\tconsole.log(\"ARTIFACT WITH ID\" + deck.artifacts[0] + \" NOT FOUND!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (deck.artifacts.length == 1) {\r\n\t\t\treturn art1.legendary;\r\n\t\t}\r\n\t\tvar art2 = _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_3__.artifactDisplay.GetArtifactById(deck.artifacts[1]);\r\n\t\tif (!art2) {\r\n\t\t\tconsole.log(\"ARTIFACT WITH ID\" + deck.artifacts[1] + \" NOT FOUND!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn !art1.legendary && !art2.legendary;\r\n\t}\r\n\r\n\tSetUpButtons(buttonContainer) {\r\n\t\t//buttonContainer.innerHTML = \"<h1>MORE BUTTONS HERE!</h1>\"\r\n\r\n\t\tvar purgeAutogenButton = document.createElement(\"BUTTON\");\r\n\t\tpurgeAutogenButton.className = \"btn btn-danger PrettyCards_DeckListHeaderButton\";\r\n\t\tpurgeAutogenButton.innerHTML = \"Purge Autogens\";\r\n\t\tbuttonContainer.appendChild(purgeAutogenButton);\r\n\t\t\r\n\t}\r\n\t\r\n\tGetHTML(decks) {\r\n\t\tvar container = document.createElement(\"DIV\");\r\n\t\tcontainer.className = \"PrettyCards_ChooseDeckScreenContainer\";\r\n\t\t\r\n\t\tvar header = document.createElement(\"DIV\");\r\n\t\theader.className = \"PrettyCards_DeckListHeader\";\r\n\t\tcontainer.appendChild(header);\r\n\r\n\t\t/* // Removed until . . . probably forever.\r\n\t\tvar soulSelectToggle;\r\n\t\tif (this.canEditDecks) {\r\n\t\t\tsoulSelectToggle = document.createElement(\"DIV\");\r\n\t\t\tsoulSelectToggle.className = \"PrettyCards_SoulSelect_Soul\";\r\n\t\t\tsoulSelectToggle.style = \"background-image: url('https://github.com/CMD-God/prettycards/raw/master/img/Souls/SOUL_SELECT.png')\";\r\n\t\t\tsoulSelectToggle.innerHTML = `<div class=\"PrettyCards_SoulSelect_Rainbow\"></div>`;\r\n\t\t\theader.appendChild(soulSelectToggle);\r\n\t\t\t//PrettyCards_SoulSelect_Rainbow\r\n\t\t}\r\n\t\t*/\r\n\r\n\t\tvar soulContainer = document.createElement(\"DIV\");\r\n\t\tsoulContainer.className = \"PrettyCards_DecklistSoulsContainer\"; //PrettyCards_DeckHeader_Active\";\r\n\t\theader.appendChild(soulContainer);\r\n\r\n\r\n\t\t/* // Removed until . . . probably forever.\r\n\t\tif (this.canEditDecks) {\r\n\t\t\tvar buttonContainer = document.createElement(\"DIV\");\r\n\t\t\tbuttonContainer.className = \"PrettyCards_DecklistButtonContainer PrettyCards_Hidden\"; //PrettyCards_DeckHeader_Inactive\";\r\n\t\t\theader.appendChild(buttonContainer);\r\n\r\n\t\t\tthis.SetUpButtons(buttonContainer);\r\n\r\n\t\t\tsoulSelectToggle.onclick = function() {\r\n\t\t\t\twindow.$(soulContainer).toggleClass(\"PrettyCards_Hidden\");\r\n\t\t\t\twindow.$(buttonContainer).toggleClass(\"PrettyCards_Hidden\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t*/\r\n\t\tthis.soulSelector = new _src_libraries_soul_selector_js__WEBPACK_IMPORTED_MODULE_0__.SoulSelector();\r\n\t\tthis.soulSelector.changeSoulCallback = function(clickedSoul) {\r\n\t\t\tthis.deckSouls[clickedSoul][0].scrollIntoView({ behavior: 'smooth', block: 'start'});\r\n\t\t}.bind(this);\r\n\t\tthis.soulSelector.highlightSelectedSoul = false;\r\n\t\tthis.soulSelector.soulsToDisplay = [];\r\n\t\tfor (var soul in decks) {\r\n\t\t\tthis.soulSelector.soulsToDisplay.push(soul);\r\n\t\t}\r\n\t\tsoulContainer.innerHTML = this.soulSelector.SetUp(\"PrettyCards_SavedDeckSelectSoul_\", \"Normal\");\r\n\t\t\r\n\t\tvar decksContainer = document.createElement(\"DIV\");\r\n\t\tdecksContainer.className = \"PrettyCards_DeckListContainer\";\r\n\t\tcontainer.appendChild(decksContainer);\r\n\t\t\r\n\t\tif (this.closable) {\r\n\t\t\tvar closeButtonContainer = document.createElement(\"DIV\");\r\n\t\t\tvar closeButton = document.createElement(\"BUTTON\");\r\n\t\t\tcloseButton.className = \"btn btn-primary PrettyCards_DeckListHeaderButton\";\r\n\t\t\tcloseButton.innerHTML = demonEasterEgg ? \"<span class='red'>\" + window.$.i18n(\"pc-navigate-later\") + \"</span>\" : window.$.i18n(\"pc-navigate-nevermind\");\r\n\t\t\tcloseButton.onclick = this.closeCallback;\r\n\t\t\tcloseButtonContainer.appendChild(closeButton);\r\n\t\t\theader.appendChild(closeButtonContainer);\r\n\t\t}\r\n\t\t\r\n\t\tthis.deckSouls = {};\r\n\t\tfor (var soul in decks) {\r\n\t\t\tvar $deck = $('<div><div class=\"PrettyCards_DeckHeader ' + soul + '\">' + window.$.i18n(\"soul-\" + soul.toLowerCase()) + '</div></div>');\r\n\t\t\t\r\n\t\t\tfor (var i=0; i < decks[soul].length; i++) {\r\n\t\t\t\tconst deck = decks[soul][i];\r\n\t\t\t\t//console.log(\"DECK HIDING: \", deck, !this.IsValidDeck(deck));\r\n\t\t\t\tif (!this.hideInvalidDecks || this.IsValidDeck(deck)) {\r\n\t\t\t\t\tvar card = this.appendCardDeck($deck, deck);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tif (this.canEditDecks) {\r\n\t\t\t\t\t\tcard.append('<div class=\"PrettyCards_DeckCardErase\">' + (demonEasterEgg ? window.$.i18n(\"pc-decks-delete-mystery\") : window.$.i18n(\"pc-decks-delete\")) + '</div>');\r\n\t\t\t\t\t\tcard.find(\".PrettyCards_DeckCardErase\").click(function(e) {\r\n\t\t\t\t\t\t\tthis.DeleteDeckDialogue(deck);\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t}.bind(this));\r\n\t\t\t\t\t\tcard.find(\".cardFooter\").css(\"display\", \"none\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcard.click(function() {\r\n\t\t\t\t\t\tthis.callback(deck);\r\n\t\t\t\t\t}.bind(this));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.canEditDecks) {\r\n\t\t\t\tvar id = GetFirstAvailableId(decks, soul);\r\n\t\t\t\tconst newCardDeck = {\r\n\t\t\t\t\timage: demonEasterEgg ? onu_skin : dummy_skin,\r\n\t\t\t\t\tsoul: soul,\r\n\t\t\t\t\tname: window.$.i18n(\"pc-decks-new\", window.$.i18n(\"soul-\" + soul.toLowerCase())),\r\n\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\tcards: [],\r\n\t\t\t\t\tartifacts: [],\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\tkey: DECK_STORAGE_PREFIX + soul + \".\" + id\r\n\t\t\t\t}\r\n\t\t\t\tvar newDeckCard = this.appendCardDeck($deck, newCardDeck);\r\n\t\t\t\tnewDeckCard.click(function() {\r\n\t\t\t\t\tthis.callback(newCardDeck);\r\n\t\t\t\t}.bind(this));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.deckSouls[soul] = $deck;\r\n\t\t\t$(decksContainer).append($deck);\r\n\t\t}\r\n\t\t\r\n\t\treturn container;\r\n\t}\r\n\t\r\n\tAppendTo(ele) {\r\n\t\tthis.decks = GetAllDecksOrganized();\r\n\t\tProcessBaseDecks(this.decks);\r\n\t\tvar html = this.GetHTML(this.decks)\r\n\t\tele.appendChild(html);\r\n\t\tthis.parent = ele;\r\n\t\treturn html;\r\n\t}\r\n\t\r\n\tReload() {\r\n\t\tthis.parent.innerHTML = \"\";\r\n\t\tthis.AppendTo(this.parent);\r\n\t}\r\n\t\r\n\tDeleteDeckDialogue(deck) {\r\n\t\tvar title = demonEasterEgg ? window.$.i18n(\"pc-decks-askdelete-title-mystery\") : window.$.i18n(\"pc-decks-askdelete-title\");\r\n\t\tvar text = demonEasterEgg ? `<span class='red'>${window.$.i18n(\"pc-decks-askdelete-text-mystery\")}</span>` : window.$.i18n(\"pc-decks-askdelete-text\");\r\n\t\tvar yes_option = demonEasterEgg ? window.$.i18n(\"pc-decks-askdelete-yes-mystery\") : window.$.i18n(\"pc-decks-askdelete-yes\");\r\n\t\tvar no_option = demonEasterEgg ? window.$.i18n(\"pc-decks-askdelete-no-mystery\") : window.$.i18n(\"pc-decks-askdelete-no\");\r\n\t\t\r\n\t\tconst self = this;\r\n\t\tBootstrapDialog.show({\r\n\t\t\ttitle: title,\r\n\t\t\tmessage: text,\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: no_option,\r\n\t\t\t\t\tcssClass: 'btn-primary us-normal',\r\n\t\t\t\t\taction(dialog) {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: yes_option,\r\n\t\t\t\t\tcssClass: 'btn-danger us-normal',\r\n\t\t\t\t\taction(dialog) {\r\n\t\t\t\t\t\tself.DeleteDeck(deck);\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t}\r\n\r\n\tDeleteDeck(deck) {\r\n\t\twindow.localStorage.removeItem(deck.key);\r\n\t\twindow.localStorage.removeItem(deck.key + \".name\");\r\n\t\twindow.localStorage.removeItem(\"prettycards.deck.\" + selfId + \".\" + deck.soul + \".\" + deck.id + \".image\");\r\n\t\twindow.localStorage.removeItem(\"prettycards.deck.\" + selfId + \".\" + deck.soul + \".\" + deck.id + \".description\");\r\n\t\tif (deck.isBase) {\r\n\t\t\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__.DeckEditor.RemoveEverything(deck.soul, function () {\r\n\t\t\t\t_src_libraries_soul_selector_js__WEBPACK_IMPORTED_MODULE_0__.SoulSelector.GetDecks()[deck.soul] = {cards: [], artifacts: []};\r\n\t\t\t\tthis.Reload();\r\n\t\t\t}.bind(this));\r\n\t\t} else {\r\n\t\t\t//cb();\r\n\t\t\tthis.Reload();\r\n\t\t}\r\n\t}\r\n\t\r\n\tappendCardDeck($parent, deck, ignoreBase) {\r\n\t\tvar card = window.appendCard(window.allCards[0], $parent);\r\n\t\tcard.addClass(\"PrettyCards_DeckCard\");\r\n\t\tvar cardNameDiv$ = card.find(\".cardName div\");\r\n\t\tcard.find(\".cardName\").css(\"width\", \"160px\");\r\n\t\tcardNameDiv$.html(deck.name);\r\n\t\tcard.find(\".cardName\").addClass(deck.soul);\r\n\t\tcard.find(\".cardDesc div\").html('<span class=\"' + deck.soul + '\">' + (deck.description || \"\").replaceAll(\"\\n\", \"<br>\") + '</span>' + ( (!ignoreBase && deck.isBase) ? '<p style=\"color:grey; margin:0px;\">(Loaded)</p>' : '') );\r\n\t\tcard.find(\".cardFrame\").css(\"background-image\", \"url(\" + ( (!ignoreBase && deck.isBase) ? \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/CardFrames/frame_deck_gold.png\" : \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/CardFrames/frame_deck.png\") + \")\" );\r\n\t\t\r\n\t\t(0,_src_libraries_card_cosmetics_manager_js__WEBPACK_IMPORTED_MODULE_2__.SetDeckSkin)(card, deck.image);\r\n\t\t\r\n\t\tcardNameDiv$.css('font-size', '');\r\n\t\t\r\n\t\tvar nameSize = window.getResizedFontSize(cardNameDiv$, 25);\r\n\t\tcardNameDiv$.css('font-size', (nameSize + \"px\"));\r\n\t\t\r\n\t\tif (!ignoreBase && deck.isBase) {\r\n\t\t\tcard.addClass(\"PrettyCards_BaseDeckCard\");\r\n\t\t}\r\n\t\t\r\n\t\treturn card;\r\n\t}\r\n\t\r\n\tgetDeckBySoulAndId(soul, id) {\r\n\t\tthis.decks = GetAllDecksOrganized();\r\n\t\tvar soulDecks = this.decks[soul];\r\n\t\tif (!soulDecks) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tfor (var i=0; i < soulDecks.length; i++) {\r\n\t\t\tvar deck = soulDecks[i];\r\n\t\t\tif (deck.id === id) {\r\n\t\t\t\treturn deck;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t} \r\n\t\r\n\t/*\r\n\tOpenDialogue() {\r\n\t\tthis.decks = GetAllDecksOrganized();\r\n\t\t\r\n\t\tthis.dial = BootstrapDialog.show({\r\n\t\t\ttitle: \"Select a deck!\",\r\n\t\t\tsize: BootstrapDialog.SIZE_WIDE,\r\n\t\t\tmessage: this.GetHTML(this.decks),\r\n\t\t\tclosable: this.closable,\r\n\t\t\tbuttons: [{\r\n\t\t\t\t\tlabel: \"Nevermind!\",\r\n\t\t\t\t\tcssClass: 'btn-primary us-normal',\r\n\t\t\t\t\taction(dialog) {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\tthis.dial.enableButtons(this.closable);\r\n\t}*/\r\n\t\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/deck_selector.js?");

/***/ }),

/***/ "./src/libraries/emote_sound_manager.js":
/*!**********************************************!*\
  !*** ./src/libraries/emote_sound_manager.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/utility */ \"./src/libraries/utility.js\");\n\r\n\r\n\r\n\r\n(0,_src_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'emote_sounds',\r\n\t'name': 'Enable Emote Sounds', // Name in settings page\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': true, // default value\r\n});\r\n\r\nvar emoteAudio = new Audio();\r\nemoteAudio.volume = 0.7;\r\n\r\nfunction playEmoteSound(emote, onerror = function() {}, muteBGM = false) {\r\n    if (muteBGM) {\r\n        _src_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"PrettyCards:pauseBGM\");\r\n    }\r\n    emoteAudio.pause();\r\n    emoteAudio.src = `https://github.com/CMD-God/prettycards/raw/master/audio/emotes/${emote}.ogg`;\r\n    emoteAudio.onerror = function() {\r\n        onerror();\r\n        _src_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"PrettyCards:resumeBGM\");\r\n    };\r\n    emoteAudio.onended = function() {\r\n        _src_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"PrettyCards:resumeBGM\");\r\n    }\r\n    emoteAudio.play();\r\n}\r\n\r\nif (window.underscript.onPage(\"Game\") || window.underscript.onPage(\"Spectate\")) {\r\n    _src_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"getEmote:before\", function(data) {\r\n        if (!_src_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.settings.emote_sounds.value()) {return;}\r\n        var isYou = window.userId == data.idUser;\r\n        var image = data.emoteImage;\r\n        if (window.gameEmotesEnabled) { // This if chain is the same as Onu's, for the sake of integrity.\r\n            if (isYou && !window.youDoingEmote) { // Left these separated like this so I can potentially do different things for enemies and allies easier.\r\n                playEmoteSound(image);\r\n            } else if (!isYou && !window.enemyDoingEmote && !window.enemyMute) {\r\n                playEmoteSound(image);\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nif (_src_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.settings.emote_sounds.value() && window.underscript.onPage(\"CosmeticsShop\")) {\r\n    _src_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n        document.querySelectorAll(\".emote-bordered\").forEach(function(e) {\r\n            var url = new URL(e.src).pathname;\r\n            const emote = url.substring(url.lastIndexOf('/')+1, url.lastIndexOf('.'));; // Crops the image name from the src.\r\n            const speaker = $(`<div class=\"glyphicon glyphicon-volume-up PrettyCards_EmoteSoundPlayer\"></div>`)[0];\r\n            console.log(e, emote, speaker);\r\n            speaker.onclick = function() {\r\n                playEmoteSound(emote, function() {\r\n                    speaker.style.color = \"red\";\r\n                    speaker.onclick = function() {};\r\n                }, true);\r\n            }\r\n            e.parentElement.appendChild(speaker);\r\n        });\r\n    })\r\n}\r\n\r\n_src_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n    _src_libraries_utility__WEBPACK_IMPORTED_MODULE_1__.utility.loadCSSFromGH(\"Cosmetics\");\r\n})\n\n//# sourceURL=webpack://prettycards/./src/libraries/emote_sound_manager.js?");

/***/ }),

/***/ "./src/libraries/fancy_card_select.js":
/*!********************************************!*\
  !*** ./src/libraries/fancy_card_select.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\n\r\nvar background = null;\r\nvar dummyDialogue = { // This is so Onu can properly close this thing.\r\n    close : function() {\r\n        background.remove();\r\n        background == null;\r\n        $(\"body\").removeClass(\"PrettyCards_LookAt_NoScroll\");\r\n    }\r\n}\r\n\r\nfunction LookAtCards(selectCards) {\r\n    //console.log(selectCards);\r\n    //if (background != null) {return;}\r\n    window.selectCardDialog = dummyDialogue;\r\n\r\n    document.body.className += \" PrettyCards_LookAt_NoScroll\";\r\n\r\n    background = document.createElement(\"DIV\");\r\n    background.className = \"PrettyCards_LookAt_Background\";\r\n\r\n    var container = document.createElement(\"DIV\");\r\n    container.className = \"PrettyCards_LookAt_Container\";\r\n    background.appendChild(container);\r\n\r\n    var title = document.createElement(\"DIV\");\r\n    title.className = \"PrettyCards_LookAt_Title\";\r\n    title.innerHTML = window.$.i18n('game-select-card');\r\n    container.appendChild(title);\r\n\r\n    var cardContainer = document.createElement(\"DIV\");\r\n    cardContainer.className = \"PrettyCards_LookAt_CardContainer\";\r\n    for (var i=0; i < selectCards.length; i++) {\r\n        var appendedCard = window.appendCard(selectCards[i], $(cardContainer));\r\n        appendedCard.css(\"margin\", \"6px\");\r\n        /*\r\n        if (selectCards.length <= 5) {\r\n            appendedCard.css(\"transform\", \"scale(2)\");\r\n            appendedCard.css(\"width\", \"352px\");\r\n            appendedCard.css(\"height\", \"492px\");\r\n            appendedCard.css(\"margin\", \"12px\");\r\n        } else if (selectCards.length <= 7) {\r\n            appendedCard.css(\"transform\", \"scale(1.5)\");\r\n            appendedCard.css(\"width\", \"264px\");\r\n            appendedCard.css(\"height\", \"369px\");\r\n            appendedCard.css(\"margin\", \"9px\");\r\n        }\r\n        */\r\n        appendedCard.click(function (e) {\r\n            if (e.button === 0) {\r\n                var idCard = $(this).attr('id');\r\n                sendEffectTarget(idCard);\r\n            }\r\n        });;\r\n    }\r\n    container.appendChild(cardContainer);\r\n\r\n    document.body.appendChild(background);\r\n}\r\n\r\n(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.addSetting)({\r\n    'key': 'fancy_card_select',\r\n    'name': 'Enable Fancy \"Choose a card\" screen in games.', // Name in settings page\r\n    'type': 'boolean',\r\n    'refresh': false, // true to add note \"Will require you to refresh the page\"\r\n    'default': true, // default value\r\n    'onChange': function(newVal) {\r\n        window.showSelectCards = newVal ? LookAtCards : oldShowSelectCards;\r\n    }\r\n});\r\n\r\nvar oldShowSelectCards;\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function () {\r\n    oldShowSelectCards = window.showSelectCards;\r\n    _utility__WEBPACK_IMPORTED_MODULE_0__.utility.loadCSSFromGH(\"LookAtCards\");\r\n    if (_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.settings.fancy_card_select.value()) {\r\n        window.showSelectCards = LookAtCards;\r\n    }\r\n});\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/fancy_card_select.js?");

/***/ }),

/***/ "./src/libraries/fancy_helper.js":
/*!***************************************!*\
  !*** ./src/libraries/fancy_helper.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FancyDisplay\": () => (/* binding */ FancyDisplay)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/artifact_display.js */ \"./src/libraries/artifact_display.js\");\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _floating_souls__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./floating_souls */ \"./src/libraries/floating_souls.js\");\n/* harmony import */ var _page_getters__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./page_getters */ \"./src/libraries/page_getters.js\");\n\r\n// Currently only for the fancy Artifact And Soul display thingy.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass FancyListDisplay {\r\n\t\r\n\tconstructor(datas, title) {\r\n\t\tconst disabledText = `<span class='gray'>(${window.$.i18n(\"pc-fd-disabled\")})</span>`;\r\n\r\n\t\tvar container = window.$(`<div class=\"PrettyCards_ArtifactListContainer\"></div>`);\r\n\t\t\r\n\t\tfor (var i=0; i < datas.length; i++) {\r\n\t\t\tvar data = datas[i];\r\n\t\t\tvar row = window.$(`<div class=\"PrettyCards_ArtifactListRow\"></div>`);\r\n\t\t\tvar circle = window.$(`<div class=\"PrettyCards_ArtifactListCircle\"><img class=\"PrettyCards_ArtifactListImage ${data.image_class} ${data.disabled ? \"transparent\" : \"\"}\" src=\"${data.image}\"></img></div>`);\r\n\t\t\trow.append(circle);\r\n\t\t\t\r\n\t\t\tif (data.counter && data.counter > 0) {\r\n\t\t\t\tvar counter = window.$(`<div class=\"PrettyCards_ArtifactListCounter\">${data.counter}</div>`);\r\n\t\t\t\trow.append(counter);\r\n\t\t\t}\r\n\r\n\t\t\tvar name = window.$(`<div class=\"PrettyCards_ArtifactListName ${data.text_class}\">${data.name} (${data.rarity_text}) ${data.disabled ? disabledText : \"\"}</div>`);\r\n\t\t\tvar description = window.$(`<div class=\"PrettyCards_ArtifactListDescription\"></div>`);\r\n\t\t\tdescription.append(data.description);\r\n\t\t\t\r\n\t\t\trow.append(name);\r\n\t\t\trow.append(description);\r\n\t\t\tcontainer.append(row);\r\n\t\t}\r\n\t\t\r\n\t\twindow.BootstrapDialog.show({\r\n            title: title || window.$.i18n(\"artifacts-title\"),\r\n            message: container,\r\n\t\t\t//onshow: this.OnShow\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: window.$.i18n(\"dialog-ok\"),\r\n\t\t\t\t\tcssClass: 'btn-primary',\r\n\t\t\t\t\taction: function(dialog) {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n        });\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nclass FancyDisplay {\r\n\t\r\n\tconstructor(data) {\r\n\t\tthis.data = data;\r\n\t\t//this.backdrop = window.$(`<div class=\"PrettyCards_ScreenCover PrettyCards_HalfTransparentBG\"></div>`);\r\n\t\t//this.backdrop.click(function() {this.remove();});\r\n\t\t\r\n\t\tthis.box = window.$(`<div class=\"PrettyCards_ArtifactDisplayBox\"></div>`);\r\n\t\tthis.box.click(function (e) {e.stopPropagation();});\r\n\t\t//this.backdrop.append(this.box);\r\n\t\t\r\n\t\t// <img class=\"PrettyCards_ArtifactImage ${data.image_class} ${data.disabled ? \"transparent\" : \"\"}\" src=\"${data.image}\"></img>\r\n\t\tthis.circle = window.$(`<div class=\"PrettyCards_ArtifactCircle\"></div>`);\r\n\t\tthis.circle.append((0,_floating_souls__WEBPACK_IMPORTED_MODULE_4__.createFloatingSoul)(data.image, data.image_class, \"\", \"\"));\r\n\t\tthis.box.append(this.circle);\r\n\t\t\r\n\t\tthis.name = window.$(`<div class=\"PrettyCards_ArtifactDisplayName ${data.text_class}\">${data.name}</div>`);\r\n\t\tthis.rarity = window.$(`<div class=\"PrettyCards_ArtifactDisplayRarity ${data.text_class}\">${data.rarity_text}</div>`);\r\n\t\tthis.description = window.$(`<div class=\"PrettyCards_ArtifactDisplayDescription\"></div>`);\r\n\t\tthis.description.append(data.description);\r\n\t\tif (data.counter && data.counter > 0) {\r\n\t\t\tthis.counter = window.$(`<div class=\"PrettyCards_ArtifactDisplayCounter\">${data.counter}</div>`);\r\n\t\t\tthis.box.append(this.counter);\r\n\t\t}\r\n\t\t\r\n\t\tthis.box.append(this.name);\r\n\t\tthis.box.append(this.rarity);\r\n\r\n\t\tif (data.disabled) {\r\n\t\t\tthis.disabled = window.$(`<div class=\"PrettyCards_ArtifactDisplayDisabled gray\">(${window.$.i18n(\"pc-fd-disabled\")})</div>`);\r\n\t\t\tthis.box.append(this.disabled);\r\n\t\t}\r\n\r\n\t\tthis.box.append(this.description);\r\n\r\n\t\tif (data.shopInfo) {\r\n\t\t\tvar priceText = `<span class=\"yellow\">${data.shopInfo.price}</span> <img src=\"images/icons/gold.png\" class=\"height-16\">`;\r\n\t\t\tvar bottomText = window.$.i18n(\"pc-buyart-nomuns\", priceText);\r\n\t\t\tif (data.shopInfo.hasEnough) {\r\n\t\t\t\tbottomText = window.$.i18n(\"pc-buyart-willyoubuy\", priceText) + ` <button class=\"btn btn-success\">${$.i18n(\"artifacts-unlock\")}</button>`;\r\n\t\t\t}\r\n\t\t\tthis.shop = window.$(`<div class=\"PrettyCards_ArtifactDisplayShop\">${data.shopInfo.topLine}<br>${bottomText}</div>`);\r\n\t\t\tthis.shop.find(\"button\").click(function() {data.shopInfo.action(this)}.bind(this));\r\n\t\t\tthis.box.append(this.shop);\r\n\t\t}\r\n\t\t\r\n\t\tif (data.note && data.note.length > 0) {\r\n\t\t\tthis.noteTitle = window.$(`<div class=\"PrettyCards_ArtifactDisplayNoteTitle\">${window.$.i18n(\"pc-fd-authornote\")}</div>`);\r\n\t\t\tthis.note = window.$(`<div class=\"PrettyCards_ArtifactDisplayNote\">${data.note}</div>`);\r\n\t\t\t\r\n\t\t\tthis.box.append(this.noteTitle);\r\n\t\t\tthis.box.append(this.note);\r\n\t\t}\r\n\t\t\r\n\t\t//$(\"body\").append(this.backdrop);\r\n\t\tvar dial = window.BootstrapDialog.show({\r\n            title: 'You shouldn\\'t be able to see this!',\r\n\t\t\tsize: data.size || window.BootstrapDialog.SIZE_NORMAL,\r\n            message: this.box,\r\n\t\t\tonshow: this.OnShow\r\n        });\r\n\r\n\t\tdial.$modalDialog[0].className = \"modal-dialog modal-lg\";\r\n\t\t\r\n\t}\r\n\t\r\n\tOnShow(dial) {\r\n\t\t//console.log(dial);\r\n\t\tdial.$modalFooter.css(\"display\", \"none\");\r\n\t\tdial.$modalHeader.css(\"display\", \"none\");\r\n\t\tdial.$modalContent.css(\"background-color\", \"transparent\").css(\"box-shadow\", \"initial\").css(\"border\", \"none\").css(\"padding\", \"0px\");\r\n\t\tdial.$modalBody.css(\"border\", \"none\").css(\"background-color\", \"transparent\").css(\"padding\", \"0px\").css(\"box-shadow\", \"initial\");\r\n\t\t\r\n\t}\r\n\t\r\n\tstatic ViewArtifactInfo(id) {\r\n\t\tvar artifact = _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_2__.artifactDisplay.GetArtifactById(id);\r\n\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.emit(\"pre:viewArtifact()\", artifact);\r\n\t\tvar image_src = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getArtifactImageLink(artifact.image);\r\n\t\tif (artifact.collection) {\r\n\t\t\tvar c = artifact.collection;\r\n\t\t\tvar isAprilFools = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getSeasonMonth() == 3 && artifact.aprilImage;\r\n\t\t\tvar prefix = isAprilFools ? c.aprilArtifactImagePrefix  : c.artifactImagePrefix;\r\n\t\t\tvar imageName = isAprilFools ? artifact.aprilImage : artifact.image;\r\n\r\n\t\t\timage_src = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(prefix, imageName, \"png\", c.oldPrefixBehavior);\r\n\t\t}\r\n\t\tvar shopInfo;\r\n\t\tif (!artifact.collection && !artifact.owned && !artifact.unavailable && !underscript.onPage(\"Game\") && !underscript.onPage(\"Spectate\")) {\r\n\t\t\tconst artId = id;\r\n\t\t\tshopInfo = {\r\n\t\t\t\tprice: artifact.cost,\r\n\t\t\t\ttopLine: window.$.i18n(\"pc-buyart-youdonthave\"),\r\n\t\t\t\thasEnough: artifact.cost <= _page_getters__WEBPACK_IMPORTED_MODULE_5__.pagegetters.gold,\r\n\t\t\t\taction: function(helper) {\r\n\t\t\t\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.on(\"PrettyCards:artBuySuccess\", function() {\r\n\t\t\t\t\t\thelper.shop.addClass(\"PrettyCards_Hidden\");\r\n\t\t\t\t\t})\r\n\t\t\t\t\t_src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_2__.artifactDisplay.BuyArtifact(artId);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar data = {\r\n\t\t\tname: $.i18n(\"artifact-name-\" + artifact.id),\r\n\t\t\timage: image_src,\r\n\t\t\ttext_class: artifact.rarity || \"COMMON\",\r\n\t\t\trarity_text: window.$.i18n(\"pc-fd-artifactwithrarity\", window.$.i18n(\"rarity-\" + artifact.rarity.toLowerCase())),\r\n\t\t\tdescription: window.$.i18n(\"artifact-\" + artifact.id),\r\n\t\t\timage_class: \"PrettyCards_ArtifactDisplay_\" + artifact.rarity,\r\n\t\t\tnote: window.$.i18n(artifact.note || \"\"),\r\n\t\t\tdisabled: artifact.disabled,\r\n\t\t\tcounter: artifact.counter,\r\n\t\t\tshopInfo: shopInfo\r\n\t\t};\r\n\t\tvar helper = new FancyDisplay(data);\r\n\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.emit(\"viewArtifact()\", {artifact: artifact, helper: helper});\r\n\t}\r\n\t\r\n\tstatic ViewSoulInfo(id) {\r\n\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.emit(\"pre:viewSoul\", id);\r\n\t\tvar customObj = null;\r\n\t\tfor (var i = 0; i < FancyDisplay.customSouls.length; i++) {\r\n\t\t\tvar soul = FancyDisplay.customSouls[i];\r\n\t\t\tif (soul.name === id) {\r\n\t\t\t\tcustomObj = soul;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar image_src = \"https://github.com/CMD-God/prettycards/raw/master/img/Souls/\" + id + \".png\";\r\n\t\tif (customObj) {\r\n\t\t\tvar c = customObj.collection;\r\n\t\t\tvar isAprilFools = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getSeasonMonth() == 3 && customObj.aprilImage;\r\n\t\t\tvar prefix = isAprilFools ? c.aprilSoulImagePrefix  : c.soulImagePrefix;\r\n\t\t\tvar imageName = isAprilFools ? customObj.aprilImage : customObj.image;\r\n\r\n\t\t\timage_src = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(prefix, imageName, \"png\", c.oldPrefixBehavior);\r\n\t\t}\r\n\t\t//console.log(\"CUSTOM SOUL\", customObj, FancyDisplay.customSouls, image_src);\r\n\t\t\r\n\t\tvar transDesc = window.$.i18n(\"soul-\" + id.toLowerCase() + \"-desc\");\r\n\t\tvar transName = window.$.i18n(\"soul-\" + id.toLowerCase());\r\n\r\n\t\tvar desc = window.$(`<div><div>${transDesc}</div><div class=\"PrettyCards_SoulDisplay_SpellsHeader\">${window.$.i18n(\"pc-fd-soulspells\", transName)}:</div></div>`);\r\n\t\tvar cards = window.$(`<div class=\"PrettyCards_SoulDisplay_Spells\"></div>`);\r\n\t\tfor (var i=0; i < window.allCards.length; i++) {\r\n\t\t\tvar card = window.allCards[i];\r\n\t\t\tif (card.soul && card.soul.name === id) {\r\n\t\t\t\twindow.appendCard(card, cards);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tdesc.append(cards);\r\n\t\t\r\n\t\tvar data = {\r\n\t\t\tname: transName,\r\n\t\t\ttext_class: id,\r\n\t\t\trarity_text: window.$.i18n(\"pc-fd-soul\"),\r\n\t\t\tdescription: desc,\r\n\t\t\timage: image_src,\r\n\t\t\timage_class: \"PrettyCards_ArtifactDisplay_Floating PrettyCards_DisplaySoul_\" + id,\r\n\t\t\tnote: (customObj ? window.$.i18n(customObj.note || \"\") : \"\"),\r\n\t\t\tsize: BootstrapDialog.SIZE_LARGE\r\n\t\t};\r\n\t\tvar helper = new FancyDisplay(data);\r\n\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.emit(\"viewSoul()\", {id: id, helper: helper});\r\n\t}\r\n\r\n\tstatic ViewArtifactsInfoBox(box) {\r\n\t\tif (window.$(box).find('.artifact-img').length > 0) {\r\n\t\t\tvar datas = [];\r\n\t\t\t$(box).find('.artifact-img').each(function() {\r\n\t\t\t\tvar artifactId = Number($(this).attr(\"artifactId\"));\r\n\t\t\t\tvar artifactCounter = Number($(this).next(\".artifact-custom\").html());\r\n\t\t\t\tvar isDisabled = $(this).hasClass(\"artifact-disabled\");\r\n\t\t\t\tdatas.push({id: artifactId, counter: artifactCounter, disabled: isDisabled});\r\n\t\t\t});\r\n\t\t\tFancyDisplay.ViewArtifactsInfo(datas);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic ViewArtifactsInfoForIdArray(arr, title) {\r\n\t\tvar datas = [];\r\n\t\tarr.forEach(id => {\r\n\t\t\tdatas.push({id : id});\r\n\t\t})\r\n\t\tFancyDisplay.ViewArtifactsInfo(datas, title);\r\n\t}\r\n\t\r\n\tstatic ViewArtifactsInfo(artDatas, title) {\r\n\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.emit(\"pre:viewArtifacts\", artDatas);\r\n\t\t//console.log(box);\r\n\t\tif (artDatas.length > 0) {\r\n\t\t\tvar datas = [];\r\n\t\t\tartDatas.forEach(artData => {\r\n\t\t\t\tvar artifactId = artData.id;\r\n\t\t\t\tvar artifactCounter = artData.counter;\r\n\t\t\t\tvar isDisabled = artData.disabled;\r\n\t\t\t\tvar artifact = _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_2__.artifactDisplay.GetArtifactById(artifactId);\r\n\t\t\t\t//console.log(\"ARTIFACT_ID\", artifactId, artifact, artifactDisplay);\r\n\t\t\t\tvar image_src = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getArtifactImageLink(artifact.image);\r\n\t\t\t\tif (artifact.collection) {\r\n\t\t\t\t\tvar c = artifact.collection;\r\n\t\t\t\t\tvar isAprilFools = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getSeasonMonth() == 3 && artifact.aprilImage;\r\n\t\t\t\t\tvar prefix = isAprilFools ? c.aprilArtifactImagePrefix  : c.artifactImagePrefix;\r\n\t\t\t\t\tvar imageName = isAprilFools ? artifact.aprilImage : artifact.image;\r\n\r\n\t\t\t\t\timage_src = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(prefix, imageName, \"png\", c.oldPrefixBehavior);\r\n\t\t\t\t}\r\n\t\t\t\tdatas.push({\r\n\t\t\t\t\tname: $.i18n(\"artifact-name-\" + artifact.id),\r\n\t\t\t\t\timage: image_src,\r\n\t\t\t\t\ttext_class: artifact.rarity || \"COMMON\",\r\n\t\t\t\t\trarity_text: window.$.i18n(\"pc-fd-artifactwithrarity\", window.$.i18n(\"rarity-\" + artifact.rarity.toLowerCase())),\r\n\t\t\t\t\tdescription: window.$.i18n(\"artifact-\" + artifact.id),\r\n\t\t\t\t\timage_class: \"PrettyCards_ArtifactDisplay_\" + artifact.rarity,\r\n\t\t\t\t\tdisabled: isDisabled, // || artifact.disabled,\r\n\t\t\t\t\tcounter: artifactCounter || artifact.counter\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tvar helper = new FancyListDisplay(datas, title);\r\n\t\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.emit(\"viewArtifacts()\", {artDatas: artDatas, helper: helper});\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic TestArtifactsInfo() {\r\n\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.emit(\"pre:viewArtifacts\", box);\r\n\t\tvar box = window.$(\"<div></div>\");\r\n\t\tfor (var i=0; i < _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_2__.artifactDisplay.artifacts.length; i++) {\r\n\t\t\tvar art = _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_2__.artifactDisplay.artifacts[i];\r\n\t\t\tbox.append(`<img class=\"artifact-img\" artifactId=\"${art.id}\">`);\r\n\t\t}\r\n\t\twindow.artifactsInfo(box);\r\n\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.emit(\"viewArtifacts()\", {});\r\n\t}\r\n\t\r\n}\r\n\r\nFancyDisplay.customSouls = [];\r\n\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"PrettyCards:onPageLoad\", function() {\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.loadCSSFromGH(\"CustomCards\");\r\n\t\r\n\twindow.artifactInfo = FancyDisplay.ViewArtifactInfo.bind(this);\r\n\twindow.showArtifactDescBox = FancyDisplay.ViewArtifactInfo.bind(this);\r\n\twindow.soulInfo = FancyDisplay.ViewSoulInfo.bind(this);\r\n\twindow.artifactsInfo = FancyDisplay.ViewArtifactsInfoBox.bind(this);\r\n\t\r\n\t_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.prettycards.viewArtifactsInfoForIdArray = FancyDisplay.ViewArtifactsInfoForIdArray.bind(this);\r\n\r\n\t// Test functions\r\n\twindow.testArtifactsInfo = FancyDisplay.TestArtifactsInfo.bind(this);\r\n\t//\r\n});\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_3__.prettycards.FancyDisplay = FancyDisplay;\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/fancy_helper.js?");

/***/ }),

/***/ "./src/libraries/flippable_card.js":
/*!*****************************************!*\
  !*** ./src/libraries/flippable_card.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FlippableCard\": () => (/* binding */ FlippableCard)\n/* harmony export */ });\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _card_cosmetics_manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card_cosmetics_manager.js */ \"./src/libraries/card_cosmetics_manager.js\");\n\r\n\r\n\r\n\r\nclass FlippableCard {\r\n\t\r\n\tconstructor(card_data, hoverable, setCosmetics = true, addCounts = true) {\r\n\t\tthis.baseScale = 1;\r\n\t\tthis.container = document.createElement(\"DIV\");\r\n\t\tthis.container.className = \"PrettyCards_FlippableCardContainer\";\r\n\t\t\r\n\t\tthis.flipContainer = document.createElement(\"DIV\");\r\n\t\tthis.flipContainer.className = \"PrettyCards_FlipContainer\";\r\n\t\tthis.flipContainer.style = \"transform: rotateY(180deg);\";\r\n\t\tthis.container.appendChild(this.flipContainer);\r\n\t\t\r\n\t\tif (setCosmetics) {\r\n\t\t\tcard_data = (0,_card_cosmetics_manager_js__WEBPACK_IMPORTED_MODULE_1__.SetCosmeticsForCardData)(card_data);\r\n\t\t}\r\n\t\twindow.appendCard(card_data, _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(this.flipContainer));\r\n\t\tthis.front = this.flipContainer.children[0];\r\n\t\tthis.front.className += \" PrettyCards_CardFront\";\r\n\t\t\r\n\t\tif (addCounts) {\r\n\t\t\tvar appendText = `<div class=\"cardQuantity\">${card_data.quantity > 0 ? '<span class=\"nb\">x' + card_data.quantity + '</span>' : \"\"} ${card_data.quantityShiny > 0 ? '<span class=\"nb_shiny rainbowText\">x' + card_data.quantityShiny + '</span>' : \"\"}</div>`;\r\n\t\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(this.front).append(appendText);\r\n\t\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(this.front).css(\"height\", \"275px\");\r\n\t\t}\r\n\t\t\r\n\t\tconst hovered_url = \"url(/images/cardBacks/\" + card_data.extension + \"Card\" + card_data.rarity + \".png)\";\r\n\t\tconst normal_url = \"url(/images/cardBacks/\" + card_data.extension + \"CardNORMAL.png)\";\r\n\t\t\r\n\t\tthis.back = document.createElement(\"DIV\");\r\n\t\tthis.back.style.backgroundImage = hoverable ? normal_url : hovered_url;\r\n\t\tthis.back.className = \"PrettyCards_CardBack\";\r\n\t\t\r\n\t\tif (hoverable) {\r\n\t\t\tvar funcIn = function (e) {this.back.style.backgroundImage = hovered_url;};\r\n\t\t\tvar funcOut = function (e) {this.back.style.backgroundImage = normal_url;};\r\n\t\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(this.container).hover(funcIn.bind(this), funcOut.bind(this));\r\n\t\t}\r\n\t\t\r\n\t\tthis.flipContainer.appendChild(this.back);\r\n\t\t\r\n\t\tthis.isShiny = card_data.shiny;\r\n\t\tthis.shinySlot = this.front.querySelector(\".shinySlot\");\r\n\t\t\r\n\t\tthis.card_data = card_data;\r\n\t\t\r\n\t\tthis.handleRotation(180);\r\n\t}\r\n\t\r\n\tappendTo(element) {\r\n\t\telement.appendChild(this.container);\r\n\t}\r\n\t\r\n\tmoveTo(x, y) {\r\n\t\tthis.container.style.top = y + \"px\";\r\n\t\tthis.container.style.left = x + \"px\";\r\n\t}\r\n\t\r\n\tsetBaseScale(scale) {\r\n\t\tthis.container.style.transform = \"scale(\" + scale + \")\";\r\n\t}\r\n\t\r\n\tglideTo(x, y, duration, callback) {\r\n\t\t//console.log(\"Glide Callback\", callback);\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(this.container).animate({top: y + \"px\", left: x + \"px\"}, {\r\n\t\t\tduration: (duration || 1000), \r\n\t\t\teasing: \"swing\",\r\n\t\t\tcomplete: callback\r\n\t\t});\r\n\t}\r\n\t\r\n\tflipToFace(duration) {\r\n\t\t//this.flipContainer.style[\"transition-duration\"] = (duration/1000) + \"s\";\r\n\t\t//$(this.flipContainer).css(\"transform\", \"rotateY(0deg)\");\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(this.flipContainer).animateRotate(180, 0, duration, \"swing\", this.handleRotation.bind(this));\r\n\t}\r\n\t\r\n\tflipToBack(duration) {\r\n\t\t//this.flipContainer.style[\"transition-duration\"] = (duration/1000) + \"s\";\r\n\t\t//$(this.flipContainer).css(\"transform\", \"rotateY(180deg)\");\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(this.flipContainer).animateRotate(0, 180, duration, \"swing\", this.handleRotation.bind(this));\r\n\t}\r\n\t\r\n\tscaleTo(scale, duration) {\r\n\t\tthis.container.style[\"transition-duration\"] = (duration/1000) + \"s\";\r\n\t\tthis.container.style.transform = \"translate(-50%, -50%) scale(\" + scale + \")\";\r\n\t}\r\n\t\r\n\tmakeIntoSummaryCard() {\r\n\t\tthis.container.style.position = \"static\";\r\n\t\tthis.container.style.display = \"inline-block\";\r\n\t\tthis.container.style.transform = \"none\";\r\n\t}\r\n\t\r\n\thandleRotation(now) { // This is a woratround for a css issue with flipped shiny cards (and all cards on Firefox >:( )\r\n\t\tif (now < 90) {\r\n\t\t\tthis.front.style.opacity = \"1\";\r\n\t\t\tthis.back.style.opacity = \"0\";\r\n\t\t\tif (this.isShiny) {\r\n\t\t\t\tthis.shinySlot.style[\"mix-blend-mode\"] = \"multiply\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.front.style.opacity = \"0\";\r\n\t\t\tthis.back.style.opacity = \"1\";\r\n\t\t\tif (this.isShiny) {\r\n\t\t\t\tthis.shinySlot.style[\"mix-blend-mode\"] = \"normal\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tplayJingle() {\r\n\t\tif (this.card_data.rarity != \"LEGENDARY\" && this.card_data.rarity != \"DETERMINATION\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar soundPath = '/musics/cards/' + this.card_data.name.split(' ').join('_') + '.ogg';\r\n\t\tvar audio = new window.Audio(soundPath);\r\n\t\taudio.volume = 0.4;\r\n\t\taudio.play();\r\n\t\tthis.silent = true;\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/flippable_card.js?");

/***/ }),

/***/ "./src/libraries/floating_souls.js":
/*!*****************************************!*\
  !*** ./src/libraries/floating_souls.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createFloatingSoul\": () => (/* binding */ createFloatingSoul)\n/* harmony export */ });\n\r\nfunction createFloatingSoul(image, containerClass, leftClass, rightClass) {\r\n    var container = document.createElement(\"DIV\");\r\n    container.className = \"PrettyCards_SplitSoul_Container \" + containerClass;\r\n\r\n    var left = document.createElement(\"DIV\");\r\n    left.className = \"PrettyCards_SplitSoul_Left\";\r\n    left.innerHTML = `<img src=\"${image}\" class=\"${leftClass}\">`;\r\n    container.appendChild(left);\r\n\r\n    var right = document.createElement(\"DIV\");\r\n    right.className = \"PrettyCards_SplitSoul_Right\";\r\n    right.innerHTML = `<img src=\"${image}\" class=\"${rightClass}\">`;\r\n    container.appendChild(right);\r\n\r\n    return container;\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/floating_souls.js?");

/***/ }),

/***/ "./src/libraries/font_loader.js":
/*!**************************************!*\
  !*** ./src/libraries/font_loader.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ListenForWhenAllFontsAreLoaded\": () => (/* binding */ ListenForWhenAllFontsAreLoaded),\n/* harmony export */   \"LoadFont\": () => (/* binding */ LoadFont)\n/* harmony export */ });\n\r\nvar loadedFonts = {};\r\n\r\nfunction Uniqueify(name, i=0) {\r\n\tvar real_name = name;\r\n\tif (i > 0) {\r\n\t\treal_name = name + i;\r\n\t}\r\n\tif (loadedFonts[real_name]) {\r\n\t\treturn Uniqueify(name, i+1);\r\n\t}\r\n\treturn real_name;\r\n}\r\n\r\nfunction LoadFont(name, link) {\r\n\tvar real_name = Uniqueify(name);\r\n\tvar real_link = 'url(' + link + ')';\r\n\tvar font = new FontFace(real_name, real_link);\r\n\t//console.log(\"FONT TO LOAD\", font, real_name, real_link);\r\n\tloadedFonts[real_name] = font;\r\n\t\r\n\tfont.load().then(function(loaded_face) {\r\n\t\t//console.log(font == loaded_face, font, loaded_face)\r\n\t\twindow.document.fonts.add(loaded_face);\r\n\t}).catch(function(error) {\r\n\t\tconsole.error('Error loading font \"' + real_name + '\": ', error);\r\n\t});\r\n\treturn real_name;\r\n}\r\n\r\nfunction ListenForWhenAllFontsAreLoaded(func) {\r\n\twindow.document.fonts.ready.then(func);\r\n} \r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/font_loader.js?");

/***/ }),

/***/ "./src/libraries/footer_remover.js":
/*!*****************************************!*\
  !*** ./src/libraries/footer_remover.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./underscript_checker */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\nfunction RemoveFooter() {\r\n\twindow.$(\"footer\").css(\"display\", _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.settings.remove_footer.value() ? \"none\" : \"block\");\r\n}\r\n\r\n(0,_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'remove_footer',\r\n\t'name': 'Remove Footer', // Name in settings page\r\n\t'note': \"Sayonara, ugly!\",\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': false, // default value\r\n\t'onChange' : RemoveFooter\r\n});\r\n\r\nfunction AskRemoval() {\r\n    BootstrapDialog.show({\r\n        title: window.$.i18n(\"pc-footerremove-ask-title\"),\r\n        message: window.$.i18n(\"pc-footerremove-ask\"),\r\n        buttons: [{\r\n            label: $.i18n('pc-navigate-nevermind'),\r\n            cssClass: 'btn-danger',\r\n            action: function (dialog) {\r\n                dialog.close();\r\n            }\r\n        },{\r\n            label: $.i18n('pc-navigate-yes'),\r\n            cssClass: 'btn-primary',\r\n            action: function (dialog) {\r\n                _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.settings.remove_footer.set(true);\r\n                dialog.close();\r\n            }\r\n        }]\r\n    });\r\n}\r\n\r\nfunction AddRemoveFooterButton() {\r\n    var footer = window.$(\"footer\");\r\n    if (footer.length == 0) {\r\n        return;\r\n    }\r\n    var navbarRight = footer[0].querySelector(\".navbar-right\");\r\n    if (!navbarRight) {\r\n        return;\r\n    }\r\n\r\n    var li = document.createElement(\"LI\");\r\n    li.style = \"border-left: 1px solid white;\"\r\n\r\n    var a = document.createElement(\"A\");\r\n    a.style = \"padding: 8px 10px 10px 10px;\";\r\n\r\n    var span = document.createElement(\"SPAN\");\r\n    span.style.fontSize = \"18px\";\r\n    span.className = \"glyphicon glyphicon-chevron-down white\";\r\n    \r\n    a.appendChild(span);\r\n    li.appendChild(a);\r\n\r\n    a.onclick = AskRemoval;\r\n\r\n    navbarRight.appendChild(li);\r\n\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:TranslationExtReady\", function() {\r\n        window.tippy(a, {\r\n            content: window.$.i18n(\"pc-footerremove-hover\"),\r\n            arrow: true,\r\n            inertia: true,\r\n            placement: \"auto\",\r\n            appendTo: window.document.body,\r\n            boundary: 'window',\r\n            getReferenceClientRect: window.document.body.getBoundingClientRect\r\n        });\r\n    })\r\n}\r\n\r\nif (window.$) {\r\n    RemoveFooter();\r\n    AddRemoveFooterButton();\r\n} else {\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n        RemoveFooter();\r\n        AddRemoveFooterButton();\r\n    });\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/footer_remover.js?");

/***/ }),

/***/ "./src/libraries/jquery_additions.js":
/*!*******************************************!*\
  !*** ./src/libraries/jquery_additions.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\n\r\n\r\n// Code from stackoverflow: https://stackoverflow.com/questions/15191058/css-rotation-cross-browser-with-jquery-animate\r\n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default().fn.animateRotate) = function(startAngle, endAngle, duration, easing, step, complete){\r\n\tconst _step = step || (_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default().noop);\r\n    return this.each(function(){\r\n        var elem = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default()(this);\r\n\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default()({deg: startAngle}).animate({deg: endAngle}, {\r\n            duration: duration,\r\n            easing: easing,\r\n            step: function(now){\r\n                elem.css({\r\n                  '-moz-transform':'rotateY('+now+'deg)',\r\n                  '-webkit-transform':'rotateY('+now+'deg)',\r\n                  '-o-transform':'rotateY('+now+'deg)',\r\n                  '-ms-transform':'rotateY('+now+'deg)',\r\n                  'transform':'rotateY('+now+'deg)'\r\n                });\r\n\t\t\t\t_step(now);\r\n            },\r\n            complete: complete || (_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default().noop)\r\n        });\r\n    });\r\n};\r\n\r\n/*\r\nfunction wrapFunction(original, n) {\r\n    return function() {\r\n        original(...arguments);\r\n        n(...arguments);\r\n    }\r\n}\r\n\r\nconst customPropStart = \"_custom_\";\r\n\r\nPrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n    var oldDraggable = window.$.fn.draggable;\r\n\r\n    window.$.fn.draggable = function(a, b, c, d) {\r\n        console.log(\"DRAGGABLE CALLED!\", a, b, c, d, this);\r\n        if ( a != \"option\" || (a == \"option\" && (c == null || c == undefined)) || (typeof a === 'object' && a !== null)) {\r\n            return oldDraggable.call(this, a, b, c, d);\r\n        }\r\n\r\n        var data = a;\r\n        if (a == \"option\") {\r\n            data = {[b]: c};\r\n        }\r\n        // Modify the input data somehow here!\r\n        for (var key in data) {\r\n            if (key.startsWith(customPropStart)) {\r\n                var originalName = key.substring(customPropStart.length);\r\n                data[originalName] = wrapFunction(data[originalName] || oldDraggable.call(this, \"option\", originalName) || function() {}, data[key]);\r\n            }\r\n        }\r\n        console.log(\"MODIFIED DATA\", data);\r\n        return oldDraggable.call(this, data);\r\n    }\r\n})\r\n*/\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/jquery_additions.js?");

/***/ }),

/***/ "./src/libraries/kromer_test.js":
/*!**************************************!*\
  !*** ./src/libraries/kromer_test.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\n\r\n(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.addSetting)({\r\n\t'key': 'kromer_test',\r\n\t'name': 'Kromer Test', // Name in settings page\r\n\t'note': 'Changes every instance of UCP to KROMER.',\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'disabled': false,\r\n\t'default': false, // default value\r\n\t'category': \"controversial\"\r\n});\r\n\r\nvar translationKeys = [\"item-ucp\", \"header-free-ucp\", \"shop-title\", \"quests-ucp\", \"settings-username-ucp\", \"packs-error-add\", \"reward-ucp\", \"cardskins-shop-confirm\"];\r\n\r\nfunction kromerify(lan) {\r\n\tvar obj = {};\r\n\tfor (var j=0; j < translationKeys.length; j++) {\r\n\t\tvar key = translationKeys[j];\r\n\t\tobj[key] = _utility__WEBPACK_IMPORTED_MODULE_0__.utility.toLocale(key, lan).replaceAll(\"UCP\", \"KROMER\");\r\n\t}\r\n\t//console.log(\"Translation changed!\", obj, lan);\r\n\twindow.$.i18n().load(obj, lan);\r\n}\r\n\r\nif (_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.settings.kromer_test.value()) {\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.on('translation:loaded', (data) => {\r\n\t\tkromerify(\"en\");\r\n\t\tvar lan = window.localStorage.getItem(\"language\");\r\n\t\tif (!lan) { // Should never happen, but . . . \r\n\t\t\tlan = window.getLanguage();\r\n\t\t}\r\n\t\tif (lan != \"en\") {\r\n\t\t\tkromerify(lan);\r\n\t\t}\r\n\t\t//$('[data-i18n=\"[html]item-ucp\"]').parent().each((_, e) => e.innerHTML = e.innerHTML.replace('UCP', 'KROMER'));\r\n\t\t$('body').i18n();\r\n\t\t$('[data-i18n-custom],[data-i18n-value],[data-i18n-title],[data-i18n-placeholder]').each(function () {translateElement($(this))});\r\n\r\n\t\tif (window.underscript.onPage(\"CosmeticsShop\")) {\r\n\t\t\t$('.ucp').parent().each(function() {\r\n\t\t\t\t[...this.childNodes]\r\n\t\t\t\t\t.filter(el => el.nodeType === 3) // Text nodes\r\n\t\t\t\t\t.each((el) => el.textContent = el.textContent.replace(ucp, kromer))\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\n\n//# sourceURL=webpack://prettycards/./src/libraries/kromer_test.js?");

/***/ }),

/***/ "./src/libraries/main_menu.js":
/*!************************************!*\
  !*** ./src/libraries/main_menu.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n\r\n\r\n\r\n\r\n\r\nvar credits = `\r\n\t<span style=\"font-size: 2em;\">General</span>\r\n\t<span>Uses Underscript's API.</span>\r\n\t<span>Feildmaster has been a MASSIVE help over the years and I cannot thank him enough! ^^</span>\r\n\t<span>Also huge thanks to the <span class=\"Translator\">Translator</span> and <span class=\"Artist\">Artist</span> teams for helping me out with certain features!</span>\r\n\r\n\t<span style=\"font-size: 2em;\">Card Theme Songs</span>\r\n\t<span>MysteryHD is the one who makes the audio files, I just paste them in and run a script. <img style=\"height:3em;\" src=\"images/emotes/Hue.png\"></span>\r\n\t<span>I could not have pulled this off without the help of HeavenlyFlower, who suggested a genious solution for non-Game pages.</span>\r\n\t\r\n\t<span style=\"font-size: 2em;\">Custom Cards</span>\r\n\t<span>Doki Doki Literature Club by <a href=\"http://teamsalvato.com/\" target=\"_blank\">Team Salvato</a></span>\r\n\t<span>Chibi MC sprite by <a href=\"https://www.deviantart.com/gyletotherescue/art/DDLC-MC-Chibi-Sprites-711310032\" target=\"_blank\">GyleToTheRescue on Deviantart</a></span>\r\n\t<span>MC SpriteSheet by <a href=\"https://www.deviantart.com/childish-n/art/DDLC-Protagonist-Sprite-715239172\" target=\"_blank\">Childish-N on Deviantart</a></span>\r\n\t<span>Amy Sprite Sheet by <a href=\"https://www.reddit.com/r/DDLC/comments/7qlzao/amy_sprite_sheet_for_those_who_wanted_it/\" target=\"_blank\">Meddy-sin on Reddit</a></span>\r\n\t<span>File Explorer/Character Folder artifact transparency fixed by @bantikat#6321 on Discord.</span>\r\n\t<br>\r\n\t<span>Battle Mew Mew theme by <a href=\"https://www.youtube.com/channel/UChAHYPBvyaQIpjyTSdQhOMQ\" target=\"_blank\">FalKKonE</a>. <a href=\"https://www.youtube.com/watch?v=jSozDtrESQE\" target=\"_blank\">Listen to the full remix here</a>.\r\n`\r\n\r\nfunction showCredits() {\r\n\tBootstrapDialog.show({\r\n\t\ttitle: \"PrettyCards Credits!\",\r\n\t\tmessage: credits,\r\n\t\tbuttons: [{\r\n\t\t\t\tlabel: \"Ok!\",\r\n\t\t\t\tcssClass: 'btn-primary us-normal',\r\n\t\t\t\taction(dialog) {\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t});\r\n}\r\n\r\nvar aprilFools = {\r\n\tmonth: 3,\r\n\tdate: 1\r\n}\r\n  \r\nfunction isItAprilFoolDay() {\r\n\tvar now = new Date();\r\n\treturn (now.getMonth() == aprilFools.month && now.getDate() == aprilFools.date);\r\n}\r\n\r\nfunction isItApril() {\r\n\tvar now = new Date();\r\n\treturn (now.getMonth() == aprilFools.month);\r\n}\r\n\r\nwindow.showPrettyCardsCredits = showCredits;\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_2__.ExecuteWhen)(\"PrettyCards:onPageLoad PrettyCards:TranslationExtReady\", function() {\r\n\tif (true) {\t\r\n\t\tvar x = $(document).width() - 450;\r\n\t\tvar y = 300;\r\n\t\t\r\n\t\t//<p style=\"color: grey\">More coming . . . Somewhen.</p>\r\n\t\tvar menuBase = window.$(`<div class=\"dropdown\" id=\"PrettyCards_MainMenu\">\r\n\t\t\t<button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">${window.$.i18n(\"pc-menu-title\")}</button>\r\n\t\t\t<div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\" style=\"padding: 3px 5px;\">\r\n\t\t\t\t<a><p style=\"cursor: pointer;\" onclick=\"showPrettyCardsCredits()\">${window.$.i18n(\"pc-menu-credits\")}</p></a>\r\n\t\t\t\t<a href=\"/CustomCardSkins\"><p style=\"cursor: pointer;\">${window.$.i18n(\"pc-menu-customcardskins\")}</p></a>\r\n\t\t\t\t<a href=\"/CustomCards\"><p style=\"cursor: pointer;\">${window.$.i18n(\"pc-menu-customcards\")}</p></a>\r\n\t\t\t\t${ (_utility__WEBPACK_IMPORTED_MODULE_1__.utility.getSeasonMonth() == 3) ? ('<a href=\"/SmashOrPass\"><p style=\"cursor: pointer; color: yellow;\">' + window.$.i18n(\"pc-menu-sop\") + '</p></a>') : \"\"}\r\n\t\t\t\t<a href=\"/CustomTranslations\" class=\"PrettyCards_Hidden Translator\"><p style=\"cursor: pointer;\">${window.$.i18n(\"pc-menu-customtranslate\")}</p></a>\r\n\t\t\t\t<a href=\"https://cmd-god.github.io/prettycards/artistConsole.html\" class=\"PrettyCards_Hidden Artist\"><p style=\"cursor: pointer;\">${window.$.i18n(\"pc-menu-customartistconsole\")}</p></a>\r\n\t\t\t\t<a href=\"https://github.com/CMD-God/prettycards/wiki\"><p style=\"cursor: pointer;\">${window.$.i18n(\"pc-menu-apidocs\")}</p></a>\r\n\t\t\t</div>\r\n\t\t</div>`)\r\n\r\n\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PC_Chat:getSelfInfos Chat:Connected\", function() {\r\n\t\t\tif (_utility__WEBPACK_IMPORTED_MODULE_1__.utility.translatorFeaturesAccess()) {\r\n\t\t\t\t$(\"#PrettyCards_MainMenu .Translator\").removeClass(\"PrettyCards_Hidden\");\r\n\t\t\t}\r\n\t\t\tif (_utility__WEBPACK_IMPORTED_MODULE_1__.utility.featuresAccessForGroupOnly(\"Artist\")) {\r\n\t\t\t\t$(\"#PrettyCards_MainMenu .Artist\").removeClass(\"PrettyCards_Hidden\");\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tvar isfadedIn = false;\r\n\t\t$(\"body\").mousemove(function (e) {\r\n\t\t\t//console.log(e);\r\n\t\t\tif (e.pageX >= x && e.pageY <= y) {\r\n\t\t\t\tif (!isfadedIn) {\r\n\t\t\t\t\tmenuBase.stop().fadeIn();\r\n\t\t\t\t\tisfadedIn = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (isfadedIn) {\r\n\t\t\t\t\tmenuBase.stop().fadeOut();\r\n\t\t\t\t\tisfadedIn = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\t$(\"body\").append(menuBase);\r\n\t}\r\n});\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n\t_utility__WEBPACK_IMPORTED_MODULE_1__.utility.loadCSSFromGH(\"Menu\");\r\n\tvar topAdvertClosed = (localStorage[\"prettycards.top_advert_closed\"] === 'true');\r\n\r\n\tfunction turnOffAdvert(forever = false) {\r\n\t\t$(\"#PrettyCards_TopAdvert\").remove();\r\n\t\t$(\"#PrettyCards_MainMenu\").css(\"top\", \"0px\");\r\n\t\tif (forever) {\r\n\t\t\tlocalStorage[\"prettycards.top_advert_closed\"] = true;\r\n\t\t}\r\n\t}\r\n\r\n\tif ( (!topAdvertClosed) && isItAprilFoolDay() && (!window.underscript.onPage(\"Game\")) && (!window.underscript.onPage(\"SmashOrPass\")) ) {\r\n\t\twindow.$(\"#PrettyCards_MainMenu\").css(\"top\", \"36px\");\r\n\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n\t\t\twindow.$(\"body\").prepend(`\r\n\t\t\t\t<div id=\"PrettyCards_TopAdvert\">\r\n\t\t\t\t\t<span>New! Undercards Smash or Pass Game!</span> <a href=\"/SmashOrPass\">Are you brave enough~?</a>\r\n\t\t\t\t\t<div id=\"PrettyCards_TopAdvert_CloseButtons\">\r\n\t\t\t\t\t\t<div id=\"PrettyCards_TopAdvert_CloseForever\">Don't Remind Me!</div>\r\n\t\t\t\t\t\t<div id=\"PrettyCards_TopAdvert_Close\">X</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`);\r\n\t\t\twindow.$(\"#PrettyCards_TopAdvert_Close\").click(function() {\r\n\t\t\t\tturnOffAdvert(false);\r\n\t\t\t})\r\n\t\t\twindow.$(\"#PrettyCards_TopAdvert_CloseForever\").click(function() {\r\n\t\t\t\tturnOffAdvert(true);\r\n\t\t\t})\r\n\t\t\t//window.scrollTo({ top: 0, behavior: 'smooth' });\r\n\t\t})\r\n\t}\r\n})\n\n//# sourceURL=webpack://prettycards/./src/libraries/main_menu.js?");

/***/ }),

/***/ "./src/libraries/mobile/navigation.js":
/*!********************************************!*\
  !*** ./src/libraries/mobile/navigation.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n\r\n// I REALLY need to make this more flexible!\r\n\r\n\r\n\r\n\r\n\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"translation:loaded\", function () {\r\n\tvar $ = window.$;\r\n});\r\n\r\nvar menu_data_nologin = {\r\n\t\"pc-navbar-home\" : \"/\",\r\n\t\"header-sign-in\" : \"SignIn\",\r\n\t\"header-register\" : \"SignUp\"\r\n}\r\n\r\nvar menu_data = {\r\n\t\"pc-navbar-home\" : \"/\",\r\n\t\"header-play\" : \"Play\",\r\n\t\"header-cards\" : {\r\n\t\t\"header-decks\" : \"Decks\",\r\n\t\t\"header-crafting\" : \"Crafting\",\r\n\t\t\"header-friendship\" : \"Friendship\",\r\n\t\t\"header-hub\" : \"Hub\"\r\n\t},\r\n\t\"header-shops\" : {\r\n\t\t\"header-packs ({packs})\" : \"Packs\",\r\n\t\t\"header-artifacts\": \"Artifacts\",\r\n\t\t\"header-card-skins\": \"CardSkinsShop\",\r\n\t\t\"header-your-shop\": '/CardSkinsShop?&discount',\r\n\t\t\"header-cosmetics\": \"CosmeticsShop\",\r\n\t\t\"item-ucp\": \"Shop\"\r\n\t},\r\n\t\"{quests}\" : \"Quests\"\r\n}\r\n\r\nvar user_menu_data = {\r\n\t\"header-profile\" : \"Profile\",\r\n\t\"header-history\" : \"History\",\r\n\t\"header-avatars\" : \"Avatars\",\r\n\t\"header-card-skins\" : \"CardSkins\",\r\n\t\"header-profile-skins\" : \"ProfileSkins\",\r\n\t\"header-frame-skins\" : \"FrameSkins\",\r\n\t\"header-settings\" : \"Settings\",\r\n\t\"pc-navbar-pcsettings\": \"js:prettycards.openSettings()\",\r\n\t\"header-translate\" : \"Translate\",\r\n\t\"pc-navbar-dc\" : \"Disconnect\"\r\n}\r\n\r\nvar footer_data = {\r\n\t'{friends}' : \"Friends\",\r\n\t'<span class=\"glyphicon glyphicon-comment blue\"></span>' : \"js:openChatsList()\",\r\n\t'<img src=\"/images/leaderboard.png\">' : \"/leaderboard.jsp\",\r\n\t'<img src=\"/images/friendship.png\">' : \"/friendshipLeaderboard.jsp\",\r\n\t'<img src=\"/images/social/discord.png\">' : \"https://discord.gg/wVmCQk6\",\r\n\t'<img src=\"/images/social/twitter.png\">' : \"https://twitter.com/undercardsgame\",\r\n\t'<img src=\"/images/social/facebook.png\">' : \"https://www.facebook.com/undercards\",\r\n\t'<img src=\"/images/social/reddit.png\">' : \"https://www.reddit.com/r/UnderCards\",\r\n\t'<img src=\"/images/social/wiki.png\">' : \"http://undercards.wikia.com/\",\r\n\t'<img src=\"./images/cardBacks/BASECardDETERMINATION.png\">' : \"https://undercard.feildmaster.com\"\r\n}\r\n\r\nvar footer_about_data = {\r\n\t'footer-about' : {\r\n\t\t'footer-staff' : \"Staff\",\r\n\t\t'footer-legal' : \"legal.jsp\",\r\n\t\t'<img alt=\"mail\" src=\"/images/social/gmail.png\"> footer-mail' : \"mailto:undercardsgame@gmail.com\"\r\n\t}\r\n}\r\n\r\n;(0,_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'mobile_mode',\r\n\t'name': 'Mobile Mode', // Name in settings page\r\n\t'note': 'Experimental feature to make the game more mobile-friendly.',\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'disabled': true,\r\n\t'default': () => window.mobile, // default value\r\n});\r\n\r\nfunction SetMobileView() {\r\n\t$(\"nav\").css(\"display\", \"none\");\r\n\t$(\"footer\").addClass(\"PrettyCards_Hidden\");\r\n\t//$(\".mainContent\").css(\"width\", \"100%\");\r\n\t\r\n\tvar temp = $('header').contents();\r\n\t//console.log(temp);\r\n\t$(\"header\").html(`<div class=\"PrettyCards_HeaderFlex\"><div id=\"PrettyCards_HeaderLeft\"></div><div id=\"PrettyCards_HeaderMid\"></div><div id=\"PrettyCards_HeaderRight\"></div></div>`);\r\n\t$(\"#PrettyCards_HeaderMid\").append(temp);\r\n\t\r\n\tvar menu_button = $('<button class=\"btn btn-outline-secondary PrettyCards_Mobile_HeaderButton\"><i class=\"glyphicon glyphicon-menu-hamburger\"></i></button>');\r\n\tmenu_button.click(function() {\r\n\t\t$(\"#PrettyCards_Mobile_NavBar\").toggleClass(\"PrettyCards_Hidden\");\r\n\t\t$(\"#PrettyCards_Mobile_NavBarBG\").toggleClass(\"PrettyCards_Hidden\");\r\n\t});\r\n\t$(\"#PrettyCards_HeaderLeft\").prepend(menu_button);\r\n\t\r\n\tvar menu_bg = $('<div id=\"PrettyCards_Mobile_NavBarBG\" class=\"PrettyCards_Hidden\"></div>');\r\n\tmenu_bg.click(function() {\r\n\t\t$(\"#PrettyCards_Mobile_NavBarBG\").addClass(\"PrettyCards_Hidden\");\r\n\t\t$(\"#PrettyCards_Mobile_NavBar\").addClass(\"PrettyCards_Hidden\");\r\n\t});\r\n\t$(\"body\").append(menu_bg);\r\n}\r\n\r\nfunction AddToggleFunctionTo(parent, child) {\r\n\tparent.click(function() {\r\n\t\tchild.toggleClass(\"PrettyCards_Hidden\");\r\n\t})\r\n}\r\n\r\nfunction ProcessName(name) {\r\n\tvar a = name.split(\" \");\r\n\tfor (var i=0; i < a.length; i++) {\r\n\t\ta[i] = $.i18n(a[i]);\r\n\t}\r\n\tvar b = a.join(\" \");\r\n\tb = b.replace(\"{packs}\", packs);\r\n\tb = b.replace(\"{quests}\", quests);\r\n\tb = b.replace(\"{friends}\", friends);\r\n\treturn b;\r\n}\r\n\r\nfunction ProcessLink(link) {\r\n\tvar isfunc = false;\r\n\tif (typeof(link) == \"string\") {\r\n\t\tisfunc = link.startsWith(\"js:\");\r\n\t\tlink = link.replace(\"js:\", \"\");\r\n\t}\r\n\treturn {link, isfunc};\r\n}\r\n\r\nfunction CreateSideBarPortion(obj, bg_color = \"#000000\", inline = false) {\r\n\tvar container = $(\"<div></div>\");\r\n\tcontainer.css(\"background-color\", bg_color);\r\n\tvar class_name = \"PrettyCards_NavBarItem\";\r\n\tif (inline) {\r\n\t\tclass_name += \" PrettyCards_NavBarInline\"\r\n\t}\r\n\tfor (var name in obj) {\r\n\t\tvar {link, isfunc} = ProcessLink(obj[name]);\r\n\t\tvar line;\r\n\t\tvar actual_name = ProcessName(name);\r\n\t\tif (actual_name.length > 0) {\r\n\t\t\tif (typeof(link) == \"string\") {\r\n\t\t\t\tvar txt = '<a href=\"' + link + '\">' + actual_name + '</a>';\r\n\t\t\t\tif (isfunc) {\r\n\t\t\t\t\ttxt = '<span onclick=\"' + link + '\">' + actual_name + '</span>';\r\n\t\t\t\t}\r\n\t\t\t\tline = $('<div class=\"' + class_name + '\">' + txt + '</div>');\r\n\t\t\t} else {\r\n\t\t\t\tline = $('<div class=\"' + class_name + '\"><span>' + actual_name + '</span></div>');\r\n\t\t\t\tvar cont = CreateSideBarPortion(link);\r\n\t\t\t\tcont.addClass(\"PrettyCards_Hidden\");\r\n\t\t\t\tAddToggleFunctionTo(line.find(\"span\"), cont);\r\n\t\t\t\tline.append(cont);\r\n\t\t\t}\r\n\t\t\tcontainer.append(line);\r\n\t\t}\r\n\t}\r\n\treturn container;\r\n}\r\n\r\nvar packs;\r\nvar quests;\r\nvar friends;\r\n\r\nfunction CreateSideNavMenu() {\r\n\tfriends = window.selfId ? '<span class=\"glyphicon glyphicon-user green\"></span>' : \"\";\r\n\t\r\n\t$(\"#PrettyCards_Mobile_NavBar\").remove();\r\n\tvar menu_obj = $('<div id=\"PrettyCards_Mobile_NavBar\" class=\"PrettyCards_Hidden\"></div>');\r\n\tmenu_obj.append(CreateSideBarPortion(window.selfId ? menu_data : menu_data_nologin));\r\n\t$(\"body\").append(menu_obj);\r\n\t\r\n\tif (window.selfId) {\r\n\t\tvar user_menu = CreateSideBarPortion(user_menu_data, \"#333333\");\r\n\t\tuser_menu.addClass(\"PrettyCards_Hidden\");\r\n\t\tmenu_obj.prepend(user_menu);\r\n\t\t\r\n\t\tvar avatar = $(\"nav .avatar\")[0];\r\n\t\tvar gold = $(\"#golds\").text();\r\n\t\tvar ucp = $(\"#ucp\").text();\r\n\t\t//console.log(\"AVATAR\", avatar);\r\n\t\tvar user_part = $(`<div>DATA_PULL_ERROR</div>`);\r\n\t\tif (avatar && gold && ucp) {\r\n\t\t\tuser_part = $(`\r\n\t\t\t<table class=\"PrettyCards_NavBarProfile\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td rowspan=\"2\"><img class=\"${avatar.className}\" src=\"${avatar.src}\"></td>\r\n\t\t\t\t\t<td>${selfUsername}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>(<span class=\"yellow\">${gold}</span> <img src=\"images/icons/gold.png\" class=\"height-32\"> / <span class=\"ucp\">${ucp}</span> ${$.i18n(\"item-ucp\")})</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t`);\r\n\t\t}\r\n\t\t\r\n\t\tuser_part.click(function() {\r\n\t\t\tuser_menu.toggleClass(\"PrettyCards_Hidden\");\r\n\t\t})\r\n\t\tmenu_obj.prepend(user_part);\r\n\t}\r\n\t\r\n\tmenu_obj.append('<div class=\"PrettyCards_Divider\"></div>');\r\n\tmenu_obj.append(CreateSideBarPortion(footer_data, \"#000000\", true));\r\n\tmenu_obj.append(CreateSideBarPortion(footer_about_data));\r\n\tmenu_obj.append('<div class=\"PrettyCards_NavBarCopyright\">Undercards  2021<br>' + $.i18n(\"footer-copyright\") + '</div>');\r\n}\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.prettycards.openSettings = function() {\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.turn_off.show(); // Temporary solution. Works with any setting.\r\n}\r\n\r\n;(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"PrettyCards:onPageLoad\", function() {\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_2__.utility.loadCSSFromGH(\"Mobile_Sidebar\");\r\n})\r\n\r\nif (!underscript.onPage(\"Game\") && _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.mobile_mode.value()) {\r\n\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"PrettyCards:onPageLoad PrettyCards:TranslationExtReady\", function() {\r\n\t\tpacks = $(\".nbPacksHeader\").text();\r\n\t\tquests = $(\"a[href=Quests]\").text();\r\n\t\tSetMobileView();\r\n\t\tCreateSideNavMenu();\r\n\t\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"Chat:Connected\", function () {\r\n\t\t\tCreateSideNavMenu();\r\n\t\t});\r\n\t})\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/mobile/navigation.js?");

/***/ }),

/***/ "./src/libraries/pack_open_anim_manager.js":
/*!*************************************************!*\
  !*** ./src/libraries/pack_open_anim_manager.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"StartOpenPackAnimation\": () => (/* binding */ StartOpenPackAnimation)\n/* harmony export */ });\n/* harmony import */ var _underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _libraries_pack_open_animation_templates_normal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../libraries/pack_open_animation_templates/normal.js */ \"./src/libraries/pack_open_animation_templates/normal.js\");\n/* harmony import */ var _libraries_pack_open_animation_templates_onu_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../libraries/pack_open_animation_templates/onu.js */ \"./src/libraries/pack_open_animation_templates/onu.js\");\n/* harmony import */ var _src_page_specific_packs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/page_specific/packs.js */ \"./src/page_specific/packs.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on('openedPacks', function (open_data) {\r\n\t//console.log(open_data, window.PrettyCards_pack_being_opened);\r\n\twindow.PrettyCards_pack_being_opened.amount -= open_data.count;\r\n\t(0,_src_page_specific_packs_js__WEBPACK_IMPORTED_MODULE_3__.GetPageTemplateByName)(_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.packs_page_template.value() || _src_page_specific_packs_js__WEBPACK_IMPORTED_MODULE_3__.settingsoptions[0]).updatePackCount(window.PrettyCards_pack_being_opened.code_id);\r\n\tStartOpenPackAnimation(window.PrettyCards_pack_being_opened, open_data.cards);\r\n\tthis.canceled = true;\r\n});\r\n\r\nvar currAnim = _libraries_pack_open_animation_templates_normal_js__WEBPACK_IMPORTED_MODULE_1__.NormalPackOpenAnimation;\r\nvar anims = [_libraries_pack_open_animation_templates_normal_js__WEBPACK_IMPORTED_MODULE_1__.NormalPackOpenAnimation, _libraries_pack_open_animation_templates_onu_js__WEBPACK_IMPORTED_MODULE_2__.OnuPackOpenAnimation];\r\n\r\nvar animsettingsoptions = [];\r\nvar settingsnote = \"Select the pack opening animation!\";\r\n\r\nfor (var i=0; i < anims.length; i++) {\r\n\tanimsettingsoptions[i] = anims[i].displayName;\r\n\tsettingsnote += (\"<br>\" + anims[i].displayName + \": \" + anims[i].description);\r\n}\r\n\r\nfunction GetAnimByName(name) {\r\n\tfor (var i=0; i < anims.length; i++) {\r\n\t\tif (anims[i].displayName == name) {\r\n\t\t\treturn anims[i];\r\n\t\t}\r\n\t}\r\n\tconsole.error(\"Cannot find Pack Open Animation Template with name \", name);\r\n\treturn null;\r\n}\r\n\r\nfunction ChangeTemplate(newname, oldname) {\r\n\tcurrAnim = GetAnimByName(newname);\r\n}\r\n\r\n(0,_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n\t'key': 'packs_animation_template', // key\r\n\t'name': 'Pack Opening Animation', // Name in settings page\r\n\t'type': 'select',\r\n\t'note': settingsnote, // Show note when hovering over setting\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t//'disabled': boolean or `function(): boolean`, // true to disable setting\r\n\t'default': animsettingsoptions[0], // default value\r\n\t'options': animsettingsoptions, // Options for type 'select'\r\n\t'refresh': false,\r\n\t'reset': true, // Adds a reset button (sets to default)\r\n\t'onChange': ChangeTemplate, // called when value is changed\r\n\t'category': \"packs\"\r\n});\r\n\r\nChangeTemplate(_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.packs_animation_template.value() || animsettingsoptions[0], null);\r\n\r\nfunction StartOpenPackAnimation(pack_data, open_data) {\r\n\tvar pack_image = document.createElement(\"IMG\");\r\n\tpack_image.className = \"PrettyCards_AnimationPack\";\r\n\tpack_image.src = pack_data.image;\r\n\t\r\n\t//console.log(open_data);\r\n\t//console.log(JSON.stringify(open_data));\r\n\t\r\n\tvar viewportOffset = document.querySelector(\".PrettyCards_PackCell[data-packid=\"+ pack_data.code_id +\"] .PrettyCards_InvisiblePack\").getBoundingClientRect();\r\n\t//console.log(\"viewportOffset\", viewportOffset);\r\n\t\r\n\tpack_image.style.top = (viewportOffset.top /*+ window.scrollY*/) + \"px\";\r\n\tpack_image.style.left = (viewportOffset.left /*+ window.scrollX*/) + \"px\";\r\n\tpack_image.style.width = viewportOffset.width + \"px\";\r\n\t\r\n\tdocument.getElementById(\"PrettyCards_PackOpenContent\").appendChild(pack_image);\r\n\t\r\n\tcurrAnim.OnPackMoveBegin((window.innerWidth-viewportOffset.width)/2, (window.innerHeight-viewportOffset.height)/2, pack_data, open_data);\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/pack_open_anim_manager.js?");

/***/ }),

/***/ "./src/libraries/pack_open_animation_templates/base.js":
/*!*************************************************************!*\
  !*** ./src/libraries/pack_open_animation_templates/base.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PackOpenAnimationTemplate\": () => (/* binding */ PackOpenAnimationTemplate)\n/* harmony export */ });\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../rarity_icons.js */ \"./src/libraries/rarity_icons.js\");\n/* harmony import */ var _src_libraries_flippable_card_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/flippable_card.js */ \"./src/libraries/flippable_card.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass PackOpenAnimationTemplate {\r\n\t\r\n\tconstructor() {\r\n\t\tthis.clicks_to_break = 1;\r\n\t\tthis.current_click = 0;\r\n\t\tthis.pack_data;\r\n\t\tthis.card_data;\r\n\t\tthis.cards = [];\r\n\t\tthis.flipCards = [];\r\n\t\tthis.displayName = \"Base\";\r\n\t\tthis.description = \"You shouldn't be able to see this!\";\r\n\t\tthis.hasSkipButton = false;\r\n\t\tthis.audio = new Audio();\r\n\t}\r\n\t\r\n\t// Events\r\n\tOnPackMoveBegin(moveto_x, moveto_y, pack_data, card_data) {\r\n\t\t//console.log(\"Animation Begins!\");\r\n\t\tthis.pack_data = pack_data;\r\n\t\tthis.AnalyzeCards(card_data); // refreshes and initializes this.cards\r\n\t\tthis.flipCards = [];\r\n\t\tthis.current_click = 0;\r\n\t\tthis.cardsSpawned = false;\r\n\t\tthis.glideTimeouts = [];\r\n\t\tvar cont = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\"#PrettyCards_PackOpenContent\");\r\n\t\tcont.css(\"display\", \"block\");\r\n\t\t\r\n\t\tcont.css(\"backgroundColor\", 'rgba(0,0,0,0)');\r\n\t\twindow.$(\"#PrettyCards_PackOpenContent\").animate({backgroundColor: 'rgba(0,0,0,1)'}, 1000, \"swing\", function() {}); // This is because the page has Jquery UI installed, something I am personally too lazy to do :P\r\n\t\t\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\".PrettyCards_AnimationPack\").animate({top: (moveto_y + \"px\"), left: (moveto_x + \"px\")}, 1000, \"swing\", this.OnPackMoveFinish.bind(this));\r\n\r\n\t\tif (this.hasSkipButton) {\r\n\t\t\tthis.button = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(`<button class=\"btn btn-primary PrettyCards_PacksSkipButton\">${window.$.i18n(\"pc-navigate-skip\")}</button>`);\r\n\t\t\tcont.append(this.button);\r\n\t\t\tthis.button.click(function(e) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\t//button.unbind(\"click\");\r\n\t\t\t\tthis.button.remove();\r\n\t\t\t\tthis.onSkipButtonPressed(e);\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t}\r\n\t\r\n\tOnPackMoveFinish() {\r\n\t\t//console.log(\"Pack Move Animation Finished.\");\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\".PrettyCards_AnimationPack\").addClass(\"PrettyCards_Floating\");\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\"#PrettyCards_PackOpenContent\").click(this.OnBeforeBreakClick.bind(this));\r\n\t}\r\n\t\r\n\tOnBeforeBreakClick() {\r\n\t\tthis.current_click++;\r\n\t\tif (this.current_click >= this.clicks_to_break) {\r\n\t\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\"#PrettyCards_PackOpenContent\").unbind(\"click\");\r\n\t\t\tthis.OnPackBreakBegin();\r\n\t\t} else {\r\n\t\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\".PrettyCards_AnimationPack\").removeClass(\"PrettyCards_Floating\");\r\n\t\t\twindow.$(\".PrettyCards_AnimationPack\").effect(\"shake\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tOnPackBreakBegin() {\r\n\t\tthis.SpawnCards();\r\n\t\t\r\n\t\tvar parts = this.RipPackHorizontally();\r\n\t\tthis.up = parts[0];\r\n\t\tthis.down = parts[1];\r\n\t\t\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(this.up).animate({top: \"-=30%\", opacity: \"0\"}, 800, \"swing\");\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(this.down).animate({top: \"+=30%\", opacity: \"0\"}, 800, \"swing\", this.OnPackBreakFinish.bind(this));\r\n\t}\r\n\t\r\n\tOnPackBreakFinish() {\r\n\t\t//console.log(\"BreakAnimationFinished!\");\r\n\t\tthis.up.remove();\r\n\t\tthis.down.remove();\r\n\t\t\r\n\t\tthis.cards_finished_gliding = 0;\r\n\t\tconst time_between_glides = 1500 / this.flipCards.length;\r\n\t\tconst glide_callback = this.OnCardFinishedGliding.bind(this);\r\n\t\tfor (var i=0; i < this.flipCards.length; i++) {\r\n\t\t\tconst flipcard = this.flipCards[i];\r\n\t\t\tthis.glideTimeouts.push(setTimeout(function() {flipcard.glideTo(200, window.innerHeight/2, 500, glide_callback)}, (i+1)*time_between_glides));\r\n\t\t}\r\n\t}\r\n\r\n\tcancelGlideTimeouts() {\r\n\t\tthis.glideTimeouts.forEach(function(e) {\r\n\t\t\tclearTimeout(e);\r\n\t\t})\r\n\t}\r\n\t\r\n\tOnCardFinishedGliding() {\r\n\t\tthis.cards_finished_gliding++;\r\n\t\tif (this.cards_finished_gliding >= this.flipCards.length) {\r\n\t\t\t//console.log(\"Gliding finished!\");\r\n\t\t\tthis.OnFinishedGliding();\r\n\t\t}\r\n\t}\r\n\t\r\n\tOnFinishedGliding() {\r\n\t\tthis.card_viewed = -1;\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\"#PrettyCards_PackOpenContent\").click(this.OnNextCard.bind(this));\r\n\t\tthis.OnNextCard();\r\n\t}\r\n\t\r\n\tOnNextCard() {\r\n\t\tif (this.card_viewed >= this.flipCards.length) {return;}\r\n\t\t\r\n\t\tvar callback = function() {};\r\n\t\tif (this.card_viewed == this.flipCards.length-1) {\r\n\t\t\tcallback = function() {\r\n\t\t\t\tthis.OnCardViewFinish();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (this.card_viewed >= 0) {\r\n\t\t\tthis.flipCards[this.card_viewed].glideTo(window.innerWidth/2, window.innerHeight + 600, 500, callback.bind(this));\r\n\t\t\tthis.flipCards[this.card_viewed].scaleTo(1, 500);\r\n\t\t}\r\n\t\tthis.card_viewed++;\r\n\t\tif (this.card_viewed >= this.flipCards.length) {return;}\r\n\t\t\r\n\t\tthis.flipCards[this.card_viewed].glideTo(window.innerWidth/2, window.innerHeight/2, 500);\r\n\t\tthis.flipCards[this.card_viewed].scaleTo(1.5, 500);\r\n\t\tthis.flipCards[this.card_viewed].flipToFace(500);\r\n\t\tthis.flipCards[this.card_viewed].playJingle();\r\n\t}\r\n\t\r\n\tOnCardViewFinish() {\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\"#PrettyCards_PackOpenContent\").unbind(\"click\");\r\n\t\t//console.log(\"Card View Finish!\");\r\n\t\tthis.OnCardSummary();\r\n\t\t\r\n\t}\r\n\t\r\n\tOnCardSummary() {\r\n\t\tif (this.button) {\r\n\t\t\tthis.button.remove();\r\n\t\t}\r\n\t\tconst self = this;\r\n\t\tconst container = document.createElement(\"DIV\");\r\n\t\tcontainer.className = \"PrettyCards_CardSummary\";\r\n\t\t\r\n\t\tvar containerTitle = document.createElement(\"P\");\r\n\t\tcontainerTitle.innerHTML = window.$.i18n(\"pc-packs-summary\");\r\n\t\tcontainerTitle.className = \"PrettyCards_CardSummaryTitle\";\r\n\t\tcontainer.appendChild(containerTitle);\r\n\t\t\r\n\t\tfor (var i=0; i < this.flipCards.length; i++) {\r\n\t\t\tvar flipcard = this.flipCards[i];\r\n\t\t\tflipcard.scaleTo(1, 0);\r\n\t\t\tflipcard.flipToFace(0);\r\n\t\t\tflipcard.appendTo(container);\r\n\t\t\t\r\n\t\t\tflipcard.makeIntoSummaryCard();\r\n\t\t}\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\"#PrettyCards_PackOpenContent\").append(container);\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(container).animate({top: \"0px\"}, {\r\n\t\t\tduration: 500, \r\n\t\t\teasing: \"swing\",\r\n\t\t\tcomplete: function() {_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(container).click(self.OnExitFade.bind(self));}\r\n\t\t});\r\n\t\t//console.log(\"Card Summary Container\", container);\r\n\t}\r\n\t\r\n\tOnExitFade(e) {\r\n\t\tif (!_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(e.target).is(\".PrettyCards_CardSummary\")) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\"#PrettyCards_PackOpenContent\").animate({opacity: \"0\"}, {\r\n\t\t\tduration: 1000, \r\n\t\t\teasing: \"swing\",\r\n\t\t\tcomplete: this.OnExit.bind(this)\r\n\t\t});\r\n\t}\r\n\t\r\n\tOnExit() {\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\"#PrettyCards_PackOpenContent\").unbind(\"click\").html(\"\").css(\"display\", \"none\").css(\"opacity\", \"1\");\r\n\t}\r\n\t\r\n\t// Utility Functions\r\n\tRipPackHorizontally() {\r\n\t\tvar anim_pack = document.getElementsByClassName(\"PrettyCards_AnimationPack\")[0];\r\n\t\tvar anim_pack_rect = anim_pack.getBoundingClientRect();\r\n\t\t\r\n\t\tvar up = document.createElement(\"DIV\");\r\n\t\tup.className = \"PrettyCards_RippedPack_Up PrettyCards_RippedPack\";\r\n\t\tup.style.backgroundImage = \"url(\" + this.pack_data.image_without_extension + this.pack_data.image_extension + \")\";\r\n\t\tup.style.top = (window.innerHeight/2 - anim_pack_rect.height/2) + \"px\";\r\n\t\tup.style.left = (window.innerWidth/2 - anim_pack_rect.width/2) + \"px\";\r\n\t\tup.style.width = anim_pack_rect.width + \"px\";\r\n\t\tup.style.height = anim_pack_rect.height + \"px\";\r\n\t\tdocument.getElementById(\"PrettyCards_PackOpenContent\").appendChild(up);\r\n\t\t\r\n\t\tvar down = document.createElement(\"DIV\");\r\n\t\tdown.className = \"PrettyCards_RippedPack_Down PrettyCards_RippedPack\";\r\n\t\tdown.style.backgroundImage = \"url(\" + this.pack_data.image_without_extension + this.pack_data.image_extension + \")\";\r\n\t\tdown.style.top = (window.innerHeight/2 - anim_pack_rect.height/2) + \"px\";\r\n\t\tdown.style.left = (window.innerWidth/2 - anim_pack_rect.width/2) + \"px\";\r\n\t\tdown.style.width = anim_pack_rect.width + \"px\";\r\n\t\tdown.style.height = anim_pack_rect.height + \"px\";\r\n\t\tdocument.getElementById(\"PrettyCards_PackOpenContent\").appendChild(down);\r\n\t\t\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\".PrettyCards_AnimationPack\").css(\"opacity\", 0);\r\n\t\t\r\n\t\treturn [up, down];\r\n\t}\r\n\t\r\n\tRipPackVertically() {\r\n\t\tvar anim_pack = document.getElementsByClassName(\"PrettyCards_AnimationPack\")[0];\r\n\t\tvar anim_pack_rect = anim_pack.getBoundingClientRect();\r\n\t\t\r\n\t\tvar left = document.createElement(\"DIV\");\r\n\t\tleft.className = \"PrettyCards_RippedPack_Left PrettyCards_RippedPack\";\r\n\t\tleft.style.backgroundImage = \"url(\" + this.pack_data.image_without_extension + this.pack_data.image_extension + \")\";\r\n\t\tleft.style.top = (window.innerHeight/2 - anim_pack_rect.height/2) + \"px\";\r\n\t\tleft.style.left = (window.innerWidth/2 - anim_pack_rect.width/2) + \"px\";\r\n\t\tleft.style.width = anim_pack_rect.width + \"px\";\r\n\t\tleft.style.height = anim_pack_rect.height + \"px\";\r\n\t\tdocument.getElementById(\"PrettyCards_PackOpenContent\").appendChild(left);\r\n\t\t\r\n\t\tvar right = document.createElement(\"DIV\");\r\n\t\tright.className = \"PrettyCards_RippedPack_Left PrettyCards_RippedPack\";\r\n\t\tright.style.backgroundImage = \"url(\" + this.pack_data.image_without_extension + this.pack_data.image_extension + \")\";\r\n\t\tright.style.top = (window.innerHeight/2 - anim_pack_rect.height/2) + \"px\";\r\n\t\tright.style.left = (window.innerWidth/2 - anim_pack_rect.width/2) + \"px\";\r\n\t\tright.style.width = anim_pack_rect.width + \"px\";\r\n\t\tright.style.height = anim_pack_rect.height + \"px\";\r\n\t\tdocument.getElementById(\"PrettyCards_PackOpenContent\").appendChild(right);\r\n\t\t\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\".PrettyCards_AnimationPack\").css(\"opacity\", 0);\r\n\t\t\r\n\t\treturn [left, right];\r\n\t}\r\n\t\r\n\tAnalyzeCards(card_data) {\r\n\t\tvar card_lists = {};\r\n\t\tfor (var i=0; i < _rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__.rarities.length; i++) {\r\n\t\t\tcard_lists[_rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__.rarities[i]] = {};\r\n\t\t}\r\n\t\t\r\n\t\tfor (var i=0; i < card_data.length; i++) {\r\n\t\t\tvar card = card_data[i];\r\n\t\t\tvar numbers = card_lists[card.rarity][card.id];\r\n\t\t\tif (!numbers) {\r\n\t\t\t\tcard_lists[card.rarity][card.id] = {normal: 0, shiny: 0, id: card.id};\r\n\t\t\t\tnumbers = card_lists[card.rarity][card.id];\r\n\t\t\t}\r\n\t\t\tif (card.shiny) {\r\n\t\t\t\tnumbers.shiny += card.quantity || 1;\r\n\t\t\t} else {\r\n\t\t\t\tnumbers.normal += card.quantity || 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.cards = [];\r\n\t\tfor (var i=0; i < _rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__.rarities.length; i++) {\r\n\t\t\tvar card_list = card_lists[_rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__.rarities[i]];\r\n\t\t\tfor (var id in card_list) {\r\n\t\t\t\tvar card_nr_data = card_list[id];\r\n\t\t\t\tvar card = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.completeCopy(window.getCard(card_nr_data.id));\r\n\t\t\t\tcard.quantity = card_nr_data.normal;\r\n\t\t\t\tcard.quantityShiny = card_nr_data.shiny;\r\n\t\t\t\tif (card_nr_data.shiny > 0) {\r\n\t\t\t\t\tcard.shiny = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.cards.push(card);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//console.log(\"Sorted cards! \", this.cards);\r\n\t\t\r\n\t}\r\n\t\r\n\tSpawnCards() {\r\n\t\tthis.cardsSpawned = true;\r\n\t\tfor (var i=this.cards.length-1; i >= 0; i--) {\r\n\t\t\tvar flipcard = new _src_libraries_flippable_card_js__WEBPACK_IMPORTED_MODULE_3__.FlippableCard(this.cards[i], false);\r\n\t\t\tflipcard.appendTo(document.getElementById(\"PrettyCards_PackOpenContent\"));\r\n\t\t\tflipcard.moveTo(window.innerWidth/2, window.innerHeight/2);\r\n\t\t\tthis.flipCards.unshift(flipcard);\r\n\t\t}\r\n\t\t//console.log(\"flipCards initialized! \", this.flipCards);\r\n\t}\r\n\r\n\tonSkipButtonPressed(event) {\r\n\t\t// An event that is fired whenever the skip button is pressed.\r\n\t}\r\n\t\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/pack_open_animation_templates/base.js?");

/***/ }),

/***/ "./src/libraries/pack_open_animation_templates/normal.js":
/*!***************************************************************!*\
  !*** ./src/libraries/pack_open_animation_templates/normal.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NormalPackOpenAnimation\": () => (/* binding */ NormalPackOpenAnimation)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./src/libraries/pack_open_animation_templates/base.js\");\n\r\n\r\n\r\nclass NormalPackOpenAnimationTemplate extends _base_js__WEBPACK_IMPORTED_MODULE_0__.PackOpenAnimationTemplate {\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.displayName = \"Default\";\r\n\t\tthis.description = \"The default pack open animation. It is very much similar to the one in the previous version.\";\r\n\t\tthis.hasSkipButton = true;\r\n\t}\r\n\t\r\n\tonSkipButtonPressed(e) {\r\n\t\t$(\".PrettyCards_AnimationPack\").stop().remove();\r\n\t\tif (this.up) {\r\n\t\t\tthis.up.remove();\r\n\t\t\tthis.down.remove();\r\n\t\t}\r\n\t\tif (!this.cardsSpawned) {\r\n\t\t\tthis.SpawnCards();\r\n\t\t}\r\n\t\tthis.cancelGlideTimeouts();\r\n\t\tthis.OnCardViewFinish();\r\n\t}\r\n\t\r\n}\r\n\r\nvar NormalPackOpenAnimation = new NormalPackOpenAnimationTemplate();\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/pack_open_animation_templates/normal.js?");

/***/ }),

/***/ "./src/libraries/pack_open_animation_templates/onu.js":
/*!************************************************************!*\
  !*** ./src/libraries/pack_open_animation_templates/onu.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OnuPackOpenAnimation\": () => (/* binding */ OnuPackOpenAnimation)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./src/libraries/pack_open_animation_templates/base.js\");\n/* harmony import */ var _src_libraries_flippable_card_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/flippable_card.js */ \"./src/libraries/flippable_card.js\");\n\r\n\r\n\r\n\r\nclass OnuPackOpenAnimationTemplate extends _base_js__WEBPACK_IMPORTED_MODULE_0__.PackOpenAnimationTemplate {\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.displayName = \"Onu\";\r\n\t\tthis.description = \"For those who like clicking the cards themselves, but still think the original pack opening is a chore.\";\r\n\t}\r\n\t\r\n\tOnPackBreakFinish() {\r\n\t\t//console.log(\"BreakAnimationFinished!\");\r\n\t\tthis.up.remove();\r\n\t\tthis.down.remove();\r\n\t\t\r\n\t\tthis.cards_finished_gliding = 0;\r\n\t\tconst time_between_glides = 1500 / this.flipCards.length;\r\n\t\tconst glide_callback = this.OnCardFinishedGliding.bind(this);\r\n\t\tfor (var i=0; i < this.flipCards.length; i++) {\r\n\t\t\tconst flipcard = this.flipCards[i];\r\n\t\t\tsetTimeout(function() {flipcard.glideTo(window.innerWidth/2, window.innerHeight + 600, 500, glide_callback)}, (i+1)*time_between_glides);\r\n\t\t}\r\n\t}\r\n\t\r\n\tOnFinishedGliding() {\r\n\t\t$(\"#PrettyCards_PackOpenContent\").click(this.OnNextCard.bind(this));\r\n\t\tthis.OnCardViewFinish();\r\n\t\tfor (var i=0; i < this.flipCards.length; i++) {\r\n\t\t\tconst flipcard = this.flipCards[i];\r\n\t\t\tflipcard.flipToBack(0);\r\n\t\t\t$(flipcard.container).click(function() {\r\n\t\t\t\tflipcard.flipToFace(500);\r\n\t\t\t\tflipcard.playJingle();\r\n\t\t\t\t$(flipcard.container).unbind(\"click\");\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tSpawnCards() {\r\n\t\tfor (var i=this.cards.length-1; i >= 0; i--) {\r\n\t\t\tvar flipcard = new _src_libraries_flippable_card_js__WEBPACK_IMPORTED_MODULE_1__.FlippableCard(this.cards[i], true);\r\n\t\t\tflipcard.appendTo(document.getElementById(\"PrettyCards_PackOpenContent\"));\r\n\t\t\tflipcard.moveTo(window.innerWidth/2, window.innerHeight/2);\r\n\t\t\tthis.flipCards.unshift(flipcard);\r\n\t\t}\r\n\t\t//console.log(\"flipCards initialized! \", this.flipCards);\r\n\t}\r\n\t\r\n}\r\n\r\nvar OnuPackOpenAnimation = new OnuPackOpenAnimationTemplate();\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/pack_open_animation_templates/onu.js?");

/***/ }),

/***/ "./src/libraries/packs_page_templates/base.js":
/*!****************************************************!*\
  !*** ./src/libraries/packs_page_templates/base.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PacksPageTemplate\": () => (/* binding */ PacksPageTemplate)\n/* harmony export */ });\n/* harmony import */ var _libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../libraries/page_getters.js */ \"./src/libraries/page_getters.js\");\n\r\n\r\n\r\n// This is the parent class.\r\n\r\nclass PacksPageTemplate {\r\n\t\r\n\tconstructor() {\r\n\t\tthis.displayName = \"Base\";\r\n\t\tthis.description = \"This should not be visible!\";\r\n\t\tthis.packs_data2 = {};\r\n\t}\r\n\t\r\n\tpageAdditions() { // Required\r\n\t\treturn `\r\n\t\t\t<div class=\"PrettyCards_PacksRow\">\r\n\t\t\t\t<div class=\"PrettyCards_PackCell\" data-packid=\"Pack\"></div>\r\n\t\t\t\t<div class=\"PrettyCards_PackCell\" data-packid=\"DRPack\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"PrettyCards_PackSpacer\"></div>\r\n\t\t\t<div class=\"PrettyCards_PacksRow\">\r\n\t\t\t\t<div class=\"PrettyCards_PackCell\" data-packid=\"ShinyPack\"></div>\r\n\t\t\t\t<div class=\"PrettyCards_PackCell\" data-packid=\"SuperPack\"></div>\r\n\t\t\t\t<div class=\"PrettyCards_PackCell\" data-packid=\"FinalPack\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"PrettyCards_PackSpacer\"></div>\r\n\t\t`;\r\n\t}\r\n\t\r\n\tgenerateBuyRow(pack_data) { // Required?\r\n\t\treturn `\r\n\t\t\t<input type=\"number\" class=\"PrettyCards_PackBuyCount\" data-packid=\"${pack_data.code_id}\" value=\"1\" min=\"1\" pattern=\"[0-9]\">\r\n\t\t\tx <button class=\"PrettyCards_PackGBuy btn-primary\" data-packid=\"${pack_data.code_id}\">${window.$.i18n(\"pc-packs-buy\")} (<span class=\"PrettyCards_PackGPrice\" data-packid=\"${pack_data.code_id}\">100</span> <img src=\"images/icons/gold.png\" class=\"height-16\">)</button>\r\n\t\t\t<button class=\"PrettyCards_PackUcpBuy btn-primary\" data-packid=\"${pack_data.code_id}\">${window.$.i18n(\"pc-packs-buy\")} (<span class=\"ucp PrettyCards_PackUcpPrice\" data-packid=\"${pack_data.code_id}\">10</span> UCP)</button>\r\n\t\t`;\r\n\t}\r\n\t\r\n\tgenerateOpenRow(pack_data) { // Required?\r\n\t\treturn `\r\n\t\t\t<input type=\"number\" class=\"PrettyCards_PackOpenCount\" data-packid=\"${pack_data.code_id}\" value=\"1\" min=\"1\" pattern=\"[0-9]\">\r\n\t\t\tx <button class=\"PrettyCards_PackOpen btn-primary\" data-packid=\"${pack_data.code_id}\">${window.$.i18n(\"pc-packs-open\")} <span class=\"PrettyCards_PackOpenCountButton\" data-packid=\"${pack_data.code_id}\">1</span></button>\r\n\t\t`;\r\n\t}\r\n\t\r\n\tgeneratePack(pack_data) { // Required\r\n\t\tvar buystr = (pack_data.does_exist && (pack_data.g_cost > -1)) ? this.generateBuyRow(pack_data) : window.$.i18n(\"pc-packs-cannotbuy\");\r\n\t\tvar openstr = pack_data.does_exist ? this.generateOpenRow(pack_data) : window.$.i18n(\"pc-packs-cannotopen\");\r\n\t\treturn `\r\n\t\t<div class=\"PrettyCards_PackContainer\">\r\n\t\t\t<div class=\"PrettyCards_FloatingPack\">\r\n\t\t\t\t<div class=\"PrettyCards_FloatingPackImage\" style=\"background-image: url(${pack_data.image})\">\r\n\t\t\t\t\t<img src=\"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Packs/UndertalePack.png\" class=\"PrettyCards_InvisiblePack\">\r\n\t\t\t\t\t<div class=\"PrettyCards_PackAmount\">${pack_data.amount}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"PrettyCards_PackText\">\r\n\t\t\t\t<div class=\"PrettyCards_PackName\">${window.$.i18n(pack_data.name)}</div>\r\n\t\t\t\t<div class=\"PrettyCards_PackDescription\">${window.$.i18n(pack_data.description)}</div>\r\n\t\t\t\t<div class=\"PrettyCards_PackBuy\">${buystr}</div>\r\n\t\t\t\t<div class=\"PrettyCards_PackOpen\">${openstr}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t`;\r\n\t}\r\n\t\r\n\tsanitizeNumberInput(input) {\r\n\t\tvar val = input.value || \"1\";\r\n\t\tval = val.replace(\"-\", \"\");\r\n\t\tval = val.replace(\",\", \"\");\r\n\t\tval = val.replace(\".\", \"\");\r\n\t\tinput.value = val;\r\n\t}\r\n\t\r\n\tchangePrices(code_id, count) {\r\n\t\tcount = Number(count);\r\n\t\t//console.log(count, code_id);\r\n\t\tif (count == NaN) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar data = this.packs_data2[code_id];\r\n\t\t\r\n\t\tdata.g_buy_count = Math.min(count, Math.floor(_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_0__.pagegetters.gold/data.g_cost));\r\n\t\tdata.ucp_buy_count = Math.min(count, Math.floor(_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_0__.pagegetters.ucp/data.ucp_cost));\r\n\t\t\r\n\t\tdocument.querySelector(\".PrettyCards_PackGPrice[data-packid=\"+ code_id +\"]\").innerHTML = data.g_buy_count*data.g_cost;\r\n\t\tdocument.querySelector(\".PrettyCards_PackUcpPrice[data-packid=\"+ code_id +\"]\").innerHTML = data.ucp_buy_count*data.ucp_cost;\r\n\t}\r\n\r\n\tchangePackCountButton(code_id, count) {\r\n\t\tcount = Number(count);\r\n\t\t//console.log(count, code_id);\r\n\t\tif (count == NaN) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar data = this.packs_data2[code_id];\r\n\t\t\r\n\t\tdata.open_count = Math.min(count, data.amount);\r\n\t\t\r\n\t\tdocument.querySelector(\".PrettyCards_PackOpenCountButton[data-packid=\"+ code_id +\"]\").innerHTML = data.open_count;\r\n\t}\r\n\t\r\n\tonPackMouseOver(e) {\r\n\t\t//debugger;\r\n\t\tvar code_id = e.currentTarget.getAttribute(\"data-packid\");\r\n\t\tif (!code_id) {return;}\r\n\t\t//console.log(\"Mouse Over\", e, code_id);\r\n\t\t//$(\".PrettyCards_PackCell[data-packid=\"+ code_id +\"] .PrettyCards_PackText\").stop().slideDown( 250, function() {});\r\n\t}\r\n\t\r\n\tonPackMouseLeave(e) {\r\n\t\tvar code_id = e.currentTarget.getAttribute(\"data-packid\");\r\n\t\tif (!code_id) {return;}\r\n\t\t//console.log(\"Mouse Leave\", e, code_id);\r\n\t\t//$(\".PrettyCards_PackCell[data-packid=\"+ code_id +\"] .PrettyCards_PackText\").stop().slideUp( 250, function() {});\r\n\t}\r\n\t\r\n\tonPackOpenCountChange(e) {\r\n\t\tthis.sanitizeNumberInput(e.target);\r\n\t\tthis.changePackCountButton(e.target.getAttribute(\"data-packid\"), e.target.value);\r\n\t}\r\n\t\r\n\tonPackBuyCountChange(e) {\r\n\t\tthis.sanitizeNumberInput(e.target);\r\n\t\tthis.changePrices(e.target.getAttribute(\"data-packid\"), e.target.value);\r\n\t}\r\n\t\r\n\tonPackGBuyClick(e) { // Should be called by the button.\r\n\t\tvar data = this.packs_data2[e.target.getAttribute(\"data-packid\")];\r\n\t\tvar max_can_afford = Math.floor(_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_0__.pagegetters.gold/data.g_cost);\r\n\t\tif (data.g_buy_count > max_can_afford) {data.g_buy_count = max_can_afford;} // Failsafe\r\n\t\tvar id = data.code_id;\r\n\t\tid = id.substring(0, id.length-4);\r\n\t\t//console.log(data.g_buy_count, id);\r\n\t\t//console.log(\"Buying Packs! \", data, id);\r\n\t\tunderscript.buyPacks(data.g_buy_count, {type : id, gold : true});\r\n\t\t\r\n\t\tdata.amount += data.g_buy_count;\r\n\t\tthis.updatePackCount(data.code_id);\r\n\t}\r\n\t\r\n\tonPackUcpBuyClick(e) { // Should be called by the button.\r\n\t\tconst self = this;\r\n\t\tvar data = this.packs_data2[e.target.getAttribute(\"data-packid\")];\r\n\t\tvar max_can_afford = Math.floor(_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_0__.pagegetters.ucp/data.ucp_cost);\r\n\t\tif (data.ucp_buy_count > max_can_afford) {data.ucp_buy_count = max_can_afford;} // Failsafe\r\n\t\twindow.BootstrapDialog.show({\r\n\t\t\ttitle: 'Buy packs with UCP?',\r\n\t\t\tmessage: $.i18n(`Buy ${data.ucp_buy_count} pack${data.ucp_buy_count > 1 ? 's' : ''} for {{UCP:${data.ucp_buy_count * data.ucp_cost}}} UCP?`),\r\n\t\t\tbuttons: [{\r\n\t\t\t\tlabel: $.i18n('dialog-continue'),\r\n\t\t\t\tcssClass: 'btn-success',\r\n\t\t\t\taction(diag) {\r\n\t\t\t\t\tself.onPackUcpBuy(data);\r\n\t\t\t\t\tdiag.close();\r\n\t\t\t\t},\r\n\t\t\t}, {\r\n\t\t\t\tlabel: $.i18n('dialog-cancel'),\r\n\t\t\t\tcssClass: 'btn-danger',\r\n\t\t\t\taction(diag) {\r\n\t\t\t\t\tdiag.close();\r\n\t\t\t\t},\r\n\t\t\t}],\r\n\t\t});\r\n\t}\r\n\t\r\n\tonPackUcpBuy(data) { // Should be called after the player agrees to buying packs with UCP.\r\n\t\tvar id = data.code_id;\r\n\t\tid = id.substring(0, id.length-4);\r\n\t\t//console.log(data.ucp_buy_count, id);\r\n\t\tunderscript.buyPacks(data.ucp_buy_count, {type : id, gold : false});\r\n\t\t\r\n\t\tdata.amount += data.ucp_buy_count;\r\n\t\tthis.updatePackCount(data.code_id);\r\n\t}\r\n\t\r\n\tonPackOpenClick(e) { // Should be called by the button.\r\n\t\tif (underscript.openingPacks()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (document.querySelector(\".PrettyCards_PackOpenContent .PrettyCards_AnimationPack\")) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar data = this.packs_data2[e.target.getAttribute(\"data-packid\")];\r\n\t\tif (data.amount <= 0) {return;} // Failsafe #1\r\n\t\tif (data.open_count > data.amount) {data.open_count = data.amount;} // Failsafe #2\r\n\t\tvar id = data.code_id;\r\n\t\tid = id.substring(0, id.length-4);\r\n\t\t//console.log(data.open_count, id);\r\n\t\twindow.PrettyCards_pack_being_opened = data;\r\n\t\tunderscript.openPacks(data.open_count, id);\r\n\t\t\r\n\t\t//data.amount -= data.open_count; // Moved over for when the server actually responds.\r\n\t\t//this.updatePackCount(data.code_id);\r\n\t}\r\n\t\r\n\tupdatePackCount(id) {\r\n\t\tdocument.querySelector(\".PrettyCards_PackCell[data-packid=\"+ id +\"] .PrettyCards_PackAmount\").innerHTML = this.packs_data2[id].amount;\r\n\t}\r\n\t\r\n\tonPackGeneration(data, pack_cell) { // Optional, but has default behaviour.\r\n\t\tpack_cell.addEventListener( \"mouseover\", this.onPackMouseOver);\r\n\t\tpack_cell.addEventListener( \"mouseleave\", this.onPackMouseLeave);\r\n\t\t//$(\".PrettyCards_PackCell[data-packid=\"+ data.code_id +\"] .PrettyCards_PackText\").slideUp(0);\r\n\t\t$(\".PrettyCards_PackCell[data-packid=\"+ data.code_id +\"] .PrettyCards_FloatingPack\").css(\"animation-delay\", (-Math.random()*1.5) + \"s\");\r\n\t\tif (data.does_exist) {\r\n\t\t\tdocument.querySelector(\".PrettyCards_PackOpenCount[data-packid=\"+ data.code_id +\"]\").onchange = this.onPackOpenCountChange.bind(this);\r\n\t\t\tdocument.querySelector(\".PrettyCards_PackOpen[data-packid=\"+ data.code_id +\"]\").onclick = this.onPackOpenClick.bind(this);\r\n\t\t\tif (data.g_cost > -1) {\r\n\t\t\t\tdocument.querySelector(\".PrettyCards_PackBuyCount[data-packid=\"+ data.code_id +\"]\").onchange = this.onPackBuyCountChange.bind(this);\r\n\t\t\t\tdocument.querySelector(\".PrettyCards_PackGBuy[data-packid=\"+ data.code_id +\"]\").onclick = this.onPackGBuyClick.bind(this);\r\n\t\t\t\tdocument.querySelector(\".PrettyCards_PackUcpBuy[data-packid=\"+ data.code_id +\"]\").onclick = this.onPackUcpBuyClick.bind(this);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tgeneratePagePack(data) { // Required. It's used in generatePage and ran for every individual pack. This function should be responsible for adding them.\r\n\t\tvar txt = this.generatePack(data);\r\n\t\tvar pack_cell = document.querySelector(\".PrettyCards_PackCell[data-packid=\"+ data.code_id +\"]\");\r\n\t\tpack_cell.innerHTML = txt;\r\n\t\t\r\n\t\tthis.onPackGeneration(data, pack_cell);\r\n\t}\r\n\t\r\n\tgeneratePage(packs_data, packs_data2) { // Required\r\n\t\tthis.packs_data2 = packs_data2;\r\n\t\t\r\n\t\tdocument.getElementById(\"PrettyCards_MainContent\").innerHTML =  this.pageAdditions();\r\n\t\t\t\t\r\n\t\tfor (var i=0; i < packs_data.length; i++) {\r\n\t\t\tthis.generatePagePack(packs_data[i]);\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/packs_page_templates/base.js?");

/***/ }),

/***/ "./src/libraries/packs_page_templates/normal.js":
/*!******************************************************!*\
  !*** ./src/libraries/packs_page_templates/normal.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NormalPacksPage\": () => (/* binding */ NormalPacksPage)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./src/libraries/packs_page_templates/base.js\");\n\r\n\r\n\r\nclass NormalPacksTemplate extends _base_js__WEBPACK_IMPORTED_MODULE_0__.PacksPageTemplate {\r\n\t\r\n\t// The rest is the default functions :P\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.displayName = \"Default\";\r\n\t\tthis.description = \"The default theme. Looks quite ugly.\";\r\n\t}\r\n\t\r\n}\r\n\r\nvar NormalPacksPage = new NormalPacksTemplate();\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/packs_page_templates/normal.js?");

/***/ }),

/***/ "./src/libraries/packs_page_templates/wide.js":
/*!****************************************************!*\
  !*** ./src/libraries/packs_page_templates/wide.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WidePacksPage\": () => (/* binding */ WidePacksPage)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./src/libraries/packs_page_templates/base.js\");\n\r\n\r\n\r\nclass WidePacksTemplate extends _base_js__WEBPACK_IMPORTED_MODULE_0__.PacksPageTemplate {\r\n\t\r\n\t// The rest is the default functions :P\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.displayName = \"Wide\";\r\n\t\tthis.description = \"Probably the closest to how I envisioned the page.\";\r\n\t}\r\n\t\r\n\tpageAdditions() { // Required\r\n\t\treturn `\r\n\t\t\t<div class=\"PrettyCards_ThirdPackSpacer\"></div>\r\n\t\t\t<div class=\"PrettyCards_PacksRow PrettyCards_WideTemplate\">\r\n\t\t\t\t<div class=\"PrettyCards_PackCell\" data-packid=\"Pack\"></div>\r\n\t\t\t\t<div class=\"PrettyCards_PackCell\" data-packid=\"DRPack\"></div>\r\n\t\t\t\t<div class=\"PrettyCards_PackCell\" data-packid=\"ShinyPack\"></div>\r\n\t\t\t\t<div class=\"PrettyCards_PackCell\" data-packid=\"SuperPack\"></div>\r\n\t\t\t\t<div class=\"PrettyCards_PackCell\" data-packid=\"FinalPack\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"PrettyCards_PackSpacer\"></div>\r\n\t\t\t<div class=\"PrettyCards_PackSpacer\"></div>\r\n\t\t\t<div class=\"PrettyCards_PackSpacer\"></div>\r\n\t\t`;\r\n\t}\r\n\t\r\n}\r\n\t\r\nvar WidePacksPage = new WidePacksTemplate();\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/packs_page_templates/wide.js?");

/***/ }),

/***/ "./src/libraries/page_getters.js":
/*!***************************************!*\
  !*** ./src/libraries/page_getters.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"pagegetters\": () => (/* binding */ pagegetters)\n/* harmony export */ });\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0__);\n\r\n// Functions that get specific data from the page that SHOULD be stored as variables or smth.\r\n// . . . And other utility functions.\r\n\r\n\r\n\r\nclass pagegetters {\r\n\t\r\n\tstatic get gold() {\r\n\t\treturn Number(document.getElementById(\"golds\").innerHTML);\r\n\t}\r\n\r\n\tstatic set gold(v) {\r\n\t\tdocument.getElementById(\"golds\").innerHTML = Number(v);\r\n\t}\r\n\t\r\n\tstatic get ucp() {\r\n\t\treturn Number(document.getElementById(\"ucp\").innerHTML);\r\n\t}\r\n\t\r\n\tstatic GetNumberOfPacks(code_id) {\r\n\t\tif (!underscript.onPage('Packs')) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\treturn Number(document.getElementById(\"nb\" + code_id + \"s\").innerHTML);\r\n\t}\r\n\r\n\tstatic get dust() {\r\n\t\treturn Number(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(\"#dust\").html());\r\n\t}\r\n\t\r\n\tstatic GetActiveMatchesData(cb) {\r\n\t\tconst callback = cb || function() {};\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default().get(\"/\", {}, function(data) {\r\n\t\t\tvar page = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(data);\r\n\t\t\tvar table = page.find(\"#liste\");\r\n\t\t\tvar tableRows = table.find(\"tr\");\r\n\t\t\t\r\n\t\t\tvar games = [];\r\n\t\t\ttableRows.each(function (index, element) {\r\n\t\t\t\tvar game = {};\r\n\t\t\t\t//console.log(index, element);\r\n\t\t\t\t\r\n\t\t\t\tvar player1Cell = element.children[0];\r\n\t\t\t\tvar player1Data = {};\r\n\t\t\t\t\r\n\t\t\t\tvar player1SpectateFunction = player1Cell.onclick.toString();\r\n\t\t\t\tplayer1Data.spectateLink = player1SpectateFunction.split(\"'\")[1];\r\n\t\t\t\tplayer1Data.id = Number(player1Data.spectateLink.split(\"playerId=\")[1]);\r\n\t\t\t\tplayer1Data.profileSkinUrl = player1Cell.style.backgroundImage;\r\n\t\t\t\tplayer1Data.profilePictureUrl = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(player1Cell).find(\".avatar\").attr(\"src\");\r\n\t\t\t\tplayer1Data.soul = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(player1Cell).find(\"> .playerInfo > span\").attr(\"class\");\r\n\t\t\t\tplayer1Data.name = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(player1Cell).find(\"> .playerInfo > span\").clone().children().remove().end().text().trim();\r\n\t\t\t\tplayer1Data.level = Number(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(player1Cell).find(\"> .playerInfo > span > span\").text().replace( /^\\D+/g, ''));\r\n\t\t\t\t\r\n\t\t\t\tvar player2Cell = element.children[1];\r\n\t\t\t\tvar player2Data = {};\r\n\t\t\t\t\r\n\t\t\t\tvar player2SpectateFunction = player2Cell.onclick.toString();\r\n\t\t\t\tplayer2Data.spectateLink = player2SpectateFunction.split(\"'\")[1];\r\n\t\t\t\tplayer2Data.id = Number(player2Data.spectateLink.split(\"playerId=\")[1]);\r\n\t\t\t\tplayer2Data.profileSkinUrl = player2Cell.style.backgroundImage;\r\n\t\t\t\tplayer2Data.profilePictureUrl = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(player2Cell).find(\".avatar\").attr(\"src\");\r\n\t\t\t\tplayer2Data.soul = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(player2Cell).find(\"> .playerInfo > span\").attr(\"class\");\r\n\t\t\t\tplayer2Data.name = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(player2Cell).find(\"> .playerInfo > span\").clone().children().remove().end().text().trim();\r\n;\r\n\t\t\t\tplayer2Data.level = Number(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default()(player2Cell).find(\"> .playerInfo > span > span\").text().replace( /^\\D+/g, ''));\r\n\t\t\t\t\r\n\t\t\t\tgame.gameId = Number(player1Data.spectateLink.split(\"&playerId=\")[0].split(\"gameId=\")[1]);\r\n\t\t\t\tgame.player1 = player1Data;\r\n\t\t\t\tgame.player2 = player2Data;\r\n\t\t\t\t\r\n\t\t\t\t//console.log(game);\r\n\t\t\t\tgames.push(game);\r\n\t\t\t});\r\n\t\t\tcallback(games);\r\n\t\t})\r\n\t}\r\n\t\r\n\tstatic GetActiveMatchForId(matchId, cb) {\r\n\t\tconst callback2 = cb || function() {};\r\n\t\tthis.GetActiveMatchesData(function(games) {\r\n\t\t\tfor (var i=0; i < games.length; i++) {\r\n\t\t\t\tif (matchId === games[i].gameId) {\r\n\t\t\t\t\tvar game = games[i];\r\n\t\t\t\t\tcallback2(game);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\tstatic IsSelfMod() {\r\n\t\treturn window.selfMainGroup.priority <= 4;\r\n\t}\r\n\t\r\n\tstatic IsMyself(id) {\r\n\t\treturn window.selfId === id;\r\n\t}\r\n\t\r\n\tstatic IsMyFriend(id) {\r\n\t\tfor (var i=0; i < window.selfFriends.length; i++) {\r\n\t\t\tif (window.selfFriends[i].id == id) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tstatic GetDecks(callback) {\r\n\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_0___default().get(\"/DecksConfig\", {}, function(data) {\r\n\t\t\tvar decks = JSON.parse(data.decks);\r\n\t\t\tcallback(decks);\r\n\t\t})\r\n\t}\r\n\t\r\n}\r\n\r\nwindow.pagegetters = pagegetters;\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/page_getters.js?");

/***/ }),

/***/ "./src/libraries/pre_load/event_ensure.js":
/*!************************************************!*\
  !*** ./src/libraries/pre_load/event_ensure.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ExecuteWhen\": () => (/* binding */ ExecuteWhen)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n\r\n// This is a script that should help with calling things AFTER certain one-time events have been fired.\r\n\r\nvar eventsToListenFor = [\r\n\t\"PrettyCards:onLoad\", \r\n\t\"PrettyCards:onPageLoad\",\r\n\t\"SoulSelector:decksLoaded\", \r\n\t\"Chat:Connected\", \r\n\t\"PrettyCards:onArtifacts\", \r\n\t\"translation:loaded\", \r\n\t\"PC_Chat:getSelfInfos\",\r\n\t\"allCardsReady\",\r\n\t\"PrettyCards:baseThemeSongDataReady\",\r\n\t\"PrettyCards:TranslationExtReady\"\r\n];\r\nvar eventsFired = {};\r\nvar eventsData = {};\r\n\r\n\r\n\r\n\r\nvar waitingObjects = [];\r\n\r\nfunction ExecuteWhen(events, callback) { // events is a space-devided string OR an array of strings.\r\n\tif (typeof(events) == \"string\") {\r\n\t\tevents = events.split(\" \");\r\n\t}\r\n\tvar obj = {\r\n\t\teventsToWaitFor: [],\r\n\t\tcallback: callback\r\n\t}\r\n\tfor (var i=0; i < events.length; i++) {\r\n\t\tvar e = events[i];\r\n\t\tvar found = eventsToListenFor.find(element => element === e);\r\n\t\tif (!found) {\r\n\t\t\tconsole.log(\"! ExecuteWhen WARNING ! The event \", e, \" is not being tracked!\");\r\n\t\t}\r\n\t\tif (!eventsFired[e]) {\r\n\t\t\tobj.eventsToWaitFor.push(e);\r\n\t\t}\r\n\t}\r\n\tif (!ExecuteWaitingObjectCallbackIfPossible(obj)) { // Both checks if the thing can run instantly AND if it can it does so!\r\n\t\twaitingObjects.push(obj);\r\n\t}\r\n}\r\n\r\nfunction InitListeners() {\r\n\tfor (var i=0; i < eventsToListenFor.length; i++) {\r\n\t\tconst e = eventsToListenFor[i];\r\n\t\teventsFired[e] = false;\r\n\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(e, function(data) {\r\n\t\t\t//console.log(e + \" event captured successfully! data: \", data);\r\n\t\t\teventsFired[e] = true;\r\n\t\t\teventsData[e] = data;\r\n\t\t\tUpdateWaitingObjects(e);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction UpdateWaitingObjects(e) { // e - event to check off the list\r\n\tfor (var i=0; i < waitingObjects.length; i++) {\r\n\t\tvar obj = waitingObjects[i];\r\n\t\tvar deleted = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.deleteByValue(obj.eventsToWaitFor, e);\r\n\t\tif (deleted) {\r\n\t\t\tvar executed = ExecuteWaitingObjectCallbackIfPossible(obj);\r\n\t\t\tif (executed) {\r\n\t\t\t\twaitingObjects.splice(i, 1);\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction ExecuteWaitingObjectCallbackIfPossible(obj) {\r\n\tif (obj.eventsToWaitFor.length <= 0) {\r\n\t\tobj.callback();\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nInitListeners();\r\n\r\nif ('loading' == document.readyState) {\r\n\t// This script is running at document-start time.\r\n\tdocument.addEventListener(\"load\", function() {\r\n\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"PrettyCards:onLoad\");\r\n\t})\r\n} else {\r\n\t// This script is running after document-start.\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"PrettyCards:onLoad\");\r\n}\r\n\r\nExecuteWhen(\"PrettyCards:onPageLoad\", function () {\r\n\tif (!window.allCards) {\r\n\t\twindow.$(\"body\").append('<script src=\"js/card.js\" type=\"text/javascript\"></script>');\r\n\t\twindow.$(\"head\").append('<link href=\"css/cards.css\" rel=\"stylesheet\" type=\"text/css\">');\r\n\t\twindow.$(\"head\").append('<link href=\"css/frames.css\" rel=\"stylesheet\" type=\"text/css\">');\r\n\t}\r\n\tif (!window.underscript.onPage(\"Friendship\")) {\r\n\t\twindow.$(\"body\").append('<script src=\"js/friendshipUtils.js\" type=\"text/javascript\"></script>');\r\n\t}\r\n});\r\n\r\n//console.log(\"EventEnsure initialized at \" + document.readyState + \" state!\");\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/pre_load/event_ensure.js?");

/***/ }),

/***/ "./src/libraries/private_games/private_game_host.js":
/*!**********************************************************!*\
  !*** ./src/libraries/private_games/private_game_host.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n\r\n\r\n\r\n\r\nvar isHost = JSON.parse(sessionStorage.getItem(\"PrettyCards_PrivateGameIsHost\"));\r\nvar gameName = sessionStorage.getItem(\"PrettyCards_PrivateGameName\");\r\nvar gameCreator = sessionStorage.getItem(\"PrettyCards_PrivateGameCreator\");\r\nvar recipients = JSON.parse(sessionStorage.getItem(\"PrettyCards_PrivateGameRecipients\") || '[\"everyone\"]');\r\nvar soul = sessionStorage.getItem(\"PrettyCards_PrivateGameSoul\") || localStorage.getItem(\"customDeck\");\r\n\r\nfunction HostChallenge() {\r\n\t//console.log(\"Initiating as host!\");\r\n\tsocket.send(JSON.stringify({action: \"createGame\", name: gameName, soul: soul}));\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"preCustom:getPlayerJoined\", OnSomeoneJoin); // This event should only fire if you are the host.\r\n}\r\n\r\nfunction OnSomeoneJoin(data) {\r\n\tif (recipients.includes(\"everyone\") || recipients.includes(data.username)) {\r\n\t\tsessionStorage.removeItem(\"PrettyCards_PrivateGameName\");\r\n\t\twindow.start();\r\n\t} else {\r\n\t\twindow.banUser();\r\n\t\tthis.canceled = true;\r\n\t}\r\n}\r\n\r\nfunction RecipientAcceptChallenge() {\r\n\t//console.log(\"Initiating as recipient!\");\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"preCustom:getGamesList\", OnGameListLoad);\r\n}\r\n\r\nfunction OnGameListLoad(data) {\r\n\t//console.log(\"Game List Loaded!\", data);\r\n\tvar games = JSON.parse(data.games);\r\n\t//console.log(games);\r\n\tfor (var i=0; i < games.length; i++) {\r\n\t\tvar game = games[i];\r\n\t\t//if (game.name == gameName) {\r\n\t\tif (game.owner.usernameSafe == gameCreator) {\r\n\t\t\tsessionStorage.removeItem(\"PrettyCards_PrivateGameName\");\r\n\t\t\tsocket.send(JSON.stringify({action: \"joinGame\",gameId: game.id, soul: soul, gamePassword: \"\"}));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction SetUpSocket() {\r\n\t//console.log(\"Socket Setup!\", window.socket);\r\n\tvar socket = window.socket;\r\n\tconst oHandler = socket.onopen;\r\n\tsocket.onopen = function(event) {\r\n\t\tInitiateChallengeIfThereIs();\r\n\t\toHandler(event);\r\n\t}\r\n}\r\n\r\nfunction InitiateChallengeIfThereIs() {\r\n\t//console.log(\"Private game: \", isHost, gameName, recipients, soul, gameCreator);\r\n\tif (!!gameName) {\r\n\t\tif (isHost) {\r\n\t\t\tHostChallenge();\r\n\t\t} else {\r\n\t\t\tRecipientAcceptChallenge();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nif (underscript.onPage('GamesList')) {\r\n\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"PrettyCards:onPageLoad\", function() { // Theoretical fix to one of Sernon's bugs?\r\n\t\tSetUpSocket();\r\n\t});\r\n}\r\n\r\n// PrettyCards_plugin.events.on('enterCustom', SetUpSocket); // You can switch to this when Feild makes this event a singleton.\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/private_games/private_game_host.js?");

/***/ }),

/***/ "./src/libraries/private_games/private_game_recipient.js":
/*!***************************************************************!*\
  !*** ./src/libraries/private_games/private_game_recipient.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_rarity_icons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/rarity_icons.js */ \"./src/libraries/rarity_icons.js\");\n/* harmony import */ var _src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/page_getters.js */ \"./src/libraries/page_getters.js\");\n/* harmony import */ var _src_libraries_soul_selector_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../src/libraries/soul_selector.js */ \"./src/libraries/soul_selector.js\");\n/* harmony import */ var _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../src/libraries/deck_selector.js */ \"./src/libraries/deck_selector.js\");\n/* harmony import */ var _src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../src/libraries/deck_editor.js */ \"./src/libraries/deck_editor.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar custom_deck_sys = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.override_decks.value();\r\nvar deckSelector = new _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_5__.SavedDeckSelector();\r\n\r\nfunction processChatMessageHTML(ele, msg) {\r\n\t//console.log(\"HTML Chat message: \", ele, msg);\r\n\tif (!ele) {\r\n\t\t//console.log(\"Message received in a chat room you are not currently in. Returning.\");\r\n\t\treturn;\r\n\t}\r\n\tif (msg.message.startsWith('I challenge') && msg.message.endsWith(\"via PrettyCards\")) {\r\n\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:TranslationExtReady\", function() {\r\n\t\t\ttry {\r\n\t\t\t\t//var recipients = msg.message.split(\"I challenge \")[1].split(\" to a CUSTOM game! via PrettyCards\")[0].split(\",\");\r\n\t\t\t\tvar recipients = msg.message.substring(12, msg.message.length - 34).split(\", \");\r\n\t\t\t\t//console.log(\"Invitation!\", recipients);\r\n\t\t\t\t//console.log($(ele).find(\".chat-message\"));\r\n\t\t\t\t\r\n\t\t\t\tif (msg.user.id === window.selfId) {\r\n\t\t\t\t\tvar recipientCopy = [ ...recipients ];\r\n\t\t\t\t\tvar index = recipientCopy.indexOf(\"everyone\");\r\n\t\t\t\t\tif (index > -1) {\r\n\t\t\t\t\t\trecipientCopy[index] = window.$.i18n(\"pc-customgame-everyone\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar recipientText = recipientCopy.join(\", \");\r\n\t\t\t\t\t$(ele).find(\".chat-message\").html('<span class=\"gray\">' + window.$.i18n(\"pc-customgame-selfinvite\", recipientText) + '</span>');\r\n\t\t\t\t} else if (recipients.includes(\"everyone\") || recipients.includes(window.selfUsername)) {\r\n\t\t\t\t\t_src_libraries_soul_selector_js__WEBPACK_IMPORTED_MODULE_4__.SoulSelector.ExecuteOnDeckLoad(function () {\r\n\t\t\t\t\t\tele.style.backgroundColor = \"black\";\r\n\t\t\t\t\t\t$(ele).find(\".chat-message\").html(window.$.i18n(\"pc-customgame-invite\"));\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tif (!custom_deck_sys) {\r\n\t\t\t\t\t\t\tvar soulSelector = new _src_libraries_soul_selector_js__WEBPACK_IMPORTED_MODULE_4__.SoulSelector();\r\n\t\t\t\t\t\t\tvar soulContainer = document.createElement(\"SPAN\");\r\n\t\t\t\t\t\t\tsoulContainer.style = \"white-space: nowrap;\";\r\n\t\t\t\t\t\t\tsoulContainer.innerHTML = soulSelector.SetUp(\"PrettyCards_ChallengeMessage_\" + msg.id + \"_\", \"Small\");\r\n\t\t\t\t\t\t\tele.appendChild(soulContainer);\r\n\t\t\t\t\t\t\tsoulSelector.AddDeckTooltips();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar acceptButton = document.createElement(\"BUTTON\");\r\n\t\t\t\t\t\tacceptButton.innerHTML = window.$.i18n(\"pc-navigate-accept\");\r\n\t\t\t\t\t\tacceptButton.className = \"btn btn-success PrettyCards_ChallengeMessageButton\";\r\n\t\t\t\t\t\tif (custom_deck_sys) {\r\n\t\t\t\t\t\t\tacceptButton.onclick = function() {AcceptChallengeCustomDeck(msg.user.usernameSafe)};\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tacceptButton.onclick = function() {AcceptChallenge(msg.user.usernameSafe, soulSelector.selectedSoul)};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tele.appendChild(acceptButton);\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(ele).find(\".chat-message\").html('<span class=\"gray\">' + window.$.i18n(\"pc-customgame-cuckinvite\") + '</span>');\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// Do nothing.\r\n\t\t\t\tconsole.log(\"Error! \\_()_/\", e);\r\n\t\t\t}\t\t\t\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction processChatMessageEvent(data) {\r\n\t//console.log(\"New chat message: \", data);\r\n\tprocessChatMessageHTML(document.querySelector(\"#\" + data.room + \" .message-group:last-of-type\"), JSON.parse(data.chatMessage));\r\n}\r\n\r\nfunction processChatHistoryEvent(data) {\r\n\t//console.log(\"Chat History: \", data);\r\n\tvar messages = JSON.parse(data.history);\r\n\tvar elements = document.querySelectorAll(\"#\" + data.room + \" .message-group\");\r\n\tfor (var i=0; i < messages.length; i++) {\r\n\t\tprocessChatMessageHTML(elements[i], messages[i]);\r\n\t}\r\n}\r\n\r\nvar latest_dial;\r\n\r\nfunction SetUpDeckOnServer(deck, callback) {\r\n\tvar toast = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.toast(\r\n\t\t{\r\n\t\t\ttitle: window.$.i18n(\"pc-play-decksetup-title\"),\r\n\t\t\ttext: window.$.i18n(\"pc-play-decksetup-text\"),\r\n\t\t}\r\n\t);\r\n\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_6__.DeckEditor.OptimalImportDeck(deck, function(status) {\r\n\t\tif (toast.exists()) {\r\n\t\t\ttoast.close();\r\n\t\t}\r\n\t\tif (status == \"success\") {\r\n\t\t\t//console.log(\"success\");\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tconsole.log(\"DeckEditor.ImportDeck error!\");\r\n\t\t}\r\n\t})\r\n}\r\n\r\n\r\nfunction CloseDeckSelector() {\r\n\tlatest_dial.close();\r\n}\r\n\r\nfunction AcceptChallengeCustomDeck(safeUserName) {\r\n\tfunction DeckSelectorCallback(deck) {\r\n\t\tCloseDeckSelector();\r\n\t\tSetUpDeckOnServer(deck, function() {AcceptChallenge( safeUserName, deck.soul);})\r\n\t}\r\n\t\r\n\tfunction OnShow() {\r\n\t\tdeckSelector.AppendTo(latest_dial.$modalBody[0].firstChild.firstChild)\r\n\t}\r\n\t\r\n\tdeckSelector.closable = false;\r\n\tdeckSelector.closeCallback = CloseDeckSelector;\r\n\tdeckSelector.callback = DeckSelectorCallback;\r\n\t\r\n\tlatest_dial = window.BootstrapDialog.show({\r\n\t\ttitle: window.$.i18n(\"pc-customgame-choosedeck\"),\r\n\t\tsize: window.BootstrapDialog.SIZE_WIDE,\r\n\t\tmessage: \"\",\r\n\t\tonshown: OnShow.bind(this),\r\n\t\tbuttons: [{\r\n\t\t\t\tlabel: window.$.i18n(\"pc-navigate-cancel\"),\r\n\t\t\t\tcssClass: 'btn-primary us-normal',\r\n\t\t\t\taction(dialog) {\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t});\r\n}\r\n\r\nfunction AcceptChallenge( safeUserName, soul) {\r\n\tsessionStorage.setItem(\"PrettyCards_PrivateGameIsHost\", false);\r\n\tsessionStorage.setItem(\"PrettyCards_PrivateGameName\", \"PLACEHOLDER_SO_CODE_STARTS\");\r\n\tsessionStorage.setItem(\"PrettyCards_PrivateGameSoul\", soul);\r\n\tsessionStorage.setItem(\"PrettyCards_PrivateGameCreator\", safeUserName);\r\n\twindow.location = '/GamesList';\r\n}\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"Chat:getHistory Chat:getPrivateHistory\", processChatHistoryEvent);\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"Chat:getMessage Chat:getPrivateMessage\", processChatMessageEvent);\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/private_games/private_game_recipient.js?");

/***/ }),

/***/ "./src/libraries/private_games/private_game_screen.js":
/*!************************************************************!*\
  !*** ./src/libraries/private_games/private_game_screen.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChallengePlayerScreen\": () => (/* binding */ ChallengePlayerScreen)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/page_getters.js */ \"./src/libraries/page_getters.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_soul_selector_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../src/libraries/soul_selector.js */ \"./src/libraries/soul_selector.js\");\n/* harmony import */ var _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../src/libraries/deck_selector.js */ \"./src/libraries/deck_selector.js\");\n/* harmony import */ var _src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../src/libraries/deck_editor.js */ \"./src/libraries/deck_editor.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.loadCSSFromGH(\"Souls\");\r\n\r\nvar custom_deck_sys = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_3__.settings.override_decks.value();\r\n\r\nvar shouldGoToGameList = false;\r\nvar soulSelector = new _src_libraries_soul_selector_js__WEBPACK_IMPORTED_MODULE_4__.SoulSelector();\r\nvar deckSelector = new _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_5__.SavedDeckSelector();\r\nvar selectedDeck;\r\nvar playLocked = false;\r\n\r\nfunction OpenDeckSelector() {\r\n\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_PrivateGameChallengeForm\").attr(\"hidden\", true);\r\n\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_PrivateGameChallengeDeckSelector\").attr(\"hidden\", false);\r\n\tlatest_dial.$modalDialog.addClass(\"modal-lg\");\r\n\tplayLocked = true;\r\n}\r\n\r\nfunction CloseDeckSelector() {\r\n\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_PrivateGameChallengeForm\").attr(\"hidden\", false);\r\n\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_PrivateGameChallengeDeckSelector\").attr(\"hidden\", true);\r\n\tlatest_dial.$modalDialog.removeClass(\"modal-lg\");\r\n\tplayLocked = false\r\n}\r\n\r\nfunction DeckSelectorCallback(deck) {\r\n\tSetSelectedDeck(deck);\r\n\tCloseDeckSelector();\r\n}\r\n\r\nfunction SetInitialDeck() {\r\n\tvar deckId = Number(window.localStorage[\"prettycards.\" + window.selfId + \".selectedCustomDeckId\"]);\r\n\tvar deckSoul = window.localStorage[\"prettycards.\" + window.selfId + \".selectedCustomDeckSoul\"];\r\n\tif (typeof(deckId) == \"number\" && typeof(deckSoul) == \"string\") {\r\n\t\tvar deck = deckSelector.getDeckBySoulAndId(deckSoul, deckId);\r\n\t\tif (deck == null) {\r\n\t\t\tvar error_deck = {\r\n\t\t\t\tsoul : \"DETERMINATION\",\r\n\t\t\t\tid : -1,\r\n\t\t\t\tname : window.$.i18n(\"pc-play-error\"),\r\n\t\t\t\tcards : [],\r\n\t\t\t\tartifacts : [],\r\n\t\t\t\timage : _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_5__.onu_skin,\r\n\t\t\t\tdescription: window.$.i18n(\"pc-play-deckerror\")\r\n\t\t\t}\r\n\t\t\tSetSelectedDeck(error_deck);\r\n\t\t\tplayLocked = true;\r\n\t\t} else {\r\n\t\t\tSetSelectedDeck(deck);\r\n\t\t}\r\n\t} else {\r\n\t\tvar error_deck = {\r\n\t\t\tsoul : \"UNIVERSAL\",\r\n\t\t\tid : -1,\r\n\t\t\tname : window.$.i18n(\"pc-play-error\"),\r\n\t\t\tcards : [],\r\n\t\t\tartifacts : [],\r\n\t\t\timage : _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_5__.dummy_skin,\r\n\t\t\tdescription: window.$.i18n(\"pc-play-nodeck\")\r\n\t\t}\r\n\t\tSetSelectedDeck(error_deck);\r\n\t\tplayLocked = true;\r\n\t}\r\n}\r\n\r\nfunction SetSelectedDeck(deck) {\r\n\tselectedDeck = deck;\r\n\twindow.localStorage[\"prettycards.\" + window.selfId + \".selectedCustomDeckId\"] = deck.id;\r\n\twindow.localStorage[\"prettycards.\" + window.selfId + \".selectedCustomDeckSoul\"] = deck.soul;\r\n\tplayLocked = false;\r\n\t\r\n\tvar deck_cont = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_PrivateGameChallengeDeckCard\");\r\n\tdeck_cont.html(\"\");\r\n\tdeckSelector.appendCardDeck(deck_cont, deck, false);\r\n}\r\n\r\nfunction GetChallengeJQueryObject(user) {\r\n\tvar html = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(`\r\n\t\t<div id=\"PrettyCards_PrivateGameChallengeForm\">\r\n\t\t\t<p>${window.$.i18n(\"pc-customgame-options-name\")}: </p><input id=\"PrettyCards_PrivateGameName\" type=\"text\" class=\"form-control\" value=\"${\"PrettyCardsCustom\" + Math.floor(Math.random()*100)}\"></input>\r\n\t\t\t<p>${window.$.i18n(\"pc-customgame-options-recipients\")}: </p><input id=\"PrettyCards_PrivateGameRecipients\" type=\"text\" class=\"form-control\" value=\"${ (!!user) ? user.username : \"\"}\"></input>\r\n\t\t\t<br>\r\n\t\t\t<label class=\"form-check-label\"><input id=\"PrettyCards_PrivateGameEveryone\" type=\"checkbox\" class=\"form-check-input\" ${(!user) ? \"checked\" : \"\"}></input> ${window.$.i18n(\"pc-customgame-options-everyone\")}</label>\r\n\t\t\t<p ${custom_deck_sys ? \"hidden\" : \"\"}>${window.$.i18n(\"pc-customgame-options-soul\")}: ${soulSelector.SetUp(\"PrettyCards_ChallengeSoul_\", \"Normal\")}</p>\r\n\t\t\t<div id=\"PrettyCards_PrivateGameChallengeDeckCard\"></div>\r\n\t\t</div>\r\n\t\t<div id=\"PrettyCards_PrivateGameChallengeDeckSelector\" hidden></div>\r\n\t`)\r\n\tif (custom_deck_sys) {\t\t\r\n\t\thtml.find(\"#PrettyCards_PrivateGameChallengeDeckCard\").click(OpenDeckSelector);\r\n\t}\r\n\treturn html;\r\n}\r\n\r\nfunction OnShow(dialog) {\r\n\t//console.log(\"Dialogue\", latest_dial);\r\n\tif (custom_deck_sys) {\r\n\t\tSetInitialDeck();\r\n\t\tdeckSelector.closable = true;\r\n\t\tdeckSelector.closeCallback = CloseDeckSelector;\r\n\t\tdeckSelector.callback = DeckSelectorCallback;\r\n\t\t\r\n\t\tdeckSelector.AppendTo(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_PrivateGameChallengeDeckSelector\")[0]);\r\n\t} else {\r\n\t\tsoulSelector.AddDeckTooltips();\r\n\t} \r\n}\r\n\r\nvar messageInfos = {};\r\nvar latest_dial;\r\n\r\nfunction SetUpDeckOnServer(callback) {\r\n\tvar toast = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.toast(\r\n\t\t{\r\n\t\t\ttitle: \"Please wait!\",\r\n\t\t\ttext: \"Setting up the deck on the server . . .\",\r\n\t\t}\r\n\t);\r\n\tplayLocked = true;\r\n\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_6__.DeckEditor.OptimalImportDeck(selectedDeck, function(status) {\r\n\t\tplayLocked = false;\r\n\t\tif (toast.exists()) {\r\n\t\t\ttoast.close();\r\n\t\t}\r\n\t\tif (status == \"success\") {\r\n\t\t\t//console.log(\"success\");\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\t//console.log(\"DeckEditor.ImportDeck error!\");\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction ChallengePlayerScreen(user, infos) {\r\n\tmessageInfos = infos;\r\n\tlatest_dial = BootstrapDialog.show({\r\n\t\ttitle: \"Custom Challenge!\",\r\n\t\tmessage: GetChallengeJQueryObject(user),\r\n\t\tonshown: OnShow.bind(this),\r\n\t\tbuttons: [{\r\n\t\t\t\tlabel: window.$.i18n(\"pc-navigate-cancel\"),\r\n\t\t\t\tcssClass: 'btn-primary us-normal',\r\n\t\t\t\taction(dialog) {\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t}\r\n\t\t\t}, {\r\n\t\t\t\tlabel: window.$.i18n(\"pc-navigate-send\"),\r\n\t\t\t\tcssClass: 'btn-primary us-normal',\r\n\t\t\t\taction(dialog) {\r\n\t\t\t\t\tif (playLocked) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar gameName = document.getElementById(\"PrettyCards_PrivateGameName\").value;\r\n\t\t\t\t\tvar recipients = document.getElementById(\"PrettyCards_PrivateGameEveryone\").checked ? [\"everyone\"] : document.getElementById(\"PrettyCards_PrivateGameRecipients\").value.split(\",\");\r\n\t\t\t\t\tfor (var i=0; i < recipients.length; i++) {\r\n\t\t\t\t\t\trecipients[i] = recipients[i].trim();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (recipients.length <= 0) {\r\n\t\t\t\t\t\trecipients = [\"everyone\"];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar soul = custom_deck_sys ? selectedDeck.soul : soulSelector.selectedSoul; // For testing purposes. Not ANYMORE!\r\n\t\t\t\t\tif (!custom_deck_sys) {\r\n\t\t\t\t\t\tSendChallenge(gameName, recipients, soul);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSetUpDeckOnServer(function() {\r\n\t\t\t\t\t\t\tSendChallenge(gameName, recipients, soul);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t});\r\n\t\r\n}\r\n\r\nfunction SendChallenge(gameName, recipients, soul) {\r\n\t//console.log(\"Sending challenge!\", gameName, recipients, soul);\r\n\tsessionStorage.setItem(\"PrettyCards_PrivateGameIsHost\", true);\r\n\tsessionStorage.setItem(\"PrettyCards_PrivateGameName\", gameName);\r\n\tsessionStorage.setItem(\"PrettyCards_PrivateGameSoul\", soul);\r\n\tsessionStorage.setItem(\"PrettyCards_PrivateGameRecipients\", JSON.stringify(recipients));\r\n\tvar message = \"I challenge \" + recipients.join(\", \") + \" to a CUSTOM game! via PrettyCards\";\r\n\tif (messageInfos.idRoom > 0) {\r\n\t\t//console.log(\"Public message: \", message, String(messageInfos.idRoom));\r\n\t\twindow.sendMessage(message, String(messageInfos.idRoom));\r\n\t} else {\r\n\t\t//console.log(\"Private message: \", message, String(messageInfos.user.id));\r\n\t\twindow.sendPrivateMessage(message, String(messageInfos.user.id));\r\n\t}\r\n\tshouldGoToGameList = true;\r\n}\r\n\r\nfunction CheckToGoToGameList(data) {\r\n\tif (shouldGoToGameList && JSON.parse(data.chatMessage).user.id === window.selfId) {\r\n\t\twindow.location = '/GamesList';\r\n\t}\r\n}\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.on(\"Chat:getPrivateMessage\", CheckToGoToGameList);\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.on(\"Chat:getMessage\", CheckToGoToGameList);\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/private_games/private_game_screen.js?");

/***/ }),

/***/ "./src/libraries/rarity_icons.js":
/*!***************************************!*\
  !*** ./src/libraries/rarity_icons.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"rarities\": () => (/* binding */ rarities),\n/* harmony export */   \"rarityIconsHTML\": () => (/* binding */ rarityIconsHTML)\n/* harmony export */ });\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\n\r\nvar rarityIconsHTML = {};\r\nvar rarities = [\"BASE\", \"COMMON\", \"RARE\", \"EPIC\", \"LEGENDARY\", \"DETERMINATION\", \"TOKEN\"];\r\nvar extensions = [\"BASE\", \"DELTARUNE\"];\r\n\r\nfunction getUrlForIcon(extension, rarity) {\r\n\treturn `/images/rarity/${extension}_${rarity}.png`;\r\n}\r\n\r\nfunction GenerateRarityIconHTML(extension, rarity) {\r\n\treturn `<img src=\"${getUrlForIcon(extension, rarity)}\" title=\"${rarity}\">`;\r\n}\r\n\r\nfor (var i=0; i < extensions.length; i++) {\r\n\tvar extension = extensions[i];\r\n\trarityIconsHTML[extension] = {};\r\n\tfor (var j=0; j < rarities.length; j++) {\r\n\t\tvar rarity = rarities[j];\r\n\t\trarityIconsHTML[extension][rarity] = GenerateRarityIconHTML(extension, rarity);\r\n\t}\r\n}\r\n\r\nrarityIconsHTML[\"DELTARUNE\"][\"BASE\"] = `<img src=\"/images/rarity/DELTARUNE.png\" title=\"BASE\">`;\r\n\r\nfunction preLoadIcons() {\r\n\tvar element = document.createElement(\"DIV\");\r\n\telement.style = \"display: none;\";\r\n\tdocument.body.appendChild(element);\r\n\tfor (var ext in rarityIconsHTML) {\r\n\t\tvar icons = rarityIconsHTML[ext];\r\n\t\tfor (var rarity in icons) {\r\n\t\t\tvar img = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default()(icons[rarity]);\r\n\t\t\telement.appendChild(img[0]);\r\n\t\t\t//utility.preloadImage(getUrlForIcon(ext, rarity));\r\n\t\t}\r\n\t}\r\n\tsetTimeout(function() {element.remove()}, 1000);\r\n}\r\n\r\npreLoadIcons();\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/rarity_icons.js?");

/***/ }),

/***/ "./src/libraries/soul_selector.js":
/*!****************************************!*\
  !*** ./src/libraries/soul_selector.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SoulSelector\": () => (/* binding */ SoulSelector)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/page_getters.js */ \"./src/libraries/page_getters.js\");\n/* harmony import */ var _src_libraries_tooltips_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/tooltips.js */ \"./src/libraries/tooltips.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_0__.ExecuteWhen)(\"PrettyCards:onPageLoad\", function() {\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.loadCSSFromGH(\"Souls\");\r\n});\r\n\r\nvar areDecksLoaded = false;\r\nvar decks = {};\r\n\r\nfunction UpdateDecks() {\r\n\tif (underscript.onPage(\"Decks\")) {\r\n\t\tvar decksData = window.decks;\r\n\t\tdecks = {};\r\n\t\tfor (var deckName in decksData) {\r\n\t\t\tdecks[deckName] = {};\r\n\t\t\tdecks[deckName].cards = decksData[deckName];\r\n\t\t\tdecks[deckName].artifacts = decksArtifacts[deckName];\r\n\t\t}\r\n\t\tif (!areDecksLoaded) {\r\n\t\t\tareDecksLoaded = true;\r\n\t\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_5__.PrettyCards_plugin.events.emit(\"SoulSelector:decksLoaded\");\r\n\t\t}\r\n\t} else if (_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_4___default().isEmptyObject(decks)) {\r\n\t\t_src_libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_2__.pagegetters.GetDecks(function (decksData) {\r\n\t\t\tfor (var i = 0; i < decksData.length; i++) {\r\n\t\t\t\tvar deck = decksData[i];\r\n\t\t\t\tdecks[deck.soul.name] = {};\r\n\t\t\t\tdecks[deck.soul.name].cards = deck.cardsList;\r\n\t\t\t\tdecks[deck.soul.name].artifacts = deck.artifacts;\r\n\t\t\t}\r\n\t\t\tif (!areDecksLoaded) {\r\n\t\t\t\tareDecksLoaded = true;\r\n\t\t\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_5__.PrettyCards_plugin.events.emit(\"SoulSelector:decksLoaded\");\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nclass SoulSelector {\r\n\r\n\tconstructor() {\r\n\t\tthis.selectedSoul = \"KINDNESS\";\r\n\t\tthis.idPrefix = \"PrettyCards_ChallengeSoul_\";\r\n\t\tthis.highlightSelectedSoul = true;\r\n\t\tthis.changeSoulCallback = function() {};\r\n\t\tthis.soulsToDisplay = [];\r\n\t}\r\n\r\n\tGetPlayableDecks() {\r\n\t\tUpdateDecks();\r\n\t\tvar playableDecks = {};\r\n\t\tfor (var soul in decks) {\r\n\t\t\tvar deck = decks[soul];\r\n\t\t\tif (deck.cards.length >= 25 && (deck.artifacts.length >= 2 || (deck.artifacts.length === 1 && deck.artifacts[0].legendary))) {\r\n\t\t\t\tplayableDecks[soul] = deck;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn playableDecks;\r\n\t}\r\n\r\n\tGenerateArtifacts(artifacts) {\r\n\t\tvar html = '<div class=\"PrettyCards_ArtifactContainer\">';\r\n\t\tfor (var i = 0; i < artifacts.length; i++) {\r\n\t\t\tvar artifact = artifacts[i];\r\n\t\t\thtml += `<span class=\"${artifact.legendary ? 'yellow' : ''}\"><img style=\"height: 16px;\" src=\"${_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_1__.utility.getArtifactImageLink(artifact.image)}\" /> ${artifact.name}</span>${(i < artifacts.length-1) ? \"<br>\" : \"\"}`;\r\n\t\t}\r\n\t\thtml += '</div>'\r\n\t\treturn html;\r\n\t}\r\n\r\n\tGenerateCards(cards) {\r\n\t\tvar html = \"\";\r\n\t\tfor (var i = 0; i < cards.length; i++) {\r\n\t\t\tvar card = cards[i];\r\n\t\t\thtml += `${card.shiny ? '<span class=\"rainbowText\">S</span> ' : ''}<span class=\"${card.rarity}\">${card.name}</span><br>`;\r\n\t\t}\r\n\t\treturn html;\r\n\t}\r\n\r\n\tChangeDeck(deckName) {\r\n\t\t//console.log(\"Changing deck for \", this, document.getElementById(this.idPrefix + this.selectedSoul), this.idPrefix + this.selectedSoul);\r\n\t\tif (this.highlightSelectedSoul) {\r\n\t\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_4___default()(document.getElementById(this.idPrefix + this.selectedSoul)).removeClass(\"PrettyCards_SelectedSoul\");\r\n\t\t}\r\n\t\tthis.selectedSoul = deckName;\r\n\t\tif (this.highlightSelectedSoul) {\r\n\t\t\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_4___default()(document.getElementById(this.idPrefix + this.selectedSoul)).addClass(\"PrettyCards_SelectedSoul\");\r\n\t\t}\r\n\t\tthis.changeSoulCallback(this.selectedSoul);\r\n\t}\r\n\r\n\tSetUp(idPrefix, sizeClass) {\r\n\t\tthis.idPrefix = idPrefix;\r\n\r\n\t\tvar playableDecks = this.GetPlayableDecks();\r\n\t\tif (this.soulsToDisplay.length <= 0) {\r\n\t\t\tthis.soulsToDisplay = Object.keys(playableDecks);\r\n\t\t}\r\n\t\tvar html = \"\";\r\n\t\tvar firstSoul = \"\";\r\n\t\twindow[\"PrettyCards_ChangeDeck_\" + this.idPrefix] = this.ChangeDeck.bind(this);\r\n\t\t//for (var deckName in this.soulsToDisplay) {\r\n\t\tfor (var i=0; i < this.soulsToDisplay.length; i++) {\r\n\t\t\tvar deckName = this.soulsToDisplay[i];\r\n\t\t\tif (firstSoul === \"\") {\r\n\t\t\t\tfirstSoul = deckName;\r\n\t\t\t}\r\n\t\t\thtml += `<img src=\"https://github.com/CMD-God/prettycards/raw/master/img/Souls/${deckName}.png\" id=\"${this.idPrefix}${deckName}\" onclick='PrettyCards_ChangeDeck_${this.idPrefix}(\"${deckName}\");' class=\"PrettyCards_Soul_${deckName} PrettyCards_${sizeClass}Soul ${(deckName === firstSoul && this.highlightSelectedSoul) ? \"PrettyCards_SelectedSoul\" : \"\"}\"></img>`;\r\n\t\t}\r\n\t\tthis.selectedSoul = firstSoul;\r\n\t\treturn html;\r\n\t}\r\n\r\n\tAddDeckTooltips() {\r\n\t\tvar playableDecks = this.GetPlayableDecks();\r\n\t\tfor (var deckName in playableDecks) {\r\n\t\t\t//console.log(\"#\" + this.idPrefix + deckName, document.querySelector(\"#\" + this.idPrefix + deckName));\r\n\t\t\tconst el = document.querySelector(\"#\" + this.idPrefix + deckName);\r\n\t\t\tvar html = '<div class=\"PrettyCards_DeckTooltip\">' + this.GenerateArtifacts(playableDecks[deckName].artifacts) + this.GenerateCards(playableDecks[deckName].cards) + \"</div>\";\r\n\t\t\t//console.log(window.document.body.getBoundingClientRect, window.document.body.getBoundingClientRect());\r\n\t\t\t\r\n\t\t\twindow.tippy(\"#\" + this.idPrefix + deckName, {\r\n\t\t\t\tcontent: html,\r\n\t\t\t\tallowHTML: true,\r\n\t\t\t\tarrow: true,\r\n\t\t\t\tinertia: true,\r\n\t\t\t\tplacement: \"auto\",\r\n\t\t\t\tappendTo: window.document.body,\r\n\t\t\t\tboundary: 'window',\r\n\t\t\t\tgetReferenceClientRect: window.document.body.getBoundingClientRect,\r\n\t\t\t\tonShow(instance) {\r\n\t\t\t\t\t//console.log(instance, el._tippy, instance == el._tippy);\r\n\t\t\t\t\t//const { popperInstance, options } = el._tippy;\r\n\t\t\t\t\t//options.placement = popperInstance.options.placement = 'right'\r\n\t\t\t\t\t//popperInstance.update()\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t//AddTooltip(el, html, {});\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic ExecuteOnDeckLoad(callback) {\r\n\t\tif (areDecksLoaded) {\r\n\t\t\tcallback();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_5__.PrettyCards_plugin.events.on(\"SoulSelector:decksLoaded\", callback);\r\n\t}\r\n\t\r\n\tstatic GetDecks() {\r\n\t\treturn decks;\r\n\t}\r\n\r\n}\r\n\r\nif (underscript.onPage(\"Decks\")) {\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_5__.PrettyCards_plugin.events.on('Deck:Loaded', function (data) {\r\n\t\tUpdateDecks();\r\n\t});\r\n} else {\r\n\tUpdateDecks();\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/soul_selector.js?");

/***/ }),

/***/ "./src/libraries/tooltips.js":
/*!***********************************!*\
  !*** ./src/libraries/tooltips.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AddTooltip\": () => (/* binding */ AddTooltip)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\n\r\n\r\nconst defaultSettings = {\r\n\torientations : [\"bottom\", \"top\", \"left\", \"right\"],\r\n\tcss: \"background-color: black; border: 1px solid white; border-radius: 10px; padding: 5px; z-index: 2222;\",\r\n\tpadding: 6,\r\n\tonNoSpace : function (data) { // Fired if every single orientation fails to place the tooltip (aka there is absolutely no space in any direction.)\r\n\t\tDestroyTooltip(data);\r\n\t}\r\n}\r\n\r\nconst orientationFunctions = {\r\n\tbottom : function(windowRect, tooltipRect, elementRect, padding, tooltip) {\r\n\t\tif (elementRect.top + elementRect.height + padding + tooltipRect.height > windowRect.height) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\ttooltip.style.top = (elementRect.top + elementRect.height + padding) + \"px\";\r\n\t\tvar x = elementRect.left + elementRect.width/2 - tooltipRect.width/2;\r\n\t\tif (x < 0) {\r\n\t\t\tx = 0;\r\n\t\t} else if (x > windowRect.width - tooltipRect.width) {\r\n\t\t\tx = windowRect.width - tooltipRect.width;\r\n\t\t}\r\n\t\ttooltip.style.left = x + \"px\";\r\n\t\treturn true;\r\n\t},\r\n\ttop : function(windowRect, tooltipRect, elementRect, padding, tooltip) {\r\n\t\tif (elementRect.top - padding - tooltipRect.height < 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\ttooltip.style.top = (elementRect.top - padding - tooltipRect.height) + \"px\";\r\n\t\tvar x = elementRect.left + elementRect.width/2 - tooltipRect.width/2;\r\n\t\tif (x < 0) {\r\n\t\t\tx = 0;\r\n\t\t} else if (x > windowRect.width - tooltipRect.width) {\r\n\t\t\tx = windowRect.width - tooltipRect.width;\r\n\t\t}\r\n\t\ttooltip.style.left = x + \"px\";\r\n\t\treturn true;\r\n\t},\r\n\tleft : function(windowRect, tooltipRect, elementRect, padding, tooltip) {\r\n\t\tif (tooltipRect.width + padding > elementRect.left) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\ttooltip.style.left = (elementRect.left - padding - tooltipRect.width) + \"px\";\r\n\t\tvar y = elementRect.top + elementRect.height/2 - tooltipRect.height/2;\r\n\t\tif (y < 0) {\r\n\t\t\ty = 0;\r\n\t\t} else if (y > windowRect.height - tooltipRect.height) {\r\n\t\t\ty = windowRect.height - tooltipRect.height;\r\n\t\t}\r\n\t\ttooltip.style.top = y + \"px\";\r\n\t\treturn true;\r\n\t},\r\n\tright : function(windowRect, tooltipRect, elementRect, padding, tooltip) {\r\n\t\tif (elementRect.left + elementRect.width + tooltipRect.width + padding > windowRect.width) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\ttooltip.style.left = (elementRect.left + elementRect.width + padding) + \"px\";\r\n\t\tvar y = elementRect.top + elementRect.height/2 - tooltipRect.height/2;\r\n\t\tif (y < 0) {\r\n\t\t\ty = 0;\r\n\t\t} else if (y > windowRect.height - tooltipRect.height) {\r\n\t\t\ty = windowRect.height - tooltipRect.height;\r\n\t\t}\r\n\t\ttooltip.style.top = y + \"px\";\r\n\t\treturn true;\r\n\t},\r\n}\r\n\r\n// Internal Function\r\nfunction CreateTooltip(data) {\r\n\t//console.log(\"Create Tooltip\", data);\r\n\tvar tooltip = data.tooltipElement;\r\n\ttooltip.style.top = \"0px\";\r\n\ttooltip.style.left = \"0px\";\r\n\tvar element = data.element;\r\n\tdocument.body.appendChild(tooltip);\r\n\t\r\n\tvar windowRect = window.document.body.getBoundingClientRect();\r\n\tvar tooltipRect = tooltip.getBoundingClientRect();\r\n\tvar elementRect = element.getBoundingClientRect();\r\n\t//console.log(windowRect, tooltipRect, elementRect);\r\n\tfor (var i=0; i < data.settings.orientations.length; i++) {\r\n\t\tvar orientation = data.settings.orientations[i];\r\n\t\tif (orientationFunctions[orientation](windowRect, tooltipRect, elementRect, data.settings.padding, tooltip)) {\r\n\t\t\t//console.log(\"Proper orientation found!\", orientation);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t//console.log(\"No proper placement found!\");\r\n\tdata.settings.onNoSpace(data);\r\n}\r\n\r\nfunction DestroyTooltip(data) {\r\n\t//console.log(\"Destroy Tooltip\", data);\r\n\tdata.tooltipElement.remove();\r\n}\r\n\r\nfunction AddTooltip(element, content, settings) {\r\n\tvar final_settings = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.completeCopy(defaultSettings);\r\n\tsettings = settings || {};\r\n\tfor (var key in settings) {\r\n\t\tfinal_settings[key] = settings[key];\r\n\t}\r\n\t\r\n\tvar tooltip = document.createElement(\"DIV\");\r\n\ttooltip.style = \"position: absolute;\" + final_settings.css;\r\n\ttooltip.innerHTML = content;\r\n\t\r\n\tvar data = {element: element, content: content, settings: final_settings, tooltipElement : tooltip};\r\n\tvar $ele = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default()(element);\r\n\t$ele.mouseenter(function (e) {\r\n\t\tCreateTooltip(data);\r\n\t});\r\n\t$ele.mouseleave(function (e) {\r\n\t\tDestroyTooltip(data);\r\n\t});\r\n\t_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_1___default()(tooltip).mouseenter(function (e) {\r\n\t\tDestroyTooltip(data);\r\n\t})\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/tooltips.js?");

/***/ }),

/***/ "./src/libraries/translation/translation_manager.js":
/*!**********************************************************!*\
  !*** ./src/libraries/translation/translation_manager.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"translationManager\": () => (/* binding */ translationManager)\n/* harmony export */ });\n/* harmony import */ var _rarity_icons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../rarity_icons */ \"./src/libraries/rarity_icons.js\");\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_3__);\n\r\n\r\n\r\n\r\n\r\n\r\n// pc-shops-.*-(dial|(talk(?!-title)))\r\n\r\nclass TranslationManager {\r\n\r\n    constructor() {\r\n        this.allValuesLists = {};\r\n        this.languageSources = [];\r\n        this.previewTypes = [];\r\n        this.addLanguageSource(\"PrettyCards:Core\", (lan) => `https://raw.githubusercontent.com/CMD-God/prettycards/master/json/translation/${lan}.json`);\r\n        this.addPreviewType(\"default\", /.*/, (str) => {return `<span>${str}</span>`}, 0);\r\n    }\r\n\r\n    addLanguageSource(name = \"DEFAULT_NAME\", urlFunc = (lan) => lan) {\r\n        this.languageSources.push({\r\n            name: name,\r\n            urlFunc: urlFunc\r\n        })\r\n    }\r\n\r\n    addPreviewType(name = \"DEFAULT_MAME\", regex = /.*/, eleFunc = () => {}, priority = 0, onremove = () => {}) {\r\n        var previewType = {\r\n            name: name,\r\n            regex: regex,\r\n            eleFunc: eleFunc,\r\n            priority: priority,\r\n            onremove: onremove\r\n        };\r\n        var index = 0;\r\n        while (index < this.previewTypes.length && this.previewTypes[index].priority > priority) {\r\n            index++;\r\n        }\r\n        this.previewTypes.splice(index, 0, previewType);\r\n        console.log(this.previewTypes);\r\n        return previewType;\r\n    }\r\n\r\n    getStringOrList(key) {\r\n        if (this.allValuesLists[key]) {\r\n            return this.getTranslatedValueList(key);\r\n        }\r\n        return window.$.i18n(key);\r\n    }\r\n\r\n    getTranslatedValueList(key) {\r\n        var list = [];\r\n        for (var i=0; i < this.allValuesLists[key]; i++) {\r\n            list.push(this.getFromValueList(key, i));\r\n        }\r\n        return list;\r\n    }\r\n\r\n    getFromValueList(key, index) {\r\n        return window.$.i18n(this.getListKeyIndex(key, index));\r\n    }\r\n\r\n    getRandomFromValueList(key) {\r\n        return this.getFromValueList(key, _utility__WEBPACK_IMPORTED_MODULE_2__.utility.randomInt(0, this.allValuesLists[key]));\r\n    }\r\n\r\n    getListKeyIndex(key, i) {\r\n        return key + \"-\" + i;\r\n    }\r\n\r\n    getWithFallback(key, fb, param) {\r\n        var t = window.$.i18n(key, param);\r\n        if (t == key) {\r\n            return fb;\r\n        }\r\n        return t;\r\n    }\r\n\r\n}\r\n\r\nvar translationManager = new TranslationManager();\r\n\r\nvar languagesToLoad = 0;\r\n\r\nfunction processJSON(lan, data) {\r\n    //$.i18n.messageStore.set(lan, {[key]: processString(messages[key])});\r\n    for (var key in data) {\r\n        var entry = data[key];\r\n        if (typeof(data[key]) == \"string\") {\r\n            window.$.i18n.messageStore.set(lan, {[key]: entry});\r\n        } else {\r\n            if (entry.ifEqual && window.$.i18n.messageStore.get(lan, key) != entry.ifEqual) {\r\n                continue;\r\n            }\r\n            if (entry.values) {\r\n                translationManager.allValuesLists[key] = entry.values.length;\r\n                for (var i=0; i < entry.values.length; i++) {\r\n                    window.$.i18n.messageStore.set(lan, {[translationManager.getListKeyIndex(key, i)]: entry.values[i]});\r\n                }\r\n            } else {\r\n                window.$.i18n.messageStore.set(lan, {[key]: entry.value});\r\n            }\r\n        }\r\n    }\r\n    progressLanguagesToLoad();\r\n}\r\n\r\nfunction progressLanguagesToLoad() {\r\n    languagesToLoad--;\r\n    if (languagesToLoad <= 0) {\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:TranslationExtReady\");\r\n    }\r\n}\r\n\r\nfunction loadLanguage(lan = 'en') {\r\n    translationManager.languageSources.forEach((source) => {\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_3___default().getJSON(source.urlFunc(lan), {}, function(data) {\r\n            processJSON(lan, data);\r\n        }).fail(function() {\r\n            console.warn(`Language file from source \"${source.name}\" for language \"${lan}\", from address \"${source.urlFunc(lan)}\" could not be loaded!`);\r\n            progressLanguagesToLoad();\r\n        })\r\n    })\r\n}\r\n\r\nfunction switchPartHelper(nodes, className) {\r\n    var opacity = Number(nodes[0]);\r\n    if (isNaN(opacity)) {\r\n        opacity = 1;\r\n    }\r\n    var text = nodes[1];\r\n    return `<span class=\"PrettyCards_SwitchHighlight_${className}\" style=\"opacity:${opacity}; ${opacity <= 0 ? \"display:none;\" : \"\"}\">${text}</span>`;\r\n}\r\n\r\nfunction registerCustomExtensions() {\r\n    window.$.extend(window.$.i18n.parser.emitter, {\r\n        pc_artifacts: function(nodes) {\r\n            var text = nodes[0];\r\n            var idArray = [];\r\n            for (var i=1; i < nodes.length; i++) {\r\n                idArray.push(Number(nodes[i]));\r\n            }\r\n            //prettycards.viewArtifactsInfoForIdArray\r\n            return `<span class=\"helpPointer underlined\" oncontextmenu=\"prettycards.viewArtifactsInfoForIdArray([${idArray.join(\",\")}]);\">${text}</span>`\r\n        },\r\n        pc_switch_cyan: function(nodes) {\r\n            return switchPartHelper(nodes, \"Cyan\");\r\n        },\r\n        pc_switch_red: function(nodes) {\r\n            return switchPartHelper(nodes, \"Red\");\r\n        },\r\n        /*\r\n        pc_switch: function(nodes) {\r\n            var text = nodes[0];\r\n            text = text.replaceAll(\"SWITCH\", window.$.i18n(\"{{KW:SWITCH}}\"));\r\n            text = `<span class=\"PrettyCards_SwitchHighlight_Start\">${text}</span>`;\r\n            text += `<span class=\"PrettyCards_SwitchHighlight_Cyan\">${nodes[1]}</span>`;\r\n            text += `<span class=\"PrettyCards_SwitchHighlight_Middle\">${nodes[2]}</span>`;\r\n            text += `<span class=\"PrettyCards_SwitchHighlight_Red\">${nodes[3]}</span>`;\r\n            return text;\r\n        },*/\r\n        pc_raricon: function(nodes) {\r\n            var ext = nodes[0];\r\n            var rarity = nodes[1];\r\n            return _rarity_icons__WEBPACK_IMPORTED_MODULE_0__.rarityIconsHTML[ext][rarity];\r\n        },\r\n        pc_shiny: function(nodes) {\r\n            var text = nodes[0];\r\n            return `<span class=\"rainbowText\">${text}</span>`;\r\n        },\r\n        pc_tc: function(nodes) {\r\n            var cmdName = nodes[0].toLowerCase();\r\n            if (nodes.length == 1) {\r\n                return \"[\" + cmdName + \"]\"\r\n            }\r\n            nodes.splice(0, 1);\r\n            return \"[\" + cmdName + \":\" + nodes.join(\"|\") + \"]\";\r\n        }\r\n    })\r\n}\r\n\r\nfunction prePageLoadStuff() {\r\n    var lan = window.localStorage.getItem(\"language\");\r\n    if (!lan) { // Should never happen, but . . . \r\n        lan = window.getLanguage();\r\n    }\r\n    _underscript_checker__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.on('translation:loaded', () => {\r\n        registerCustomExtensions();\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:registerTranslationSources\");\r\n        _underscript_checker__WEBPACK_IMPORTED_MODULE_1__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:translationSourcesDone\");\r\n        if (lan != \"en\") {\r\n            languagesToLoad = translationManager.languageSources.length*2;\r\n            loadLanguage('en');\r\n            loadLanguage(lan);\r\n        } else {\r\n            languagesToLoad = translationManager.languageSources.length;\r\n            loadLanguage('en');\r\n        }\r\n    })\r\n}\r\n\r\nprePageLoadStuff();\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_1__.prettycards.translationManager = translationManager;\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/translation/translation_manager.js?");

/***/ }),

/***/ "./src/libraries/underscript_checker.js":
/*!**********************************************!*\
  !*** ./src/libraries/underscript_checker.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PrettyCards_plugin\": () => (/* binding */ PrettyCards_plugin),\n/* harmony export */   \"addSetting\": () => (/* binding */ addSetting),\n/* harmony export */   \"prettycards\": () => (/* binding */ prettycards),\n/* harmony export */   \"settings\": () => (/* binding */ settings)\n/* harmony export */ });\n\r\nif (typeof(window.underscript) === \"undefined\") {\r\n    if ((!window.localStorage.getItem(\"PrettyCards_DependencyErrorMessageShown\")) || (window.localStorage.getItem(\"PrettyCards_DependencyErrorMessageShown\") == \"false\")) {\r\n        var dialog = window.BootstrapDialog.show({\r\n                title: \"Oh no!\",\r\n                type: window.BootstrapDialog.TYPE_WARNING,\r\n                message: \"Looks like you don't have Underscript installed, or you deactivated it! In order for PrettyCards to work, you need to have it up and running. Until then, the features of this userscript will simply not work. Thank you for your understanding.\",\r\n                buttons: [{\r\n                        label: \"Proceed\",\r\n                        cssClass: 'btn-primary',\r\n                        action: function (dialog) {\r\n                            dialog.close();\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n        window.localStorage.setItem(\"PrettyCards_DependencyErrorMessageShown\", true);\r\n    };\r\n\tconsole.error(\"PrettyCards Error: Underscript is not installed!\");\r\n} else {\r\n    window.localStorage.setItem(\"PrettyCards_DependencyErrorMessageShown\", false);\r\n}\r\n\r\nvar PrettyCards_plugin = window.underscript.plugin(\"PrettyCards\");\r\nvar prettycards = {};\r\nwindow.prettycards = prettycards;\r\nwindow.PrettyCards_plugin = PrettyCards_plugin;\r\n//var PrettyCards_plugin = underscript.plugin('<span class=\"RARE\">PrettyCards</span>');\r\n//console.log(\"Plugin: \", PrettyCards_plugin);\r\n\r\nvar settings = {};\r\nwindow.PrettyCards_settings = settings;\r\n\r\nvar categories = {\r\n    \"misc\" : \"Miscellaneous\",\r\n    \"card\" : \"Card Related\",\r\n    \"controversial\" : \"<span class='red'>Controversial</span>\",\r\n    \"background\" : \"Background\",\r\n    \"packs\" : \"Packs\"\r\n}\r\n\r\nfunction addSetting(data) {\r\n    if (data.note && typeof(data.note) != \"function\") {\r\n        data.note = `<div style=\"max-width: 600px;\">${data.note}</div>`;\r\n    }\r\n    data.category = categories[data.category || \"misc\"];\r\n    var setting = PrettyCards_plugin.settings().add(data);\r\n    settings[data.key] = setting;\r\n    return setting;\r\n}\r\n\r\naddSetting({\r\n    'key': 'turn_off',\r\n    'name': 'Turn Off PrettyCards', // Name in settings page\r\n    'type': 'boolean',\r\n    'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n    'default': false, // default value\r\n    'category': \"controversial\"\r\n});\r\n\r\nif (settings.turn_off.value()) {\r\n    throw \"PrettyCards is stopped!\";\r\n}\r\n\r\naddSetting({\r\n    'key': 'packs_page',\r\n    'name': 'Enable Fancy Packs Page', // Name in settings page\r\n    'type': 'boolean',\r\n    'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n    'default': true, // default value\r\n    'category': \"packs\"\r\n});\r\n\r\naddSetting({\r\n\t'key': 'breaking_skin_fix',\r\n\t'name': 'Breaking Skin Fix', // Name in settings page\r\n\t'note': 'Whenever you hover over a breaking skin card, the name, description, cost, ATK and HP will go over the skin.',\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': true, // default value\r\n\t'category': \"card\"\r\n});\r\n\r\naddSetting({\r\n\t'key': 'breaking_skin_stats_fix',\r\n\t'name': 'Breaking Skin Stats Fix', // Name in settings page\r\n\t'note': 'Hides stats and tribes behind breaking skin to not break immersion. Hovering over a card will show them. Only works if Breaking Skin Fix is active.',\r\n\t'type': 'boolean',\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t'default': true, // default value\r\n\t'category': \"card\"\r\n});\r\n\r\naddSetting({\r\n    'key': 'override_decks',\r\n    'name': 'Override Deck System', // Name in settings page\r\n    'note': 'Overrides the current deck system locally with a more flexible one. This inludes the Decks page, Play page, Custom page and the Custom Challenge system.',\r\n    'type': 'boolean',\r\n    //'disabled': true,\r\n    'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n    'default': true, // default value\r\n    'category': \"controversial\"\r\n});\r\n\r\n//console.log(settings);\r\n\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/underscript_checker.js?");

/***/ }),

/***/ "./src/libraries/utility.js":
/*!**********************************!*\
  !*** ./src/libraries/utility.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"utility\": () => (/* binding */ utility)\n/* harmony export */ });\n/* harmony import */ var _underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./underscript_checker */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\nvar collectionPlace = document.getElementById(\"collection\"); // This is for a workaround with how friendship cards are added.\r\nif (!collectionPlace) {\r\n\tcollectionPlace = document.createElement(\"DIV\");\r\n\tcollectionPlace.id = \"collection\";\r\n\tcollectionPlace.className = \"PrettyCards_Hidden\";\r\n\tdocument.body.appendChild(collectionPlace);\r\n}\r\n\r\nvar season_number = -1;\r\nconst seasonKeyStart = \"quest-s\";\r\nconst seasonKeyEnd = \"-start-1\";\r\n\r\nconst accessExceptions = [\"CMD_God\", \"Jazmin290\"]; // Usernames to let use Translator features for obvious reasons. Might use this for other types of permissions as well later? IDK.\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"translation:loaded\", function(data) {\r\n\tvar messages = $.i18n.messageStore.messages.en;\r\n\tvar list = Object.keys(messages);\r\n\t\r\n    //for (var key in messages) {\r\n    //    if (key.startsWith(seasonKeyStart) && key.endsWith(seasonKeyEnd)) {\r\n\t//\t\tvar portion = key.substring(seasonKeyStart.length, key.length-seasonKeyEnd.length);\r\n    //        season_number = Math.max(season_number, Number(portion));\r\n    //    }\r\n    //}\r\n\r\n\tfor (var i=list.length-1; i >= 0; i--) {\r\n\t\tvar key = list[i];\r\n\t\tif (key.startsWith(seasonKeyStart) && key.endsWith(seasonKeyEnd)) {\r\n\t\t\tvar portion = key.substring(seasonKeyStart.length, key.length-seasonKeyEnd.length);\r\n            season_number = Number(portion);\r\n\t\t\tbreak;\r\n        }\r\n\t}\r\n\t_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:seasonNumber\", season_number);\r\n})\r\n\r\n\r\nif (String.prototype.splice === undefined) {\r\n\t/**\r\n\t * Splices text within a string.\r\n\t * @param {int} offset The position to insert the text at (before)\r\n\t * @param {string} text The text to insert\r\n\t * @param {int} [removeCount=0] An optional number of characters to overwrite\r\n\t * @returns {string} A modified string containing the spliced text.\r\n\t */\r\n\tString.prototype.splice = function(offset, text, removeCount=0) {\r\n\t  let calculatedOffset = offset < 0 ? this.length + offset : offset;\r\n\t  return this.substring(0, calculatedOffset) +\r\n\t\ttext + this.substring(calculatedOffset + removeCount);\r\n\t};\r\n  }\r\n\r\n\r\nclass Utility {\r\n\r\n\tconstructor() {\r\n\t\tthis.githubCSSSources = {};\r\n\t\tthis.addCSSSourceData(\"base\", {\r\n\t\t\tversion: GM_info.script.version,\r\n\t\t\teventName: \"PrettyCards:CommitCSSLoad\",\r\n\t\t\tapiLink: \"https://api.github.com/repos/CMD-God/prettycards/commits\",\r\n\t\t\turlLinkFunc: (data, name) => `https://cdn.jsdelivr.net/gh/CMD-God/prettycards@${data}/css/${name}.css`\r\n\t\t});\r\n\t}\r\n\r\n\taddCSSSourceData(name, settings) {\r\n\t\tthis.githubCSSSources[name] = settings;\r\n\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function(data) {\r\n\t\t\tif (settings.version == \"local\") {\r\n\t\t\t\twindow.$.get(settings.apiLink, function(data) {\r\n\t\t\t\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(settings.eventName, data[0].sha);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit.singleton(settings.eventName, settings.version);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tloadCSSFromGH(name, srcName = \"base\") {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tvar src = this.githubCSSSources[srcName];\r\n\t\t\t_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(src.eventName, function(data) {\r\n\t\t\t\tutility.loadCSSFromLink(src.urlLinkFunc(data, name)).then(resolve).catch(reject);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tloadCSSFromLink(url) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tvar e = document.createElement(\"link\");\r\n\t\t\te.rel  = 'stylesheet';\r\n\t\t\te.type = 'text/css';\r\n\t\t\te.href = url;\r\n\t\t\te.onload = resolve;\r\n\t\t\te.onerror = reject;\r\n\t\t\tdocument.head.appendChild(e);\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Some code I found on stack overflow. Let's see if it works . . . \r\n\tcopyCSS(from_element, to_element) {\r\n\t\tconst styles = window.getComputedStyle(from_element);\r\n\t\tif (styles.cssText !== \"\") {\r\n\t\t\tto_element.style.cssText = styles.cssText;\r\n\t\t} else {\r\n\t\t\tconst to_styles = window.getComputedStyle(to_element);\r\n\t\t\tconst cssText = Object.values(styles).reduce(\r\n\t\t\t\t(css, propertyName) =>\r\n\t\t\t\t\t`${css}${propertyName}:${styles.getPropertyValue(\r\n\t\t\t\t\t\tpropertyName\r\n\t\t\t\t\t)};`\r\n\t\t\t);\r\n\t\t\tto_element.style.cssText = cssText\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompleteCopyArray(arr) {\r\n\t\tif (!Array.isArray(arr)) {\r\n\t\t\treturn this.completeCopy(arr);\r\n\t\t}\r\n\t\tvar copy = [];\r\n\t\tfor (var i=0; i < arr.length; i++) {\r\n\t\t\tif (typeof(arr[i]) == \"object\") {\r\n\t\t\t\tcopy[i] = this.completeCopy(arr[i]);\r\n\t\t\t} else {\r\n\t\t\t\tcopy[i] = arr[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn copy;\r\n\t}\r\n\t\r\n\tcompleteCopy(object) { // WARNING! Does not handle recursive refernces!\r\n\t\tif (Array.isArray(object)) {\r\n\t\t\treturn this.completeCopyArray(object);\r\n\t\t}\r\n\t\tvar copy = {};\r\n\t\tfor (var id in object) {\r\n\t\t\tif (typeof(object[id]) == \"object\") {\r\n\t\t\t\tcopy[id] = this.completeCopy(object[id]);\r\n\t\t\t} else {\r\n\t\t\t\tcopy[id] = object[id];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn copy;\r\n\t}\r\n\t\r\n\tdeleteByValue(arr, item) {\r\n\t\tvar index = arr.indexOf(item);\r\n\t\tif (index !== -1) {\r\n\t\t\tarr.splice(index, 1);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t// This. Code. Is. ANCIENT. What is up with this, Onu!?!?\r\n\taddFriend(username, callback) {\r\n\t\t$.post(\"Friends\", {username: \"Jazmin290\", addFriend: \"Add friend\"}, callback);\r\n\t}\r\n\t\r\n\tappendCardFriendship(card, container, level, currentXp, maxXp) { // Why must you torture me . . . ?\r\n\t\tvar $card = window.appendCardFriendship(card, level, currentXp, maxXp);\r\n\t\tcontainer.append($card);\r\n\t\treturn $card;\r\n\t}\r\n\r\n\tgetFriendshipInfo(id, cb) {\r\n\t\treturn $.get(\"https://raw.githubusercontent.com/PrettyCards/friendship-server/main/data/\" + id + \".json\", {}, function(data) {\r\n\t\t\t//console.log(JSON.parse(data));\r\n\t\t\tcb(JSON.parse(data));\r\n\t\t})\r\n\t}\r\n\r\n\tgetXpForLevel(level) {\r\n\t\treturn window.U0*level + (level*(level-1))/2*window.R;\r\n\t}\r\n\r\n\tonTestServer() {\r\n\t\treturn !['www','undercards'].includes(window.location.hostname.split('.')[0]);\r\n\t}\r\n\r\n\tsaveCanvasAsImage(canvas, filename) {\r\n\t\tvar link = document.createElement(\"A\");\r\n\t\tlink.setAttribute(\"download\", filename + \".png\");\r\n\t\tlink.setAttribute(\"href\", canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\"));\r\n\t\tlink.click();\r\n\t}\r\n\r\n\t// Yes, this one is from Stackoverflow.\r\n\tdownloadFile(content, fileName, contentType) {\r\n\t\tvar a = document.createElement(\"a\");\r\n\t\tvar file = new Blob([content], {type: contentType});\r\n\t\ta.href = URL.createObjectURL(file);\r\n\t\ta.download = fileName;\r\n\t\ta.click();\r\n\t}\r\n\r\n\trandomInt(min=0, max=1) { // WILL ALWAYS BE SMALLER THAN THE MAX VALUE!\r\n\t\treturn min + Math.floor(Math.random() * (max-min));\r\n\t}\r\n\r\n\tgetRandomFromArray(array) {\r\n\t\tif (array.length <= 0) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tif (array.length == 1) {\r\n\t\t\treturn array[0];\r\n\t\t}\r\n\t\treturn array[this.randomInt(0, array.length)];\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the season number relative to the new year.\r\n\t * @returns {number} A number from 0 to 11, where 0 is January and 11 is December.\r\n\t */\r\n\tgetSeasonMonth() {\r\n\t\treturn (season_number - 66)%12; // Season 66 was January 2022.\r\n\t}\r\n\r\n\tgetSeasonNumber() {\r\n\t\treturn season_number;\r\n\t}\r\n\r\n\tgetCardImageLink(image) {\r\n\t\tif (this.getSeasonMonth() == 3) { // Is it an April Season?\r\n\t\t\treturn `/images/aprilFools/cards/${image}.png`;\r\n\t\t}\r\n\t\treturn `/images/cards/${image}.png`;\r\n\t}\r\n\r\n\tgetArtifactImageLink(image) {\r\n\t\tif (this.getSeasonMonth() == 3) { // Is it an April Season?\r\n\t\t\treturn `/images/aprilFools/artifacts/${image}.png`;\r\n\t\t}\r\n\t\treturn `/images/artifacts/${image}.png`;\r\n\t}\r\n\r\n\tpreloadAudio(url) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tvar audio = new Audio();\r\n\t\t\taudio.onload = function() {resolve(audio)};\r\n\t\t\taudio.onerror = reject;\r\n\t\t\taudio.src = url; // Just to be sure it works with every browser.\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\tpreloadImage(url) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tvar image = new Image();\r\n\t\t\timage.onload = function() {resolve(image)};\r\n\t\t\timage.onerror = reject;\r\n\t\t\timage.src = url;\r\n\t\t})\r\n\t}\r\n\r\n\tresizePixelArt(img, scale = 1) {\r\n\t\tconsole.log(img, scale);\r\n\t\tvar offtx = document.createElement('CANVAS').getContext('2d');\r\n\t\tofftx.height = img.height;\r\n\t\tofftx.width = img.width;\r\n\t\tofftx.drawImage(img,0,0);\r\n\t\tvar imgData = offtx.getImageData(0,0,img.width,img.height).data;\r\n\r\n\t\tvar retCanv = document.createElement(\"CANVAS\");\r\n\t\tretCanv.height = img.height * scale;\r\n\t\tretCanv.width = img.width * scale;\r\n\t\tvar ctx2 = retCanv.getContext('2d');\r\n\t\tfor (var x=0;x<img.width;++x){\r\n\t\t\tfor (var y=0;y<img.height;++y){\r\n\t\t\t  \t// Find the starting index in the one-dimensional image data\r\n\t\t\t\tvar i = (y*img.width + x)*4;\r\n\t\t\t\tvar r = imgData[i  ];\r\n\t\t\t\tvar g = imgData[i+1];\r\n\t\t\t\tvar b = imgData[i+2];\r\n\t\t\t\tvar a = imgData[i+3];\r\n\t\t\t\tctx2.fillStyle = \"rgba(\"+r+\",\"+g+\",\"+b+\",\"+(a/255)+\")\";\r\n\t\t\t\tctx2.fillRect(x*scale,y*scale,scale,scale);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.body.appendChild(retCanv);\r\n\r\n\t\treturn retCanv;\r\n\t}\r\n\r\n\tfeaturesAccessForGroupOnly(groups) {\r\n\t\tif (accessExceptions.includes(window.selfUsername)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (typeof(groups) == \"string\") {\r\n\t\t\tgroups = [groups];\r\n\t\t}\r\n\t\tfor (var i=0; i < window.selfGroups.length; i++) {\r\n\t\t\tvar group = window.selfGroups[i];\r\n\t\t\tif (groups.includes(group.name)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\ttranslatorFeaturesAccess() {\r\n\t\treturn this.featuresAccessForGroupOnly(\"Translator\");\r\n\t}\r\n\r\n\ttoLocale(key, locale, data = []) {\r\n\t\tconst l = window.$.i18n().locale;\r\n\t\twindow.$.i18n().locale = locale;\r\n\t\tlet text;\r\n\t\ttry {\r\n\t\t\ttext = window.$.i18n(key, ...data);\r\n\t\t} catch (e) {\r\n\t\t\ttext = 'ERROR';\r\n\t\t}\r\n\t\twindow.$.i18n().locale = l;\r\n\t\treturn text;\r\n\t}\r\n\r\n\tconstructURL(prefix, filename, defExt, oldLogic = false) {\r\n\t\tif (oldLogic) {\r\n\t\t\treturn prefix + filename + \".\" + defExt;\r\n\t\t}\r\n\t\tif (prefix.length > 0 && !prefix.endsWith(\"/\")) {\r\n\t\t\tprefix = prefix + \"/\";\r\n\t\t}\r\n\t\tvar splitFileName = filename.split(\".\");\r\n\t\tif (splitFileName.length < 2) {\r\n\t\t\tfilename = filename + \".\" + defExt;\r\n\t\t}\r\n\t\treturn prefix + filename;\r\n\t}\r\n\r\n\thideUglyPage() { // Nothing personal.\r\n\t\tvar children = [...document.querySelector(\".mainContent\").children];\r\n\t\t//console.log(children);\r\n\t\tfor (var i=0; i < children.length; i++) {\r\n\t\t\tvar element = children[i];\r\n\t\t\tif (element.nodeName == \"NAV\" || element.nodeName == \"FOOTER\" || element.nodeName == \"SCRIPT\" /*|| (element.nodeName == \"TABLE\" && element.id == \"cardsOpen\")*/) {\r\n\t\t\t\tcontinue;\r\n\t\t\t} else {\r\n\t\t\t\telement.style.setProperty(\"display\", \"none\", \"important\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tbinarySearch(array, value, mapFunc = (ele) => ele) {\r\n\t\tvar s = 0, e = array.length - 1;\r\n\t\twhile (s <= e) {\r\n\t\t\tvar m = Math.floor((s + e)/2);\r\n\t\t\tvar ele = array[m];\r\n\t\t\tvar mappedVal = mapFunc(ele);\r\n\t\t\tif (mappedVal === value) {\r\n\t\t\t\treturn array[m];\r\n\t\t\t}\r\n\t\t\tif (value > mappedVal) {\r\n\t\t\t\ts = m+1;\r\n\t\t\t} else {\r\n\t\t\t\te = m - 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// From StackOverflow: https://stackoverflow.com/questions/5598743/finding-elements-position-relative-to-the-document\r\n\tgetCoordsRelativeToDocument(elem) { // crossbrowser version\r\n\t\tvar box = elem.getBoundingClientRect();\r\n\t\r\n\t\tvar body = document.body;\r\n\t\tvar docEl = document.documentElement;\r\n\t\r\n\t\tvar scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\r\n\t\tvar scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\r\n\t\r\n\t\tvar clientTop = docEl.clientTop || body.clientTop || 0;\r\n\t\tvar clientLeft = docEl.clientLeft || body.clientLeft || 0;\r\n\t\r\n\t\tvar top  = box.top +  scrollTop - clientTop;\r\n\t\tvar left = box.left + scrollLeft - clientLeft;\r\n\t\r\n\t\treturn { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\r\n\t}\r\n\t\r\n}\r\n\r\nvar utility = new Utility();\r\n\r\n_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.prettycards.utility = utility;\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/libraries/utility.js?");

/***/ }),

/***/ "./src/page_specific/crafting.js":
/*!***************************************!*\
  !*** ./src/page_specific/crafting.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InitCrafting\": () => (/* binding */ InitCrafting)\n/* harmony export */ });\n/* harmony import */ var _libraries_artifact_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libraries/artifact_display */ \"./src/libraries/artifact_display.js\");\n/* harmony import */ var _libraries_page_getters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../libraries/page_getters */ \"./src/libraries/page_getters.js\");\n/* harmony import */ var _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../libraries/underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _libraries_utility__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../libraries/utility */ \"./src/libraries/utility.js\");\n\r\n\r\n\r\n\r\n\r\nconst minDeckCodeLength = 50; // Original result was 132, but I decided to not have that many bugs today . . .\r\n\r\nvar prevDial;\r\nvar whatToBuy = [];\r\nvar missingArtifacts = [];\r\nvar missingDTCount = 0;\r\nvar lastArtifactIds = [];\r\n\r\n(0,_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_2__.addSetting)({\r\n\t'key': 'sktimacraft',\r\n\t'name': 'Enable Mass Crafting input', // Name in settings page\r\n\t'note': \"Also known as \\\"Sktimacraft\\\".\",\r\n\t'type': 'boolean',\r\n\t'refresh': false, // true to add note \"Will require you to refresh the page\"\r\n\t'default': true, // default value\r\n});\r\n\r\n// Test Deck Code: eyJzb3VsIjoiUEFUSUVOQ0UiLCJjYXJkSWRzIjpbNzMsNzQsMTgyLDI2MCw3MzcsNTUwLDcyLDE0NCw3NSw1NCwxNDcsMTg1LDUwMyw1MDMsNjk4LDI3OSw1Miw1ODQsNDMsMjAxLDIyNywyNjUsNTQ4LDUwNSw2M10sImFydGlmYWN0SWRzIjpbOSwxN119\r\n// eyJzb3VsIjoiUEFUSUVOQ0UiLCJjYXJkSWRzIjpbNzMsMTgyLDI2MCwzMDksMjg1LDMwLDc1LDcxMCw2NTYsMjQ2LDE4NSwxODUsNjk4LDU5Miw1MiwyMDIsNTE3LDQ3Miw1MDUsNTUsOCwyNTQsNDQ0LDU4MSw2M10sImFydGlmYWN0SWRzIjpbMjAsMTRdfQ==\r\n\r\nfunction convertCollection() {\r\n    var convColl = {};\r\n    window.collection.forEach((card) => {\r\n        if (!convColl[card.id]) {\r\n            convColl[card.id] = {normal: 0, shiny: 0};\r\n        }\r\n        convColl[card.id][(card.shiny ? \"shiny\" : \"normal\")] = card.quantity;\r\n    })\r\n    return convColl;\r\n}\r\n\r\n_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_2__.PrettyCards_plugin.events.on(\"craftcard\", function(data) {\r\n    //console.log(\"craftcard event procced\", data);\r\n    if (!prevDial || !prevDial.opened) {\r\n        return;\r\n    }\r\n    $(`#PrettyCards_MassCraft_CardContainer #${data.id}${data.shiny ? \".shiny\" : \"\"}.PrettyCards_MassCraft_NotHave:first-of-type`).removeClass(\"PrettyCards_MassCraft_NotHave\");\r\n    for (var i=0; i < whatToBuy.length; i++) {\r\n        var buy = whatToBuy[i];\r\n        if (buy.id == data.id && buy.shiny == data.shiny) {\r\n            whatToBuy.splice(i, 1);\r\n            refreshDustCost();\r\n            break;\r\n        }\r\n    }\r\n})\r\n\r\n_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_2__.PrettyCards_plugin.events.on(\"PrettyCards:artBuySuccess\", function(data) {\r\n    if (!prevDial || !prevDial.opened) {\r\n        return;\r\n    }\r\n    generateArtifactsSection($(\"#PrettyCards_MassCraft_Artifacts\"), lastArtifactIds);\r\n    refreshDustCost();\r\n})\r\n\r\nfunction buyAll() {\r\n    whatToBuy.forEach( (e) => {\r\n        window.craft(e.id, e.shiny);\r\n    });\r\n    missingArtifacts.forEach( (e) => {\r\n        _libraries_artifact_display__WEBPACK_IMPORTED_MODULE_0__.artifactDisplay.BuyArtifact(e.id);\r\n    })\r\n}\r\n\r\n/* MODES:\r\n    0 - Normal Only\r\n    1 - Shiny Only\r\n    2 - Mixed (Normal)\r\n    3 - Mixed (Shiny)\r\n*/\r\n\r\nfunction generateCardsSection(cardIds, mode = 0) {\r\n    var convColl = convertCollection();\r\n    var parent = $(`<div id=\"PrettyCards_MassCraft_CardContainer\"></div>`);\r\n    whatToBuy = [];\r\n    missingDTCount = 0;\r\n\r\n    function appendCard(id, shiny, doHave) {\r\n        var card = { ...window.getCard(id) };\r\n        card.shiny = shiny;\r\n        var $card = window.appendCard(card, parent);\r\n        if (doHave) {\r\n            convColl[id][(shiny ? \"shiny\" : \"normal\")]--;\r\n        } else {\r\n            $card.addClass(\"PrettyCards_MassCraft_NotHave\");\r\n            if (card.rarity !== \"DETERMINATION\") {\r\n                whatToBuy.push({id : id, shiny : shiny, cost: window.underscript.utils.rarity.cost(card.rarity, shiny)});\r\n                $card.click(function() {window.craft(id, shiny)});\r\n            } else {\r\n                missingDTCount++;\r\n                $card.addClass(\"transparent\");\r\n            }\r\n        }\r\n    }\r\n\r\n    function appendNormal(id, doHave = true) {\r\n        appendCard(id, false, doHave);\r\n    }\r\n    function appendShiny(id, doHave = true) {\r\n        appendCard(id, true, doHave);\r\n    }\r\n\r\n    cardIds.forEach((id) => {\r\n        var counts = convColl[id] || {normal: 0, shiny: 0};\r\n        if ((mode == 0 || mode == 2) && counts.normal > 0) {\r\n            appendNormal(id);\r\n        } else if ((mode == 1 || mode == 3) && counts.shiny > 0) {\r\n            appendShiny(id);\r\n        } else if (mode == 2 && counts.shiny > 0) {\r\n            appendShiny(id);\r\n        } else if (mode == 3 && counts.normal > 0) {\r\n            appendNormal(id);\r\n        } else {\r\n            if (mode == 0 || mode == 2) {\r\n                appendNormal(id, false);\r\n            } else {\r\n                appendShiny(id, false);\r\n            }\r\n        }\r\n    })\r\n    return parent;\r\n}\r\n\r\nfunction generateArtifactsSection(artifacts, artifactIds) {\r\n    if (!artifacts || artifactIds.length <= 0) {\r\n        return;\r\n    }\r\n    missingArtifacts = [];\r\n    artifacts.empty();\r\n    artifactIds.forEach((artId) => {\r\n        var artifact = _libraries_artifact_display__WEBPACK_IMPORTED_MODULE_0__.artifactDisplay.GetArtifactById(artId);\r\n        var ownedClass = artifact.owned ? \"\" : \"PrettyCards_MassCraft_MissingArtifact\";\r\n        var rarityClass = artifact.rarity == \"COMMON\" ? \"normalArtifact\" : \"legendaryArtifact\";\r\n        //console.log(artifact);\r\n        artifacts.append(`<div class=\"PrettyCards_MassCraft_ArtifactSlot pointer ${ownedClass} ${artifact.rarity}\" onclick=\"artifactInfo(${artId})\"><img class=\"${rarityClass} ${ownedClass}\" src=\"${_libraries_utility__WEBPACK_IMPORTED_MODULE_3__.utility.getArtifactImageLink(artifact.image)}\"> ${$.i18n(\"artifact-name-\" + artId)}</div>`);\r\n        if (!artifact.owned) {\r\n            missingArtifacts.push(artifact);\r\n        }\r\n    })\r\n}\r\n\r\nfunction refreshDustCost() {\r\n    $(\"#PrettyCards_MassCraft_DustCount\").html(_libraries_page_getters__WEBPACK_IMPORTED_MODULE_1__.pagegetters.dust);\r\n    var totalCost = 0;\r\n    whatToBuy.forEach( (e) => {\r\n        totalCost += e.cost;\r\n    })\r\n    var totalGold = 0;\r\n    missingArtifacts.forEach( (a) => {\r\n        totalGold += a.cost;\r\n    })\r\n    var costText = totalCost > 0 ? `${totalCost} <img src=\"images/icons/dust.png\" class=\"height-32\">` : \"\";\r\n    var goldText = totalCost > 0 ? `<span class=\"yellow\">${totalGold}</span> <img src=\"images/icons/gold.png\" class=\"height-32\">` : \"\";\r\n    var combinedText = \"\";\r\n    if (totalCost > 0) {\r\n        combinedText += costText;\r\n    }\r\n    if (totalGold > 0) {\r\n        if (totalCost > 0) {\r\n            combinedText += \" \";\r\n        }\r\n        combinedText += goldText;\r\n    }\r\n    var totalText = window.$.i18n(\"pc-masscraft-buyall\", combinedText);\r\n    $(\"#PrettyCards_MassCraft_BuyAllBtn\").removeClass(\"PrettyCards_Hidden\");\r\n    $(\"#PrettyCards_MassCraft_BuyAllBtn\").addClass(\"btn-success\");\r\n    $(\"#PrettyCards_MassCraft_BuyAllBtn\").removeClass(\"btn-danger\");\r\n    $(\"#PrettyCards_MassCraft_BuyAllBtn\").attr(\"disabled\", false);\r\n    if (totalCost == 0 && totalGold == 0) {\r\n        totalText = `<span class='green'>${window.$.i18n(\"pc-masscraft-allgood\")}</span>`;\r\n        $(\"#PrettyCards_MassCraft_BuyAllBtn\").addClass(\"PrettyCards_Hidden\");\r\n        if (missingDTCount > 0) {\r\n            totalText = `<span class='yellow'>${window.$.i18n(\"pc-masscraft-allgood-nodt\", missingDTCount)}</yellow>`;\r\n        }\r\n    }\r\n    if (totalCost > _libraries_page_getters__WEBPACK_IMPORTED_MODULE_1__.pagegetters.dust || totalGold > _libraries_page_getters__WEBPACK_IMPORTED_MODULE_1__.pagegetters.gold) {\r\n        $(\"#PrettyCards_MassCraft_BuyAllBtn\").addClass(\"btn-danger\");\r\n        $(\"#PrettyCards_MassCraft_BuyAllBtn\").removeClass(\"btn-success\");\r\n        $(\"#PrettyCards_MassCraft_BuyAllBtn\").attr(\"disabled\", true);\r\n    }\r\n    $(\"#PrettyCards_MassCraft_Cost\").html(totalText);\r\n}\r\n\r\nfunction generateContent(jsonDeck) {\r\n    var soulName = jsonDeck.soul;\r\n\r\n    var cont = $(`<div id=\"PrettyCards_MassCraft_Preview\"></div>`);\r\n    var row1 = $(`<div id=\"PrettyCards_MassCraft_SoulDeckRow\"></div>`);\r\n\r\n    var soul = $(`<div class=\"${soulName} pointer\" onclick=\"soulInfo('${soulName}')\"><img src=\"https://github.com/CMD-God/prettycards/raw/master/img/Souls/${soulName}.png\"> ${$.i18n(\"soul-\" + soulName.toLowerCase())}</div>`);\r\n\r\n    lastArtifactIds = jsonDeck.artifactIds;\r\n    var artifacts = $(`<div id=\"PrettyCards_MassCraft_Artifacts\"></div>`);\r\n    generateArtifactsSection(artifacts, lastArtifactIds);\r\n\r\n    row1.append(soul);\r\n    row1.append(artifacts);\r\n\r\n    var row2 = $(`\r\n        <div id=\"PrettyCards_MassCraft_ModeSelectRow\">\r\n            <div class=\"PrettyCards_MassCraft_ModeSelectBtn\">${window.$.i18n(\"pc-masscraft-menu-nonly\")}</div>\r\n            <div class=\"PrettyCards_MassCraft_ModeSelectBtn\">${window.$.i18n(\"pc-masscraft-menu-sonly\")}</div>\r\n            <div class=\"PrettyCards_MassCraft_ModeSelectBtn\">${window.$.i18n(\"pc-masscraft-menu-nmixed\")}</div>\r\n            <div class=\"PrettyCards_MassCraft_ModeSelectBtn\">${window.$.i18n(\"pc-masscraft-menu-smixed\")}</div>\r\n        </div>\r\n    `);\r\n\r\n    var cardSlot = $(`<div id=\"PrettyCards_MassCraft_CardSlot\"></div>`);\r\n\r\n    function refreshCards(mode = 0, force = false) {\r\n        //console.log(\"SWITCHING MODE\", mode);\r\n        var currBtn = $(`.PrettyCards_MassCraft_ModeSelectBtn:nth-child(${mode+1})`);\r\n        if (currBtn.hasClass(\"PrettyCards_MassCraft_ModeSelected\") && !force) {\r\n            //console.log(\"MODE ALREADY SELECTED\");\r\n            return;\r\n        }\r\n        $(`.PrettyCards_MassCraft_ModeSelectBtn`).removeClass(\"PrettyCards_MassCraft_ModeSelected\");\r\n        currBtn.addClass(\"PrettyCards_MassCraft_ModeSelected\");\r\n        cardSlot.empty().append(generateCardsSection(jsonDeck.cardIds, mode));\r\n        refreshDustCost();\r\n    }\r\n\r\n    var buttons = row2.find(\".PrettyCards_MassCraft_ModeSelectBtn\");\r\n    for (var i=0; i < buttons.length; i++) {\r\n        const index = i;\r\n        const func = function() {refreshCards(index);}\r\n        buttons[i].onclick = func;\r\n        console.log(buttons[i], index, func);\r\n    }\r\n\r\n    var row4 = $(`\r\n        <div id=\"PrettyCards_MassCraft_BuyRow\">\r\n            <div>\r\n                <img src=\"images/icons/dust.png\" class=\"height-32\">\r\n                <span id=\"PrettyCards_MassCraft_DustCount\">[A LOT!]</span>\r\n            </div>\r\n            <div>\r\n                <span id=\"PrettyCards_MassCraft_Cost\"></span> <button class=\"btn btn-success\" id=\"PrettyCards_MassCraft_BuyAllBtn\">${window.$.i18n(\"pc-masscraft-buyallbtn\")}</button>\r\n            </div>\r\n        </div>\r\n    `);\r\n\r\n    refreshCards(0, true);\r\n    $(buttons[0]).addClass(\"PrettyCards_MassCraft_ModeSelected\"); // This is done because the buttons are not yet part of the page itself.\r\n\r\n    row4.find(\"#PrettyCards_MassCraft_BuyAllBtn\").click(buyAll);\r\n\r\n    cont.append(row1);\r\n    cont.append(row2);\r\n    cont.append(cardSlot);\r\n    cont.append(row4);\r\n\r\n    return cont;\r\n}\r\n\r\nfunction displayDeck(e) {\r\n    var string = e.value;\r\n    if (string.length <= minDeckCodeLength) {\r\n        return;\r\n    }\r\n    if (prevDial && prevDial.opened) {\r\n        return;\r\n    }\r\n    var jsonDeck;\r\n    try {\r\n        jsonDeck = JSON.parse(atob(string));\r\n    } catch(e) {\r\n        console.warn(\"DECK CODE ERROR\", e);\r\n        return;\r\n    }\r\n    //console.log(jsonDeck);\r\n    if ((typeof(jsonDeck.soul) != \"string\") || (typeof(jsonDeck.cardIds) != \"object\" || jsonDeck.cardIds.length != 25) || (typeof(jsonDeck.artifactIds) != \"object\" || jsonDeck.artifactIds.length > 2) ) {\r\n        return;\r\n    }\r\n    e.value = \"\";\r\n    prevDial = window.BootstrapDialog.show({\r\n        title: window.$.i18n(\"pc-masscraft-title\"),\r\n        message: generateContent(jsonDeck),\r\n        size: window.BootstrapDialog.SIZE_WIDE,\r\n        onshown: function(dial) {\r\n            refreshDustCost()\r\n        },\r\n        buttons: [\r\n            {\r\n                label: window.$.i18n(\"dialog-ok\"),\r\n                cssClass: 'btn-primary',\r\n                action: function(dialog) {\r\n                    dialog.close();\r\n                }\r\n            }\r\n        ]\r\n    });\r\n    //console.log(jsonDeck);\r\n}\r\n\r\n\r\nfunction InitCrafting() {\r\n    if (_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_2__.settings.sktimacraft.value()) {\r\n        _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_2__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n            _libraries_utility__WEBPACK_IMPORTED_MODULE_3__.utility.loadCSSFromGH(\"MassCrafting\");\r\n            var myTD = $(`<td><input type=\"text\" class=\"form-control\" placeholder=\". . .\"></input></td>`);\r\n            var td = $(\"#dust\").closest(\"td\");\r\n            td.css(\"width\", \"unset\").after(myTD);\r\n            td.closest(\"tr\").css({\r\n                display: \"flex\",\r\n                [\"flex-wrap\"]: \"nowrap\", \r\n                [\"justify-content\"]: \"space-between\",\r\n                width: \"100%\"\r\n            });\r\n            td.closest(\"table\").css(\"width\", \"100%\");\r\n            myTD.find(\"input\").keyup(function() {\r\n                displayDeck(this);\r\n            })\r\n\r\n            _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_2__.PrettyCards_plugin.events.on(\"PrettyCards:TranslationExtReady\", function() {\r\n                myTD.find(\"input\").attr(\"placeholder\", window.$.i18n(\"pc-masscraft-inserthere\"));\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/crafting.js?");

/***/ }),

/***/ "./src/page_specific/custom_card_skins.js":
/*!************************************************!*\
  !*** ./src/page_specific/custom_card_skins.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InitCustomCardSkins\": () => (/* binding */ InitCustomCardSkins)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../libraries/underscript_checker */ \"./src/libraries/underscript_checker.js\");\n\r\n\r\n\r\n\r\n\r\nfunction appendCardCustomCardSkin(skin, container) {\r\n\t\r\n\tvar card = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.completeCopy(window.getCard(skin.cardId) || window.allCards[0]);\r\n\t//console.log(\"TYPE SKIN\", skin.typeSkin, typeof(skin.typeSkin));\r\n\tcard.typeSkin = skin.typeSkin;\r\n\tvar $card = window.appendCard(card, container);\r\n\t\r\n\t$card.find(\".cardImage\").css(\"background-image\", 'url(\"' + skin.image + '\")').css(\"background-size\", \"contain\");\r\n\t$card.find(\".cardDesc\").find(\"div\").html(skin.name + '<br><span class=\"Artist\">' + skin.authorName + '</span>');\r\n\t\r\n\t$card.click(DoCardClickAction);\r\n\t\r\n\treturn $card;\r\n}\r\n\r\nfunction ConstructSkinSelectionMenu() {\r\n\tvar container = window.$(\"#PrettyCards_CardListContainer\");\r\n\tcontainer.html(\"\");\r\n\tfor (var i=0; i < skins.length; i++) {\r\n\t\tvar skin = skins[i];\r\n\t\tappendCardCustomCardSkin(skin, container);\r\n\t}\r\n}\r\n\r\nfunction DoStuffWhenAllCardsAreReady() {\r\n\tcard_options = GetOptionsWithCards();\r\n\t//console.log(card_options);\r\n\tConstructSkinSelectionMenu();\r\n}\r\n\r\nvar deleteModeOn = false;\r\nfunction ToggleDeleteMode() {\r\n\tif (deleteModeOn) {\r\n\t\t// Disable Delete Mode\r\n\t\t$(\".cardBackground\").css(\"box-shadow\", \"\");\r\n\t\tdeleteModeOn = false;\r\n\t\twindow.$(\"#PrettyCards_DeleteCustomCardSkinButton\").html(\"Delete\");\r\n\t} else {\r\n\t\t// Enable Delete Mode\r\n\t\t$(\".cardBackground\").css(\"box-shadow\", \"0px 0px 10px 6px rgba(255,0,0,0.8)\");\r\n\t\tdeleteModeOn = true;\r\n\t\twindow.$(\"#PrettyCards_DeleteCustomCardSkinButton\").html(\"Cancel\");\r\n\t}\r\n}\r\n\r\n/*\r\nvar imageDataURL = \"\";\r\nfunction uploadImageFile() {\r\n\tconst preview = document.querySelector('img');\r\n\tconst file = document.getElementById(\"PrettyCards_EditCardSkin_FileInput\").files[0];\r\n\tconst reader = new FileReader();\r\n\r\n\treader.addEventListener(\"load\", function () {\r\n\t\t// convert image file to base64 string\r\n\t\t//preview.src = reader.result;\r\n\t\t//console.log(\"RESULT: \", reader.result);\r\n\t\t//window.open(reader.result);\r\n\t\t//document.getElementById(\"PrettyCards_EditCardSkin_ImageInput\").value = reader.result;\r\n\t\tDeactivateInput(document.getElementById(\"PrettyCards_EditCardSkin_ImageInput\"));\r\n\t\timageDataURL = reader.result;\r\n\t}, false);\r\n\r\n\tif (file) {\r\n\t\treader.readAsDataURL(file);\r\n\t}\r\n}\r\n*/\r\n\r\nfunction GetOptionsWithCards() {\r\n\tvar txt = \"\";\r\n\tfor (var i=0; i < window.allCards.length; i++) {\r\n\t\tvar card = window.allCards[i];\r\n\t\ttxt = txt + '<option value=\"' + (card.fixedId || card.id) + '\">' + card.name + '</option>'; \r\n\t}\r\n\treturn txt;\r\n}\r\n\r\n/*\r\nfunction ActivateInput(input) {\r\n\tinput.disabled = false;\r\n\tinput.placeholder = \"\";\r\n}\r\n\r\nfunction DeactivateInput(input) {\r\n\tinput.disabled = true;\r\n\tinput.value = \"\";\r\n\tinput.placeholder = \"Image Uploaded . . .\";\r\n}*/\r\n\r\nfunction DeleteCardSkin(skin) {\r\n\tfor (var i = skin.storageId; i < skins.length-1; i++) {\r\n\t\tlocalStorage[GetCustomCardSkinStorageIndex(i)] = localStorage[GetCustomCardSkinStorageIndex(i+1)];\r\n\t\tskins[i+1].storageId--;\r\n\t}\r\n\tlocalStorage.removeItem(GetCustomCardSkinStorageIndex(skins.length-1));\r\n\t\r\n\tskins.splice(skin.storageId, 1);\r\n\tToggleDeleteMode();\r\n\tConstructSkinSelectionMenu();\r\n}\r\n\r\nfunction SaveCardSkin(index, name, authorName, typeSkin, cardId, image) {\r\n\tvar skin = {\r\n\t\tactive: false,\r\n\t\tauthorName: authorName,\r\n\t\tcardId: cardId,\r\n\t\tcardName: window.getCard(cardId).name,\r\n\t\tid: -22,\r\n\t\timage: image,\r\n\t\tname: name,\r\n\t\towned: true,\r\n\t\ttypeSkin: typeSkin,\r\n\t\tucpCost: -9999,\r\n\t\tisCustom: true,\r\n\t\tunavailable: true\r\n\t}\r\n\t\r\n\tlocalStorage[GetCustomCardSkinStorageIndex(index)] = JSON.stringify(skin);\r\n\t//localStorage[GetCustomCardSkinStorageIndex(index) + \".image\"] = image;\r\n\t\r\n\t//skin.image = image;\r\n\tskin.storageId = index;\r\n\tskins[index] = skin;\r\n\tConstructSkinSelectionMenu();\r\n}\r\n\r\nfunction CreateNewSkin() {\r\n\tif (deleteModeOn) {\r\n\t\tToggleDeleteMode();\r\n\t}\r\n\tvar skin = {\r\n\t\tactive: false,\r\n\t\tauthorName: window.selfUsername || \"Unknown\",\r\n\t\tcardId: 1,\r\n\t\tcardName: window.getCard(1).name,\r\n\t\tid: -22,\r\n\t\timage: \"\",\r\n\t\tname: \"New Skin\",\r\n\t\towned: true,\r\n\t\ttypeSkin: 0,\r\n\t\tucpCost: -9999,\r\n\t\tisCustom: true,\r\n\t\tunavailable: true,\r\n\t\tstorageId: skins.length\r\n\t}\r\n\tEditCardSkinScreen(skin);\r\n}\r\n\r\nfunction ImageHelpDialogue() {\r\n\tvar message = '<h1>Why is a link needed instead of an uploaded image from my PC?</h1>' +\r\n\t\t'<p>Because localStorage, the place where I need to store things around here, has quite some strict policies with memory usage, and image data would most of the time take up all of the available space and more, causing a bunch of issues. So, instead, I settled with a method that is reliable and will always work.</p>' +\r\n\t\t'<h1>How do I get an image link?</h1>' +\r\n\t\t'<p>There are quite a lot of options out there host-wise, but what\\'s important is that the link you type in is pointing towards the raw image. Nothing else, nothing more.</p>' +\r\n\t\t'<h1>How do I upload an image if I don\\'t have a server of my own, or don\\'t pay a host?</h1>' +\r\n\t\t'<p>You can use image sharing sites, or even <i>some</i> social media sites to do the hosting for you. I would personally recommend <a href=\"https://imgur.com/\">Imgur</a>, as it\\'s easy to upload an image there AND the compression is minimal. Discord is also a similarly excellent choice.</p>' +\r\n\t\t'<p>After uploading the image to your preferred \"hosting service\", right-click the image, then click \"Copy Image Address\" or \"Copy Image Link\". Then paste THAT into the Image Link input and you should be done. This should work ~90% of the time.</p>' +\r\n\t\t'<h1>I did what you said and it\\'s still not working. What do I do?</h1>' +\r\n\t\t'<p>Contact me on Discord so we can sort this issue out, and potentially correct or expand upon this tutorial for others who may be struggling.</p>' +\r\n\t\t'<br>' +\r\n\t\t'<p class=\"gray\">Thanks for reading! ^^</p>'+\r\n\t\t'<p class=\"gray\">PS: The recommended resolutions: <br>Normal Skins: 160x90<br>Full Skins: 160x230<br>Breaking Skins: 176x246</p>';\r\n\t\r\n\twindow.BootstrapDialog.show({\r\n\t\ttitle: \"Image URL Help\",\r\n\t\tsize: window.BootstrapDialog.SIZE_WIDE,\r\n\t\tmessage: message,\r\n\t\tclosable: true,\r\n\t\t//closeByBackdrop: false,\r\n\t\t//onshown: OnShow.bind(this),\r\n\t\tbuttons: [{\r\n\t\t\t\tlabel: \"Close!\",\r\n\t\t\t\tcssClass: 'btn btn-primary us-normal',\r\n\t\t\t\taction(dialog) {\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t});\r\n}\r\n\r\nfunction EditCardSkinScreen(skin) {\r\n\t\r\n\t//imageDataURL = \"\";\r\n\tvar container = document.createElement(\"DIV\");\r\n\tcontainer.id = \"PrettyCards_CustomCardSkins_EditContainer\";\r\n\tcontainer.className = \"PrettyCards_RowFlex\";\r\n\t\r\n\tvar col1 = document.createElement(\"DIV\");\r\n\tcol1.className = \"PrettyCards_CustomCardSkins_EditColumn\";\r\n\tvar col2 = document.createElement(\"DIV\");\r\n\tcol2.className = \"PrettyCards_CustomCardSkins_EditColumn\";\r\n\tcontainer.appendChild(col1);\r\n\tcontainer.appendChild(col2);\r\n\t\r\n\tvar p1 = document.createElement(\"P\");\r\n\tp1.innerHTML = \"Card Skin Name\";\r\n\tp1.className = \"PrettyCards_InvertedP\";\r\n\tcol1.appendChild(p1);\r\n\t\r\n\tvar input1 = document.createElement(\"INPUT\");\r\n\tinput1.className = \"form-control\";\r\n\tinput1.value = skin.name;\r\n\tinput1.setAttribute(\"type\", \"text\");\r\n\tcol1.appendChild(input1);\r\n\t\r\n\tvar p2 = document.createElement(\"P\");\r\n\tp2.innerHTML = \"Artist Name\";\r\n\tp2.className = \"PrettyCards_InvertedP\";\r\n\tcol1.appendChild(p2);\r\n\t\r\n\tvar input2 = document.createElement(\"INPUT\");\r\n\tinput2.className = \"form-control\";\r\n\tinput2.value = skin.authorName;\r\n\tinput2.setAttribute(\"type\", \"text\");\r\n\tcol1.appendChild(input2);\r\n\t\r\n\tvar p3 = document.createElement(\"P\");\r\n\tp3.innerHTML = \"Skin Type\";\r\n\tp3.className = \"PrettyCards_InvertedP\";\r\n\tcol1.appendChild(p3);\r\n\t\r\n\tvar input3 = document.createElement(\"SELECT\");\r\n\tinput3.className = \"form-control white\";\r\n\tinput3.innerHTML = `\r\n\t\t<option value=\"0\">Normal</option>\r\n\t\t<option value=\"1\">Full</option>\r\n\t\t<option value=\"2\">Breaking</option>\r\n\t`;\r\n\tinput3.value = skin.typeSkin;\r\n\tcol1.appendChild(input3);\r\n\t\r\n\tvar p4 = document.createElement(\"P\");\r\n\tp4.innerHTML = \"Card (Currently doesn't matter)\";\r\n\tp4.className = \"PrettyCards_InvertedP\";\r\n\tcol1.appendChild(p4);\r\n\t\r\n\tvar input4 = document.createElement(\"SELECT\");\r\n\tinput4.className = \"form-control white\";\r\n\tinput4.innerHTML = card_options;\r\n\tinput4.value = skin.cardId;\r\n\tcol1.appendChild(input4);\r\n\t\r\n\tvar p5 = document.createElement(\"P\");\r\n\tp5.innerHTML = \"Image Link\";\r\n\tp5.className = \"PrettyCards_InvertedP\";\r\n\tcol1.appendChild(p5);\r\n\t\r\n\tvar mini_cont = document.createElement(\"DIV\");\r\n\tmini_cont.className = \"PrettyCards_RowFlex\";\r\n\tcol1.appendChild(mini_cont);\r\n\t\r\n\tvar input5 = document.createElement(\"INPUT\");\r\n\tinput5.className = \"form-control\";\r\n\tinput5.id = \"PrettyCards_EditCardSkin_ImageInput\";\r\n\t//input5.setAttribute(\"maxlength\", 999999);\r\n\tinput5.value = skin.image;\r\n\tinput5.setAttribute(\"type\", \"text\");\r\n\tmini_cont.appendChild(input5);\r\n\t\r\n\tvar input5_help = document.createElement(\"BUTTON\");\r\n\tinput5_help.className = \"btn btn-primary\";\r\n\tinput5_help.innerHTML = '<span class=\"glyphicon glyphicon-question-sign\"></span>';\r\n\tinput5_help.onclick = ImageHelpDialogue;\r\n\tmini_cont.appendChild(input5_help);\r\n\t\r\n\t/*\r\n\tvar mini_cont = document.createElement(\"DIV\");\r\n\tmini_cont.className = \"PrettyCards_RowFlex\";\r\n\tcol1.appendChild(mini_cont);\r\n\t\r\n\tif (skin.image.startsWith(\"data:\")) {\r\n\t\tDeactivateInput(input5);\r\n\t\timageDataURL = skin.image;\r\n\t} else {\r\n\t\tActivateInput(input5);\r\n\t\tinput5.value = skin.image;\r\n\t}\r\n\t\r\n\tvar input5_file = document.createElement(\"INPUT\");\r\n\tinput5_file.className = \"form-control white\";\r\n\tinput5_file.id = \"PrettyCards_EditCardSkin_FileInput\";\r\n\tinput5_file.setAttribute(\"name\", \"PrettyCards_EditCardSkin_FileInput\");\r\n\tinput5_file.style = \"display: none;\";\r\n\t//input5.value = skin.cardId;\r\n\tinput5_file.onchange = uploadImageFile;\r\n\tinput5_file.setAttribute(\"accept\", \"image/*\");\r\n\tinput5_file.setAttribute(\"type\", \"file\");\r\n\tmini_cont.appendChild(input5_file);\r\n\t\r\n\tvar input5_label = document.createElement(\"BUTTON\");\r\n\tinput5_label.className = \"btn btn-primary\";\r\n\t//input5_label.setAttribute(\"for\", \"PrettyCards_EditCardSkin_FileInput\");\r\n\t//input5_label.innerHTML = '<div class=\"btn btn-primary\"><span class=\"glyphicon glyphicon-open-file\"></span> Upload Image</div>';\r\n\tinput5_label.innerHTML = '<span class=\"glyphicon glyphicon-open-file\"></span> Upload File';\r\n\tinput5_label.onclick = function() {input5_file.click();}\r\n\tmini_cont.appendChild(input5_label);\r\n\t\r\n\tvar input5_cancel = document.createElement(\"BUTTON\");\r\n\tinput5_cancel.className = \"btn btn-danger\";\r\n\tinput5_cancel.innerHTML = '<span class=\"glyphicon glyphicon-remove\"></span> Clear File';\r\n\tinput5_cancel.onclick = function() {imageDataURL = \"\";ActivateInput(input5);}\r\n\tmini_cont.appendChild(input5_cancel);\r\n\t*/\r\n\t//console.log(\"size\", window.BootstrapDialog.SIZE_LARGE);\r\n\twindow.BootstrapDialog.show({\r\n\t\ttitle: \"Edit Card Skin!\",\r\n\t\tsize: window.BootstrapDialog.SIZE_LARGE,\r\n\t\tmessage: container,\r\n\t\tclosable: true,\r\n\t\tcloseByBackdrop: false,\r\n\t\t//onshown: OnShow.bind(this),\r\n\t\tbuttons: [{\r\n\t\t\t\tlabel: \"Cancel!\",\r\n\t\t\t\tcssClass: 'btn btn-danger us-normal',\r\n\t\t\t\taction(dialog) {\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: \"Save!\",\r\n\t\t\t\tcssClass: 'btn btn-primary us-normal',\r\n\t\t\t\taction(dialog) {\r\n\t\t\t\t\tvar image = input5.value;\r\n\t\t\t\t\t//if (image.length <= 0) {\r\n\t\t\t\t\t//\timage = imageDataURL;\r\n\t\t\t\t\t//}\r\n\t\t\t\t\tSaveCardSkin(skin.storageId, input1.value, input2.value, Number(input3.value), Number(input4.value), image);\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t});\r\n}\r\n\r\nfunction DoCardClickAction(e) {\r\n\t//console.log(e);\r\n\tvar $card = $(e.currentTarget);\r\n\t//console.log($card);\r\n\tvar index = Array.prototype.indexOf.call(document.getElementById(\"PrettyCards_CardListContainer\").children, $card[0]);\r\n\tvar skin = skins[index];\r\n\t//console.log(skin);\r\n\tif (deleteModeOn) {\r\n\t\tDeleteCardSkin(skin);\r\n\t} else {\r\n\t\tEditCardSkinScreen(skin);\r\n\t}\r\n}\r\n\r\nfunction GetCustomCardSkinStorageIndex(index) {\r\n\treturn \"prettycards.custom_card_skin.\" + window.selfId + \".\" + index;\r\n}\r\n\r\nfunction GetCustomCardSkinFromLocalStorage(index) {\r\n\tvar string = window.localStorage[GetCustomCardSkinStorageIndex(index)];\r\n\tif (!string) {\r\n\t\treturn null;\r\n\t}\r\n\treturn JSON.parse(string);\r\n}\r\n\r\n/*\r\nfunction GetImageFromLocalStorage(index) {\r\n\tvar string = window.localStorage[GetCustomCardSkinStorageIndex(index) + \".image\"];\r\n\tif (!string) {\r\n\t\treturn \"\";\r\n\t}\r\n\treturn string;\r\n}*/\r\n\r\nfunction GetCustomCardSkinsList() {\r\n\tvar skins = [];\r\n\tvar i = 0;\r\n\tvar skin = GetCustomCardSkinFromLocalStorage(0);\r\n\twhile (skin) {\r\n\t\tskin.storageId = i;\r\n\t\t//skin.image = GetImageFromLocalStorage(i);\r\n\t\tskins[i] = skin;\r\n\t\ti++;\r\n\t\tskin = GetCustomCardSkinFromLocalStorage(i);\r\n\t}\r\n\treturn skins;\r\n}\r\n\r\nvar skins;\r\nvar card_options;\r\nfunction InitCustomCardSkins() {\r\n\t//console.log(\"ENTERED THING!\");\r\n\t_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_2__.PrettyCards_plugin.events.on(\":GuestMode\", function() {\r\n\t\t//console.log(\"I AM GUEST!\");\r\n\t\twindow.location.href = \"/SignIn\";\r\n\t});\r\n\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"PrettyCards:onPageLoad PC_Chat:getSelfInfos\", function () {\r\n\t\twindow.$(\"title\").html(\"PrettyCards - Custom Card Skins\");\r\n\t\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.loadCSSFromGH(\"CustomCardSkins\");\r\n\t\twindow.$(\".mainContent\").html(`\r\n\t\t\t<div id=\"PrettyCards_CardSkinsTab\" style=\"font-size: 2em; margin-bottom: 0.1em;\">\r\n\t\t\t\t<button id=\"PrettyCards_CreateCustomCardSkinButton\" class=\"brn btn-success\">Create New</button>\r\n\t\t\t\t<button id=\"PrettyCards_DeleteCustomCardSkinButton\" class=\"brn btn-danger\">Delete</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"gray\" style=\"margin-bottom: 1em;\">NOTE: These card skins cannot be used on cards themselves, but they can be used for deck images in my custom deck system.</div>\r\n\t\t\t<div id=\"PrettyCards_CardListContainer\"></div>\r\n\t\t`);\r\n\t\t\r\n\t\twindow.$(\"#PrettyCards_CreateCustomCardSkinButton\").click(CreateNewSkin);\r\n\t\twindow.$(\"#PrettyCards_DeleteCustomCardSkinButton\").click(ToggleDeleteMode);\r\n\t\tskins = GetCustomCardSkinsList();\r\n\t\t//console.log(\"SKINS\", skins);\r\n\t\t\r\n\t\tif (window.allCards && window.allCards.length > 0) {\r\n\t\t\tDoStuffWhenAllCardsAreReady();\r\n\t\t} else {\r\n\t\t\twindow.document.addEventListener(\"allCardsReady\", function() {\r\n\t\t\t\tDoStuffWhenAllCardsAreReady();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/custom_card_skins.js?");

/***/ }),

/***/ "./src/page_specific/custom_cards.js":
/*!*******************************************!*\
  !*** ./src/page_specific/custom_cards.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InitCustomCards\": () => (/* binding */ InitCustomCards)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_card_modifyers_custom_cards_new_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/custom_cards_new.js */ \"./src/libraries/card_modifyers/custom_cards_new.js\");\n/* harmony import */ var _src_libraries_card_modifyers_custom_cards_dictionary_new_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/custom_cards_dictionary_new.js */ \"./src/libraries/card_modifyers/custom_cards_dictionary_new.js\");\n/* harmony import */ var _src_libraries_font_loader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../src/libraries/font_loader.js */ \"./src/libraries/font_loader.js\");\n/* harmony import */ var _src_libraries_card_modifyers_custom_cards_custom_cards_ddlc_v2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/custom_cards/custom_cards_ddlc_v2.js */ \"./src/libraries/card_modifyers/custom_cards/custom_cards_ddlc_v2.js\");\n/* harmony import */ var _src_libraries_card_modifyers_custom_cards_custom_cards_switch_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/custom_cards/custom_cards_switch.js */ \"./src/libraries/card_modifyers/custom_cards/custom_cards_switch.js\");\n/* harmony import */ var _src_libraries_card_modifyers_custom_cards_custom_cards_uco_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../src/libraries/card_modifyers/custom_cards/custom_cards_uco.js */ \"./src/libraries/card_modifyers/custom_cards/custom_cards_uco.js\");\n/* harmony import */ var _libraries_floating_souls__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../libraries/floating_souls */ \"./src/libraries/floating_souls.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import {} from \"/src/libraries/card_modifyers/custom_cards/custom_cards_hate.js\";\r\n\r\n\r\n\r\n\r\nfunction takeScreenshot(filename) {\r\n\tif (window.$(\"#PrettyCards_CustomCardShowcase:visible\").length == 0) {\r\n\t\treturn;\r\n\t}\r\n\tvar alreadyInMode = true;\r\n\tif (window.$(\"#PrettyCards_NewArtifactsShowcase\").hasClass(\"PrettyCards_Hidden\")) {\r\n\t\twindow.$(\"#PrettyCards_CollectionViewButton\").click();\r\n\t\talreadyInMode = false;\r\n\t}\r\n\tvar parent = window.$(\"#PrettyCards_CustomCardsShowcaseContent\");\r\n\tparent.addClass(\"PrettyCards_CustomCardsShowcaseScreenshot\");\r\n\twindow.html2canvas(parent[0]).then((data) => {\r\n\t\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.saveCanvasAsImage(data, filename);\r\n\t\tparent.removeClass(\"PrettyCards_CustomCardsShowcaseScreenshot\");\r\n\t\tif (!alreadyInMode) {\r\n\t\t\t$(\"#PrettyCards_CollectionViewButton\").click();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction appendArtifact(artifact, c, $parent) {\r\n\tvar isAprilFools = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getSeasonMonth() == 3 && artifact.aprilImage;\r\n\tvar prefix = isAprilFools ? c.aprilArtifactImagePrefix  : c.artifactImagePrefix;\r\n\tvar imageName = isAprilFools ? artifact.aprilImage : artifact.image;\r\n\r\n\tvar image_src = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(prefix, imageName, \"png\", c.oldPrefixBehavior);\r\n\tvar art = $(`<img class=\"PrettyCards_Artifact PrettyCards_Artifact_${artifact.rarity}\" src=\"${image_src}\">`);\r\n\tart.click(function () {\r\n\t\twindow.artifactInfo(artifact.id);\r\n\t})\r\n\t$parent.append(art);\r\n\treturn art;\r\n}\r\n\r\nfunction appendArtifactNew(artifact, c, $parent) {\r\n\tvar isAprilFools = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getSeasonMonth() == 3 && artifact.aprilImage;\r\n\tvar prefix = isAprilFools ? c.aprilArtifactImagePrefix  : c.artifactImagePrefix;\r\n\tvar imageName = isAprilFools ? artifact.aprilImage : artifact.image;\r\n\r\n\tvar image_src = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(prefix, imageName, \"png\", c.oldPrefixBehavior);\r\n\tvar art = $(`\r\n\t<div class=\"PrettyCards_CollectionNew_Soultifact\">\r\n\t\t<div id=\"PrettyCards_CollectionNew_SoultifactImageContainer\"></div>\r\n\t\t<div>\r\n\t\t\t<div class=\"${artifact.rarity} PrettyCards_CollectionNew_SoultifactName\">${window.$.i18n(\"artifact-name-\" + artifact.id)}</div>\r\n\t\t\t<div class=\"${artifact.rarity} PrettyCards_CollectionNew_SoultifactRarity\">${artifact.rarity} Artifact</div>\r\n\t\t\t<div>${window.$.i18n(\"artifact-\" + artifact.id)}</div>\r\n\t\t</div>\r\n\t<div>`);\r\n\tart.find(\"#PrettyCards_CollectionNew_SoultifactImageContainer\").append((0,_libraries_floating_souls__WEBPACK_IMPORTED_MODULE_9__.createFloatingSoul)(image_src, \"PrettyCards_CollectionNew_SoultifactImage PrettyCards_Artifact_\" + artifact.rarity, \"\", \"\"));\r\n\tart.find(\".PrettyCards_CollectionNew_SoultifactImage\").click(function () {\r\n\t\twindow.artifactInfo(artifact.id);\r\n\t})\r\n\t$parent.append(art);\r\n\treturn art;\r\n}\r\n\r\nfunction appendSoul(soul, c, $parent) {\r\n\tvar isAprilFools = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getSeasonMonth() == 3 && soul.aprilImage;\r\n\tvar prefix = isAprilFools ? c.aprilSoulImagePrefix  : c.soulImagePrefix;\r\n\tvar imageName = isAprilFools ? soul.aprilImage : soul.image;\r\n\r\n\tvar image_src = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(prefix, imageName, \"png\", c.oldPrefixBehavior);\r\n\tvar s = $(`<img class=\"PrettyCards_Soul\" src=\"${image_src}\">`);\r\n\ts.click(function () {\r\n\t\twindow.soulInfo(soul.name);\r\n\t})\r\n\t$parent.append(s);\r\n\treturn s;\r\n}\r\n\r\nfunction appendSoulNew(soul, c, $parent) {\r\n\tvar isAprilFools = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.getSeasonMonth() == 3 && soul.aprilImage;\r\n\tvar prefix = isAprilFools ? c.aprilSoulImagePrefix  : c.soulImagePrefix;\r\n\tvar imageName = isAprilFools ? soul.aprilImage : soul.image;\r\n\r\n\tvar image_src = _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_0__.utility.constructURL(prefix, imageName, \"png\", c.oldPrefixBehavior);\r\n\tvar s = $(`\r\n\t<div class=\"PrettyCards_CollectionNew_Soultifact\">\r\n\t\t<div id=\"PrettyCards_CollectionNew_SoultifactImageContainer\"></div>\r\n\t\t<div>\r\n\t\t\t<div class=\"${soul.name} PrettyCards_CollectionNew_SoultifactName\">${window.$.i18n(\"soul-\" + soul.name.toLowerCase())}</div>\r\n\t\t\t<div>${window.$.i18n(\"soul-\" + soul.name.toLowerCase() + \"-desc\")}</div>\r\n\t\t</div>\r\n\t<div>`);\r\n\ts.find(\"#PrettyCards_CollectionNew_SoultifactImageContainer\").append((0,_libraries_floating_souls__WEBPACK_IMPORTED_MODULE_9__.createFloatingSoul)(image_src, \"PrettyCards_CollectionNew_SoultifactImage PrettyCards_DisplaySoul_\" + soul.name, \"\", \"\"));\r\n\ts.find(\".PrettyCards_CollectionNew_SoultifactImage\").click(function () {\r\n\t\twindow.soulInfo(soul.name);\r\n\t})\r\n\t$parent.append(s);\r\n\treturn s;\r\n}\r\n\r\nfunction ViewCollection(c) {\r\n\t//console.log(\"VIEW COLLECTION!\", c);\r\n\tvar cont = $(\"#PrettyCards_CustomCardShowcase\");\r\n\t$(\"#PrettyCards_CustomCardCategories\").css(\"display\", \"none\");\r\n\tcont.css(\"display\", \"block\").html(\"\");\r\n\r\n\tvar showcase = $(`\r\n\t\t<div id='PrettyCards_CustomCardsShowcaseContent'>\r\n\t\t\t<div class=\"PrettyCards_BigCollectionName\">${c.name}</div>\r\n\t\t\t<div class=\"PrettyCards_BigCollectionAuthor Artist\">${c.author}</div>\r\n\t\t\t<div>${c.note}</div>\t\r\n\t\t</div>\r\n\t`);\r\n\t\r\n\tvar header = $(`\r\n\t\t<div id=\"PrettyCards_CollectionHeaderTop\">\r\n\t\t\t<div class=\"PrettyCards_CollectionBackButton\"><span class=\"glyphicon glyphicon-arrow-left\"></span> Back to Collection Select Screen</div>\r\n\t\t\t<button id=\"PrettyCards_CollectionTakeScreenshot\" class=\"btn btn-primary\">Take Picture</button>\r\n\t\t\t<button id=\"PrettyCards_CollectionViewButton\" class=\"btn btn-primary\">Toggle View</button>\r\n\t\t</div>\r\n\t`);\r\n\r\n\theader.find(\"#PrettyCards_CollectionViewButton\").click(function(e) {\r\n\t\t$(\"#PrettyCards_SoulsShowcase\").toggleClass(\"PrettyCards_Hidden\");\r\n\t\t$(\"#PrettyCards_NewSoulsShowcase\").toggleClass(\"PrettyCards_Hidden\");\r\n\t\t$(\"#PrettyCards_ArtifactsShowcase\").toggleClass(\"PrettyCards_Hidden\");\r\n\t\t$(\"#PrettyCards_NewArtifactsShowcase\").toggleClass(\"PrettyCards_Hidden\");\r\n\t\te.stopPropagation();\r\n\t});\r\n\r\n\r\n\theader.find(\"#PrettyCards_CollectionTakeScreenshot\").css(\"display\", \"none\").click(function () {takeScreenshot(c.name.toLowerCase())});\r\n\r\n\theader.find(\".PrettyCards_CollectionBackButton\").click(ViewCollectionSelectScreen);\r\n\t\r\n\tcont.append(header);\r\n\tcont.append(showcase);\r\n\t\r\n\tif (c.souls.length > 0) {\r\n\t\tshowcase.append(`<h2>Souls</h2>`);\r\n\t\tvar souls = $(`<div id=\"PrettyCards_SoulsShowcase\"></div>`);\r\n\t\tfor (var i=0; i < c.souls.length; i++) {\r\n\t\t\tappendSoul(c.souls[i], c, souls);\r\n\t\t}\r\n\t\tshowcase.append(souls);\r\n\r\n\t\tvar souls2 = $(`<div id=\"PrettyCards_NewSoulsShowcase\" class=\"PrettyCards_Hidden\"></div>`);\r\n\t\tfor (var i=0; i < c.souls.length; i++) {\r\n\t\t\tappendSoulNew(c.souls[i], c, souls2);\r\n\t\t}\r\n\t\tshowcase.append(souls2);\r\n\t}\r\n\t\r\n\tif (c.artifacts.length > 0) {\r\n\t\tshowcase.append(`<h2>Artifacts</h2>`);\r\n\t\tvar arts = $(`<div id=\"PrettyCards_ArtifactsShowcase\"></div>`);\r\n\t\tfor (var i=0; i < c.artifacts.length; i++) {\r\n\t\t\tappendArtifact(c.artifacts[i], c, arts);\r\n\t\t}\r\n\t\tshowcase.append(arts);\r\n\t\t\r\n\t\tvar arts2 = $(`<div id=\"PrettyCards_NewArtifactsShowcase\" class=\"PrettyCards_Hidden\"></div>`);\r\n\t\tfor (var i=0; i < c.artifacts.length; i++) {\r\n\t\t\tappendArtifactNew(c.artifacts[i], c, arts2);\r\n\t\t}\r\n\t\tshowcase.append(arts2);\r\n\t}\r\n\t\r\n\tif (c.cards.length > 0) {\r\n\t\tshowcase.append(`<h2>Cards</h2>`);\r\n\t\tvar cards = $(`<div id=\"PrettyCards_CardsShowcase\"></div>`);\r\n\t\tfor (var i=0; i < c.cards.length; i++) {\r\n\t\t\twindow.appendCard(c.cards[i], cards);\r\n\t\t}\r\n\t\tshowcase.append(cards);\r\n\t}\r\n\r\n\tif ($('#collectionCustomCSS').length <= 0) {\r\n\t\t$(\"head\").append('<style id=\"collectionCustomCSS\"></style>');\r\n\t}\r\n\tc.reloadFrames();\r\n\r\n\tif (c.souls.length + c.artifacts.length < 10) {\r\n\t\theader.find(\"#PrettyCards_CollectionViewButton\").click();\r\n\t}\r\n\r\n\t/*\r\n\thtml2canvas(showcase[0]).then((canvas) => {\r\n\t\tconst base64image = canvas.toDataURL(\"image/png\");\r\n\t\twindow.location.href = base64image;\r\n\t});\r\n\t*/\r\n\t\r\n}\r\n\r\nfunction ViewCollectionSelectScreen() {\r\n\t$(\"#PrettyCards_CustomCardCategories\").css(\"display\", \"block\");\r\n\t$(\"#PrettyCards_CustomCardShowcase\").css(\"display\", \"none\");\r\n}\r\n\r\nfunction SetUpCollectionSelectionPage() {\r\n\tvar cont = $(\"#PrettyCards_CustomCardCategories\");\r\n\tcont.html(\"\");\r\n\tfor (var i=0; i < _src_libraries_card_modifyers_custom_cards_dictionary_new_js__WEBPACK_IMPORTED_MODULE_4__.collections.length; i++) {\r\n\t\tconst c = _src_libraries_card_modifyers_custom_cards_dictionary_new_js__WEBPACK_IMPORTED_MODULE_4__.collections[i];\r\n\t\tvar collection = $(`\r\n\t\t\t<div class=\"PrettyCards_CardCollection\">\r\n\t\t\t\t<div class=\"PrettyCards_CollectionName\">${c.name}</div>\r\n\t\t\t\t<div class=\"PrettyCards_CollectionAuthor Artist\">${c.author}</div>\r\n\t\t\t\t<div class=\"PrettyCards_CollectionDetails\">\r\n\t\t\t\t\t<div>${c.souls.length} ${(c.souls.length == 1) ? \"Soul\" : \"Souls\"}</div>\r\n\t\t\t\t\t<div>${c.artifacts.length} ${(c.artifacts.length == 1) ? \"Artifact\" : \"Artifacts\"}</div>\r\n\t\t\t\t\t<div>${c.cards.length} ${(c.cards.length == 1) ? \"Card\" : \"Cards\"}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`);\r\n\t\tcollection.click(function() {\r\n\t\t\tViewCollection(c);\r\n\t\t})\r\n\t\tcont.append(collection);\r\n\t}\r\n}\r\n\r\nfunction DoStuffWhenAllCardsAreReady() {\r\n\t$(\"#PrettyCards_CustomCardCategories\").html(\"Loading Custom Cards . . .\");\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_2__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:customCards\");\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_2__.PrettyCards_plugin.events.emit.singleton(\"PrettyCards:customCardsAfter\");\r\n\t//console.log(collections);\r\n\t$(\"#PrettyCards_CustomCardCategories\").html(\"Loading Custom Fonts . . .\");\r\n\t(0,_src_libraries_font_loader_js__WEBPACK_IMPORTED_MODULE_5__.ListenForWhenAllFontsAreLoaded)(SetUpCollectionSelectionPage);\r\n}\r\n\r\nfunction InitCustomCards() {\r\n\t//console.log(\"ENTERED THING!\");\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_2__.PrettyCards_plugin.events.on(\":GuestMode\", function() {\r\n\t\t//console.log(\"I AM GUEST!\");\r\n\t\twindow.location.href = \"/SignIn\";\r\n\t});\r\n\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_1__.ExecuteWhen)(\"PrettyCards:onPageLoad PrettyCards:onArtifacts\", function () {\r\n\t\t//console.log(\"SHIT HAPPENED!\");\r\n\t\twindow.$(\"title\").html(\"PrettyCards - Custom Cards\");\r\n\t\twindow.$(\".mainContent\").html(`\r\n\t\t\t<div id=\"PrettyCards_CustomCardCategories\">Loading All Cards . . .</div>\r\n\t\t\t<div id=\"PrettyCards_CustomCardShowcase\"></div>\r\n\t\t`);\r\n\t\t\r\n\t\t$(\"#PrettyCards_CustomCardShowcase\").css(\"display\", \"none\");\r\n\t\t\r\n\t\tif (window.allCards && window.allCards.length > 0) {\r\n\t\t\tDoStuffWhenAllCardsAreReady();\r\n\t\t} else {\r\n\t\t\twindow.document.addEventListener(\"allCardsReady\", function() {\r\n\t\t\t\tDoStuffWhenAllCardsAreReady();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/custom_cards.js?");

/***/ }),

/***/ "./src/page_specific/custom_translations.js":
/*!**************************************************!*\
  !*** ./src/page_specific/custom_translations.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InitCustomTranslations\": () => (/* binding */ InitCustomTranslations)\n/* harmony export */ });\n/* harmony import */ var _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libraries/underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/third_party/jquery-3.6.0.min.js */ \"./src/third_party/jquery-3.6.0.min.js\");\n/* harmony import */ var _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\n\r\nvar source; // The source used for custom lines.\r\n\r\nvar englishOriginal; // Onu's English File\r\nvar englishCustom; // My English File\r\nvar editedTag; // The initials (aka ID) of the currently edited language\r\nvar editedOriginal; // The currently edited language's File from Onu\r\nvar editedCustom; // The currently edited language's File from Me\r\n\r\nvar pages = []; // The list of entry IDs that conform to the current filters.\r\nvar currentPage = 0;\r\n\r\nfunction toEncodedHTML(input) {\r\n    return _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()('<span>').text(input).html();\r\n}\r\n\r\nfunction InitCustomTranslations() {\r\n\r\n    _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\".mainContent\").html(\"<h1>Please wait until you're logged into chat . . .</h1>\");\r\n        _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PC_Chat:getSelfInfos\", function() {\r\n            if (_src_libraries_utility__WEBPACK_IMPORTED_MODULE_1__.utility.translatorFeaturesAccess()) {\r\n                StartVerified();\r\n            } else {\r\n                _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\".mainContent\").html(\"<h1 class='red'>You don't have access to this page!</h1>\");\r\n            }\r\n        })\r\n    })\r\n\r\n}\r\n\r\nfunction StartVerified() {\r\n\r\n    _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n        window.$(\"title\").html(\"PrettyCards - Custom Translations\");\r\n        _src_libraries_utility__WEBPACK_IMPORTED_MODULE_1__.utility.loadCSSFromGH(\"CustomTranslations\");\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\".mainContent\").html(`\r\n            <div id=\"PrettyCards_CT_Phase0\">\r\n                <h1>Please select a source!</h1>\r\n                <div id=\"PrettyCards_CT_Phase0_SourceSelect\"></div>\r\n            </div>\r\n            <div id=\"PrettyCards_CT_Phase1\" class=\"PrettyCards_Hidden\">\r\n                <h1>Please select a language!</h1>\r\n                <div id=\"PrettyCards_CT_Phase1_LangaugeSelect\"></div>\r\n            </div>\r\n            <div id=\"PrettyCards_CT_Phase2\" class=\"PrettyCards_Hidden\">\r\n                <div id=\"PrettyCards_CT_Phase2_MainContent\">\r\n                    <div id=\"PrettyCards_CT_Phase2_FilterRow\">\r\n                        <div>\r\n                            <p>Search</p>\r\n                            <input type=\"text\" class=\"form-control\" id=\"searchInput\" onkeyup=\"applyFilters(); showPage(0);\" placeholder=\"Search...\" style=\"width: 180px;\" data-lpignore=\"true\">\r\n                        </div>\r\n                        <div>\r\n                            <p>Category</p>\r\n                            <select id=\"selectCategory\" class=\"form-control\" style=\"width: 160px; color: white;\" onchange=\"applyFilters(); showPage(0);\"></select>\r\n                        </div>\r\n                        <div>\r\n                            <p>Status</p>\r\n                            <select id=\"selectStatus\" class=\"form-control\" style=\"width: 170px; color: white;\" onchange=\"applyFilters(); showPage(0);\">\r\n                                <option value=\"ALL\">All Entries</option>\r\n                                <option value=\"DONE\">Translated</option>\r\n                                <option value=\"NEW\">New</option>\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <button class=\"btn btn-primary\" id=\"PrettyCards_CT_Phase2_QuickRefBtn\">Quick Ref</button>\r\n                            <p><select id=\"selectPage\" onchange=\"showPage(this.value)\"></select> / <span id=\"maxPages\"></span></p>\r\n                        </div>\r\n                        <div>\r\n                            <button id=\"btnPrevious\" onclick=\"previousPage();\" class=\"btn btn-lg btn-primary\" disabled=\"\"><span class=\"glyphicon glyphicon-chevron-left\"></span></button>\r\n                            <button id=\"btnNext\" onclick=\"nextPage();\" class=\"btn btn-lg btn-primary\"><span class=\"glyphicon glyphicon-chevron-right\"></span></button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <p id=\"PrettyCards_CT_Phase2_Preview\"><span id=\"PrettyCards_CT_Phase2_PreviewName\"></span><span id=\"PrettyCards_CT_Phase2_Preview\"></span></p>\r\n\r\n                    <table id=\"PrettyCards_CT_Phase2_Table\" class=\"translation table table-bordered\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td id=\"PrettyCards_CT_Phase2_TranslationKey\" colspan=\"2\">translation-key-here</td>\r\n                                <td style=\"width:50px; text-align: center;\">\r\n                                    <button class=\"btn btn-sm btn-success\" onclick=\"PrettyCards_CT_downloadJSON()\">\r\n                                        <span class=\"glyphicon glyphicon-send\"></span>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"3\" id=\"PrettyCards_CT_Phase2_OGEnglishText\">OG ENGLISH TEXT</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"3\" id=\"PrettyCards_CT_Phase2_EnglishText\">ENGLISH TEXT</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"3\" id=\"PrettyCards_CT_Phase2_OGTranslatedText\">OG TRANSLATED TEXT</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"3\">\r\n                                    <textarea maxlength=\"500\" class=\"form-control\" id=\"PrettyCards_CT_Phase2_TranslationArea\"></textarea>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div id=\"PrettyCards_CT_Phase2_QuickRef\" class=\"PrettyCards_Hidden\">\r\n                    <h1>Quick Reference Guide!</h1>\r\n                    <h3><a href=\"/translateManual.jsp\" target=\"_blank\">Onutrem's Guide</a></h3>\r\n                </div>\r\n            </div>\r\n        `);\r\n\r\n        setUpQuickRef();\r\n\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_QuickRefBtn\").click(function() {\r\n            _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\".mainContent\").toggleClass(\"PrettyCards_WiderMainContent\");\r\n            _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_QuickRef\").toggleClass(\"PrettyCards_Hidden\");\r\n        })\r\n        _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:translationSourcesDone\", function() {\r\n            _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.prettycards.translationManager.languageSources.forEach((s) => {\r\n                var line = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(`<div>${s.name}</div>`);\r\n                line.click(function() {\r\n                    setSource(s);\r\n                })\r\n                _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase0_SourceSelect\").append(line);\r\n            })\r\n        });\r\n\r\n        _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"translation:loaded\", function() {\r\n            for (var i=1; i < window.availableLanguages.length; i++) {\r\n                const lan = window.availableLanguages[i];\r\n                var line = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(`<div>${window.$.i18n(\"chat-\" + lan)}</div>`);\r\n                line.click(function() {\r\n                    setLanguage(lan);\r\n                })\r\n                _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase1_LangaugeSelect\").append(line);\r\n            }\r\n        })\r\n    })\r\n\r\n    window.applyFilters = applyFilters;\r\n    window.showPage = showPage;\r\n    window.nextPage = nextPage;\r\n    window.previousPage = previousPage;\r\n    window.PrettyCards_CT_downloadJSON = downloadJSON;\r\n}\r\n\r\nconst openCloseFunction = \"$(this).parent().toggleClass('PrettyCards_CT_Phase2_QuickRefEntryOpen')\"\r\nfunction setUpQuickRef() {\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default().getJSON(`https://raw.githubusercontent.com/CMD-God/prettycards/master/json/translationQuickRef.json`, {}, function(data) {\r\n        var parent = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_QuickRef\");\r\n        for (var i=0; i < data.length; i++) {\r\n            var entry = data[i];\r\n            var row = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(`\r\n                <div class=\"PrettyCards_CT_Phase2_QuickRefEntry\">\r\n                    <h2 class=\"PrettyCards_CT_Phase2_QuickRefEntryTitle\" onclick=\"${openCloseFunction}\">${entry.title}</h2>\r\n                    <p>${entry.description}</p>\r\n                    <p>Syntax: <code class=\"PrettyCards_DarkThemeCode\">${entry.syntax}</code></p>\r\n                    <p>Example: <code class=\"PrettyCards_DarkThemeCode\">${entry.example}</code></p>\r\n                </div>\r\n            `)\r\n            parent.append(row);\r\n        }\r\n    });\r\n}\r\n\r\nfunction setSource(s) {\r\n    source = s;\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase0\").addClass(\"PrettyCards_Hidden\");\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase1\").removeClass(\"PrettyCards_Hidden\");\r\n    loadEnglish();\r\n}\r\n\r\nfunction loadEnglish() {\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default().getJSON(`/translation/en.json`, {}, function(data) {\r\n        englishOriginal = data;\r\n        goToPhase2();\r\n    });\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default().getJSON(source.urlFunc('en'), {}, function(data) {\r\n        englishCustom = data;\r\n        goToPhase2();\r\n    })\r\n}\r\n\r\nfunction setLanguage(lan) {\r\n    editedTag = lan;\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default().getJSON(`/translation/${lan}.json`, {}, function(data) {\r\n        editedOriginal = data;\r\n        window.$.i18n().load({[lan]: data})\r\n        goToPhase2();\r\n    });\r\n    var call = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default().getJSON(source.urlFunc(lan), {}, function(data) {\r\n        editedCustom = data;\r\n        goToPhase2();\r\n    });\r\n    call.fail(function() {\r\n        editedCustom = {};\r\n        goToPhase2();\r\n    })\r\n}\r\n\r\nfunction setUpCategorySelect() {\r\n    var categories = [\"\"];\r\n    for (var key in englishCustom) {\r\n        var pos = key.indexOf(\"-\");\r\n        var pref = key.substring(0, pos);\r\n        if (pref === \"pc\") {\r\n            pos = key.indexOf(\"-\", pos+1);\r\n            pref = key.substring(0, pos);\r\n        }\r\n        if (!categories.includes(pref)) {\r\n            categories.push(pref);\r\n        }\r\n    }\r\n    var inner = \"\";\r\n    categories.forEach((e) => {\r\n        inner += `<option value=\"${e}\">${e}</option>`;\r\n        \r\n    })\r\n    document.getElementById(\"selectCategory\").innerHTML = inner;\r\n}\r\n\r\nfunction isEntryExpired(key) {\r\n    var entry = editedCustom[key];\r\n    return entry && entry.ifEqual && entry.ifEqual != editedOriginal[key];\r\n}\r\n\r\nfunction verifyExpired() {\r\n    for (var key in editedCustom) {\r\n        var entry = editedCustom[key];\r\n        var englishEntry = englishCustom[key];\r\n        if (isEntryExpired(key)) {\r\n            if (!englishEntry) {\r\n                editedCustom[key] = undefined;\r\n            } else {\r\n                entry.ifEqual = editedOriginal[key];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction goToPhase2() {\r\n    if (!(englishOriginal && englishCustom && editedOriginal && editedCustom)) {\r\n        return;\r\n    }\r\n    verifyExpired();\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase1\").addClass(\"PrettyCards_Hidden\");\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2\").removeClass(\"PrettyCards_Hidden\");\r\n    console.log(\"SUCCESS\", englishOriginal, englishCustom, editedOriginal, editedCustom);\r\n    setUpCategorySelect();\r\n    applyFilters();\r\n    showPage(0);\r\n}\r\n\r\nfunction isEntryFull(key) {\r\n    var entry = editedCustom[key];\r\n    if (!entry) {return false;}\r\n    if (typeof(entry) == \"string\" && entry != \"\") {return true;}\r\n    if (entry.value && entry.value != \"\") {return true;}\r\n    if (entry.values) {\r\n        for (var i=0; i < entry.values.length; i++) {\r\n            if (!entry.values[i] || entry.values[i] == \"\") {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nfunction isEntryEmpty(key) {\r\n    var entry = editedCustom[key];\r\n    if (!entry) {return true;}\r\n    if (typeof(entry) == \"string\" && entry == \"\") {return true;}\r\n    if (entry.value && entry.value == \"\") {return true;}\r\n    if (entry.values) {\r\n        for (var i=0; i < entry.values.length; i++) {\r\n            if (entry.values[i] && entry.values[i].length > 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction matchesSearch(key, search) {\r\n    if (search === \"\") {return true;}\r\n    if (isEntryEmpty(key)) {return false;}\r\n    var entry = editedCustom[key];\r\n    var searchStrings = [key];\r\n    if (typeof(entry) == \"string\") {\r\n        searchStrings.push(entry);\r\n    }\r\n    if (entry.value) {\r\n        searchStrings.push(entry.value);\r\n    }\r\n    if (entry.values) {\r\n        searchStrings = searchStrings.concat(entry.values);\r\n    }\r\n    for (var i=0; i < searchStrings.length; i++) {\r\n        if (searchStrings[i].includes(search)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction isRemoved(key) {\r\n\r\n    var categoryVal = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#selectCategory\").val();\r\n    var statusVal = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#selectStatus\").val();\r\n    var searchVal = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#searchInput\").val();\r\n    var entry = editedCustom[key];\r\n    //var isFull = isEntryFull(key);\r\n    var isEmpty = isEntryEmpty(key);\r\n\r\n    if (categoryVal != \"\" && !key.startsWith(categoryVal)) {\r\n        return true;\r\n    }\r\n\r\n    if (statusVal == \"DONE\" && isEmpty) {\r\n        return true;\r\n    } else if (statusVal == \"NEW\" && !isEmpty) {\r\n        return true;\r\n    }/* else if (statusVal == \"NEEDS_CHANGE\" && isFull) {\r\n        return true;\r\n    }*/\r\n\r\n    if (!key.startsWith(categoryVal)) {\r\n        return true;\r\n    }\r\n\r\n    if (!matchesSearch(key, searchVal)) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction applyFilters() {\r\n\r\n    pages = [];\r\n\r\n    for (var key in englishCustom) {\r\n        if (!isRemoved(key)) {\r\n            pages.push(key);\r\n        }\r\n    }\r\n\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#maxPages\").html(pages.length);\r\n\r\n    var select = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#selectPage\");\r\n    select.html(\"\");\r\n    for (var i=0; i < pages.length; i++) {\r\n        select.append(`<option value=\"${i}\">${i+1}</option>`);\r\n    }\r\n\r\n}\r\n\r\nfunction nextPage() {\r\n    if (currentPage < pages.length - 1) {\r\n        showPage(currentPage + 1);\r\n    }\r\n}\r\n\r\nfunction previousPage() {\r\n    if (currentPage > 0) {\r\n        showPage(currentPage - 1);\r\n    }\r\n}\r\n\r\nfunction showPage(nr) {\r\n    currentPage = nr;\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#selectPage\").val(currentPage);\r\n\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()('#btnNext').prop('disabled', currentPage + 1 >= pages.length);\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()('#btnPrevious').prop('disabled', currentPage <= 0);\r\n\r\n    displayEntry(pages[currentPage]);\r\n}\r\n\r\nfunction returnNewEntryBasedOnEnglish(key) {\r\n    var enEntry = englishCustom[key];\r\n    if (typeof(enEntry) == \"string\") {\r\n        return \"\";\r\n    }\r\n    var entry = {};\r\n    if (enEntry.ifEqual) {\r\n        entry.ifEqual = editedOriginal[key] || \"\";\r\n    }\r\n    if (enEntry.values) {\r\n        entry.values = [];\r\n        for (var i=0; i < enEntry.values.length; i++) {\r\n            entry.values[i] = \"\";\r\n        }\r\n    } else {\r\n        entry.value = \"\";\r\n    }\r\n    return entry;\r\n}\r\n\r\nfunction getSingleTextFromEntry(entry) {\r\n    var text = entry;\r\n    if (entry.value || entry.value === \"\") {\r\n        text = entry.value;\r\n    }\r\n    return text;\r\n}\r\n\r\nfunction setSingleTextToKey(key, str) {\r\n    var entry = editedCustom[key];\r\n    if (entry.value || entry.value === \"\") {\r\n        entry.value = str;\r\n        return;\r\n    }\r\n    editedCustom[key] = convertValueToString(str);\r\n}\r\n\r\nfunction displayEntry(key) {\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_Preview\").html(\"\");\r\n    var entry = editedCustom[key];\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_TranslationKey\").html(key);\r\n    if (!entry) {\r\n        entry = returnNewEntryBasedOnEnglish(key);\r\n        editedCustom[key] = entry;\r\n    }\r\n\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\".PrettyCards_CT_Phase2_ListEntryRow\").remove();\r\n\r\n    // With this I'll assume that there will never be conditional list entries.\r\n    if (entry.values) {\r\n        displayListEntry(key, entry);\r\n        return;\r\n    }\r\n\r\n    var englishText = getSingleTextFromEntry(englishCustom[key]);\r\n    \r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_EnglishText\").removeClass(\"PrettyCards_Hidden\");\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_EnglishText\").html(getColoredStringReference(englishText));\r\n    if (entry.ifEqual) {\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_OGEnglishText\").parent().removeClass(\"PrettyCards_Hidden\");\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_OGTranslatedText\").parent().removeClass(\"PrettyCards_Hidden\");\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_OGEnglishText\").html(getColoredStringReference(englishOriginal[key]));\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_OGTranslatedText\").html(getColoredStringReference(editedOriginal[key]));\r\n    } else {\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_OGEnglishText\").parent().addClass(\"PrettyCards_Hidden\");\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_OGTranslatedText\").parent().addClass(\"PrettyCards_Hidden\");\r\n    }\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_TranslationArea\").parent().removeClass(\"PrettyCards_Hidden\");\r\n    var entryText = getSingleTextFromEntry(entry)\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_TranslationArea\").val(entryText);\r\n    setPreviewTo(convertValueToString(entryText), key);\r\n\r\n    const constKey = key;\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_TranslationArea\").unbind(\"keyup\").keyup(function () {\r\n        var txt = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_TranslationArea\").val();\r\n        var convertedValue = convertValueToString(txt);\r\n        setSingleTextToKey(constKey, convertedValue);\r\n        setPreviewTo(convertedValue, constKey);\r\n    });\r\n}\r\n\r\nfunction displayListEntry(key, entry) {\r\n    var englishEntry = englishCustom[key];\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_EnglishText\").addClass(\"PrettyCards_Hidden\");\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_OGEnglishText\").parent().addClass(\"PrettyCards_Hidden\");\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_OGTranslatedText\").parent().addClass(\"PrettyCards_Hidden\");\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_TranslationArea\").parent().addClass(\"PrettyCards_Hidden\");\r\n\r\n    var parent = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_Table > tbody\");\r\n    const constKey = key; // Just to make sure . . .\r\n    // I'll go after the English entry because that should always be the official one.\r\n    for (var i=0; i < englishEntry.values.length; i++) {\r\n        var val = entry.values[i];\r\n        const index = i;\r\n        const row = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(`\r\n        <tr class=\"PrettyCards_CT_Phase2_ListEntryRow\">\r\n            <td colspan=\"1\">${getColoredStringReference(englishEntry.values[i])}</td>\r\n            <td colspan=\"2\">\r\n                <textarea maxlength=\"500\" class=\"form-control\" class=\"PrettyCards_CT_Phase2_ListTranslationArea\"></textarea>\r\n            </td>\r\n        </tr>`);\r\n        row.find(\"textarea\").val(val || \"\");\r\n        row.find(\"textarea\").keyup(function () {\r\n            var txt = _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(this).val();\r\n            var convertedValue = convertValueToString(txt);\r\n            editedCustom[constKey].values[index] = convertedValue;\r\n            setPreviewTo(convertedValue, constKey);\r\n        });\r\n        parent.append(row);\r\n    }\r\n}\r\n\r\nfunction downloadJSON() {\r\n    var save = JSON.stringify(editedCustom);\r\n    _src_libraries_utility__WEBPACK_IMPORTED_MODULE_1__.utility.downloadFile(save, editedTag + \".json\", \"text/plain\");\r\n\r\n    BootstrapDialog.show({\r\n        title: \"Thank you for your collaboration! ^^\",\r\n        size: BootstrapDialog.SIZE_WIDE,\r\n        message: `<p>The language JSON file should be downloading now! Please send it to me through Discord to the <span class=\"PrettyCards_DiscordMention\">#translation-files-go-here</span> channel!</p><p>is the file didn't download, you can copy-paste its contents below!</p>\r\n            <code class=\"PrettyCards_DarkThemeCode PrettyCards_BlockCode\" onclick=\"navigator.clipboard.writeText(this.innerText)\">${save}</code>\r\n        `,\r\n        buttons: [{\r\n                label: \"Alright!\",\r\n                cssClass: 'btn-primary us-normal',\r\n                action(dialog) {\r\n                    dialog.close();\r\n                }\r\n            }\r\n        ]\r\n    });\r\n}\r\n\r\nfunction convertValueToString(value) {\r\n    return value.replaceAll(\"\\\\n\", \"\\n\").replaceAll(\"\\\\r\", \"\\r\");\r\n}\r\n\r\n// Ok, I have to admit, I could not do this better than Onu. If I wanted to, it would be the exact same result, sooooo . . .\r\nfunction getColoredStringReference(stringReference, encodeInput = true) {\r\n\r\n    var colors = ['#00ff06', '#fc00ff', '#00d6ff', '#ff5300',\r\n        '#0074ff', '#ff0030', '#ffa400'];\r\n\r\n    if (encodeInput) {\r\n        stringReference = toEncodedHTML(stringReference);\r\n        var stringReference = stringReference.replaceAll(\"\\n\", '<span class=\"gray\">\\\\n</span>').replaceAll(\"\\r\", '<span class=\"gray\">\\\\r</span>');\r\n    }\r\n\r\n    var coloredString = stringReference.replace(/({{[^{}]*?}})/g, function (m) {\r\n        return '<span class=\"JUSTICE\">' + m + '</span>';\r\n    });\r\n\r\n    coloredString = coloredString.replace(/(\\$[1-9]+)/g, function (m) {\r\n        var number = parseInt(m.replace('$', '')) - 1;\r\n        var color = colors[number % colors.length];\r\n        return '<span style=\"color: ' + color + '\">' + m + '</span>';\r\n    });\r\n\r\n    return coloredString;\r\n}\r\n\r\nvar lastPreviewType;\r\nfunction setPreviewTo(txt = \"\", key = \"\") {\r\n    if (lastPreviewType) {\r\n        lastPreviewType.onremove();\r\n    }\r\n    if (txt === \"\") {\r\n        _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_Preview\").html(\"\");\r\n        return;\r\n    }\r\n    var types = window.prettycards.translationManager.previewTypes;\r\n    var previewType;\r\n    for (var i=0; i < types.length; i++) {\r\n        var type = types[i];\r\n        if (key.match(type.regex)) {\r\n            previewType = type;\r\n            break;\r\n        }\r\n    }\r\n    lastPreviewType = previewType;\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_Preview\").html(`<span>${_src_libraries_utility__WEBPACK_IMPORTED_MODULE_1__.utility.toLocale(\"decks-preview\", editedTag)}: </span><span id=\"PrettyCards_CT_Phase2_PreviewInsert\"></span>`);\r\n    _src_third_party_jquery_3_6_0_min_js__WEBPACK_IMPORTED_MODULE_2___default()(\"#PrettyCards_CT_Phase2_PreviewInsert\").append(previewType.eleFunc(_src_libraries_utility__WEBPACK_IMPORTED_MODULE_1__.utility.toLocale(txt, editedTag)));\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/custom_translations.js?");

/***/ }),

/***/ "./src/page_specific/decks.js":
/*!************************************!*\
  !*** ./src/page_specific/decks.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InitDecks\": () => (/* binding */ InitDecks)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_card_skin_selector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/card_skin_selector.js */ \"./src/libraries/card_skin_selector.js\");\n/* harmony import */ var _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/deck_selector.js */ \"./src/libraries/deck_selector.js\");\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_soul_selector_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/soul_selector.js */ \"./src/libraries/soul_selector.js\");\n/* harmony import */ var _src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../src/libraries/deck_editor.js */ \"./src/libraries/deck_editor.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _libraries_utility__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../libraries/utility */ \"./src/libraries/utility.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar $ = window.$;\r\n\r\nvar deckSelector = new _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_1__.SavedDeckSelector();\r\nvar skinSelector = new _src_libraries_card_skin_selector_js__WEBPACK_IMPORTED_MODULE_0__.CardSkinSelector();\r\nvar deckName = document.createElement(\"INPUT\");\r\nvar deckDesc = document.createElement(\"TEXTAREA\");\r\nvar editDeckButton = document.createElement(\"BUTTON\");\r\nvar changeDeckScreen = document.createElement(\"DIV\");\r\nvar col2;\r\nvar currentDeck = null;\r\n\r\nvar deckEditPage = document.querySelector(\".mainContent > table\");\r\n\r\nfunction ChangeDeckScreen() {\r\n\tdeckSelector.callback = function(deck) {\r\n\t\tChangeDeck(deck);\r\n\t\tCloseDeckScreen();\r\n\t}.bind(this);\r\n\tdeckSelector.closeCallback = CloseDeckScreen.bind(this);\r\n\tchangeDeckScreen.innerHTML = \"\";\r\n\tdeckSelector.closable = true;\r\n\tdeckSelector.AppendTo(changeDeckScreen);\r\n\t//deckSelector.OpenDialogue();\r\n\tchangeDeckScreen.style.display = \"initial\";\r\n\tdeckEditPage.style.display = \"none\";\r\n}\r\n\r\nfunction ChangeDeck(deck) {\r\n\tcurrentDeck = deck;\r\n\t//console.log(\"Changing deck to\", deck);\r\n\tLoadDeck(deck);\r\n}\r\n\r\nfunction CloseDeckScreen() {\r\n\tchangeDeckScreen.style.display = \"none\";\r\n\tdeckEditPage.style.display = \"initial\";\r\n}\r\n\r\nfunction ChangeDeckImageDialogue() {\r\n\tskinSelector.callback = function(skin) {\r\n\t\tChangeDeckImage(skin);\r\n\t\tskinSelector.dial.close();\r\n\t}\r\n\tskinSelector.OpenDialogue();\r\n}\r\n\r\nfunction ChangeDeckImage(skin) {\r\n\tvar key = \"prettycards.deck.\" + selfId + \".\" + currentDeck.soul + \".\" + currentDeck.id + \".image\";\r\n\tcurrentDeck.image = skin;\r\n\twindow.localStorage[key] = JSON.stringify(skin);\r\n\t\r\n\tReloadDeckEditPreview();\r\n}\r\n\r\nfunction ChangeDeckName() {\r\n\tvar nameValue = $(deckName).val();\r\n\tcurrentDeck.name = nameValue;\r\n\tvar key = currentDeck.key + \".name\";\r\n\twindow.localStorage[key] = nameValue;\r\n\t\r\n\tReloadDeckEditPreview();\r\n}\r\n\r\nfunction ChangeDeckDescription() {\r\n\tvar descValue = $(deckDesc).val();\r\n\tcurrentDeck.description = descValue;\r\n\tvar key = \"prettycards.deck.\" + selfId + \".\" + currentDeck.soul + \".\" + currentDeck.id + \".description\";\r\n\twindow.localStorage[key] = descValue;\r\n\t\r\n\tReloadDeckEditPreview();\r\n}\r\n\r\nfunction EditDeckScreenHTML() {\r\n\tvar cont_cont = document.createElement(\"DIV\");\r\n\tvar cont = document.createElement(\"DIV\");\r\n\tcont.style = \"min-height: 230px;\";\r\n\tcont_cont.appendChild(cont);\r\n\t\r\n\tvar col1 = document.createElement(\"DIV\");\r\n\tcol1.style = \"display: inline-block; margin: 0; float:left; min-height:250px; width: 320px;\";\r\n\tcont.appendChild(col1);\r\n\t\r\n\tcol2 = document.createElement(\"DIV\");\r\n\tcol2.style = \"display: inline-block; margin: 0; width: 235px; display: flex; justify-content: space-evenly;\";\r\n\tcont.appendChild(col2);\r\n\t\r\n\tcol1.innerHTML = \"<span>\" + window.$.i18n(\"pc-decks-editor-name\") + \"</span>\";\r\n\t\r\n\tcol1.appendChild(deckName);\r\n\tdeckName.value = currentDeck.name;\r\n\tdeckName.className = \"form-control \" + currentDeck.soul;\r\n\tdeckName.style = \"background: rgba(0,0,0,.5);\";\r\n\tdeckName.placeholder = window.$.i18n(\"pc-decks-editor-name2\");\r\n\t$(deckName).unbind(\"keyup\").keyup(ChangeDeckName.bind(this)); // I dunno why I did this, but it shouldn't be a biggie :3\r\n\t\r\n\tvar deckDescSpan = document.createElement(\"SPAN\");\r\n\tdeckDescSpan.innerHTML = \"<br>\" + window.$.i18n(\"pc-decks-editor-desc\") + \"<br>\";\r\n\tcol1.appendChild(deckDescSpan);\r\n\t\r\n\tcol1.appendChild(deckDesc);\r\n\tdeckDesc.className = currentDeck.soul;\r\n\tdeckDesc.style = \"background: rgba(0,0,0,.5); width: 100%; max-width: 320px;\"\r\n\tdeckDesc.value = currentDeck.description;\r\n\t$(deckDesc).unbind(\"keyup\").keyup(ChangeDeckDescription.bind(this));\r\n\t\r\n\tvar changeImage = document.createElement(\"BUTTON\");\r\n\tchangeImage.innerHTML = window.$.i18n(\"pc-decks-editor-image\");\r\n\tchangeImage.className = \"btn btn-primary\";\r\n\tchangeImage.style = \"display: block; margin-top: 10px;\"\r\n\tchangeImage.onclick = ChangeDeckImageDialogue.bind(this);\r\n\tcol1.appendChild(changeImage);\r\n\t\r\n\tvar emergencyLoad = document.createElement(\"BUTTON\");\r\n\temergencyLoad.innerHTML = window.$.i18n(\"pc-decks-editor-emergency\");\r\n\temergencyLoad.className = \"btn btn-danger\";\r\n\temergencyLoad.style = \"display: block; margin-top: 10px;\"\r\n\temergencyLoad.onclick = function () {\r\n\t\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__.DeckEditor.ImportDeck(currentDeck, function() {})\r\n\t};\r\n\tcol1.appendChild(emergencyLoad);\r\n\t\r\n\tvar note = document.createElement(\"P\");\r\n\tnote.className = \"gray\";\r\n\tnote.style = \"margin-top: 15px;\";\r\n\tnote.innerHTML = window.$.i18n(\"pc-decks-editor-emergencynote\");\r\n\tcont_cont.appendChild(note);\r\n\t\r\n\tReloadDeckEditPreview();\r\n\t\r\n\t\r\n\t\r\n\treturn cont_cont;\r\n}\r\n\r\nfunction ReloadDeckEditPreview() {\r\n\t//console.log(\"Reload deck edit preview\");\r\n\tcol2.innerHTML = \"\";\r\n\tdeckSelector.appendCardDeck($(col2), currentDeck, true);\r\n}\r\n\r\nfunction EditDeckScreen() {\r\n\tBootstrapDialog.show({\r\n\t\ttitle: window.$.i18n(\"pc-decks-editor-title\"),\r\n\t\tsize: BootstrapDialog.SIZE_NORMAL,\r\n\t\tclosable: true,\r\n\t\tcloseByBackdrop: false,\r\n\t\tmessage: EditDeckScreenHTML(),\r\n\t\tbuttons: [\r\n\t\t\t{\r\n\t\t\t\tlabel: window.$.i18n(\"pc-navigate-ok\"),\r\n\t\t\t\tcssClass: 'btn-primary us-normal',\r\n\t\t\t\taction(dialog) {\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t});\r\n}\r\n\r\nconst maxDupesPerRarity = {\r\n\tBASE: 3,\r\n\tCOMMON: 3,\r\n\tRARE: 3,\r\n\tEPIC: 2,\r\n\tLEGENDARY: 1,\r\n\tDETERMINATION: 1,\r\n\tTOKEN: 0\r\n}\r\n\r\nfunction findInCollection(collection, idCard, shiny) {\r\n\tfor (var i=0; i < collection.length; i++) {\r\n\t\tvar _card = collection[i];\r\n\t\tif (_card.id == idCard && _card.shiny == shiny) {\r\n\t\t\treturn _card;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction canCardBeAdded(card, deck) {\r\n\tif (!card || card.quantity <= 0 || deck.length >= 25) {\r\n\t\treturn false;\r\n\t}\r\n\tvar nrInDeck = 0;\r\n\tfor (var i=0; i < deck.length; i++) {\r\n\t\tvar _card = deck[i];\r\n\t\tif (card.id == _card.id) {\r\n\t\t\tnrInDeck++;\r\n\t\t}\r\n\t}\r\n\tif (!_libraries_utility__WEBPACK_IMPORTED_MODULE_6__.utility.onTestServer() && nrInDeck >= maxDupesPerRarity[card.rarity]) {\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction addCardSilent(idCard, shiny, dontUpdateDeck) {\r\n\tvar deckSoul = window.soul;\r\n\tvar card = findInCollection(window.deckCollections[deckSoul], idCard, shiny);\r\n\tif (!canCardBeAdded(card, window.decks[window.soul])) {\r\n\t\treturn;\r\n\t}\r\n\tupdateQuantity(deckSoul, card, -1);\r\n\taddDeckCardSlot(deckSoul, card);\r\n\trefreshDeckList();\r\n\tapplyFilters();\r\n\tshowPage(currentPage);\r\n\tif (!dontUpdateDeck) {\r\n\t\tSaveDeck();\r\n\t}\r\n\tif (currentDeck.isBase) {\r\n\t\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__.DeckEditor.AddCard(idCard, shiny, currentDeck.soul, function() {}); // Please tell me I won't have to do anything more with this in the future . . .\r\n\t}\r\n}\r\n\r\nfunction removeCardSilent(idCard, shiny) {\r\n\tvar card = findInCollection(window.deckCollections[window.soul], idCard, shiny);\r\n\tvar deckSoul = window.soul;\r\n\tupdateQuantity(deckSoul, card, 1);\r\n\tremoveDeckCardSlot(deckSoul, card);\r\n\trefreshDeckList();\r\n\tapplyFilters();\r\n\tshowPage(currentPage);\r\n\tremoveCardHover();\r\n\t\r\n\tSaveDeck();\r\n\tif (currentDeck.isBase) {\r\n\t\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__.DeckEditor.RemoveCard(idCard, shiny, currentDeck.soul, function() {}); // Please tell me I won't have to do anything more with this in the future . . .\r\n\t}\r\n}\r\n\r\nfunction addArtifactSilent(idArtifact, dontUpdateDeck, is_importing = false) {\r\n\tvar artifact = null;\r\n\tfor (var i=0; i < window.userArtifacts.length; i++) {\r\n\t\tvar _artifact = window.userArtifacts[i];\r\n\t\tif (_artifact.id == idArtifact) {\r\n\t\t\tartifact = _artifact;\r\n\t\t}\r\n\t}\r\n\tvar addedSoul = window.soul;\r\n\tdecksArtifacts[addedSoul].push(artifact);\r\n\tupdateArtifactSlots();\r\n\tif (lastOpenedDialog !== null) {\r\n\t\tlastOpenedDialog.close();\r\n\t}\r\n\tcheckCompletion();\r\n\tif (!dontUpdateDeck) {\r\n\t\tSaveDeck();\r\n\t}\r\n\tif (currentDeck.isBase && !is_importing) {\r\n\t\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__.DeckEditor.AddArtifact(idArtifact, currentDeck.soul, function() {}); // Please tell me I won't have to do anything more with this in the future . . .\r\n\t}\r\n}\r\n\r\nfunction clearArtifactsSilent() {\r\n\tvar clearedSoul = window.soul;\r\n\tdecksArtifacts[clearedSoul] = [];\r\n\tupdateArtifactSlots();\r\n\tcheckCompletion();\r\n\tif (!dontUpdateDeck) {\r\n\t\tSaveDeck();\r\n\t}\r\n\tif (currentDeck.isBase) {\r\n\t\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__.DeckEditor.RemoveArtifacts(currentDeck.soul, function() {}); // Please tell me I won't have to do anything more with this in the future . . .\r\n\t}\r\n}\r\n\r\nfunction removeAllCardsSilent(dontUpdateDeck, is_importing = false) {\r\n\t$('#deckCards' + window.soul).empty();\r\n\t$('#nbCardDeck' + window.soul).html(0);\r\n\tfor (var i=0; i < window.decks[window.soul].length; i++) {\r\n\t\tvar card = window.decks[window.soul][i];\r\n\t\tupdateQuantity(window.soul, card, 1);\r\n\t}\r\n\tdecks[window.soul] = [];\r\n\tdecksArtifacts[window.soul] = [];\r\n\tupdateArtifactSlots();\r\n\tcheckCompletion();\r\n\trefreshDeckList();\r\n\tapplyFilters();\r\n\tshowPage(currentPage);\r\n\tcanClearCards = true;\r\n\tif (!dontUpdateDeck) {\r\n\t\tSaveDeck();\r\n\t}\r\n\tif (currentDeck.isBase && !is_importing) {\r\n\t\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__.DeckEditor.RemoveEverything(currentDeck.soul, function() {}); // Please tell me I won't have to do anything more with this in the future . . .\r\n\t}\r\n}\r\n\r\nfunction SilenceDeckFunctions() {\r\n\t//var oldAddCard = window.addCard;\r\n\twindow.addCard = addCardSilent;\r\n\t\r\n\t//var oldRemoveCard = window.removeCard;\r\n\twindow.removeCard = removeCardSilent;\r\n\t\r\n\twindow.removeAllCards = removeAllCardsSilent;\r\n\t\r\n\twindow.addArtifact = addArtifactSilent;\r\n\t\r\n\twindow.clearArtifacts = clearArtifactsSilent;\r\n\t\r\n\twindow.showDeckLoad = ModifiedShowDeckLoad;\r\n}\r\n\r\nfunction LoadDeck(deck) {\r\n\tif (deck.isBase) {\r\n\t\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__.DeckEditor.OptimalImportDeck(deck, function() {}); // Please tell me I won't have to do anything more with this in the future . . .\r\n\t}\r\n\t\r\n\twindow.soul = deck.soul;\r\n\tupdateSoul();\r\n\tremoveAllCardsSilent(true, true);\r\n\tfor (var i=0; i < deck.cards.length; i++) {\r\n\t\tvar card = deck.cards[i];\r\n\t\t//addCardSilent(card.id, !(!card.shiny), true);\r\n\t\tvar card = findInCollection(window.deckCollections[window.soul], card.id, !(!card.shiny));\r\n\t\tif (canCardBeAdded(card, window.decks[window.soul])) {\r\n\t\t\twindow.decks[window.soul].push(card);\r\n\t\t\tupdateQuantity(window.soul, card, -1);\r\n\t\t}\r\n\t}\r\n\tfor (var i=0; i < deck.artifacts.length; i++) {\r\n\t\taddArtifactSilent(deck.artifacts[i], true, true);\r\n\t}\r\n\t\r\n\tcheckCompletion();\r\n\trefreshDeckList();\r\n}\r\n\r\nfunction SaveDeck() { // This does NOT save deck images and names!\r\n\tvar deck = {cards: [], artifacts: []}\r\n\tfor (var i=0; i < window.decks[window.soul].length; i++) {\r\n\t\tvar card = window.decks[window.soul][i];\r\n\t\tvar _card = {id: card.id};\r\n\t\tif (card.shiny) {\r\n\t\t\t_card.shiny = true;\r\n\t\t}\r\n\t\tdeck.cards.push(_card);\r\n\t}\r\n\tfor (var i=0; i < window.decksArtifacts[window.soul].length; i++) {\r\n\t\tvar artifact = window.decksArtifacts[window.soul][i];\r\n\t\tdeck.artifacts.push(artifact.id);\r\n\t}\r\n\t\r\n\twindow.localStorage[currentDeck.key] = JSON.stringify(deck);\r\n\t//console.log(currentDeck.key, window.localStorage[currentDeck.key]);\r\n}\r\n\r\nvar oldShowDeckLoad = window.showDeckLoad;\r\nfunction ModifiedShowDeckLoad(jsonDeck) {\r\n\tvar jsonDeckSoul = jsonDeck.classe || jsonDeck.soul;\r\n\tif (jsonDeckSoul != currentDeck.soul) {\r\n\t\tBootstrapDialog.show({\r\n\t\t\ttitle: \"Unable to Import!\",\r\n\t\t\t//size: BootstrapDialog.SIZE_WIDE,\r\n\t\t\ttype: window.BootstrapDialog.TYPE_DANGER,\r\n\t\t\tmessage: 'The deck you are trying to import is of a different soul. Please open or create a new <span class=\"' + jsonDeckSoul + '\">' + jsonDeckSoul + '</span> deck to import this deck!',\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: $.i18n('dialog-ok'),\r\n\t\t\t\t\tcssClass: 'btn-primary',\r\n\t\t\t\t\taction: function (dialog) {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\toldShowDeckLoad(jsonDeck);\r\n}\r\n\r\nfunction InitDecks() {\r\n\t\r\n\t(0,_src_libraries_card_skin_selector_js__WEBPACK_IMPORTED_MODULE_0__.loadAllCardSkins)();\r\n\r\n\t//PrettyCards_plugin.events.on(\"SoulSelector:decksLoaded\", function(data) {\r\n\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_5__.ExecuteWhen)(\"SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts\", function() {\r\n\t\tdeckSelector.callback = function(deck) {\r\n\t\t\tCloseDeckScreen();\r\n\t\t\tChangeDeck(deck);\r\n\t\t}\r\n\t\tdeckSelector.canEditDecks = true;\r\n\t\tdeckSelector.hideInvalidDecks = false;\r\n\t\tdeckSelector.AppendTo(changeDeckScreen);\r\n\t});\r\n\t\r\n\tdeckEditPage.style.display = \"none\";\r\n\t\r\n\tdocument.querySelectorAll(\".mainContent > br\").forEach(function (br) {br.remove()});\r\n\t\r\n\tdocument.getElementsByClassName(\"mainContent\")[0].appendChild(changeDeckScreen);\r\n\t\r\n\tSilenceDeckFunctions();\r\n\t\r\n\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_5__.ExecuteWhen)(\"PrettyCards:onPageLoad PrettyCards:TranslationExtReady\", function() {\r\n\t\tvar oldDeckButtons = $(\".btn-storage\").first().parent(); //document.querySelector(\".btn-storage\").parentElement;\r\n\t\toldDeckButtons.css(\"display\", \"none\");\r\n\t\tdocument.getElementById(\"selectSouls\").style.display = \"none\";\r\n\t\t\r\n\t\tvar newDeckButtons = $(\"<div style='margin-bottom: 5px;' class='PrettyCards_DeckButtons'></div>\");\r\n\t\t//document.querySelector(\"#yourCardList\").insertBefore(newDeckButtons, oldDeckButtons);\r\n\t\tnewDeckButtons.insertBefore(oldDeckButtons);\r\n\t\t\r\n\t\t/*\r\n\t\tnewDeckButtons.appendChild(deckName);\r\n\t\t//deckName.style = \"text-align: center\";\r\n\t\tdeckName.value = \"Placeholder Deck\";\r\n\t\tdeckName.className = \"form-control\";\r\n\t\t//deckName.setAttribute(\"type\", \"text\");\r\n\t\tdeckName.style = \"background: rgba(0,0,0,.5);\";\r\n\t\tdeckName.placeholder = \"Deck Name\";\r\n\t\t$(deckName).keyup(ChangeDeckName.bind(this));\r\n\t\t*/\r\n\t\t\r\n\t\tvar changeDeckButton = document.createElement(\"BUTTON\");\r\n\t\tnewDeckButtons.append(changeDeckButton);\r\n\t\tchangeDeckButton.style = \"width: 50%; margin: 0; text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;\";\r\n\t\tchangeDeckButton.className = \"btn btn-primary\";\r\n\t\tchangeDeckButton.innerHTML = window.$.i18n(\"pc-decks-change\");\r\n\t\tchangeDeckButton.onclick = ChangeDeckScreen.bind(this);\r\n\t\t\r\n\t\tnewDeckButtons.append(editDeckButton);\r\n\t\teditDeckButton.style = \"width: 50%; margin: 0; text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;\";\r\n\t\teditDeckButton.className = \"btn btn-primary\";\r\n\t\teditDeckButton.innerHTML = window.$.i18n(\"pc-decks-edit\");\r\n\t\teditDeckButton.onclick = EditDeckScreen.bind(this);\r\n\t});\r\n\t\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/decks.js?");

/***/ }),

/***/ "./src/page_specific/friendship.js":
/*!*****************************************!*\
  !*** ./src/page_specific/friendship.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InitFriendship\": () => (/* binding */ InitFriendship)\n/* harmony export */ });\n/* harmony import */ var _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libraries/underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _libraries_utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../libraries/utility */ \"./src/libraries/utility.js\");\n\r\n\r\n\r\n(0,_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.addSetting)({\r\n    'key': 'friendship_sort',\r\n    'name': 'Enable Friendship Sorting', // Name in settings page\r\n    'type': 'boolean',\r\n    'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n    'default': true, // default value\r\n});\r\n\r\nfunction InitFriendshipSort() {\r\n    var oldApplyFilters = window.applyFilters;\r\n\r\n    var filterTable = window.$(\"table\").first();\r\n\r\n    filterTable.find(\"td:nth-child(2)\").css(\"width\", \"300px\");\r\n    filterTable.find(\"td:nth-child(2)\").after('<td><select id=\"PrettyCards_FriendshipSort\" class=\"form-control\" style=\"color:white;\" onchange=\"applyFilters();showPage(0);\"><option value=\"0\">Waiting . . .</option></select></td>');\r\n\r\n    _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"PrettyCards:TranslationExtReady\", function () {\r\n        var optionList = [window.$.i18n(\"pc-friendship-sort-xp\"), window.$.i18n(\"pc-friendship-sort-rank\"), window.$.i18n(\"pc-friendship-sort-levelup\"), window.$.i18n(\"pc-friendship-sort-reward\", window.$.i18n(\"item-ucp\"))];\r\n        \r\n        var optionsString = \"\";\r\n        for (var i=0; i < optionList.length; i++) {\r\n            optionsString += `<option value=\"${i}\">${optionList[i]}</option>`;\r\n        }\r\n        window.$(\"#PrettyCards_FriendshipSort\").html(optionsString);\r\n    });\r\n\r\n    window.applyFilters = function() {\r\n        oldApplyFilters();\r\n        ApplySorting();\r\n    }\r\n\r\n    function ApplySorting() {\r\n        var value = window.$(\"#PrettyCards_FriendshipSort\").val();\r\n        if (value == 0) {return;} // Default sorting. No need to do it again.\r\n        var sortFunction;\r\n        if (value == 1) {\r\n            sortFunction = function (a, b) {\r\n                return a.rank - b.rank;\r\n            }\r\n        } else if (value == 2) {\r\n            sortFunction = function (a, b) {\r\n                return a.xpUntilNextLevel - b.xpUntilNextLevel;\r\n            }\r\n        } else if (value == 3) {\r\n            sortFunction = function (a, b) {\r\n                if (a.level >= 200 && b.level < 200) {\r\n                    return true;\r\n                }\r\n                return a.xpUntilNextUcpReward - b.xpUntilNextUcpReward;\r\n            }\r\n        }\r\n        pages.sort(sortFunction);\r\n    }\r\n\r\n    _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"Friendship:loaded\", function (data) {\r\n        var lb = JSON.parse(localStorage[\"underscript.cache.friendship\"]);\r\n        // Test code //\r\n        /*\r\n        PrettyCards_plugin.events.emit(\"PrettyCards:customCards\");\r\n        //console.log(\"COLLECTION: \", prettycards.ddlc_collection);\r\n        var id1 = prettycards.ddlc_collection.cards[16].fixedId;\r\n        prettycards.ddlc_collection.cards[16].xp = utility.getXpForLevel(219)-1;\r\n        friendshipItems[id1] = {claim: 5, idCard: id1, notClaimed: true, user: {}, xp: utility.getXpForLevel(224)-1};\r\n        window.collection.push(prettycards.ddlc_collection.cards[16]);\r\n        var id2 = prettycards.ddlc_collection.cards[12].fixedId;\r\n        prettycards.ddlc_collection.cards[12].xp = utility.getXpForLevel(219)-2;\r\n        friendshipItems[id2] = {claim: 5, idCard: id2, notClaimed: false, user: {}, xp: utility.getXpForLevel(224)-2};\r\n        window.collection.push(prettycards.ddlc_collection.cards[12]);\r\n        */\r\n        //////////////\r\n        for (var i=0; i < window.collection.length; i++) {\r\n            var card = window.collection[i];\r\n            card.level = window.getLevel(card.xp);\r\n            card.xpUntilNextLevel = window.xpUntilNextLevel(card.level, card.xp);\r\n            var rank = lb[card.fixedId + \";\" + selfId];\r\n            if (rank != null && rank.rank > 0) {\r\n                card.rank = rank.rank;\r\n            } else {\r\n                card.rank = 1000;\r\n            }\r\n            var nextUCPRewardXP = _libraries_utility__WEBPACK_IMPORTED_MODULE_1__.utility.getXpForLevel(Math.ceil((card.level+1)/25)*25);\r\n            card.xpUntilNextUcpReward = nextUCPRewardXP - card.xp;\r\n        }\r\n    })\r\n}\r\n\r\nfunction InitFriendship() {\r\n    if (_libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_0__.settings.friendship_sort.value()) {\r\n        InitFriendshipSort();\r\n    }\r\n\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/friendship.js?");

/***/ }),

/***/ "./src/page_specific/game_list.js":
/*!****************************************!*\
  !*** ./src/page_specific/game_list.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InitGameList\": () => (/* binding */ InitGameList)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/artifact_display.js */ \"./src/libraries/artifact_display.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/deck_selector.js */ \"./src/libraries/deck_selector.js\");\n/* harmony import */ var _src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../src/libraries/deck_editor.js */ \"./src/libraries/deck_editor.js\");\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n\r\n// Otherwise known as \"Customs\"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar playLocked = true;\r\nvar deckSelectLocked = true;\r\nvar selectedDeck = {};\r\nvar deckSelector = new _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_3__.SavedDeckSelector();\r\n\r\nvar gamemode_functions = {\r\n\tnormal: window.joinGame,\r\n\tpassword: window.joinGamePassword,\r\n\tcreate: window.createGame\r\n}\r\n\r\nfunction OpenDeckSelector() {\r\n\tif (deckSelectLocked) {\r\n\t\treturn;\r\n\t}\r\n\t$(\"#state1\").attr(\"hidden\", true).css(\"display\", \"none\");\r\n\t$(\"#deckSelectContainer\").attr(\"hidden\", false);\r\n}\r\n\r\nfunction CloseDeckSelector() {\r\n\t$(\"#state1\").attr(\"hidden\", false).css(\"display\", \"block\");\r\n\t$(\"#deckSelectContainer\").attr(\"hidden\", true);\r\n}\r\n\r\nfunction DeckSelectorCallback(deck) {\r\n\tSetSelectedDeck(deck);\r\n\tCloseDeckSelector();\r\n}\r\n\r\nvar last_tooltip;\r\n\r\nfunction SetSelectedDeck(deck) {\r\n\tselectedDeck = deck;\r\n\tvar arts = \"\";\r\n\tfor (var i=0; i < deck.artifacts.length; i++) {\r\n\t\tvar artifact = deck.artifacts[i];\r\n\t\tarts += _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_1__.artifactDisplay.ReturnArtifactIcon(artifact);\r\n\t}\r\n\t//console.log(\"Artifacts to display: \", arts, deck.artifacts);\r\n\t$('#PrettyCards_DeckArtifacts').html(arts);\r\n\twindow.localStorage[\"prettycards.\" + window.selfId + \".selectedCustomDeckId\"] = deck.id;\r\n\twindow.localStorage[\"prettycards.\" + window.selfId + \".selectedCustomDeckSoul\"] = deck.soul;\r\n\tplayLocked = false;\r\n\tdeckSelectLocked = false;\r\n\t\r\n\tvar deck_cont = $(\"#PrettyCards_DeckContainer\");\r\n\tdeck_cont.html(\"\");\r\n\tdeckSelector.appendCardDeck(deck_cont, deck, false);\r\n}\r\n\r\nwindow.PrettyCards_StartJoiningQueue = function(id, game_mode) {\r\n\tif (playLocked) {\r\n\t\treturn;\r\n\t}\r\n\t//console.log(\"Joining Queue Button Pressed!\");\r\n\tvar toast = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.toast(\r\n\t\t{\r\n\t\t\ttitle: window.$.i18n(\"pc-play-decksetup-title\"),\r\n\t\t\ttext: window.$.i18n(\"pc-play-decksetup-text\"),\r\n\t\t}\r\n\t);\r\n\tdeckSelectLocked = true;\r\n\tplayLocked = true;\r\n\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__.DeckEditor.ImportDeck(selectedDeck, function(status, data) {\r\n\t\tdeckSelectLocked = false;\r\n\t\tplayLocked = false;\r\n\t\tif (toast.exists()) {\r\n\t\t\ttoast.close();\r\n\t\t}\r\n\t\tif (status == \"success\") {\r\n\t\t\t//console.log(\"success\");\r\n\t\t\t$('#customDecks').val(selectedDeck.soul);\r\n\t\t\tgamemode_functions[game_mode](id);\r\n\t\t} else {\r\n\t\t\t//console.log(\"DeckEditor.ImportDeck error!\", data);\r\n\t\t}\r\n\t})\r\n}\r\n\r\n// Tournament mode element: <div id=\"tournament-mode\" class=\"col-xs-4 game-mode\"><h2 data-i18n=\"[html]game-type-tournament\"></h2></div>\r\n\r\nfunction InitGameList() {\r\n\t//console.log(\"Init Play!\");\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_5__.utility.loadCSSFromGH(\"Play\");\r\n\t\r\n\t$(\"#state1 > table\").css(\"display\", \"none\");\r\n\t$(\"#state1 br\").css(\"display\", \"none\");\r\n\t$(\".mainContent > br\").css(\"display\", \"none\");\r\n\t$(\"#game-modes\").css(\"display\", \"none\");\r\n\t$(\"#state1\").append(`\r\n\t\t<div class=\"PrettyCards_GamemodeContainer\">\r\n\t\t\t<div class=\"PrettyCards_GamemodeDeck\">\r\n\t\t\t\t<div id=\"PrettyCards_DeckContainer\"></div>\r\n\t\t\t\t<div id=\"PrettyCards_DeckArtifacts\"></div>\r\n\t\t\t\t<div id=\"PrettyCards_JoinCreate\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"PrettyCards_GamesList\">\r\n\t\t\t\t<table id=\"PrettyCards_Games\" class=\"table table-bordered\">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td data-i18n=\"[html]lobby-game-name\"></td>\r\n\t\t\t\t\t\t<td data-i18n=\"[html]lobby-game-owner\"></td>\r\n\t\t\t\t\t\t<td data-i18n=\"[html]lobby-game-slots\"></td>\r\n\t\t\t\t\t\t<td data-i18n=\"[html]lobby-game-password\"></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`);\r\n\t\r\n\t$('.mainContent').append('<div id=\"deckSelectContainer\" hidden></div>');\r\n\t$(\".playSoulArtifacts\").css( // Stop. Resetting. The Visibility!\r\n\t\t{\r\n\t\t\t\"opacity\": \"0\",\r\n\t\t\t\"position\": \"absolute\"\r\n\t\t}\r\n\t);\r\n\t\r\n\t$(\"#PrettyCards_JoinCreate\").append($(\"#state1 button\"));\r\n\t//$(\"#standard-mode\")[0].onclick = function () {StartJoiningQueue(\"standard\")};\r\n\t//$(\"#ranked-mode\")[0].onclick = function () {StartJoiningQueue(\"ranked\")};\r\n\t\r\n\t$(\"#PrettyCards_JoinCreate button\")[0].onclick = function() {window.PrettyCards_StartJoiningQueue(null, 'create')}\r\n\t\r\n\t;(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_2__.ExecuteWhen)(\"SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts PrettyCards:TranslationExtReady\", function () {\r\n\t\tdeckSelector.closable = true;\r\n\t\tdeckSelector.closeCallback = CloseDeckSelector;\r\n\t\tdeckSelector.callback = DeckSelectorCallback;\r\n\t\t\r\n\t\tdeckSelector.AppendTo($(\"#deckSelectContainer\")[0]);\r\n\t\t//console.log(\"All events matched!\");\r\n\t\tvar deckId = Number(window.localStorage[\"prettycards.\" + window.selfId + \".selectedCustomDeckId\"]);\r\n\t\tvar deckSoul = window.localStorage[\"prettycards.\" + window.selfId + \".selectedCustomDeckSoul\"];\r\n\t\tif (typeof(deckId) == \"number\" && typeof(deckSoul) == \"string\") {\r\n\t\t\tvar deck = deckSelector.getDeckBySoulAndId(deckSoul, deckId);\r\n\t\t\tif (deck == null) {\r\n\t\t\t\t//$('#selectedDeck').html('<span class=\"red\">Selected deck not found! It must have been deleted!</span>');\r\n\t\t\t\tvar error_deck = {\r\n\t\t\t\t\tsoul : \"DETERMINATION\",\r\n\t\t\t\t\tid : -1,\r\n\t\t\t\t\tname : window.$.i18n(\"pc-play-error\"),\r\n\t\t\t\t\tcards : [],\r\n\t\t\t\t\tartifacts : [],\r\n\t\t\t\t\timage : _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_3__.onu_skin,\r\n\t\t\t\t\tdescription: window.$.i18n(\"pc-play-deckerror\")\r\n\t\t\t\t}\r\n\t\t\t\tSetSelectedDeck(error_deck);\r\n\t\t\t\tplayLocked = true;\r\n\t\t\t} else {\r\n\t\t\t\tSetSelectedDeck(deck);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar error_deck = {\r\n\t\t\t\tsoul : \"UNIVERSAL\",\r\n\t\t\t\tid : -1,\r\n\t\t\t\tname : window.$.i18n(\"pc-play-error\"),\r\n\t\t\t\tcards : [],\r\n\t\t\t\tartifacts : [],\r\n\t\t\t\timage : _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_3__.dummy_skin,\r\n\t\t\t\tdescription: window.$.i18n(\"pc-play-nodeck\")\r\n\t\t\t}\r\n\t\t\tSetSelectedDeck(error_deck);\r\n\t\t\tplayLocked = true;\r\n\t\t}\r\n\t\t\r\n\t\tdeckSelectLocked = false;\r\n\t\t\r\n\t})\r\n\t\r\n\t$(\"#PrettyCards_DeckContainer\").click(OpenDeckSelector);\r\n\t\r\n\twindow.regenerateTable = function(games) {\r\n\t\t$(\"#PrettyCards_Games\").find(\"tr:gt(0)\").remove();\r\n\t\tfor (var i = 0; i < games.length; i++) {\r\n\t\t\tvar slots;\r\n\t\t\tif (games[i].player !== undefined) {\r\n\t\t\t\tslots = \"2/2\";\r\n\t\t\t} else {\r\n\t\t\t\tslots = \"1/2\";\r\n\t\t\t}\r\n\t\t\tvar gameMode = '{{MODE:' + games[i].gameType + '}}';\r\n\t\t\tif (games[i].isPrivate) {\r\n\t\t\t\t$('#PrettyCards_Games tr:last').after('<tr class=\"pointer\" onclick=\"PrettyCards_StartJoiningQueue(' + games[i].id + ', \\'password\\')\"><td>' + games[i].name + '</td><td>' + games[i].owner.username + '</td><td>' + slots + '</td><td>' + $.i18n(\"lobby-yes\") + '</td></tr>');\r\n\t\t\t} else {\r\n\t\t\t\t$('#PrettyCards_Games tr:last').after('<tr class=\"pointer\" onclick=\"PrettyCards_StartJoiningQueue(' + games[i].id + ', \\'normal\\')\"><td>' + games[i].name + '</td><td>' + games[i].owner.username + '</td><td>' + slots + '</td><td>' + $.i18n(\"lobby-no\") + '</td></tr>');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/game_list.js?");

/***/ }),

/***/ "./src/page_specific/hub.js":
/*!**********************************!*\
  !*** ./src/page_specific/hub.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InitHub\": () => (/* binding */ InitHub)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/deck_editor.js */ \"./src/libraries/deck_editor.js\");\n/* harmony import */ var _libraries_translation_translation_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../libraries/translation/translation_manager */ \"./src/libraries/translation/translation_manager.js\");\n\r\n\r\n\r\n\r\n\r\nvar custom_deck_sys = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.settings.override_decks.value();\r\n\r\nfunction ReturnNormalAndShinyCards(collection_copy, id) {\r\n\tvar counts = {};\r\n\tfor (var i=0; i < collection_copy.length; i++) {\r\n\t\tvar card = collection_copy[i];\r\n\t\tif (card.fixedId == id) {\r\n\t\t\tif (card.shiny) {\r\n\t\t\t\tcounts.shiny = card;\r\n\t\t\t} else {\r\n\t\t\t\tcounts.normal = card;\r\n\t\t\t}\r\n\t\t\tif (counts.normal && counts.shiny) {\r\n\t\t\t\treturn counts;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn counts;\r\n}\r\n\r\nfunction SaveDeck(deckCode, name, image, username) {\r\n\tvar jsonDeck = JSON.parse(atob(deckCode));\r\n\t//console.log(\"Save deck: \", jsonDeck, name, image, username);\r\n\tvar soul = jsonDeck.soul;\r\n\r\n\tvar collection_copy = window.cloneList(window.collection);\r\n\tvar underscript_deck = {cards: [], artifacts: jsonDeck.artifactIds};\r\n\tfor (var i=0; i < jsonDeck.cardIds.length; i++) {\r\n\t\tvar id = jsonDeck.cardIds[i];\r\n\t\tvar cards = ReturnNormalAndShinyCards(collection_copy, id);\r\n\t\t//console.log(cards);\r\n\t\tif (cards.shiny && cards.shiny.quantity > 0) {\r\n\t\t\tunderscript_deck.cards.push({id: id, shiny: true});\r\n\t\t\tcards.shiny.quantity--;\r\n\t\t} else if (cards.normal && cards.normal.quantity > 0) {\r\n\t\t\tunderscript_deck.cards.push({id: id});\r\n\t\t\tcards.normal.quantity--;\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (custom_deck_sys) {\r\n\t\tvar DECK_STORAGE_PREFIX = \"underscript.deck.\" + window.selfId + \".\" + soul + \".\";\r\n\t\tvar PC_DECK_STORAGE_PREFIX = \"prettycards.deck.\" + window.selfId + \".\" + soul + \".\";\r\n\t\tvar id = 0;\r\n\t\twhile (window.localStorage.getItem(DECK_STORAGE_PREFIX + id)) {id++;}\r\n\t\twindow.localStorage.setItem(DECK_STORAGE_PREFIX + id, JSON.stringify(underscript_deck));\r\n\t\twindow.localStorage.setItem(DECK_STORAGE_PREFIX + id + \".name\", name);\r\n\t\twindow.localStorage.setItem(PC_DECK_STORAGE_PREFIX + id + \".description\", _libraries_translation_translation_manager__WEBPACK_IMPORTED_MODULE_2__.translationManager.getWithFallback(\"pc-hub-deckby\", \"by \" + username, username));\r\n\t\twindow.localStorage.setItem(PC_DECK_STORAGE_PREFIX + id + \".image\", JSON.stringify({\r\n\t\t\tid: -2,\r\n\t\t\tauthorName: \"\",\r\n\t\t\tactive: false,\r\n\t\t\tcardId: -2,\r\n\t\t\tcardName: \"IMPORTED_FROM_HUB\",\r\n\t\t\timage: image,\r\n\t\t\tname: \"IMPORTED_FROM_HUB\",\r\n\t\t\towned: true,\r\n\t\t\ttypeSkin: 0,\r\n\t\t\tucpCost: 222,\r\n\t\t\tunavailable: false\r\n\t\t}));\r\n\t\t//console.log(\"DECK SAVED!\");\r\n\t} else { // Custom deck system turned off option comes here!\r\n\t\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_1__.DeckEditor.ImportDeck({soul: soul, cards: underscript_deck.cards, artifacts: underscript_deck.artifacts}, function(status, data) {\r\n\t\t\tif (status == \"success\") {\r\n\t\t\t\tvar toast = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.toast(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: window.$.i18n(\"pc-hub-upload-success\")\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"DeckEditor.ImportDeck error!\", data);\r\n\t\t\t\tvar toast = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.toast(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: window.$.i18n(\"pc-hub-upload-error1\"),\r\n\t\t\t\t\t\ttext: window.$.i18n(\"pc-hub-upload-error2\"),\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n}\r\n\r\nfunction InitHub() {\r\n\tvar oldShowDeckLoadHub = window.showDeckLoadHub;\r\n\twindow.showDeckLoadHub = function(deckCode, date, name, image, username) {\r\n\t\toldShowDeckLoadHub(deckCode, date);\r\n\t\tvar dial = window.Object.values(window.BootstrapDialog.dialogs)[0]; // Assumes there is only one dialogue open.\r\n\t\tif (!dial) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar footer = dial.$modalFooter.find(\".bootstrap-dialog-footer-buttons\");\r\n\t\tvar button = $(`<button class=\"btn btn-success\">${window.$.i18n(\"pc-hub-savedeck\")}</button>`);\r\n\t\tbutton.click(function () {\r\n\t\t\tSaveDeck(deckCode, name, image, username);\r\n\t\t\tthis.setAttribute(\"disabled\", true);\r\n\t\t})\r\n\t\tfooter.prepend(button);\r\n\t}\r\n\t\r\n\tvar oldAppendHubDeck = window.appendHubDeck;\r\n\twindow.appendHubDeck = function(container, hubDeck) {\r\n\t\tvar $html = oldAppendHubDeck(container, hubDeck);\r\n\t\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.emit(\"appendHubDeck()\", {container: container, deck: hubDeck, element: $html});\r\n\t\t//console.log(\"HUB DECK: \", hubDeck);\r\n\t\treturn $html;\r\n\t}\r\n\t_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"appendHubDeck()\", function(data) {\r\n\t\tvar hubDeck = data.deck;\r\n\t\tvar element = data.element;\r\n\t\tvar func = function() {\r\n\t\t\twindow.showDeckLoadHub(hubDeck.code, hubDeck.date, hubDeck.name, hubDeck.image, hubDeck.owner.username);\r\n\t\t};\r\n\t\t//console.log(\"FUNCTION: \", func);\r\n\t\telement.find(\".hubDeckShow .show-button\")[0].onclick = func;\r\n\t})\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/hub.js?");

/***/ }),

/***/ "./src/page_specific/packs.js":
/*!************************************!*\
  !*** ./src/page_specific/packs.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GetPageTemplateByName\": () => (/* binding */ GetPageTemplateByName),\n/* harmony export */   \"InitPacks\": () => (/* binding */ InitPacks),\n/* harmony export */   \"settingsoptions\": () => (/* binding */ settingsoptions)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _libraries_rarity_icons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../libraries/rarity_icons.js */ \"./src/libraries/rarity_icons.js\");\n/* harmony import */ var _libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../libraries/page_getters.js */ \"./src/libraries/page_getters.js\");\n/* harmony import */ var _libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _libraries_utility_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../libraries/utility.js */ \"./src/libraries/utility.js\");\n/* harmony import */ var _libraries_packs_page_templates_normal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../libraries/packs_page_templates/normal.js */ \"./src/libraries/packs_page_templates/normal.js\");\n/* harmony import */ var _libraries_packs_page_templates_wide_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../libraries/packs_page_templates/wide.js */ \"./src/libraries/packs_page_templates/wide.js\");\n/* harmony import */ var _libraries_pack_open_anim_manager_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../libraries/pack_open_anim_manager.js */ \"./src/libraries/pack_open_anim_manager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar pagetemplates = [_libraries_packs_page_templates_normal_js__WEBPACK_IMPORTED_MODULE_5__.NormalPacksPage, _libraries_packs_page_templates_wide_js__WEBPACK_IMPORTED_MODULE_6__.WidePacksPage];\r\n\r\nvar settingsoptions = [];\r\nvar settingsnote = \"Select the look of the Packs Page!\";\r\n\r\nfor (var i=0; i < pagetemplates.length; i++) {\r\n\tsettingsoptions[i] = pagetemplates[i].displayName;\r\n\tsettingsnote += (\"<br>\" + pagetemplates[i].displayName + \": \" + pagetemplates[i].description);\r\n}\r\n\r\nfunction GetPageTemplateByName(name) {\r\n\tfor (var i=0; i < pagetemplates.length; i++) {\r\n\t\tif (pagetemplates[i].displayName == name) {\r\n\t\t\treturn pagetemplates[i];\r\n\t\t}\r\n\t}\r\n\tconsole.error(\"Cannot find Packs Page Template with name \", name);\r\n\treturn null;\r\n}\r\n\r\nfunction ChangeTemplate(newname, oldname) {\r\n\tGetPageTemplateByName(newname).generatePage(packs_data, packs_data2);\r\n}\r\n\r\n(0,_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_3__.addSetting)({\r\n\t'key': 'packs_page_template', // key\r\n\t'name': 'Packs Page Template', // Name in settings page\r\n\t'type': 'select',\r\n\t'note': settingsnote, // Show note when hovering over setting\r\n\t'refresh': true, // true to add note \"Will require you to refresh the page\"\r\n\t//'disabled': boolean or `function(): boolean`, // true to disable setting\r\n\t'default': settingsoptions[0], // default value\r\n\t'options': settingsoptions, // Options for type 'select'\r\n\t'reset': true, // Adds a reset button (sets to default)\r\n\t'refresh': false,\r\n\t'onChange': ChangeTemplate, // called when value is changed\r\n\t'category': \"packs\"\r\n});\r\n\r\n//console.log(\"PageGetters\", pagegetters);\r\n\r\nvar packs_data = [\r\n\t{\r\n\t\tg_cost : 100,\r\n\t\tucp_cost : 10,\r\n\t\timage_without_extension: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Packs/UndertalePack\",\r\n\t\timage_extension: \".png\",\r\n\t\tname: \"pc-packs-ut-name\",\r\n\t\tdescription: \"pc-packs-ut-desc\",\r\n\t\tcode_id: \"Pack\", // Open command: open + ID, Buy G command: add + ID, Buy UCP command: add + ID + Ucp\r\n\t\tdoes_exist: true,\r\n\t\tg_buy_count: 1,\r\n\t\tucp_buy_count: 1,\r\n\t\topen_count: 1\r\n\t},\r\n\t{\r\n\t\tg_cost : 100,\r\n\t\tucp_cost : 10,\r\n\t\timage_without_extension: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Packs/DeltarunePack\",\r\n\t\timage_extension: \".png\",\r\n\t\tname: \"pc-packs-dr-name\",\r\n\t\tdescription: \"pc-packs-dr-desc\",\r\n\t\tcode_id: \"DRPack\",\r\n\t\tdoes_exist: true,\r\n\t\tg_buy_count: 1,\r\n\t\tucp_buy_count: 1,\r\n\t\topen_count: 1\r\n\t},\r\n\t{\r\n\t\tg_cost : -1,\r\n\t\tucp_cost : -1,\r\n\t\timage_without_extension: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Packs/ShinyPack\",\r\n\t\timage_extension: \".gif\",\r\n\t\tname: \"pc-packs-shiny-name\",\r\n\t\tdescription: \"pc-packs-shiny-desc\",\r\n\t\tcode_id: \"ShinyPack\",\r\n\t\tdoes_exist: true,\r\n\t\topen_count: 1\r\n\t},\r\n\t{\r\n\t\tg_cost : -1,\r\n\t\tucp_cost : -1,\r\n\t\timage_without_extension: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Packs/SuperPack\",\r\n\t\timage_extension: \".gif\",\r\n\t\tname: \"pc-packs-super-name\",\r\n\t\tdescription: \"pc-packs-super-desc\",\r\n\t\tcode_id: \"SuperPack\",\r\n\t\tdoes_exist: true,\r\n\t\topen_count: 1\r\n\t},\r\n\t{\r\n\t\tg_cost : -1,\r\n\t\tucp_cost : -1,\r\n\t\timage_without_extension: \"https://raw.githubusercontent.com/CMD-God/prettycards/master/img/Packs/FinalPack\",\r\n\t\timage_extension: \".gif\",\r\n\t\tname: \"pc-packs-final-name\",\r\n\t\tdescription: \"pc-packs-final-desc\",\r\n\t\tcode_id: \"FinalPack\",\r\n\t\tdoes_exist: true,\r\n\t\topen_count: 1\r\n\t}\r\n]\r\n\r\nvar packs_data2 = {}; // To ease id-based search of pack data.\r\nfor (var i=0; i < packs_data.length; i++) {\r\n\tvar data = packs_data[i];\r\n\tdata.amount = _libraries_page_getters_js__WEBPACK_IMPORTED_MODULE_2__.pagegetters.GetNumberOfPacks(data.code_id); // Appends how many packs of that kind does the user have to the pack data.\r\n\tdata.image = data.image_without_extension + data.image_extension;\r\n\tpacks_data2[data.code_id] = data;\r\n}\r\n\r\n_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_3__.PrettyCards_plugin.events.on(\"PrettyCards:onPageLoad\", function() {\r\n\t_libraries_utility_js__WEBPACK_IMPORTED_MODULE_4__.utility.loadCSSFromGH(\"Packs\"); // Other pages might use flippable cards, so I am gonna load this every time.\r\n})\r\n\r\nfunction InitPacks() {\r\n\t\r\n\t;(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_0__.ExecuteWhen)(\"PrettyCards:onPageLoad PrettyCards:TranslationExtReady\", function () {\r\n\t\t_libraries_utility_js__WEBPACK_IMPORTED_MODULE_4__.utility.hideUglyPage();\r\n\t\tdocument.querySelector(\".mainContent\").innerHTML += \"<div id='PrettyCards_MainContent'></div><div id='PrettyCards_PackOpenContent'></div>\";\r\n\t\tChangeTemplate(_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_3__.settings.packs_page_template.value() || settingsoptions[0], null);\r\n\t\t_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_3__.prettycards.testPackOpenAnimation = function(a, b) {(0,_libraries_pack_open_anim_manager_js__WEBPACK_IMPORTED_MODULE_7__.StartOpenPackAnimation)(packs_data2[a], b)};\r\n\t});\r\n\t\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/packs.js?");

/***/ }),

/***/ "./src/page_specific/play.js":
/*!***********************************!*\
  !*** ./src/page_specific/play.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InitPlay\": () => (/* binding */ InitPlay)\n/* harmony export */ });\n/* harmony import */ var _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/libraries/underscript_checker.js */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/libraries/artifact_display.js */ \"./src/libraries/artifact_display.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n/* harmony import */ var _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../src/libraries/deck_selector.js */ \"./src/libraries/deck_selector.js\");\n/* harmony import */ var _src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../src/libraries/deck_editor.js */ \"./src/libraries/deck_editor.js\");\n/* harmony import */ var _src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../src/libraries/utility.js */ \"./src/libraries/utility.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar playLocked = true;\r\nvar deckSelectLocked = true;\r\nvar selectedDeck = {};\r\nvar deckSelector = new _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_3__.SavedDeckSelector();\r\n\r\nvar selfDivision = \"\";\r\nvar selfElo = 0;\r\nvar alreadyAgreedToRanked = false;\r\n\r\nvar $ = window.$;\r\n\r\nfunction ReloadPage() {\r\n\twindow.location.reload();\r\n}\r\n\r\n_src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.events.on(\"Chat:getSelfInfos\", function(data) {\r\n\tvar me = JSON.parse(data.me);\r\n\tselfDivision = me.division;\r\n\tselfElo = me.eloRanked;\r\n\t//console.log(\"CHAT JOINED!\", JSON.parse(data.me));\r\n})\r\n\r\nfunction askRanked() {\r\n\tif (alreadyAgreedToRanked) {\r\n\t\treturn true;\r\n\t}\r\n\tif (selfDivision == \"LEGEND\" && selfElo <= 2000) {\r\n\t\twindow.BootstrapDialog.show({\r\n            title: window.$.i18n(\"pc-play-ranked-warning-title\"),\r\n\t\t\ttype: window.BootstrapDialog.TYPE_DANGER,\r\n            message: window.$.i18n(\"pc-play-ranked-warning-body\"),\r\n\t\t\t//onshow: this.OnShow\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: window.$.i18n(\"pc-play-ranked-warning-smart\"),\r\n\t\t\t\t\tcssClass: 'btn-primary',\r\n\t\t\t\t\taction: function(dialog) {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: window.$.i18n(\"pc-play-ranked-warning-dumbass\"),\r\n\t\t\t\t\tcssClass: 'btn-danger',\r\n\t\t\t\t\taction: function(dialog) {\r\n\t\t\t\t\t\talreadyAgreedToRanked = true;\r\n\t\t\t\t\t\tStartJoiningQueue(\"ranked\");\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n        });\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nvar gamemode_functions = {\r\n\tstandard: window.sendJoinQueue,\r\n\tranked: window.sendJoinRankedQueue,\r\n\t//ranked: askRanked,\r\n\tevent: window.sendJoinEventQueue,\r\n\tboss: window.sendJoinBossQueue,\r\n\treload: ReloadPage\r\n}\r\n\r\nfunction OpenDeckSelector() {\r\n\tif (deckSelectLocked) {\r\n\t\treturn;\r\n\t}\r\n\t$(\"#phase1\").attr(\"hidden\", true).css(\"display\", \"none\");\r\n\t$(\"#deckSelectContainer\").attr(\"hidden\", false);\r\n}\r\n\r\nfunction CloseDeckSelector() {\r\n\t$(\"#phase1\").attr(\"hidden\", false).css(\"display\", \"block\");\r\n\t$(\"#deckSelectContainer\").attr(\"hidden\", true);\r\n}\r\n\r\nfunction DeckSelectorCallback(deck) {\r\n\tSetSelectedDeck(deck);\r\n\tCloseDeckSelector();\r\n}\r\n\r\nvar last_tooltip;\r\n\r\nfunction SetSelectedDeck(deck) {\r\n\tselectedDeck = deck;\r\n\tvar arts = \"\";\r\n\tfor (var i=0; i < deck.artifacts.length; i++) {\r\n\t\tvar artifact = deck.artifacts[i];\r\n\t\tarts += _src_libraries_artifact_display_js__WEBPACK_IMPORTED_MODULE_1__.artifactDisplay.ReturnArtifactIcon(artifact);\r\n\t}\r\n\t//console.log(\"Artifacts to display: \", arts, deck.artifacts);\r\n\t$('#PrettyCards_DeckArtifacts').html(arts);\r\n\twindow.localStorage[\"prettycards.\" + window.selfId + \".selectedPlayDeckId\"] = deck.id;\r\n\twindow.localStorage[\"prettycards.\" + window.selfId + \".selectedPlayDeckSoul\"] = deck.soul;\r\n\tplayLocked = false;\r\n\tdeckSelectLocked = false;\r\n\t\r\n\tvar deck_cont = $(\"#PrettyCards_DeckContainer\");\r\n\tdeck_cont.html(\"\");\r\n\tdeckSelector.appendCardDeck(deck_cont, deck, false);\r\n}\r\n\r\nfunction StartJoiningQueue(game_mode) {\r\n\tif (playLocked) {\r\n\t\treturn;\r\n\t}\r\n\tif (game_mode == \"ranked\" && !askRanked()) {\r\n\t\treturn;\r\n\t}\r\n\t//console.log(\"Joining Queue Button Pressed!\");\r\n\tvar toast = _src_libraries_underscript_checker_js__WEBPACK_IMPORTED_MODULE_0__.PrettyCards_plugin.toast(\r\n\t\t{\r\n\t\t\ttitle: window.$.i18n(\"pc-play-decksetup-title\"),\r\n\t\t\ttext: window.$.i18n(\"pc-play-decksetup-text\"),\r\n\t\t}\r\n\t);\r\n\tdeckSelectLocked = true;\r\n\tplayLocked = true;\r\n\t_src_libraries_deck_editor_js__WEBPACK_IMPORTED_MODULE_4__.DeckEditor.ImportDeck(selectedDeck, function(status) {\r\n\t\tdeckSelectLocked = false;\r\n\t\tplayLocked = false;\r\n\t\tif (toast.exists()) {\r\n\t\t\ttoast.close();\r\n\t\t}\r\n\t\tif (status == \"success\") {\r\n\t\t\t//console.log(\"success\");\r\n\t\t\t$('#playDecks').val(selectedDeck.soul);\r\n\t\t\tgamemode_functions[game_mode]();\r\n\t\t} else {\r\n\t\t\tconsole.log(\"DeckEditor.ImportDeck error!\");\r\n\t\t}\r\n\t})\r\n}\r\n\r\n// Tournament mode element: <div id=\"tournament-mode\" class=\"col-xs-4 game-mode\"><h2 data-i18n=\"[html]game-type-tournament\"></h2></div>\r\n\r\nfunction InitPlay() {\r\n\t//console.log(\"Init Play!\");\r\n\t_src_libraries_utility_js__WEBPACK_IMPORTED_MODULE_5__.utility.loadCSSFromGH(\"Play\");\r\n\t\r\n\tif (document.querySelector('span[data-i18n=\"[html]play-incomplete\"]')) {\r\n\t\tconsole.log(\"NO DECKS!\");\r\n\t\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_2__.ExecuteWhen)(\"PrettyCards:onArtifacts\", function () {\r\n\t\t\tvar decks = (0,_src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_3__.GetAllDecks)();\r\n\t\t\tfor (var i=0; i < decks.length; i++) {\r\n\t\t\t\tvar deck = decks[i];\r\n\t\t\t\tif (deckSelector.IsValidDeck(deck)) {\r\n\t\t\t\t\tplayLocked = false;\r\n\t\t\t\t\tselectedDeck = deck;\r\n\t\t\t\t\tStartJoiningQueue(\"reload\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn;\r\n\t}\r\n\t\r\n\t$(\"#phase1 > table\").css(\"display\", \"none\");\r\n\t$(\"#game-modes\").css(\"display\", \"none\");\r\n\t$(\"#phase1\").append(`\r\n\t\t<div class=\"PrettyCards_GamemodeContainer\">\r\n\t\t\t<div class=\"PrettyCards_GamemodeDeck\">\r\n\t\t\t\t<div id=\"PrettyCards_DeckContainer\"></div>\r\n\t\t\t\t<div id=\"PrettyCards_DeckArtifacts\"></div>\r\n\t\t\t\t<div id=\"PrettyCards_SeasonRewards\">\r\n\t\t\t\t\t<a style=\"color: gray; border: 1px dotted gray; padding: 5px; background-color: black;\" href=\"rewards.jsp\" class=\"pointer\" data-i18n=\"[html]play-rewards\"></a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"PrettyCards_Gamemodes\">\r\n\t\t\t\t<div id=\"standardContainer\"></div>\r\n\t\t\t\t<div id=\"rankedContainer\"></div>\r\n\t\t\t\t<div id=\"customContainer\"></div>\r\n\t\t\t\t<div id=\"tornamentContainer\">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`);\r\n\t\r\n\t$('.mainContent').append('<div id=\"deckSelectContainer\" hidden></div>');\r\n\t$(\".playSoulArtifacts\").css( // Stop. Resetting. The Visibility!\r\n\t\t{\r\n\t\t\t\"opacity\": \"0\",\r\n\t\t\t\"position\": \"absolute\"\r\n\t\t}\r\n\t);\t\r\n\t\r\n\t$(\"#standardContainer\").append($(\"#standard-mode\").addClass(\"game-mode\"));\r\n\t$(\"#rankedContainer\").append($(\"#ranked-mode\").addClass(\"game-mode\"));\r\n\t$(\"#customContainer\").append($(\"#custom-mode\").addClass(\"game-mode\"));\r\n\t\r\n\t$(\"#standard-mode\")[0].onclick = function () {StartJoiningQueue(\"standard\")};\r\n\t$(\"#ranked-mode\")[0].onclick = function () {StartJoiningQueue(\"ranked\")};\r\n\t\r\n\t(0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_2__.ExecuteWhen)(\"SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts PrettyCards:TranslationExtReady\", function () {\r\n\t\twindow.$(\"#PrettyCards_SeasonRewards a\").html(window.$.i18n(\"play-rewards\"));\r\n\r\n\t\tdeckSelector.closable = true;\r\n\t\tdeckSelector.closeCallback = CloseDeckSelector;\r\n\t\tdeckSelector.callback = DeckSelectorCallback;\r\n\t\t\r\n\t\tdeckSelector.AppendTo($(\"#deckSelectContainer\")[0]);\r\n\t\t//console.log(\"All events matched!\");\r\n\t\tvar deckId = Number(window.localStorage[\"prettycards.\" + window.selfId + \".selectedPlayDeckId\"]);\r\n\t\tvar deckSoul = window.localStorage[\"prettycards.\" + window.selfId + \".selectedPlayDeckSoul\"];\r\n\t\tif (typeof(deckId) == \"number\" && typeof(deckSoul) == \"string\") {\r\n\t\t\tvar deck = deckSelector.getDeckBySoulAndId(deckSoul, deckId);\r\n\t\t\tif (deck == null) {\r\n\t\t\t\t//$('#selectedDeck').html('<span class=\"red\">Selected deck not found! It must have been deleted!</span>');\r\n\t\t\t\tvar error_deck = {\r\n\t\t\t\t\tsoul : \"DETERMINATION\",\r\n\t\t\t\t\tid : -1,\r\n\t\t\t\t\tname : window.$.i18n(\"pc-play-error\"),\r\n\t\t\t\t\tcards : [],\r\n\t\t\t\t\tartifacts : [],\r\n\t\t\t\t\timage : _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_3__.onu_skin,\r\n\t\t\t\t\tdescription: window.$.i18n(\"pc-play-deckerror\")\r\n\t\t\t\t}\r\n\t\t\t\tSetSelectedDeck(error_deck);\r\n\t\t\t\tplayLocked = true;\r\n\t\t\t} else {\r\n\t\t\t\tSetSelectedDeck(deck);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar error_deck = {\r\n\t\t\t\tsoul : \"UNIVERSAL\",\r\n\t\t\t\tid : -1,\r\n\t\t\t\tname : window.$.i18n(\"pc-play-error\"),\r\n\t\t\t\tcards : [],\r\n\t\t\t\tartifacts : [],\r\n\t\t\t\timage : _src_libraries_deck_selector_js__WEBPACK_IMPORTED_MODULE_3__.dummy_skin,\r\n\t\t\t\tdescription: window.$.i18n(\"pc-play-nodeck\")\r\n\t\t\t}\r\n\t\t\tSetSelectedDeck(error_deck);\r\n\t\t\tplayLocked = true;\r\n\t\t}\r\n\t\t\r\n\t\tdeckSelectLocked = false;\r\n\t\t\r\n\t})\r\n\t\r\n\t$(\"#PrettyCards_DeckContainer\").click(OpenDeckSelector);\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/play.js?");

/***/ }),

/***/ "./src/page_specific/smash_or_pass.js":
/*!********************************************!*\
  !*** ./src/page_specific/smash_or_pass.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InitSmashOrPass\": () => (/* binding */ InitSmashOrPass)\n/* harmony export */ });\n/* harmony import */ var _libraries_card_skin_selector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libraries/card_skin_selector */ \"./src/libraries/card_skin_selector.js\");\n/* harmony import */ var _libraries_flippable_card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../libraries/flippable_card */ \"./src/libraries/flippable_card.js\");\n/* harmony import */ var _libraries_translation_translation_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../libraries/translation/translation_manager */ \"./src/libraries/translation/translation_manager.js\");\n/* harmony import */ var _libraries_underscript_checker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../libraries/underscript_checker */ \"./src/libraries/underscript_checker.js\");\n/* harmony import */ var _libraries_utility__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../libraries/utility */ \"./src/libraries/utility.js\");\n/* harmony import */ var _src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../src/libraries/pre_load/event_ensure.js */ \"./src/libraries/pre_load/event_ensure.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst rarityInputList = [\"baseRarityInput\", \"commonRarityInput\", \"rareRarityInput\", \"epicRarityInput\", \"legendaryRarityInput\", \"determinationRarityInput\", \"tokenRarityInput\", \"baseGenInput:not(:disabled)\"];\r\nvar cards = [];\r\nvar cardIndex = -1;\r\nvar currentFlipCard;\r\nvar alreadyTakingScreenshot = false;\r\n\r\nfunction shuffleArray(array) { // From Stack Overflow: https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\r\n    for (let i = array.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [array[i], array[j]] = [array[j], array[i]];\r\n    }\r\n}\r\n\r\nfunction initStuff() {\r\n    //console.log(\"ALL CARDS: \", window.allCards);\r\n}\r\n\r\nfunction addButtonSettingItem(name, style) {\r\n    var parent = $(\"#PrettyCards_SOP_ButtonSettingsContainer\");\r\n    var item = window.$(`\r\n        <div style=\"padding: 5px;\" class=\"PrettyCards_SOP_ButtonData\">\r\n            <span class=\"handle glyphicon glyphicon-sort\" style=\"cursor:grab;\"></span> \r\n            <label>\r\n                <span>${window.$.i18n(\"pc-sop-name\")}: </span>\r\n                <input type=\"text\" value=\"${name}\" id=\"PrettyCards_SOP_ButtonNameInput\"></input>\r\n            </label>\r\n            <label>\r\n                <span>${window.$.i18n(\"pc-sop-style\")}: </span>\r\n                <select id=\"PrettyCards_SOP_ButtonStyleInput\">\r\n                    <option value=\"btn-primary\" class=\"text-primary\">${window.$.i18n(\"pc-sop-stylelist-0\")}</option>\r\n                    <option value=\"btn-info\" class=\"text-info\">${window.$.i18n(\"pc-sop-stylelist-1\")}</option>\r\n                    <option value=\"btn-success\" class=\"text-success\">${window.$.i18n(\"pc-sop-stylelist-2\")}</option>\r\n                    <option value=\"btn-danger\" class=\"text-danger\">${window.$.i18n(\"pc-sop-stylelist-3\")}</option>\r\n                    <option value=\"btn-warning\" class=\"text-warning\">${window.$.i18n(\"pc-sop-stylelist-4\")}</option>\r\n                </select>\r\n            </label>\r\n            <button class=\"btn btn-danger\" onclick=\"this.parentElement.remove()\">${window.$.i18n(\"pc-sop-remove\")}</button>\r\n        </div>\r\n    `);\r\n    item.find(\"#PrettyCards_SOP_ButtonStyleInput\").val(style);\r\n    parent.append(item);\r\n    return item;\r\n}\r\n\r\nfunction refreshSortables() {\r\n    $(\"#PrettyCards_SOP_ButtonSettingsContainer\").sortable( {\r\n        appendTo: parent,\r\n        axis: \"y\",\r\n        cursor: \"grabbing\",\r\n        placeholder: \"sortable-placeholder\",\r\n        forcePlaceholderSize: true,\r\n        handle: \".handle\"\r\n    })\r\n}\r\n\r\nfunction populateSkins(card) {\r\n    var skins = [{\r\n        cardId: card.fixedId,\r\n        name: card.name,\r\n        id: -22,\r\n        image: card.image,\r\n        typeSkin: 0\r\n    }];\r\n    for (var i=0; i < _libraries_card_skin_selector__WEBPACK_IMPORTED_MODULE_0__.allCardSkins.length; i++) {\r\n        var skin = _libraries_card_skin_selector__WEBPACK_IMPORTED_MODULE_0__.allCardSkins[i];\r\n        if (skin.cardId == card.id) {\r\n            skins.push(skin);\r\n        }\r\n    }\r\n    console.log(card, skins);\r\n    var skinCont = $(\"#PrettyCards_SOP_Phase3_Skins\");\r\n    skinCont.html(\"\");\r\n    if (skins.length <= 1) {return};\r\n    for (var i=0; i < skins.length; i++) {\r\n        const skin = skins[i];\r\n        var elem = $(`\r\n            <div class=\"PrettyCards_SOP_SkinDisplay ${i==0 ? \"selected\" : \"\"}\">\r\n                <img src=\"${_libraries_utility__WEBPACK_IMPORTED_MODULE_4__.utility.getCardImageLink(skin.image)}\">\r\n            </div>\r\n        `);\r\n        elem.click(function() {\r\n            var front = $(currentFlipCard.front);\r\n            front.removeClass(\"full-skin\").removeClass(\"breaking-skin\").removeClass(\"standard-skin\");\r\n            if (skin.typeSkin == 0) {\r\n                front.addClass(\"standard-skin\");\r\n            } else if (skin.typeSkin == 1) {\r\n                front.addClass(\"full-skin\");\r\n            } else {\r\n                front.addClass(\"breaking-skin\");\r\n            }\r\n            front.find(\".cardImage\").css(\"backgroundImage\", \"url(\"+ _libraries_utility__WEBPACK_IMPORTED_MODULE_4__.utility.getCardImageLink(skin.image) + \")\");\r\n            $(\".PrettyCards_SOP_SkinDisplay\").removeClass(\"selected\");\r\n            $(this).addClass(\"selected\");\r\n        });\r\n        skinCont.append(elem);\r\n    }\r\n}\r\n\r\nfunction spawnNextCard() {\r\n    if (cardIndex >= cards.length) {return;}\r\n    if (cardIndex >= 0) {\r\n        currentFlipCard.glideTo(window.innerWidth/2, window.innerHeight + 500, 500, function() {\r\n            //console.log(\"Erasing card #\", cardIndex, \" out of \", cards.length);\r\n            if (cardIndex >= cards.length) {\r\n                startPhase4();\r\n            }\r\n            this.remove();\r\n        })\r\n    }\r\n    cardIndex++;\r\n    if (cardIndex >= cards.length) {return;}\r\n    //console.log(\"SPAWNING CARD: \", cards[cardIndex]);\r\n    if ( (!$(\"#PrettyCards_SOP_BlindModeSetting\").prop('checked')) && $(\"#PrettyCards_SOP_ViewSkinsSetting\").prop('checked')) {\r\n        populateSkins(cards[cardIndex]);\r\n    }\r\n    currentFlipCard = new _libraries_flippable_card__WEBPACK_IMPORTED_MODULE_1__.FlippableCard(cards[cardIndex], false, false, false);\r\n    var cardSpace = document.getElementById(\"PrettyCards_SOP_Phase3_CardSpace\");\r\n    var spaceBoundingBox = cardSpace.getBoundingClientRect();\r\n    currentFlipCard.appendTo(document.getElementById(\"PrettyCards_SOP_Phase3_CardContainer\")); // This is an element specifically made to contain cards so that the scrollbar won't appear.\r\n    currentFlipCard.moveTo(-300, spaceBoundingBox.top + spaceBoundingBox.height/2);\r\n    currentFlipCard.flipToFace(500);\r\n    currentFlipCard.glideTo(window.innerWidth/2, spaceBoundingBox.top + spaceBoundingBox.height/2, 500, function() {});\r\n    if ($(\"#PrettyCards_SOP_BlindModeSetting\").prop('checked')) {\r\n        currentFlipCard.back.style.backgroundImage = \"url(https://github.com/CMD-God/prettycards/raw/master/img/CardBackMystery.png)\";\r\n        var front = $(currentFlipCard.front);\r\n        front.removeClass(\"monster\").addClass(\"spell\");\r\n        front.removeClass(\"full-skin\").removeClass(\"breaking-skin\").addClass(\"standard-skin\");\r\n        front.find(\".cardATK\").remove();\r\n        front.find(\".cardHP\").remove();\r\n        front.find(\".cardName\").html(\"???\");\r\n        front.find(\".cardTribes\").html(\"\");\r\n        front.find(\".cardStatus\").html(\"\");\r\n        front.find(\".cardCost\").html(\"?\");\r\n        front.find(\".cardName\")[0].className = \"cardName\";\r\n        // utility.getRandomFromArray(mysteryDescriptions)\r\n        front.find(\".cardDesc > div\").html(_libraries_translation_translation_manager__WEBPACK_IMPORTED_MODULE_2__.translationManager.getRandomFromValueList(\"pc-sop-mysterydescriptions\"));\r\n        front.find(\".cardImage\").css(\"background-image\", \"url(https://github.com/CMD-God/prettycards/raw/master/img/MysteryCard.png)\");\r\n        front.find(\".cardRarity\").css(\"background-image\", \"url(https://github.com/CMD-God/prettycards/raw/master/img/MysteryRarity.png)\");\r\n        front.find(\".PrettyCards_CardThemeSongPlayer\").remove();\r\n\r\n        var cardNameDiv$ = front.find('.cardName div');\r\n\t\tvar cardDescDiv$ = front.find('.cardDesc div');\r\n\t\t\t\t\r\n\t\tcardNameDiv$.css('font-size', '');\r\n\t\tcardDescDiv$.css('font-size', '');\r\n\r\n\t\t//console.log(getResizedFontSize(cardNameDiv$, 25) + \"px\");\r\n\t\tvar nameSize = window.getResizedFontSize(cardNameDiv$, 25);\r\n\t\tcardNameDiv$.css('font-size', (nameSize + \"px\"));\r\n\t\t\t\t\r\n\t\tvar descSize = window.getResizedFontSize(cardDescDiv$, 81);\r\n\t\tcardDescDiv$.css('font-size', (descSize + \"px\"));\r\n    }\r\n}\r\n\r\nfunction makeVerdict(verdict_id) {\r\n    window.appendCard(cards[cardIndex], $(\"#PrettyCards_SOP_Cards_\" + verdict_id));\r\n    spawnNextCard();\r\n}\r\n\r\nfunction getEligibleCardList() {\r\n    var rarities = $(\".rarityInput:checked\").map(function(){\r\n        return this.getAttribute('rarity');\r\n    }).get();\r\n    if (rarities.length == 0) {\r\n        rarities = [\"COMMON\", \"RARE\", \"EPIC\", \"LEGENDARY\", \"DETERMINATION\"]\r\n    }\r\n\r\n    var cardTypes = $(\".typeCardInput:checked\").map(function(){\r\n        return this.getAttribute('typeCard');\r\n    }).get();\r\n    if (cardTypes.length == 0) {\r\n        cardTypes = $(\".typeCardInput\").map(function(){\r\n            return this.getAttribute('typeCard');\r\n        }).get();\r\n    }\r\n    cardTypes.forEach((e, i) => {cardTypes[i] = Number(e);})\r\n\r\n    var extensions = $(\".extensionInput:checked\").map(function(){\r\n        return this.getAttribute('extension');\r\n    }).get();\r\n    if (extensions.length == 0) {\r\n        extensions = $(\".extensionInput\").map(function(){\r\n            return this.getAttribute('extension');\r\n        }).get();\r\n    }\r\n\r\n    var cards = [];\r\n    window.allCards.forEach(card => {\r\n        if (rarities.includes(card.rarity) && cardTypes.includes(card.typeCard) && extensions.includes(card.extension)) {\r\n            cards.push(card);\r\n        }\r\n    });\r\n    return cards;\r\n}\r\n\r\nfunction startPhase4() {\r\n    window.$(\"#PrettyCards_SOP_Phase3\").addClass(\"PrettyCards_Hidden\");\r\n    window.$(\"#PrettyCards_SOP_Phase4\").removeClass(\"PrettyCards_Hidden\");\r\n}\r\n\r\nfunction startPhase3() {\r\n    var buttonContainer = $(\"#PrettyCards_SOP_Buttons\");\r\n    var buttonData = $(\".PrettyCards_SOP_ButtonData\");\r\n    if (buttonData.length == 0) {\r\n        return;\r\n    }\r\n    cards = getEligibleCardList();\r\n    if (cards.length <= 0) {\r\n        return;\r\n    }\r\n    if ($(\"#PrettyCards_SOP_RandomizeSetting\").prop('checked') || $(\"#PrettyCards_SOP_BlindModeSetting\").prop('checked')) {\r\n        shuffleArray(cards);\r\n    }\r\n    //allCardSkins\r\n    var ownerText = window.$.i18n(\"pc-sop-results-title-nouser\");\r\n    if (window.selfUsername) {\r\n        ownerText = window.$.i18n(\"pc-sop-results-title\", window.selfUsername);\r\n    }\r\n    var p4 = \"<h1 style='text-align:center;'>\" + ownerText + \"</h1>\";\r\n    buttonContainer.html(\"\");\r\n    buttonData.each((i, element) => {\r\n        var e = $(element);\r\n        var name = e.find(\"#PrettyCards_SOP_ButtonNameInput\").val();\r\n        const categoryId = name.replace(/[^\\w]/gi, '_');\r\n        var style = e.find(\"#PrettyCards_SOP_ButtonStyleInput\").val();\r\n        p4 += `<h2>${e.find(\"#PrettyCards_SOP_ButtonNameInput\").val()}</h2><div id=\"PrettyCards_SOP_Cards_${categoryId}\" class=\"PrettyCards_SOP_CardResults\"></div>`;\r\n        var button = $(`<button class=\"btn ${style}\">${name}</button>`); // TODO: Add onclick event to this!\r\n        button.click(function() {\r\n            makeVerdict(categoryId);\r\n        });\r\n        buttonContainer.append(button);\r\n    })\r\n    $(\"#PrettyCards_SOP_Phase4_ScreenshotArea\").html(p4);\r\n\r\n    window.$(\"#PrettyCards_SOP_Phase2\").addClass(\"PrettyCards_Hidden\");\r\n    window.$(\"#PrettyCards_SOP_Phase3\").removeClass(\"PrettyCards_Hidden\");\r\n\r\n    spawnNextCard();\r\n}\r\n\r\nfunction InitSmashOrPass() {\r\n    (0,_src_libraries_pre_load_event_ensure_js__WEBPACK_IMPORTED_MODULE_5__.ExecuteWhen)(\"PrettyCards:onPageLoad PrettyCards:TranslationExtReady\", function() {\r\n        $(\"title\").html(\"PrettyCards - Smash or Pass\");\r\n        localStorage[\"prettycards.top_advert_closed\"] = true; // Makes the advert disappear now that the user visited this page.\r\n        _libraries_utility__WEBPACK_IMPORTED_MODULE_4__.utility.loadCSSFromGH(\"SmashOrPass\");\r\n\r\n        if (window.allCards && window.allCards.length > 0) {\r\n            initStuff();\r\n        } else {\r\n            window.document.addEventListener('allCardsReady', function() {\r\n                initStuff();\r\n            });\r\n        }\r\n\r\n        document.getElementsByClassName(\"mainContent\")[0].innerHTML = `\r\n            <div id=\"PrettyCards_SOP_Phase1\">\r\n                <h1>${window.$.i18n(\"pc-sop-welcome\")}</h1>\r\n                <h2>${window.$.i18n(\"pc-sop-q1\")}</h2>\r\n                <p>${window.$.i18n(\"pc-sop-a1-p1\")}</p>\r\n                <p>${window.$.i18n(\"pc-sop-a1-p2\")}</p>\r\n                <p>${window.$.i18n(\"pc-sop-a1-p3\")}</p>\r\n                <h2>${window.$.i18n(\"pc-sop-q2\")}</h2>\r\n                <p>${window.$.i18n(\"pc-sop-a2-p1\")}</p>\r\n                <p>${window.$.i18n(\"pc-sop-a2-p2\")}</p>\r\n                <h2>${window.$.i18n(\"pc-sop-q3\")}</h2>\r\n                <p>${window.$.i18n(\"pc-sop-a3-p1\")}</p>\r\n                <br>\r\n                <button class=\"btn btn-success\" id=\"PrettyCards_SOP_ToPhase2\">${window.$.i18n(\"pc-sop-onwards\")}</button>\r\n                <button class=\"btn btn-danger\" onclick=\"window.location.href = '/';\">${window.$.i18n(\"pc-sop-retreat\")}</button>\r\n            </div>\r\n            <div id=\"PrettyCards_SOP_Phase2\" class=\"PrettyCards_Hidden\">\r\n                <h1>${window.$.i18n(\"pc-sop-settings\")}</h1>\r\n                <h2>${window.$.i18n(\"pc-sop-filters\")}</h2>\r\n                <p style=\"font-size: 16px;\">\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"baseRarityInput\" checked class=\"rarityInput customRarityInput\" rarity=\"BASE\"> <img src=\"images/rarity/BASE_BASE.png\">\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"commonRarityInput\" checked class=\"rarityInput\" rarity=\"COMMON\"> <img src=\"images/rarity/BASE_COMMON.png\" alt=\"\">\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"rareRarityInput\" checked class=\"rarityInput\" rarity=\"RARE\"> <img src=\"images/rarity/BASE_RARE.png\" alt=\"\">\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"epicRarityInput\" checked class=\"rarityInput\" rarity=\"EPIC\"> <img src=\"images/rarity/BASE_EPIC.png\" alt=\"\">\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"legendaryRarityInput\" checked class=\"rarityInput\" rarity=\"LEGENDARY\"> <img src=\"images/rarity/BASE_LEGENDARY.png\" alt=\"\">\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"determinationRarityInput\" checked class=\"rarityInput\" rarity=\"DETERMINATION\"> <img src=\"images/rarity/BASE_DETERMINATION.png\" alt=\"\">\r\n                    </label>\r\n                </p>\r\n                <p style=\"font-size: 16px;\">\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"monsterInput\" class=\"typeCardInput\" checked typeCard=\"0\"> <img src=\"images/souls/MONSTER.png\" alt=\"\">\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"spellInput\" class=\"typeCardInput\" typeCard=\"1\"> <img style=\"height: 24px;\" src=\"images/artifacts/Arcane_Scepter.png\" alt=\"\">\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"undertaleInput\" class=\"extensionInput\" extension=\"BASE\" checked> <img src=\"images/rarity/BASE.png\" alt=\"\">\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"deltaruneInput\" class=\"extensionInput\" extension=\"DELTARUNE\" checked> <img src=\"images/rarity/DELTARUNE.png\" alt=\"\">\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"tokenRarityInput\" checked class=\"rarityInput customRarityInput\" rarity=\"TOKEN\"> <img src=\"images/rarity/BASE_TOKEN.png\">\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"checkbox\" id=\"everyRarityInput\" checked> <img style=\"height: 24px;\" src=\"https://github.com/CMD-God/prettycards/raw/master/img/RarityIcons/ALL_RARITIES.png\" alt=\"Za Filter\">\r\n                    </label>\r\n                </p>\r\n                <h2 style=\"display:inline-block;\">${window.$.i18n(\"pc-sop-answers\")}</h2>\r\n                <button class=\"btn btn-success\" id=\"PrettyCards_SOP_AddButton\">${window.$.i18n(\"pc-sop-add\")}</button>\r\n                <div id=\"PrettyCards_SOP_ButtonSettingsContainer\"></div>\r\n                <h2>${window.$.i18n(\"pc-sop-other\")}</h2>\r\n                <div style=\"margin-bottom: 1em;\">\r\n                    <label><input type=\"checkbox\" id=\"PrettyCards_SOP_ViewSkinsSetting\" checked> <span>${window.$.i18n(\"pc-sop-skins\")}</span></label><br>\r\n                    <label><input type=\"checkbox\" id=\"PrettyCards_SOP_BlindModeSetting\"> <span>${window.$.i18n(\"pc-sop-blind\")}</span></label><br>\r\n                    <label><input type=\"checkbox\" id=\"PrettyCards_SOP_RandomizeSetting\"> <span>${window.$.i18n(\"pc-sop-random\")}</span></label><br>\r\n                </div>\r\n                <button class=\"btn btn-success\" id=\"PrettyCards_SOP_ToPhase3\">${window.$.i18n(\"pc-sop-start\")}</button>\r\n            </div>\r\n            <div id=\"PrettyCards_SOP_Phase3\" class=\"PrettyCards_Hidden\">\r\n                <div id=\"PrettyCards_SOP_Phase3_CardContainer\"></div>\r\n                <div id=\"PrettyCards_SOP_Phase3_Main\">\r\n                    <div id=\"PrettyCards_SOP_Phase3_CardSpace\"></div>\r\n                    <div id=\"PrettyCards_SOP_Phase3_Skins\"></div>\r\n                </div>\r\n                <div id=\"PrettyCards_SOP_Buttons\"></div>\r\n            </div>\r\n            <div id=\"PrettyCards_SOP_Phase4\" class=\"PrettyCards_Hidden\">\r\n                <div id=\"PrettyCards_SOP_Phase4_ButtonContainer\">\r\n                    <button class=\"btn btn-primary\" id=\"PrettyCards_SOP_TakeScreenshot\"><span class=\"glyphicon glyphicon-camera\"></span></button>\r\n                </div>\r\n                <div id=\"PrettyCards_SOP_Phase4_ScreenshotArea\"></div>\r\n            </div>\r\n        `;\r\n\r\n        document.getElementById(\"PrettyCards_SOP_ToPhase2\").onclick = function() {\r\n            window.$(\"#PrettyCards_SOP_Phase1\").addClass(\"PrettyCards_Hidden\");\r\n            window.$(\"#PrettyCards_SOP_Phase2\").removeClass(\"PrettyCards_Hidden\");\r\n        }\r\n\r\n        document.getElementById(\"everyRarityInput\").onchange = function() {\r\n            var checked = $(\"#everyRarityInput\").prop(\"checked\");\r\n            $('#'+rarityInputList.join(', #')).prop(\"checked\", checked); // Credit goes to Feildmaster for the optimized version.\r\n        }\r\n\r\n        addButtonSettingItem(window.$.i18n(\"pc-sop-smash\"), \"btn-success\");\r\n        addButtonSettingItem(window.$.i18n(\"pc-sop-smashobj\"), \"btn-warning\");\r\n        addButtonSettingItem(window.$.i18n(\"pc-sop-pass\"), \"btn-danger\");\r\n        refreshSortables();\r\n\r\n        document.getElementById(\"PrettyCards_SOP_AddButton\").onclick = function() {\r\n            addButtonSettingItem(\"\", \"btn-success\");\r\n        }\r\n\r\n        document.getElementById(\"PrettyCards_SOP_ToPhase3\").onclick = startPhase3;\r\n\r\n        document.getElementById(\"PrettyCards_SOP_TakeScreenshot\").onclick = function() {\r\n            if (alreadyTakingScreenshot) {return;}\r\n            alreadyTakingScreenshot = true;\r\n            $(\"#PrettyCards_SOP_Phase4_ScreenshotArea\").addClass(\"PrettyCards_SOP_Screenshot\");\r\n            window.html2canvas(document.getElementById(\"PrettyCards_SOP_Phase4_ScreenshotArea\")).then((data) => {\r\n                alreadyTakingScreenshot = false;\r\n                _libraries_utility__WEBPACK_IMPORTED_MODULE_4__.utility.saveCanvasAsImage(data, \"sop_results\");\r\n                var message = $(`<div><p>The screenshot should have started downloading! If not, you can save it from here!</p></div>`);\r\n                $(data).css(\"height\", \"\");\r\n                $(data).css(\"width\", \"100%\");\r\n                message.append(data);\r\n                $(\"#PrettyCards_SOP_Phase4_ScreenshotArea\").removeClass(\"PrettyCards_SOP_Screenshot\");\r\n                window.BootstrapDialog.show({\r\n                    title: \"Successful Screenshot!\",\r\n                    message: message,\r\n                    buttons: [{\r\n                        label: 'Close',\r\n                        cssClass: 'btn-primary',\r\n                        action: function(dialog) {\r\n                            dialog.close();\r\n                        }\r\n                    }]\r\n                });\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\n\n\n//# sourceURL=webpack://prettycards/./src/page_specific/smash_or_pass.js?");

/***/ }),

/***/ "./src/third_party/jquery-3.6.0.min.js":
/*!*********************************************!*\
  !*** ./src/third_party/jquery-3.6.0.min.js ***!
  \*********************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */\n!function(e,t){\"use strict\"; true&&\"object\"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error(\"jQuery requires a window with a document\");return t(e)}:t(e)}(\"undefined\"!=typeof window?window:this,function(C,e){\"use strict\";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return\"function\"==typeof e&&\"number\"!=typeof e.nodeType&&\"function\"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement(\"script\");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?n[o.call(e)]||\"object\":typeof e}var f=\"3.6.0\",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&\"length\"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&(\"array\"===n||0===t||\"number\"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for(\"boolean\"==typeof a&&(l=a,a=arguments[s]||{},s++),\"object\"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],\"__proto__\"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:\"jQuery\"+(f+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||\"[object Object]\"!==o.call(e))&&(!(t=r(e))||\"function\"==typeof(n=v.call(t,\"constructor\")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,\"string\"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),\"function\"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(e,t){n[\"[object \"+t+\"]\"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S=\"sizzle\"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",M=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",I=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\"+M+\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",W=\"\\\\[\"+M+\"*(\"+I+\")(?:\"+M+\"*([*^$|!~]?=)\"+M+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+I+\"))|)\"+M+\"*\\\\]\",F=\":(\"+I+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+W+\")*)|.*)\\\\)|)\",B=new RegExp(M+\"+\",\"g\"),$=new RegExp(\"^\"+M+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+M+\"+$\",\"g\"),_=new RegExp(\"^\"+M+\"*,\"+M+\"*\"),z=new RegExp(\"^\"+M+\"*([>+~]|\"+M+\")\"+M+\"*\"),U=new RegExp(M+\"|>\"),X=new RegExp(F),V=new RegExp(\"^\"+I+\"$\"),G={ID:new RegExp(\"^#(\"+I+\")\"),CLASS:new RegExp(\"^\\\\.(\"+I+\")\"),TAG:new RegExp(\"^(\"+I+\"|[*])\"),ATTR:new RegExp(\"^\"+W),PSEUDO:new RegExp(\"^\"+F),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+M+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+M+\"*(?:([+-]|)\"+M+\"*(\\\\d+)|))\"+M+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+R+\")$\",\"i\"),needsContext:new RegExp(\"^\"+M+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+M+\"*((?:-\\\\d)?\\\\d*)\"+M+\"*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\\d$/i,K=/^[^{]+\\{\\s*\\[native \\w/,Z=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ee=/[+~]/,te=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}\"+M+\"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),ne=function(e,t){var n=\"0x\"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ie=function(e,t){return t?\"\\0\"===e?\"\\ufffd\":e.slice(0,-1)+\"\\\\\"+e.charCodeAt(e.length-1).toString(16)+\" \":\"\\\\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&\"fieldset\"===e.nodeName.toLowerCase()},{dir:\"parentNode\",next:\"legend\"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],\"string\"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+\" \"]&&(!v||!v.test(t))&&(1!==p||\"object\"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute(\"id\"))?s=s.replace(re,ie):e.setAttribute(\"id\",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?\"#\"+s:\":scope\")+\" \"+xe(l[o]);c=l.join(\",\")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute(\"id\")}}}return g(t.replace($,\"$1\"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+\" \")>b.cacheLength&&delete e[r.shift()],e[t+\" \"]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement(\"fieldset\");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split(\"|\"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return(\"input\"===t||\"button\"===t)&&e.type===n}}function ge(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&\"undefined\"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||\"HTML\")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener(\"unload\",oe,!1):n.attachEvent&&n.attachEvent(\"onunload\",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement(\"div\")),\"undefined\"!=typeof e.querySelectorAll&&!e.querySelectorAll(\":scope fieldset div\").length}),d.attributes=ce(function(e){return e.className=\"i\",!e.getAttribute(\"className\")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment(\"\")),!e.getElementsByTagName(\"*\").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute(\"id\")===t}},b.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=\"undefined\"!=typeof e.getAttributeNode&&e.getAttributeNode(\"id\");return t&&t.value===n}},b.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return\"undefined\"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(\"*\"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if(\"undefined\"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML=\"<a id='\"+S+\"'></a><select id='\"+S+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",e.querySelectorAll(\"[msallowcapture^='']\").length&&v.push(\"[*^$]=\"+M+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\"[selected]\").length||v.push(\"\\\\[\"+M+\"*(?:value|\"+R+\")\"),e.querySelectorAll(\"[id~=\"+S+\"-]\").length||v.push(\"~=\"),(t=C.createElement(\"input\")).setAttribute(\"name\",\"\"),e.appendChild(t),e.querySelectorAll(\"[name='']\").length||v.push(\"\\\\[\"+M+\"*name\"+M+\"*=\"+M+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\":checked\").length||v.push(\":checked\"),e.querySelectorAll(\"a#\"+S+\"+*\").length||v.push(\".#.+[+~]\"),e.querySelectorAll(\"\\\\\\f\"),v.push(\"[\\\\r\\\\n\\\\f]\")}),ce(function(e){e.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var t=C.createElement(\"input\");t.setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),e.querySelectorAll(\"[name=d]\").length&&v.push(\"name\"+M+\"*[*^$|!~]?=\"),2!==e.querySelectorAll(\":enabled\").length&&v.push(\":enabled\",\":disabled\"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(\":disabled\").length&&v.push(\":enabled\",\":disabled\"),e.querySelectorAll(\"*,:x\"),v.push(\",.*:\")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,\"*\"),c.call(e,\"[s!='']:x\"),s.push(\"!=\",F)}),v=v.length&&new RegExp(v.join(\"|\")),s=s.length&&new RegExp(s.join(\"|\")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+\" \"]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+\"\").replace(re,ie)},se.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n=\"\",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||\"\").replace(te,ne),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+\" \"];return t||(t=new RegExp(\"(^|\"+M+\")\"+e+\"(\"+M+\"|$)\"))&&m(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||\"undefined\"!=typeof e.getAttribute&&e.getAttribute(\"class\")||\"\")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?\"!=\"===r:!r||(t+=\"\",\"=\"===r?t===i:\"!=\"===r?t!==i:\"^=\"===r?i&&0===t.indexOf(i):\"*=\"===r?i&&-1<t.indexOf(i):\"$=\"===r?i&&t.slice(-i.length)===i:\"~=\"===r?-1<(\" \"+t.replace(B,\" \")+\" \").indexOf(i):\"|=\"===r&&(t===i||t.slice(0,i.length+1)===i+\"-\"))}},CHILD:function(h,e,t,g,v){var y=\"nth\"!==h.slice(0,3),m=\"last\"!==h.slice(-4),x=\"of-type\"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?\"nextSibling\":\"previousSibling\",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l=\"only\"===h&&!u&&\"nextSibling\"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error(\"unsupported pseudo: \"+e);return a[S]?a(o):1<a.length?(t=[e,e,\"\",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,\"$1\"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||\"\")||se.error(\"unsupported lang: \"+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(t=t.toLowerCase())===n||0===t.indexOf(n+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r=\"\";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&\"parentNode\"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||\"*\",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[\" \"],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:\" \"===e[s-2].type?\"*\":\"\"})).replace($,\"$1\"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+\" \"];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($,\" \")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+\" \"];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l=\"0\",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG(\"*\",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l=\"function\"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&\"ID\"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split(\"\").sort(j).join(\"\")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement(\"fieldset\"))}),ce(function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")})||fe(\"type|href|height|width\",function(e,t,n){if(!n)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")})||fe(\"value\",function(e,t,n){if(!n&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute(\"disabled\")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[\":\"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):\"string\"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if(\"string\"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,\"string\"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,\"string\"==typeof e){if(!(r=\"<\"===e[0]&&\">\"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a=\"string\"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?\"string\"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,\"parentNode\")},parentsUntil:function(e,t,n){return h(e,\"parentNode\",n)},next:function(e){return O(e,\"nextSibling\")},prev:function(e){return O(e,\"previousSibling\")},nextAll:function(e){return h(e,\"nextSibling\")},prevAll:function(e){return h(e,\"previousSibling\")},nextUntil:function(e,t,n){return h(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return h(e,\"previousSibling\",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,\"template\")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return\"Until\"!==r.slice(-5)&&(t=e),t&&\"string\"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\\x20\\t\\r\\n\\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r=\"string\"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:\"\")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&\"string\"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t=\"\",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=\"\"),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[[\"notify\",\"progress\",S.Callbacks(\"memory\"),S.Callbacks(\"memory\"),2],[\"resolve\",\"done\",S.Callbacks(\"once memory\"),S.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",S.Callbacks(\"once memory\"),S.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},\"catch\":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+\"With\"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError(\"Thenable self-resolution\");t=e&&(\"object\"==typeof e||\"function\"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+\"With\"](this===s?void 0:this,arguments),this},s[t[0]+\"With\"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),\"pending\"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener(\"DOMContentLoaded\",B),C.removeEventListener(\"load\",B),S.ready()}S.fn.ready=function(e){return F.then(e)[\"catch\"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,\"complete\"===E.readyState||\"loading\"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener(\"DOMContentLoaded\",B),C.addEventListener(\"load\",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if(\"object\"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,\"ms-\").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if(\"string\"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&\"string\"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r=\"data-\"+t.replace(K,\"-$&\").toLowerCase(),\"string\"==typeof(n=e.getAttribute(r))){try{n=\"true\"===(i=n)||\"false\"!==i&&(\"null\"===i?null:i===+i+\"\"?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,\"hasDataAttrs\"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf(\"data-\")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,\"hasDataAttrs\",!0)}return i}return\"object\"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||\"fx\")+\"queue\",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||\"fx\";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);\"inprogress\"===i&&(i=n.shift(),r--),i&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks(\"once memory\").add(function(){Y.remove(e,[t+\"queue\",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return\"string\"!=typeof t&&(n=t,t=\"fx\",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};\"string\"!=typeof e&&(t=e,e=void 0),e=e||\"fx\";while(a--)(n=Y.get(o[a],e+\"queueHooks\"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,te=new RegExp(\"^(?:([+-])=|)(\"+ee+\")([a-z%]*)$\",\"i\"),ne=[\"Top\",\"Right\",\"Bottom\",\"Left\"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&ie(e)&&\"none\"===S.css(e,\"display\")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,\"\")},u=s(),l=n&&n[3]||(S.cssNumber[t]?\"\":\"px\"),c=e.nodeType&&(S.cssNumber[t]||\"px\"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?(\"none\"===n&&(l[c]=Y.get(r,\"display\")||null,l[c]||(r.style.display=\"\")),\"\"===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,\"display\"),o.parentNode.removeChild(o),\"none\"===u&&(u=\"block\"),ue[s]=u)))):\"none\"!==n&&(l[c]=\"none\",Y.set(r,\"display\",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,he=/^$|^module$|\\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement(\"div\")),(fe=E.createElement(\"input\")).setAttribute(\"type\",\"radio\"),fe.setAttribute(\"checked\",\"checked\"),fe.setAttribute(\"name\",\"t\"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML=\"<textarea>x</textarea>\",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML=\"<option></option>\",y.option=!!ce.lastChild;var ge={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function ve(e,t){var n;return n=\"undefined\"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||\"*\"):\"undefined\"!=typeof e.querySelectorAll?e.querySelectorAll(t||\"*\"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],\"globalEval\",!t||Y.get(t[n],\"globalEval\"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var me=/<|&#?\\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if(\"object\"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement(\"div\")),s=(de.exec(o)||[\"\",\"\"])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=\"\"}else p.push(t.createTextNode(o));f.textContent=\"\",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),\"script\"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||\"\")&&n.push(o)}return f}var be=/^([^.]*)(?:\\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==(\"focus\"===t)}function Ee(e,t,n,r,i,o){var a,s;if(\"object\"==typeof t){for(s in\"string\"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&(\"string\"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return\"undefined\"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(P)||[\"\"]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||\"\").split(\".\").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(\".\")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||\"\").match(P)||[\"\"]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||\"\").split(\".\").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&(\"**\"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,\"handle events\")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,\"events\")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!(\"click\"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+\" \"]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,\"input\")&&Se(t,\"click\",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,\"input\")&&Se(t,\"click\"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,\"input\")&&Y.get(t,\"click\")||A(t,\"a\")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,\"char\":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:\"focusin\",blur:\"focusout\"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+\".\"+r.namespace:r.origType,r.selector,r.handler),this;if(\"object\"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&\"function\"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Ne=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function je(e,t){return A(e,\"table\")&&A(11!==t.nodeType?t:t.firstChild,\"tr\")&&S(e).children(\"tbody\")[0]||e}function De(e){return e.type=(null!==e.getAttribute(\"type\"))+\"/\"+e.type,e}function qe(e){return\"true/\"===(e.type||\"\").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(\"type\"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,\"handle events\"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&\"string\"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,\"script\"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,\"script\"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||\"\")&&!Y.access(u,\"globalEval\")&&S.contains(l,u)&&(u.src&&\"module\"!==(u.type||\"\").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute(\"nonce\")},l):b(u.textContent.replace(Ne,\"\"),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,\"script\")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,\"input\"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:\"input\"!==l&&\"textarea\"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,\"script\")).length&&ye(a,!f&&ve(e,\"script\")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp(\"^(\"+ee+\")(?!px)[a-z%]+$\",\"i\"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join(\"|\"),\"i\");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(\"\"!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+\"\":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",l.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n=\"1%\"!==e.top,s=12===t(e.marginLeft),l.style.right=\"60%\",o=36===t(e.right),r=36===t(e.width),l.style.position=\"absolute\",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement(\"div\"),l=E.createElement(\"div\");l.style&&(l.style.backgroundClip=\"content-box\",l.cloneNode(!0).style.backgroundClip=\"\",y.clearCloneStyle=\"content-box\"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement(\"table\"),t=E.createElement(\"tr\"),n=E.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px;border-collapse:separate\",t.style.cssText=\"border:1px solid\",t.style.height=\"1px\",n.style.height=\"9px\",n.style.display=\"block\",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=[\"Webkit\",\"Moz\",\"ms\"],$e=E.createElement(\"div\").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Ge={letterSpacing:\"0\",fontWeight:\"400\"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||\"px\"):t}function Qe(e,t,n,r,i,o){var a=\"width\"===t?1:0,s=0,u=0;if(n===(r?\"border\":\"content\"))return 0;for(;a<4;a+=2)\"margin\"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?(\"content\"===n&&(u-=S.css(e,\"padding\"+ne[a],!0,i)),\"margin\"!==n&&(u-=S.css(e,\"border\"+ne[a]+\"Width\",!0,i))):(u+=S.css(e,\"padding\"+ne[a],!0,i),\"padding\"!==n?u+=S.css(e,\"border\"+ne[a]+\"Width\",!0,i):s+=S.css(e,\"border\"+ne[a]+\"Width\",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&\"border-box\"===S.css(e,\"boxSizing\",!1,r),o=i,a=We(e,t,r),s=\"offset\"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a=\"auto\"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,\"tr\")||\"auto\"===a||!parseFloat(a)&&\"inline\"===S.css(e,\"display\",!1,r))&&e.getClientRects().length&&(i=\"border-box\"===S.css(e,\"boxSizing\",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?\"border\":\"content\"),o,r,a)+\"px\"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&\"get\"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];\"string\"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o=\"number\"),null!=n&&n==n&&(\"number\"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?\"\":\"px\")),y.clearCloneStyle||\"\"!==n||0!==t.indexOf(\"background\")||(l[t]=\"inherit\"),a&&\"set\"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&\"get\"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),\"normal\"===i&&t in Ge&&(i=Ge[t]),\"\"===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each([\"height\",\"width\"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&\"absolute\"===i.position,a=(o||n)&&\"border-box\"===S.css(e,\"boxSizing\",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e[\"offset\"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,\"border\",!1,i)-.5)),s&&(r=te.exec(t))&&\"px\"!==(r[3]||\"px\")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,\"marginLeft\"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+\"px\"}),S.each({margin:\"\",padding:\"\",border:\"Width\"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r=\"string\"==typeof e?e.split(\" \"):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},\"margin\"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?\"\":\"px\")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i[\"margin\"+(n=ne[r])]=i[\"padding\"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners[\"*\"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&\"expand\"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{\"*\":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=[\"*\"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f=\"width\"in t||\"height\"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,\"fxshow\");for(r in n.queue||(null==(a=S._queueHooks(e,\"fx\")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,\"fx\").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||\"toggle\"===i,i===(g?\"hide\":\"show\")){if(\"show\"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,\"display\")),\"none\"===(c=S.css(e,\"display\"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,\"display\"),le([e]))),(\"inline\"===c||\"inline-block\"===c&&null!=l)&&\"none\"===S.css(e,\"float\")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l=\"none\"===c?\"\":c)),h.display=\"inline-block\")),n.overflow&&(h.overflow=\"hidden\",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?\"hidden\"in v&&(g=v.hidden):v=Y.access(e,\"fxshow\",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,\"fxshow\"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&\"object\"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:\"number\"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue=\"fx\"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,\"finish\"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return\"string\"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||\"fx\",[]),this.each(function(){var e=!0,t=null!=i&&i+\"queueHooks\",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||\"fx\"),this.each(function(){var e,t=Y.get(this),n=t[a+\"queue\"],r=t[a+\"queueHooks\"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each([\"toggle\",\"show\",\"hide\"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||\"boolean\"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st(\"show\"),slideUp:st(\"hide\"),slideToggle:st(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||\"fx\",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement(\"input\"),nt=E.createElement(\"select\").appendChild(E.createElement(\"option\")),tt.type=\"checkbox\",y.checkOn=\"\"!==tt.value,y.optSelected=nt.selected,(tt=E.createElement(\"input\")).value=\"t\",tt.type=\"radio\",y.radioValue=\"t\"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return\"undefined\"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+\"\"),n):i&&\"get\"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&\"radio\"===t&&A(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(\" \")}function gt(e){return e.getAttribute&&e.getAttribute(\"class\")||\"\"}function vt(e){return Array.isArray(e)?e:\"string\"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&\"get\"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,\"tabindex\");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&\" \"+ht(i)+\" \"){a=0;while(o=e[a++])r.indexOf(\" \"+o+\" \")<0&&(r+=o+\" \");i!==(s=ht(r))&&n.setAttribute(\"class\",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&\" \"+ht(i)+\" \"){a=0;while(o=e[a++])while(-1<r.indexOf(\" \"+o+\" \"))r=r.replace(\" \"+o+\" \",\" \");i!==(s=ht(r))&&n.setAttribute(\"class\",s)}return this},toggleClass:function(i,t){var o=typeof i,a=\"string\"===o||Array.isArray(i);return\"boolean\"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&\"boolean\"!==o||((e=gt(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===i?\"\":Y.get(this,\"__className__\")||\"\"))})},hasClass:function(e){var t,n,r=0;t=\" \"+e+\" \";while(n=this[r++])if(1===n.nodeType&&-1<(\" \"+ht(gt(n))+\" \").indexOf(t))return!0;return!1}});var yt=/\\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t=\"\":\"number\"==typeof t?t+=\"\":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?\"\":e+\"\"})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&\"set\"in r&&void 0!==r.set(this,t,\"value\")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&\"get\"in r&&void 0!==(e=r.get(t,\"value\"))?e:\"string\"==typeof(e=t.value)?e.replace(yt,\"\"):null==e?\"\":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,\"value\");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a=\"select-one\"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,\"optgroup\"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each([\"radio\",\"checkbox\"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})}),y.focusin=\"onfocusin\"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,\"type\")?e.type:e,h=v.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(\".\")&&(d=(h=d.split(\".\")).shift(),h.sort()),u=d.indexOf(\":\")<0&&\"on\"+d,(e=e[S.expando]?e:new S.Event(d,\"object\"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,\"events\")||Object.create(null))[e.type]&&Y.get(o,\"handle\"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:\"focusin\",blur:\"focusout\"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\\?/;S.parseXML=function(e){var t,n;if(!e||\"string\"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,\"text/xml\")}catch(e){}return n=t&&t.getElementsByTagName(\"parsererror\")[0],t&&!n||S.error(\"Invalid XML: \"+(n?S.map(n.childNodes,function(e){return e.textContent}).join(\"\\n\"):e)),t};var Ct=/\\[\\]$/,Et=/\\r?\\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+\"[\"+(\"object\"==typeof t&&null!=t?e:\"\")+\"]\",t,r,i)});else if(r||\"object\"!==w(e))i(n,e);else for(t in e)At(n+\"[\"+t+\"]\",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==e)return\"\";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join(\"&\")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,\"elements\");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(\":disabled\")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,\"\\r\\n\")}}):{name:t.name,value:n.replace(Et,\"\\r\\n\")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\\/\\//,Ot={},Pt={},Rt=\"*/\".concat(\"*\"),Mt=E.createElement(\"a\");function It(o){return function(e,t){\"string\"!=typeof e&&(t=e,e=\"*\");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])\"+\"===n[0]?(n=n.slice(1)||\"*\",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return\"string\"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s[\"*\"]&&l(\"*\")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Rt,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){\"object\"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks(\"once memory\"),w=v.statusCode||{},a={},s={},u=\"canceled\",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+\" \"]=(n[t[1].toLowerCase()+\" \"]||[]).concat(t[2])}t=n[e.toLowerCase()+\" \"]}return null==t?null:t.join(\", \")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+\"\").replace(Ht,bt.protocol+\"//\"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||\"*\").toLowerCase().match(P)||[\"\"],null==v.crossDomain){r=E.createElement(\"a\");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+\"//\"+Mt.host!=r.protocol+\"//\"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&\"string\"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger(\"ajaxStart\"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,\"\"),v.hasContent?v.data&&v.processData&&0===(v.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(v.data=v.data.replace(Nt,\"+\")):(o=v.url.slice(f.length),v.data&&(v.processData||\"string\"==typeof v.data)&&(f+=(Tt.test(f)?\"&\":\"?\")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,\"$1\"),o=(Tt.test(f)?\"&\":\"?\")+\"_=\"+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader(\"If-Modified-Since\",S.lastModified[f]),S.etag[f]&&T.setRequestHeader(\"If-None-Match\",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader(\"Content-Type\",v.contentType),T.setRequestHeader(\"Accept\",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+(\"*\"!==v.dataTypes[0]?\", \"+Rt+\"; q=0.01\":\"\"):v.accepts[\"*\"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u=\"abort\",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger(\"ajaxSend\",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort(\"timeout\")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,\"No Transport\");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||\"\",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while(\"*\"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader(\"Content-Type\"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+\" \"+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray(\"script\",v.dataTypes)&&S.inArray(\"json\",v.dataTypes)<0&&(v.converters[\"text script\"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if(\"*\"===o)o=u;else if(\"*\"!==u&&u!==o){if(!(a=l[u+\" \"+o]||l[\"* \"+o]))for(i in l)if((s=i.split(\" \"))[1]===o&&(a=l[u+\" \"+s[0]]||l[\"* \"+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e[\"throws\"])t=a(t);else try{t=a(t)}catch(e){return{state:\"parsererror\",error:a?e:\"No conversion from \"+u+\" to \"+o}}}return{state:\"success\",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader(\"Last-Modified\"))&&(S.lastModified[f]=u),(u=T.getResponseHeader(\"etag\"))&&(S.etag[f]=u)),204===e||\"HEAD\"===v.type?l=\"nocontent\":304===e?l=\"notmodified\":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l=\"error\",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+\"\",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?\"ajaxSuccess\":\"ajaxError\",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger(\"ajaxComplete\",[T,v]),--S.active||S.event.trigger(\"ajaxStop\")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,\"json\")},getScript:function(e,t){return S.get(e,void 0,t,\"script\")}}),S.each([\"get\",\"post\"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)\"content-type\"===t.toLowerCase()&&(e.contentType=e.headers[t]||\"\")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not(\"body\").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&\"withCredentials\"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,\"abort\"===e?r.abort():\"error\"===e?\"number\"!=typeof r.status?t(0,\"error\"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,\"text\"!==(r.responseType||\"text\")||\"string\"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o(\"error\"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o(\"abort\");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter(\"script\",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")}),S.ajaxTransport(\"script\",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S(\"<script>\").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on(\"load error\",i=function(e){r.remove(),i=null,e&&t(\"error\"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\\?(?=&|$)|\\?\\?/;S.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=zt.pop()||S.expando+\"_\"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter(\"json jsonp\",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ut.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,\"$1\"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+r),e.converters[\"script json\"]=function(){return o||S.error(r+\" was not called\"),o[0]},e.dataTypes[0]=\"json\",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),\"script\"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return\"string\"!=typeof e?[]:(\"boolean\"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(\" \");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&\"object\"==typeof t&&(i=\"POST\"),0<a.length&&S.ajax({url:e,type:i||\"GET\",dataType:\"html\",data:t}).done(function(e){o=arguments,a.html(r?S(\"<div>\").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,\"position\"),c=S(e),f={};\"static\"===l&&(e.style.position=\"relative\"),s=c.offset(),o=S.css(e,\"top\"),u=S.css(e,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&-1<(o+u).indexOf(\"auto\")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),\"using\"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if(\"fixed\"===S.css(r,\"position\"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&\"static\"===S.css(e,\"position\"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,\"borderTopWidth\",!0),i.left+=S.css(e,\"borderLeftWidth\",!0))}return{top:t.top-i.top-S.css(r,\"marginTop\",!0),left:t.left-i.left-S.css(r,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&\"static\"===S.css(e,\"position\"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(t,i){var o=\"pageYOffset\"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each([\"top\",\"left\"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+\"px\":t})}),S.each({Height:\"height\",Width:\"width\"},function(a,s){S.each({padding:\"inner\"+a,content:s,\"\":\"outer\"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||\"boolean\"!=typeof e),i=r||(!0===e||!0===t?\"margin\":\"border\");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf(\"outer\")?e[\"inner\"+a]:e.document.documentElement[\"client\"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body[\"scroll\"+a],r[\"scroll\"+a],e.body[\"offset\"+a],r[\"offset\"+a],r[\"client\"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if(\"string\"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?\"\":(e+\"\").replace(Xt,\"\")}, true&&!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function(){return S}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},\"undefined\"==typeof e&&(C.jQuery=C.$=S),S});\n\n\n//# sourceURL=webpack://prettycards/./src/third_party/jquery-3.6.0.min.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;