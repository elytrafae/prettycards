// ==UserScript==
// @name        PrettyCards
// @version     2.15.3
// @author      elytrafae
// @description Make (parts of) Undercards look fabulous!
// @homepage    https://github.com/elytrafae/prettycards
// @supportURL  https://github.com/elytrafae/prettycards
// @match       https://*.undercards.net/*
// @exclude     https://*.undercards.net/*/*
// @updateURL   https://github.com/elytrafae/prettycards/releases/latest/download/prettycards.user.js
// @downloadURL https://github.com/elytrafae/prettycards/releases/latest/download/prettycards.user.js
// @grant       none
// @run-at      document-idle
// ==/UserScript==

/*! For license information please see prettycards.user.js.LICENSE.txt */
(()=>{var e={4810:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.PrettyCards_ArtBG_Legendary {\n    box-shadow: inset 0 0 10px 1px rgb(255, 255, 0);\n    animation: LegendaryShadow 3s infinite ease-in-out alternate;\n}\n\n@keyframes LegendaryShadow {\n    0% {\n        box-shadow: inset 0 0 10px 1px rgb(255, 255, 0);\n    }\n    100% {\n        box-shadow: inset 0 0 20px 2px rgb(255, 255, 0);\n    }\n}\n\n.PrettyCards_ArtifactListBackground {\n    box-shadow: inset 0 0 10px 5px #000000;\n}\n\n.PrettyCards_ArtBG_Genocide {\n    background-image: url($asset$img/ArtifactBackgrounds/Genocide.png);\n    background-size: auto;\n    background-position: top left;\n    background-repeat: repeat;\n}\n\n.PrettyCards_ArtBG_DarkFountain {\n    background-image: url($asset$img/ArtifactBackgrounds/Dark_Fountain.png);\n    background-size: cover;\n    background-position: center center;\n}\n\n.PrettyCards_ArtBG_UltimateFusion {\n    background-image: url($asset$img/ArtifactBackgrounds/Ultimate_Fusion.png);\n    background-size: cover;\n    background-repeat: repeat;\n    background-position: top left;\n}\n\n.PrettyCards_ArtBG_FreeKromer {\n    background-image: url($asset$img/ArtifactBackgrounds/FREE_KROMER.png);\n    background-size: cover;\n    background-repeat: repeat;\n    background-position: bottom left;\n}\n\n.PrettyCards_ArtBG_WornDagger {\n    background-image: url($asset$img/ArtifactBackgrounds/Worn_Dagger.png);\n    background-size: cover;\n    background-position: center center;\n}\n\n.PrettyCards_ArtBG_ToughGlove {\n    background-image: url($asset$img/ArtifactBackgrounds/Tough_Glove.png);\n    background-size: cover;\n    background-position: center right;\n}\n\n.PrettyCards_ArtBG_EmptyGun {\n    background-image: url($asset$img/ArtifactBackgrounds/Empty_Gun.png);\n    background-size: cover;\n    background-position: top left;\n}\n\n.PrettyCards_ArtBG_BurntPan {\n    background-image: url($asset$img/ArtifactBackgrounds/Burnt_Pan.png);\n    background-size: cover;\n    background-position: center left;\n}\n\n.PrettyCards_ArtBG_ToyKnife {\n    background-image: url($asset$img/ArtifactBackgrounds/Toy_Knife.png);\n    background-size: cover;\n    background-position: bottom left;\n}\n\n.PrettyCards_ArtBG_BalletShoes {\n    background-image: url($asset$img/ArtifactBackgrounds/Ballet_Shoes.png);\n    background-size: cover;\n    background-position: center center;\n}\n\n.PrettyCards_ArtBG_TornNotebook {\n    background-image: url($asset$img/ArtifactBackgrounds/Torn_Notebook.png);\n    background-size: cover;\n    background-position: top left;\n}\n\n.PrettyCards_ArtBG_MagicWand {\n\n    background-image: url($asset$img/ArtifactBackgrounds/Magic_Wand.png);\n    background-size: cover;\n    background-position: top center;\n}\n\n",""]);const o=s},4145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,'\n@keyframes LegendaryArtifact {\n\tfrom { filter: drop-shadow(0.1em 0.08em 0.2em #ff0); }\n\tto { filter: drop-shadow(0.1em 0.08em 0.4em #ff0); }\n}\n\n@keyframes DTArtifact {\n\tfrom { filter: drop-shadow(0.1em 0.08em 0.05em #f00); }\n\tto { filter: drop-shadow(0.1em 0.08em 0.4em #f00); }\n}\n\n/*\nimg[legendary="true"] {\n\tanimation: LegendaryArtifact 2s alternate infinite ease-in-out;\n}*/\n\n.PrettyCards_Artifact_LEGENDARY {\n\tanimation: LegendaryArtifact 2s alternate infinite ease-in-out;\n}\n\n/*\nimg[name="Cloudy Glasses"],\nimg[name="Crab Apple"],\nimg[name="Economics"],\nimg[name="Save"],\nimg[name="Sea Tea"],\nimg[name="Seap"],\nimg[name="Torn Notebook"],\nimg[name="True Justice"],\nimg[name="IQ"],\nimg[name="Hail"] {\n\tfilter: drop-shadow(0.1em 0.08em 0.4em #00ca78);\n}*/\n\n.PrettyCards_Artifact_TOKEN {\n\tfilter: drop-shadow(0.1em 0.08em 0.4em #00ca78);\n}\n\n\n/*\nimg[name="Genocide"],img[name="Outbreak"],img[name="Ultimate Fusion"] {\n\tanimation: DTArtifact 1.5s alternate infinite ease-in-out;\n}*/\n\n.PrettyCards_Artifact_DETERMINATION {\n\tanimation: DTArtifact 1.5s alternate infinite ease-in-out;\n}\n\n.PrettyCards_Artifact_Soul_DETERMINATION {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em red);\n}\n\n.PrettyCards_Artifact_Soul_BRAVERY {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #fca500);\n}\n\n.PrettyCards_Artifact_Soul_JUSTICE {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #FFFF00);\n}\n\n.PrettyCards_Artifact_Soul_KINDNESS {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #00c000);\n}\n\n.PrettyCards_Artifact_Soul_PATIENCE {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #41fcff);\n}\n\n.PrettyCards_Artifact_Soul_INTEGRITY {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #0064ff);\n}\n\n.PrettyCards_Artifact_Soul_PERSEVERANCE {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #d535d9);\n}\n\n.PrettyCards_Artifact_Soul_MONSTER {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #ffffff);\n}\n\n.PrettyCards_Artifact {\n\twidth: 4em;\n\theight: 4em;\n\tmargin: 0.5em;\n\tcursor: pointer;\n}\n\n.PrettyCards_AverageSizedArtifact {\n\theight: 24px;\n}\n\n/*\n.PrettyCards_ScreenCover {\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tborder: 0px;\n\tmargin: 0px;\n\tpadding: 0px;\n\tz-index: 1040;\n}\n\n.PrettyCards_HalfTransparentBG {\n\tbackground-color: rgba(0, 0, 0, 0.5);\n}\n*/\n\n.PrettyCards_ArtifactDisplayBox {\n\t/*position: absolute;*/\n\tposition: relative;\n\tmargin-top: 150px;\n\tborder: 5px solid white;\n\tbackground-color: black;\n\tpadding: 12px;\n\tpadding-top: 60px;\n\tbackground-position: center;\n\tbackground-size: cover;\n}\n\n.PrettyCards_ArtifactCircle {\n\tborder-radius: 50%;\n\twidth: 192px;\n\theight: 192px;\n\tborder: 5px solid white;\n\tbackground-color: black;\n\tposition: absolute;\n\tleft: calc(50% - (192px / 2));\n\ttop: -140px;\n\toverflow: hidden;\n}\n\n.PrettyCards_ArtifactImage {\n\tposition: relative;\n\twidth: 128px;\n\theight: 128px;\n\ttop: 28px;\n\tleft: 28px;\n\tperspective: 1px;\n}\n\n.PrettyCards_ArtifactDisplayName {\n\tfont-size: 25px;\n\ttext-align: center;\n}\n\n.PrettyCards_ArtifactDisplayRarity {\n\tfont-size: 16px;\n\ttext-align: center;\n}\n\n.PrettyCards_ArtifactDisplayDescription {\n\tmargin-top: 25px;\n\tfont-size: 16px;\n}\n\n.PrettyCards_ArtifactDisplayNoteTitle {\n\tmargin-top: 30px;\n\tfont-size: 2em;\n}\n\n.PrettyCards_SoulDisplay_SpellsHeader {\n\tmargin-top: 20px;\n\ttext-align: center;\n\tfont-size: 18px;\n}\n\n.PrettyCards_SoulDisplay_Spells {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tmargin: 0 61px;\n}\n\n.PrettyCards_SoulDisplay_Spells .card {\n\tmargin: 5px;\n}\n\n.PrettyCards_ArtifactListRow {\n\tmargin: 15px 0px;\n\tmargin-left: 20px;\n\tmin-height: 100px;\n\tposition: relative;\n}\n\n.PrettyCards_ArtifactListBackground {\n\t\t/* background-color: #990000; */\n\t\tposition: absolute;\n\t\ttop: -7.5px;\n\t\tleft: -35px;\n\t\tbottom: -7.5px;\n\t\tright: -15px;\n\t\tbackground-position: center;\n\t\tbackground-size: cover;\n}\n\n.PrettyCards_ArtifactListCircle {\n\tborder-radius: 50%;\n\twidth: 96px;\n\theight: 96px;\n\tborder: 5px solid white;\n\tbackground-color: black;\n\tposition: absolute;\n\tleft: -110px;\n\ttop: 0px;\n\toverflow: hidden;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactListImage,.PrettyCards_ArtifactListImage.PrettyCards_SplitSoul_Container {\n\tposition: relative;\n    width: 96px;\n    height: 96px;\n    top: -5px;\n    left: -5px;\n\tperspective: 1px;\n}\n\n.PrettyCards_ArtifactListName {\n\tfont-size: 20px;\n\tpadding-top: 5px;\n\tposition: relative;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactDisplayCounter {\n\tposition: absolute;\n\tleft: 330px;\n\ttop: -20px;\n\tfont-size: 3em;\n\tbackground-color: black;\n\tborder: 5px solid white;\n\twidth: 1.6em;\n\theight: 1.6em;\n\tborder-radius: 50%;\n\ttext-align: center;\n\tvertical-align: middle;\n\tline-height: 1.35;\n}\n\n.PrettyCards_ArtifactListCounter {\n\tposition: absolute;\n\tleft: -50px;\n\ttop: 55px;\n\tfont-size: 1.5em;\n\tbackground-color: black;\n\tborder: 5px solid white;\n\twidth: 2em;\n\theight: 2em;\n\tborder-radius: 50%;\n\ttext-align: center;\n\tvertical-align: middle;\n\tline-height: 1.55;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactDisplayDisabled {\n\tfont-size: 20px;\n\ttext-align: center;\n}\n\n.PrettyCards_ArtifactListDescription {\n\tposition: relative;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactDisplay_TOKEN {\n\tfilter: drop-shadow(0px 0px 10px #00c800);\n}\n\n.PrettyCards_ArtifactDisplay_RARE {\n\tfilter: drop-shadow(0px 0px 10px rgb(0, 26, 255));\n}\n\n.PrettyCards_ArtifactDisplay_EPIC {\n\tfilter: drop-shadow(0px 0px 12px purple);\n\tanimation: EpicArtifactGlow 3s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_LEGENDARY {\n\tfilter: drop-shadow(0px 0px 15px gold);\n\tanimation: ArtifactFloat 2s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_Floating {\n\tanimation: ArtifactFloat 2s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_DETERMINATION {\n\tanimation: ArtifactFloat 2s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_DETERMINATION img {\n\tanimation: DTArtifactGlow 3s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_MYTHIC {\n\tanimation: ArtifactFloat 3s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_MYTHIC img {\n\tanimation: MYTHICArtifactGlow 7s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_FloatingForSoul {\n\tanimation: ArtifactFloat 3s alternate infinite ease-in-out;\n}\n\n@keyframes ArtifactFloat {\n\tfrom { transform: translatey(12px);}\n\tto { transform: translatey(-12px);}\n}\n\n@keyframes EpicArtifactGlow {\n\tfrom {filter: drop-shadow(0px 0px 8px rgb(66, 0, 66));}\n\tto {filter: drop-shadow(0px 0px 12px rgb(194, 0, 194));}\n}\n\n@keyframes DTArtifactGlow {\n\tfrom {filter: drop-shadow(0px 0px 8px #660000);}\n\tto {filter: drop-shadow(0px 0px 20px #EE0000);}\n}\n\n@keyframes MYTHICArtifactGlow {\n    0% {\n        filter: drop-shadow(0px 0px 20px red)\n    }\n\n    17% {\n        filter: drop-shadow(0px 0px 20px #ff0)\n    }\n\n    33% {\n        filter: drop-shadow(0px 0px 20px #0f0)\n    }\n\n    50% {\n        filter: drop-shadow(0px 0px 20px #0ff)\n    }\n\n    67% {\n        filter: drop-shadow(0px 0px 20px #00f)\n    }\n\n    84% {\n        filter: drop-shadow(0px 0px 20px #f0f)\n    }\n\n    100% {\n        filter: drop-shadow(0px 0px 20px red)\n    }\n}\n\n.PrettyCards_ArtifactDisplayShop {\n\tfont-size: 1.4em;\n    margin-top: 1.5em;\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_DETERMINATION {\n\tfilter: drop-shadow(0px 0px 20px red);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_BRAVERY {\n\tfilter: drop-shadow(0px 0px 20px #fca500);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_JUSTICE {\n\tfilter: drop-shadow(0px 0px 20px #FFFF00);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_KINDNESS {\n\tfilter: drop-shadow(0px 0px 20px #00c000);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_PATIENCE {\n\tfilter: drop-shadow(0px 0px 20px #41fcff);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_INTEGRITY {\n\tfilter: drop-shadow(0px 0px 20px #0064ff);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_PERSEVERANCE {\n\tfilter: drop-shadow(0px 0px 20px #d535d9);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_MONSTER {\n\tfilter: drop-shadow(0px 0px 20px #ffffff);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_SWITCH .PrettyCards_SplitSoul_Left img {\n\tfilter: drop-shadow(0px 0px 20px #41FCFF);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_SWITCH .PrettyCards_SplitSoul_Right img {\n\tfilter: drop-shadow(0px 0px 20px #FF0000);\n}',""]);const o=s},2760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.PrettyCards_CardBottomLeftInfo {\n    height: 16px;\n    position: absolute;\n    left: 13px;\n    top: 106px;\n    z-index: 8;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n}\n\n.PrettyCards_CardBottomLeftInfo > img {\n    height: 16px;\n    cursor: help;\n    margin-right: 4px;\n}",""]);const o=s},9225:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.PrettyCards_SkinHeader {\n\tfont-size: 25px;\n\tpadding: 5px;\n}\n\n.PrettyCards_SkinDiv {\n\tposition: relative;\n\twidth: 160px; \n\theight: 90px; \n\tmargin: 4px; \n\tdisplay: inline-block;\n\tborder: 1px white solid;\n}\n\n.PrettyCards_SkinText {\n\tdisplay:table-cell;\n\tvertical-align: middle;\n\twidth: 160px;\n\theight: 90px;\n\ttext-align: center; \n\tbackground-color: rgba(100, 100, 100, 0.3);\n\ttext-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;\n}\n\n.PrettyCards_SkinsContainer {\n\twidth: 100%;\n\theight: 500px;\n\toverflow-y: auto;\n}\n\n.PrettyCards_SkinDiv:hover .PrettyCards_SkinText {\n\tdisplay: none;\n}\n\n.PrettyCards_FullSkinPreview {\n\tdisplay: none;\n    position: absolute;\n    top: -1px;\n    left: -1px;\n    border: 1px white solid;\n    background-color: black;\n    width: 160px;\n    z-index: 2;\n}\n\n.PrettyCards_SkinDiv:hover .PrettyCards_FullSkinPreview {\n\tdisplay: block;\n}\n\n.PrettyCards_FullSkinPreview img {\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0;\n}",""]);const o=s},1252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n/*\n.mainContent .avatarGroup {\n    display: inline;\n    position: relative;\n    top: 15px;\n}\n*/\n\n.PrettyCards_FadeUCP {\n    color: #5ca890;\n    text-shadow: 0 0 10px #5ca890;\n}\n\n.PrettyCards_CosmeticsStar {\n    display: none;\n    position: absolute;\n    text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;\n    font-size: 1.5em;\n}\n\n.avatarGroup .PrettyCards_CosmeticsStar {\n    right: -42px;\n    top: -62px;\n}\n\n*:hover > .PrettyCards_CosmeticsStar {\n    display: block;\n}\n\n.PrettyCards_CosmeticsStar:hover {\n    color: yellow;\n}\n\n.emoteGroup {\n    position: relative;\n    width: fit-content;\n}\n\n.PrettyCards_EmoteSoundPlayer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    font-size: 3em;\n    display: none;\n    line-height: 1.5;\n    text-align: center;\n}\n\n.emoteGroup:hover .PrettyCards_EmoteSoundPlayer {\n    display: block;\n}\n\n.PrettyCards_EmoteSoundPlayer:active {\n    color: rgb(175, 175, 175);\n}",""]);const o=s},5727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n#PrettyCards_CustomCardSkins_EditContainer {\n\t\n}\n\n#PrettyCards_CardListContainer {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tflex-direction: row;\n}\n\n.PrettyCards_RowFlex {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n}\n\n.PrettyCards_CustomCardSkins_EditColumn {\n\twidth: 50%;\n}\n\n.PrettyCards_InvertedP {\n\tmargin: 10px 0 0;\n}",""]);const o=s},4811:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.cardImage {\n\tbackground-size:contain!important;\n\tbackground-position: center!important;\n}\n\n.cardRarity {\n\tbackground-size:contain!important; \n\tbackground-position: center!important;\n}\n\n/*\n.monster.ext_DDLC .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/DDLC/frame_monster.png');\n}\n\n.spell.ext_DDLC .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/DDLC/frame_spell.png');\n}\n*/\n\n.monster.ext_LUNA .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/LUNA/frame_monster.png');\n}\n\n.spell.ext_LUNA .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/LUNA/frame_spell.png');\n}\n\n.card.ext_DDLC .cardBackground {\n\tbackground-image: url('$asset$img/CardFrames/DDLC/frame_background.png'); \n\ttop: 7px; \n\theight: 231px;\n}\n\n/*\n@font-face {\n\tfont-family: Aller;\n\tsrc: url($asset$fonts/Aller_Rg.ttf);\n}\n*/\n\n.card.ext_DDLC {\n\t/*font-family: Aller;*/\n}\n\n.ext_DDLC .cardHeader, .ext_DDLC .cardFooter {\n\tbackground-color: rgb(0, 0, 0, 0); \n}\n\n.card .breakingSkinBackground {\n\tpointer-events: none;\n    width: 176px;\n    height: 246px;\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 1;\n}\n\n.cardName.SWITCH div {\n\tdisplay: inline-block;\n}\n\n.cardName.SWITCH div,.SWITCH {\n\tbackground: linear-gradient(to right, #42FCFF 50%, #FF0000 50%);\n\ttext-shadow: none;\n\t-webkit-background-clip: text;\n\t-webkit-text-fill-color: transparent;\n\t/*display: inline-block;*/\n}\n\n.HATE {\n\tcolor: black;\n\ttext-shadow: -1px -1px white, 1px 1px white, -1px 1px white, 1px -1px white;\n}\n\n.card:hover .glyphicon.PrettyCards_CardThemeSongPlayer {\n\tdisplay: block;\n}\n\n.glyphicon.PrettyCards_CardThemeSongPlayer {\n\tdisplay: none;\n\tfont-size: 30px;\n\tposition: absolute;\n\ttop: 40px;\n\tleft: 14px;\n\tcursor: pointer;\n\tz-index: 10;\n}\n\n.glyphicon.PrettyCards_CardThemeSongPlayer:hover {\n\tcolor:#41fcff;\n}\n\n.PrettyCards_CardThemeSongList {\n\tline-height: normal;\n\tbackground-color: rgb(230, 230, 230, 0.7);\n\tfont-family: DTM-Mono;\n\tdisplay: none;\n\tposition: absolute;\n    max-width: 118px;\n\twidth: max-content;\n\ttop: 0;\n    left: 32px;\n\tflex-wrap: wrap;\n\tflex-direction: row;\n}\n\n.PrettyCards_CardThemeSongList .btn {\n\tpadding: 4px 8px;\n\tmargin: 0.5px;\n\n}\n\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(1),\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(1) ~  .btn,\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(2),\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(2) ~ .btn,\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(3),\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(3) ~ .btn {\n\tpadding: 6px 12px;\n\tmargin: 1px;\n}\n\n.PrettyCards_CardThemeSongPlayer:hover .PrettyCards_CardThemeSongList,.PrettyCards_CardThemeSongList:hover {\n\tdisplay: flex;\n}\n\n.PrettyCards_TransparentText {\n\tcolor: rgba(1, 1, 1, 0);\n\ttext-shadow: none;\n}\n\n#PrettyCards_CustomCardCategories {\n\t/*display: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;*/\n}\n\n.PrettyCards_CardCollection {\n\tbackground-color: #111111;\n\t/*width: calc(50% - 0.5em);*/\n\tmargin: 0.25em;\n\tpadding: 0.4em 0.6em;\n\tcursor: pointer;\n}\n\n.PrettyCards_CollectionName {\n\tfont-size: 2em;\n}\n\n.PrettyCards_CollectionAuthor {\n\tfont-size: 1.5em;\n}\n\n.PrettyCards_CollectionDetails {\n\tfont-size: 1.2em;\n\t/*float: right;*/\n}\n\n.PrettyCards_BigCollectionName {\n\twidth: 100%;\n\tfont-size: 3em;\n\ttext-align: center;\n}\n\n.PrettyCards_BigCollectionAuthor {\n\twidth: 100%;\n\tfont-size: 2em;\n\ttext-align: right;\n}\n\n.PrettyCards_Soul {\n\twidth: 4em;\n\theight: 4em;\n\tmargin: 0.5em;\n\tcursor: pointer;\n}\n\n.PrettyCards_CollectionBackButton {\n\tfont-size: 1.5em;\n\tcursor: pointer;\n}\n\n.PrettyCards_CollectionBackButton:hover {\n\tcolor: #41fcff;\n}\n\n#PrettyCards_CardsShowcase,#PrettyCards_ArtifactsShowcase,#PrettyCards_SoulsShowcase {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n\n#PrettyCards_CardsShowcase .card {\n\tmargin: 2px;\n}\n\n#PrettyCards_CollectionHeaderTop {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n}\n\n.PrettyCards_CollectionNew_Soultifact {\n\tdisplay: flex;\n\tflex-wrap: nowrap;\n\tflex-direction: row;\n}\n\n.PrettyCards_CollectionNew_SoultifactImage {\n\twidth: 7em;\n\theight: 7em;\n\tmargin-right: 1em;\n\tcursor: pointer;\n\ttop: 0px;\n\tleft: 0px;\n\ttransform: scale(1.5);\n}\n\n.PrettyCards_CollectionNew_SoultifactName {\n\tfont-size: 2.5em;\n\twidth: fit-content;\n}\n\n.PrettyCards_CollectionNew_SoultifactRarity {\n\tfont-size: 1.2em;\n\twidth: fit-content;\n}\n\n.PrettyCards_CustomCardsShowcaseScreenshot {\n\tbackground-color: black;\n    padding: 1em;\n    border: 5px solid white;\n}",""]);const o=s},7288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n/*\n.PrettyCards_Contributor {\n    text-shadow: none;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background: linear-gradient(90deg, rgba(102,0,255,1) 0%, rgba(102,0,255,1) 50%, rgba(254,255,0,1) 50%, rgba(254,255,0,1) 100%);\n}\n*/\n\n.PrettyCards_Staff {\n    color: rgb(113, 0, 205);\n}\n\n.PrettyCards_MiniStaff {\n    color: rgb(143, 0, 245);\n}\n\n.PrettyCards_Owner {\n    color: rgb(137, 0, 164);\n}\n\n.Overachiever {\n    color: #690000;\n}\n\n.Cutie {\n    color: #FF67DC;\n}\n\n.Grassless {\n    color: #92df4f;\n}",""]);const o=s},9157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,'\n.friendship-level {\n    color: #fff;\n    position: absolute;\n    left: 62px;\n    top: 102px;\n    z-index: 8;\n    background-color: rgba(0,0,0,.7);\n    width: 50px;\n    height: 50px;\n    border: 3px solid #fff;\n    border-radius: 50%;\n    font-size: 22px;\n    text-align: center;\n    display: inline-block;\n    line-height: 42px\n}\n\n.friendship-xp {\n    color: #fff;\n    position: absolute;\n    left: 8px;\n    top: 174px;\n    z-index: 8;\n    width: 160px;\n    font-size: 16px;\n    text-align: center;\n    display: inline-block\n}\n\n.friendship-bar progress {\n    width: 130px;\n    position: absolute;\n    left: 24px;\n    top: 142px;\n    z-index: 7\n}\n\n.PrettyCards_FriendshipTop {\n\tright: 117px;\n\tbottom: 130px;\n    z-index: 9;\n    position: absolute;\n    background-color: darkmagenta;\n    border-radius: 1em;\n    padding: 0.5em;\n    width: 3.5em;\n    text-align: center;\n\tborder-bottom-right-radius: 0px;\n\tfont-size: 0.8em;\n}\n\n.PrettyCards_FriendshipTop.PrettyCards_FriendshipTop_Right {\n\tleft: 115px;\n\tborder-bottom-right-radius: 1em;\n\tborder-bottom-left-radius: 0px;\n}\n\n/* Taken Directly from Underscript */\n.PrettyCards_FriendshipRank {\n\tposition: relative;\n\tz-index: 9;\n\twidth: 32px;\n\theight: 32px;\n\tleft: 95px;\n\ttop: 95px;\n\topacity: 0.9;\n\tbackground-image: url(https://undercards.net/images/friendship.png);\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n}\n\n.PrettyCards_FriendshipRank:not([top])[val]::after {\n\tcontent: attr(val);\n\tfont-size: 17px;\n\ttext-align: center;\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\ttext-shadow: -1px -1px 0 #000, 1px 1px 0 #000, -1px 1px 0 #000, 1px -1px 0 #000;\n}\n\n.PrettyCards_FriendshipRank[top]::after {\n\tcontent: \' \';\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.PrettyCards_FriendshipRank[val="1"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_DETERMINATION.png); }\n.PrettyCards_FriendshipRank[val="2"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_LEGENDARY.png); }\n.PrettyCards_FriendshipRank[val="3"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_EPIC.png); }\n.PrettyCards_FriendshipRank[val="4"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_RARE.png); }\n.PrettyCards_FriendshipRank[val="5"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_COMMON.png); }',""]);const o=s},4578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,'\n.PrettyCards_GameEnd_Backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: -100%;\n    left: 0;\n    background-color: black;\n    overflow: auto;\n    z-index: 14;\n}\n\n.PrettyCards_GameEnd_Content {\n    width: 900px;\n    min-height: 100%;\n    padding: 15px 0;\n    margin: auto;\n}\n\n.PrettyCards_GameEnd_Title {\n    font-size: 10em;\n    text-align: center;\n    line-height: 1.2;\n    /*margin-bottom: 0.3em;*/\n}\n\n.PrettyCards_GameEnd_Subtitle {\n    font-size: 2em;\n    text-align: center;\n    line-height: 0.8;\n    margin-bottom: 1em;\n}\n\n.DTFragment {\n    color: #990000;\n    text-shadow: 0 0 10px #FF0000;\n}\n\n.PrettyCards_GameEnd_RewardSourceContainer::before {\n    content: " ";\n}\n\n.PrettyCards_GameEnd_RewardRow {\n    font-size: 1.5em;\n    text-align: center;\n    vertical-align: middle;\n}\n\n.PrettyCards_GameEnd_RewardRow img {\n    height: 32px;\n}\n\n.PrettyCards_GameEnd_BarRow {\n    display: flex;\n    flex-wrap: nowrap;\n    flex-direction: row;\n    /* align-content: center; */\n    justify-content: center;\n    align-items: center;\n}\n\n.PrettyCards_GameEnd_Content .glyphicon {\n    position: relative;\n}\n\n.PrettyCards_GameEnd_Tooltip {\n    position: absolute;\n    bottom: 100%;\n    translate: -50% 0;\n    left: 50%;\n    display: none;\n    white-space: nowrap;\n}\n\n*:hover > .PrettyCards_GameEnd_Tooltip {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    align-items: center;\n}\n\n* > .PrettyCards_GameEnd_Tooltip:hover {\n    display: none;\n}\n\n.PrettyCards_GameEnd_TooltipText {\n    background-color: #303030;\n    font-family: DTM-Mono;\n    padding: 0.3em 0.4em;\n    border-radius: 0.3em;\n    color: white;\n    font-size: 0.8em;\n    text-shadow: none;\n}\n\n.PrettyCards_GameEnd_TooltipArrow {\n    background-color: #303030;\n    width: 0.5em;\n    height: 0.5em;\n    transform: rotate(45deg);\n    translate: 0 -50%;\n    z-index: -1;\n}\n\n.PrettyCards_GameEnd_BarText {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    vertical-align: middle;\n    opacity: 0.6;\n    top: 0;\n    left: 0;\n}\n\n.PrettyCards_XPBarText {\n    color: #000000;\n}\n\n.PrettyCards_GameEnd_LeaveRow {\n    text-align: center;\n    margin-top: 20px;\n    scale: 1.2;\n}\n\n.PrettyCards_GameEnd_FriendshipCards {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n}\n\n.PrettyCards_GameEnd_FriendshipHeader {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-content: center;\n    align-items: center;\n    padding: 0 15px;\n}\n\n.PrettyCards_GameEnd_Backdrop .friendship-not-claimed .cardFrame {\n    -webkit-filter: grayscale(100%) brightness(50%) sepia(100%) hue-rotate(100deg) saturate(500%) contrast(1.5);\n    filter: grayscale(100%) brightness(50%) sepia(100%) hue-rotate(100deg) saturate(500%) contrast(1.5)\n}\n\n.PrettyCards_GameEnd_Backdrop .friendship-not-claimed .cardBackground {\n    box-shadow: 0 0 10px 5px #4fff00\n}\n\n.PrettyCards_GameEnd_Backdrop .friendship-not-claimed:hover {\n    opacity: 0.8;\n}\n\n.PrettyCards_GameEnd_QuestRow {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: center;\n    height: 60px;\n    border-top: 1px solid #ddd;\n}\n\n.PrettyCards_GameEnd_QuestRow img {\n    height: 32px;\n}\n\n.PrettyCards_GameEnd_QuestRow .avatar {\n    height: 48px;\n}\n\n.PrettyCards_GameEnd_QuestText {\n    padding: 0.5em;\n    width: 100%;\n}\n\n.PrettyCards_GameEnd_QuestProgress {\n    min-width: 190px;\n}\n\n.PrettyCards_GameEnd_QuestReward {\n    min-width: 100px;\n    text-align: center;\n}\n\n.PrettyCards_GameEnd_QuestClaim {\n    min-width: 100px;\n    text-align: center;\n}\n\n.PrettyCards_BarelyVisibleHallucinationMachine {\n    opacity: 0.01;\n    animation: PrettyCards_BarelyVisibleHallucinationMachine linear 22s infinite;\n    user-select: none;\n    pointer-events: none;\n}\n\n.PrettyCards_Transparent {\n    opacity: 0;\n}\n\n@keyframes PrettyCards_BarelyVisibleHallucinationMachine {\n    from {\n        opacity: 0;\n    }\n\n    20% {\n        opacity: 0.022;\n    }\n\n    25% {\n        opacity: 0.05;\n    }\n\n    28% {\n        opacity: 0;\n    }\n\n    70% {\n        opacity: 0.01;\n    }\n\n    75% {\n        opacity: 0.05;\n    }\n\n    77% {\n        opacity: 0;\n    }\n\n    90% {\n        opacity: 0.01;\n    }\n\n    92% {\n        opacity: 0.05;\n    }\n\n    93% {\n        opacity: 0;\n    }\n  \n    100% {\n        opacity: 0;\n    }\n  }',""]);const o=s},1315:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n#PrettyCards_CT_Phase0_SourceSelect > div {\n    font-size: 2em;\n    margin: 0.5em;\n    cursor: pointer;\n}\n\n#PrettyCards_CT_Phase0_SourceSelect > div:hover {\n    color: yellow;\n}\n\n#PrettyCards_CT_Phase1_LangaugeSelect {\n\n}\n\n#PrettyCards_CT_Phase1_LangaugeSelect > div {\n    font-size: 2em;\n    margin: 0.5em;\n    cursor: pointer;\n}\n\n#PrettyCards_CT_Phase1_LangaugeSelect > div:hover {\n    color: green;\n}\n\n#PrettyCards_CT_Phase2 {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n}\n\n#PrettyCards_CT_Phase2_MainContent {\n    max-width: 900px;\n    min-width: 900px;\n}\n\n#PrettyCards_CT_Phase2_FilterRow {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    margin-bottom: 1em;\n}\n\n.mainContent.PrettyCards_FullWidthMainContent {\n    width: 100%;\n}\n\n.mainContent.PrettyCards_WiderMainContent {\n    width: 1500;\n}\n\n#PrettyCards_CT_Phase2_QuickRef {\n    width: 600px;\n    border: 5px solid white;\n    background-color: black;\n    padding: 0px 8px;\n}\n\n#PrettyCards_CT_Phase2_Table {\n    margin-top: 1em;\n}\n\n.PrettyCards_CT_Phase2_ListEntryRow > td {\n    width: 50%;\n}\n\n.PrettyCards_CT_Phase2_ListEntryRow textarea {\n    max-width: 430px;\n    min-width: 430px;\n}\n\n@font-face {\n    font-family: UniSansHeavy;\n    src: url(fonts/Uni\\ Sans\\ Heavy.otf);\n}\n\n@font-face {\n    font-family: WhitneyMedium;\n    src: url(fonts/Whitney-Medium.ttf);\n}\n\n.PrettyCards_DiscordMention {\n    background-color: #5B6DED;\n    color: white;\n    font-family: WhitneyMedium;\n    border-radius: 3px;\n    font-size: 1.1em;\n    padding: 1px 2px;\n}\n\n.PrettyCards_BlockCode {\n    display: block;\n    padding: 4px 8px;\n}\n\n.PrettyCards_DarkThemeCode {\n    user-select: all;\n    color: #CCCCCC;\n    background-color: #222222;\n}\n\n#PrettyCards_CT_Phase2_Table tr {\n    user-select: text;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntry > *:not(.PrettyCards_CT_Phase2_QuickRefEntryTitle) {\n    display: none;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntry.PrettyCards_CT_Phase2_QuickRefEntryOpen > * {\n    display: block;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntryTitle {\n    cursor: pointer;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntryTitle:hover {\n    color: #BBBBBB;\n}",""]);const o=s},1700:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.PrettyCards_DeckImageImport_Parent {\n    color: #dddddd;\n}\n\n.PrettyCards_DeckImageImport_FileBtnFancy {\n    margin-top: 15px;\n    display: flex;\n    width: 100%;\n    height: 100px;\n    border: 3px dashed #dddddd;\n    color: #dddddd;\n    border-style: dashed;\n    font-size: 2em;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n}",""]);const o=s},9008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,'\n/* From: https://www.w3schools.com/howto/howto_css_switch.asp */\n\n/* The form_switch - the box around the slider */\n.form_switch {\n    position: relative;\n    display: inline-block;\n    width: 60px;\n    height: 34px;\n}\n\n/* Hide default HTML checkbox */\n.form_switch input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n}\n\n/* The slider */\n.slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    -webkit-transition: .4s;\n    transition: .4s;\n}\n\n.slider:before {\n    position: absolute;\n    content: "";\n    height: 26px;\n    width: 26px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    -webkit-transition: .4s;\n    transition: .4s;\n}\n\ninput:checked + .slider {\n    background-color: #2196F3;\n}\n\ninput:focus + .slider {\n    box-shadow: 0 0 1px #2196F3;\n}\n\ninput:checked + .slider:before {\n    -webkit-transform: translateX(26px);\n    -ms-transform: translateX(26px);\n    transform: translateX(26px);\n}\n\n/* Rounded sliders */\n.slider.round {\n    border-radius: 34px;\n}\n\n.slider.round:before {\n    border-radius: 50%;\n}\n\n.form_switch.friendshipSortSwitch .slider {\n    background-color: #0003ff;\n}\n\n.form_switch.friendshipSortSwitch input:checked + .slider {\n    background-color: #FF49EF;\n}\n\n/* Seems like a good place to put this? */\nfooter .glyphicon:hover {\n    opacity: .5;\n}',""]);const o=s},525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.PrettyCards_LookAt_NoScroll {\n\toverflow: hidden;\n}\n\n.PrettyCards_LookAt_Background {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0px;\n\toverflow-y: auto;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tz-index: 222;\n}\n\n.PrettyCards_LookAt_Container {\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.PrettyCards_LookAt_Title {\n\tfont-size: 3em;\n\theight: 3em;\n\tcolor: white;\n\tflex: 0 1 auto;\n\ttext-align: center;\n}\n\n.PrettyCards_LookAt_CardContainer {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 80%;\n\tmin-width:  900px;\n\tmargin: 1em auto;\n\tflex: 0 1 auto;\n\theight: 100%;\n}\n\n.PrettyCards_LookAt_CardContainer .card:hover .cardBackground{\n    box-shadow: 0 0 10px 5px fuchsia;\n    transform: translate3d(0, 0, 0);\n}\n\n.PrettyCards_LookAt_CardContainer .card:hover .cardFrame {\n\t-webkit-filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(250deg) saturate(500%) contrast(1.5);\n    filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(250deg) saturate(500%) contrast(1.5);\n}",""]);const o=s},1298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n#PrettyCards_MassCraft_SoulDeckRow {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n}\n\n#PrettyCards_MassCraft_SoulDeckRow img {\n    width: 32px;\n}\n\n#PrettyCards_MassCraft_Artifacts {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    align-content: center;\n}\n\n.PrettyCards_MassCraft_ArtifactSlot {\n    margin-left: 10px;\n}\n\n@keyframes PrettyCards_MassCraft_MissingArtifact {\n    to {\n        color: red;\n        border-color: red;\n    }\n}\n\n.PrettyCards_MassCraft_MissingArtifact {\n    animation: PrettyCards_MassCraft_MissingArtifact alternate 2s infinite;\n    animation-timing-function: ease-in-out;\n}\n\n#PrettyCards_MassCraft_ModeSelectRow {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n    margin-top: 0.5em;\n}\n\n.PrettyCards_MassCraft_ModeSelectBtn {\n    border: 1px solid #222222;\n    padding: 0.5em 0.6em;\n    text-align: center;\n    width: 50%;\n    height: 100%;\n}\n\n.PrettyCards_MassCraft_ModeSelectBtn:hover {\n    background-color: #333333;\n}\n\n.PrettyCards_MassCraft_ModeSelected {\n    background-color: #434343;\n}\n\n.PrettyCards_MassCraft_NotHave .cardFrame {\n    -webkit-filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(310deg) saturate(500%) contrast(1.5);\n    filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(310deg) saturate(500%) contrast(1.5);\n}\n\n#PrettyCards_MassCraft_CardContainer {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: space-between;\n    max-height: 600px;\n    overflow-y: auto;\n    padding: 20px;\n}\n\n#PrettyCards_MassCraft_BuyRow {\n    margin-top: 1em;\n    font-size: 1.2em;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n}\n\n.normalArtifact {\n    border-color: white;\n}\n\n.baseArtifact {\n    border: 1px solid rgb(68, 68, 68);\n}\n\n.tokenArtifact {\n    border: 1px solid rgb(11, 135, 0);\n}\n\n.determinationArtifact,.dtArtifact {\n    border: 1px solid rgb(207, 0, 0);\n}\n\n.rareArtifact {\n    border: 1px solid rgb(20, 0, 204);\n}\n\n.epicArtifact {\n    border: 1px solid rgb(115, 0, 186);\n}\n\n.mythicArtifact {\n    animation: mythicBorder 2s infinite;\n}\n\n@keyframes mythicBorder {\n    0% {\n        border: 1px solid red\n    }\n\n    17% {\n        border: 1px solid #ff0\n    }\n\n    33% {\n        border: 1px solid #0f0\n    }\n\n    50% {\n        border: 1px solid #0ff\n    }\n\n    67% {\n        border: 1px solid #00f\n    }\n\n    84% {\n        border: 1px solid #f0f\n    }\n\n    100% {\n        border: 1px solid red\n    }\n}",""]);const o=s},8586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n#PrettyCards_MainMenu {\n    position: absolute; \n    top: 0px; \n    right: 38px; \n    display: none; /*Manipulated by code*/\n    z-index: 12;\n}\n\n#PrettyCards_TopAdvert {\n    width: 100%;\n    text-align: center;\n    background-color: #3192e7;\n    padding: 0.3em;\n    font-size: 1.2em;\n    position: relative;\n    height: 36px;\n}\n\n#PrettyCards_TopAdvert_CloseButtons {\n    top: 0.3em;\n    right: 0.5em;\n    display:flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    position: absolute;\n    color: white;\n    user-select: none;\n}\n\n#PrettyCards_TopAdvert_CloseButtons > div {\n    margin: 0 0.4em;\n    cursor: pointer;\n}\n\n#PrettyCards_TopAdvert_CloseButtons > div:hover {\n    color: #888888;\n}\n\n.PrettyCards_HiddenUntilLogin {\n    display: none;\n}",""]);const o=s},4386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.PrettyCards_Mobile_HeaderButton {\n\tfont-size: 30px;\n\tpadding: 5px;\n\theight: 50px;\n\twidth: 50px;\n\tcolor: black;\n}\n\n.PrettyCards_HeaderFlex {\n\tdisplay: flex;\n}\n\n#PrettyCards_HeaderMid {\n\twidth: 100%;\n}\n\n#PrettyCards_Mobile_NavBar {\n\tbackground-color: black;\n\tborder: 3px solid white;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 50%;\n\theight: 100%;\n\toverflow-y: auto;\n\tz-index: 100;\n}\n\n.PrettyCards_NavBarItem {\n\tfont-size: 40px;\n\tmargin-left: 20px;\n\tuser-select: none;\n}\n\n.PrettyCards_NavBarItem > span {\n\tcolor: white;\n\tcursor: pointer;\n}\n\n.PrettyCards_NavBarItem > span:hover {\n\ttext-decoration: underline;\n}\n\n.PrettyCards_NavBarItem a {\n\tcolor: white;\n}\n\n.PrettyCards_NavBarItem img {\n\theight: 40px;\n}\n\n.PrettyCards_Hidden {\n\tdisplay: none!important;\n}\n\n#PrettyCards_Mobile_NavBarBG {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 99;\n\topacity: 0.5;\n\tbackground-color: black;\n}\n\n.PrettyCards_NavBarProfile {\n\tfont-size: 25px;\n\tmargin: 5px;\n}\n\n.PrettyCards_NavBarProfile td {\n\tpadding: 0px 5px;\n}\n\n.PrettyCards_Divider {\n\tmargin: 20px;\n\tborder: 1px solid white;\n}\n\n.PrettyCards_NavBarInline {\n\tdisplay: inline-block;\n\tmargin: 10px;\n}\n\n.PrettyCards_NavBarCopyright {\n\tfont-size: 25px;\n\ttext-align: center;\n}",""]);const o=s},1905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.PrettyCards_MainContainer {\n\twidth: 100%;\n\tmargin: 0px;\n}\n\n.PrettyCards_PacksRow {\n\ttext-align: center;\n\twidth: 100%;\n}\n\n.PrettyCards_PackCell {\n\tdisplay: inline-block;\n\twidth: 32%;\n\ttext-align: center;\n\tposition: relative;\n}\n\n.PrettyCards_PackBuyCount, .PrettyCards_PackOpenCount {\n\twidth: 4em;\n\tbackground-color: black;\n\tborder: 2px solid white;\n}\n\n.PrettyCards_PackName {\n\tfont-size: 2.2em;\n}\n\n.PrettyCards_PackDescription {\n\tfont-size: 1.1em;\n}\n\n.PrettyCards_PackText div {\n\tmargin-bottom: 8px;\n}\n\n.PrettyCards_PackText {\n\toverflow-y: hidden;\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.PrettyCards_FloatingPack {\n\twidth: 100%;\n\tmargin: 0px;\n\tposition: relative;\n\ttop: 0px;\n\tanimation: upDown 1.5s alternate infinite ease-in-out;\n}\n\n.PrettyCards_FloatingPackImage {\n\twidth: 60%;\n\tmargin: 0px;\n\tmask-image: url($asset$img/Packs/Pack.svg);\n\tmask-position: center;\n\tmask-size: cover;\n\t-webkit-mask-image: url($asset$img/Packs/Pack.svg);\n\t-webkit-mask-position: center;\n\t-webkit-mask-size: cover;\n\tdisplay: inline-block;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\tbackground-position: center;\n}\n\n.PrettyCards_PackAmount {\n\tposition: absolute;\n\tbottom: 0px;\n\twidth: 100%;\n\tright: 0px;\n\ttext-align: center;\n\tfont-size: 4em;\n\tcolor: gold;\n\tbackground-color: rgba(0, 0, 0, 0.6);\n}\n\n.PrettyCards_InvisiblePack { /*Since the element does not stretch for the background, we are gonna force it to take up the right shape with an invisible version of the image!*/\n\twidth:100%;\n\topacity: 0;\n}\n\n.PrettyCards_PackSpacer {\n\theight: 15em;\n}\n\n.PrettyCards_HalfPackSpacer {\n\theight: 7.5em;\n}\n\n.PrettyCards_ThirdPackSpacer {\n\theight: 5em;\n}\n\n.PrettyCards_Floating {\n\tanimation: upDown 1.5s alternate infinite ease-in-out;\n}\n\n@keyframes upDown {\n  to { transform: translatey(-2em);}\n}\n\n.PrettyCards_PacksRow.PrettyCards_WideTemplate {\n\tposition: absolute;\n\twidth: 100%;\n\tleft: 0px;\n}\n\n.PrettyCards_PacksRow.PrettyCards_WideTemplate .PrettyCards_PackCell {\n\twidth: 19%;\n}\n\n.PrettyCards_AnimationPack {\n\tposition: absolute;\n}\n\n#PrettyCards_PackOpenContent {\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0px;\n\tbackground-color: rgba(0, 0, 0, 0);\n\tdisplay: none;\n\tz-index: 222;\n}\n\n.PrettyCards_CardBack {\n\twidth: 170px;\n\theight: 242px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n}\n\n.PrettyCards_FlippableCardContainer {\n\tposition: absolute;\n\ttransform: translate(-50%, -50%);\n\ttransition: transform 0s;\n\tperspective: 1000px;\n}\n\n.PrettyCards_FlipContainer {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: transform 0s;\n\ttransform-style: preserve-3d;\n}\n\n.PrettyCards_CardBack, .PrettyCards_CardFront {\n\t-webkit-backface-visibility: hidden;\n\tbackface-visibility: hidden;\n}\n\n.PrettyCards_CardFront {\n\t\n}\n\n.PrettyCards_CardBack {\n\twidth: 100%;\n\theight:100%;\n\tposition: absolute;\n\ttop: 0px;\n    background-repeat: no-repeat;\n    background-position: center;\n\tbackground-color: black;\n\ttransform: rotateY(180deg);\n}\n\n.PrettyCards_CardSummary {\n\twidth: 100%;\n\tpadding-left: 10%;\n\tpadding-right: 10%;\n\toverflow-y: auto;\n\ttext-align: center;\n\theight: 100%;\n\tmax-height: 100%; /* To make sure the overflow works on EVERY browser */\n\ttop: 100%;\n\tposition: absolute;\n}\n\n.card .cardName {\n\ttext-align: left;\n}\n\n.PrettyCards_CardSummaryTitle {\n\twidth: 100%;\n\ttext-align: center;\n\tfont-size: 4em;\n}\n\n.PrettyCards_RippedPack {\n\tposition: absolute;\n\tmargin: 0px;\n\tmask-position: center;\n\tmask-size: cover;\n\t-webkit-mask-position: center;\n\t-webkit-mask-size: cover;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\tbackground-position: center;\n}\n\n.PrettyCards_PacksSkipButton {\n\tposition: absolute;\n\tbottom: 0.5em;\n\tright: 0.5em;\n\tfont-size: 4em;\n}\n\n.PrettyCards_RippedPack_Up {\n\tmask-image: url($asset$img/Packs/Pack_HorizontalRip_Top.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_HorizontalRip_Top.svg);\n}\n\n.PrettyCards_RippedPack_Down {\n\tmask-image: url($asset$img/Packs/Pack_HorizontalRip_Bottom.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_HorizontalRip_Bottom.svg);\n}\n\n.PrettyCards_RippedPack_Left {\n\tmask-image: url($asset$img/Packs/Pack_VerticalRip_Left.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_VerticalRip_Left.svg);\n}\n\n.PrettyCards_RippedPack_Right {\n\tmask-image: url($asset$img/Packs/Pack_VerticalRip_Right.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_VerticalRip_Right.svg);\n}",""]);const o=s},5092:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.game-mode:not(.closed):hover {\n\topacity: .7;\n\tcursor: pointer;\n}\n\n.game-mode {\n\ttext-align: center;\n\tmargin: 5px;\n\twidth: 280px;\n\theight: 230px;\n}\n\n.PrettyCards_GamemodeContainer {\n\tdisplay: flex;\n\twidth: 1000px;\n}\n\n.PrettyCards_GamemodeDeck {\n\twidth: 280px;\n\tmargin: 5px;\n\theight: 240px;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.PrettyCards_Gamemodes {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 580px;\n}\n\n.PrettyCards_GamesList {\n\twidth: 580px;\n}\n\n#PrettyCards_DeckContainer {\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n}\n\n#PrettyCards_DeckArtifacts {\n\tmargin-top: 20px;\n\ttext-align: center;\n}\n\n#PrettyCards_SeasonRewards {\n\tmargin-top: 40px;\n\ttext-align: center;\n}\n\n#PrettyCards_JoinCreate {\n\tmargin-top: 40px;\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n\talign-items: center;\n\tflex-direction: column;\n}\n\n#PrettyCards_JoinCreate button {\n\tdisplay: block;\n\tmargin: 5px;\n}\n",""]);const o=s},3410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.PrettyCards_DecklistSoulsContainer,.PrettyCards_DecklistButtonContainer {\n\ttext-align:center;\n\twidth: 100%;\n}\n\n.PrettyCards_DeckListContainer {\n\twidth: 100%;\n\theight: 640px;\n\toverflow-y: auto;\n}\n\n.PrettyCards_DeckHeader {\n\tfont-size: 30px;\n\tpadding-left: 50px;\n\tpadding-bottom: 4px;\n\tpadding-top: 4px;\n}\n\n.PrettyCards_DeckHeader.DETERMINATION {\n\tcolor: black;\n\tbackground-color: #FF0000;\n}\n\n.PrettyCards_DeckHeader.BRAVERY {\n\tcolor: black;\n\tbackground-color: #FCA500;\n}\n\n.PrettyCards_DeckHeader.JUSTICE {\n\tcolor: black;\n\tbackground-color: #FFFF00;\n}\n\n.PrettyCards_DeckHeader.KINDNESS {\n\tcolor: black;\n\tbackground-color: #00C000;\n}\n\n.PrettyCards_DeckHeader.PATIENCE {\n\tcolor: black;\n\tbackground-color: #41FCFF;\n}\n\n.PrettyCards_DeckHeader.INTEGRITY {\n\tcolor: black;\n\tbackground-color: #0064FF;\n}\n\n.PrettyCards_DeckHeader.PERSEVERANCE {\n\tcolor: black;\n\tbackground-color: #D535D9;\n}\n\n.PrettyCards_DeckHeader.MONSTER {\n\tcolor: black;\n\tbackground-color: #FFFFFF;\n}\n\n.PrettyCards_DeckHeader.SWITCH {\n\tcolor: black;\n\tbackground: linear-gradient(to right, #ff0000 50%, #42FCFF 50%);\n}\n\n.PrettyCards_DeckListContainer .card {\n\tdisplay: inline-block;\n\tmargin: 5px 0px;\n}\n\n.card.PrettyCards_DeckCard .cardCost {\n\tdisplay: none;\n}\n\n.card.PrettyCards_DeckCard .cardName {\n\twidth: 160px;\n}\n\n.card.PrettyCards_DeckCard .cardRarity {\n\tdisplay: none;\n}\n\n.PrettyCards_DeckCardErase {\n\theight: 25px;\n\twidth: 160px;\n\tposition: absolute;\n\tpadding-left: 5px;\n\tpadding-right: 5px;\n\tleft: 8px;\n\ttop: 212px;\n\ttext-align: center;\n\tcolor: red;\n    font-size: 25px;\n    line-height: 25px;\n\tz-index: 8;\n}\n\n.PrettyCards_DeckCardErase:hover {\n\tcolor: #880000;\n}\n\n.PrettyCards_ChooseDeckScreenContainer {\n\tposition: relative;\n}\n\n.PrettyCards_DeckListHeaderButton {\n\tfont-size: 25px;\n\tmargin: 8px 5px;\n}\n\n.card.PrettyCards_BaseDeckCard .cardBackground {\n\tbox-shadow: gold 0px 0px 5px 5px;\n}\n\n.PrettyCards_DeckListHeader {\n\tdisplay: flex;\n    flex-direction: row;\n    justify-content: space-between;\n}\n\n/* A failed attempt at an animated menu. */\n/*\n.PrettyCards_DeckHeader_Inactive {\n\tanimation: PrettyCards_DeckHeader_Inactive 1s;\n\twidth: 0px;\n}\n\n@keyframes PrettyCards_DeckHeader_Inactive {\n\tto { width: 0px;}\n}\n\n.PrettyCards_DeckHeader_Active {\n\tanimation: PrettyCards_DeckHeader_Active 1s;\n\twidth: 100%;\n}\n\n@keyframes PrettyCards_DeckHeader_Active {\n\tto { width: 100%;}\n}\n\n.PrettyCards_DeckHeader_Active,.PrettyCards_DeckHeader_Inactive {\n\toverflow-x: hidden;\n}\n*/",""]);const o=s},776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,".PrettyCards_Settings_EditableListRow { display: flex; }\n.PrettyCards_Settings_EditableListRow div { padding: 0.2em; }\n.PrettyCards_Settings_EditableListRow input { padding: 3px 6px; height: 28px; }\n.PrettyCards_Settings_EditableListTable { width: 420px; border-bottom: 1px solid white; border-top: 1px solid white; margin: 2px 0 10px 0; padding: 10px 0; }\n.PrettyCards_Settings_EditableListTableButton.btn { padding: 3px 6px; }\n.PrettyCards_Settings_EditableListText { font-size: 0.8em; }",""]);const o=s},2486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n#PrettyCards_SOP_Buttons {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    z-index: 10;\n    position: relative;\n}\n\n#PrettyCards_SOP_Buttons button {\n    margin: 0.5em;\n}\n\n#PrettyCards_SOP_Phase3_Main {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    height: 300px;\n}\n\n#PrettyCards_SOP_Phase3_CardSpace {\n    width: 100%;\n    height: 100%;\n}\n\n#PrettyCards_SOP_Phase3_Skins {\n    overflow-y: auto;\n    height: 100%;\n    width: 230px;\n    position: relative;\n    z-index: 10;\n}\n\n.PrettyCards_SOP_CardResults {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n}\n\n.PrettyCards_SOP_CardResults .card {\n    margin: 2px;\n}\n\n#PrettyCards_SOP_Phase4_ButtonContainer {\n    position: relative;\n}\n\n#PrettyCards_SOP_TakeScreenshot {\n    aspect-ratio: 1;\n    position: absolute;\n    left: -42px;\n}\n\n.PrettyCards_SOP_Screenshot {\n    border: 5px solid white;\n    background-color: black;\n    padding: 5px;\n    width: 910px;\n}\n\n.PrettyCards_SOP_SkinDisplay {\n    width: 162px;\n    height: 92px;\n    border: 1px solid white;\n    margin: 3px;\n    overflow: hidden;\n}\n\n.PrettyCards_SOP_SkinDisplay:hover {\n    border-color: cyan;\n}\n\n.PrettyCards_SOP_SkinDisplay.selected {\n    border-color: crimson;\n}\n\n#PrettyCards_SOP_Phase3_CardContainer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    margin: 0px;\n    padding: 0px;\n    z-index: 1;\n    overflow: hidden;\n}",""]);const o=s},3620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,"\n.PrettyCards_SmallSoul {\n\theight: 32px;\n\tmargin: 1.5px;\n}\n\n.PrettyCards_NormalSoul {\n\theight: 64px;\n\tmargin: 2px;\n}\n\n.MYTHIC {\n\tanimation-name: rainbow;\n    animation-duration: 5s;\n    animation-timing-function: linear;\n    animation-iteration-count: infinite;\n}\n\n.PrettyCards_Soul_DETERMINATION.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_DETERMINATION {\n\tfilter: drop-shadow(0px 0px 15px #ff0000);\n}\n\n.PrettyCards_Soul_BRAVERY.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_BRAVERY {\n\tfilter: drop-shadow(0px 0px 15px #fca500);\n}\n\n.PrettyCards_Soul_JUSTICE.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_JUSTICE {\n\tfilter: drop-shadow(0px 0px 15px #ffff00);\n}\n\n.PrettyCards_Soul_KINDNESS.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_KINDNESS {\n\tfilter: drop-shadow(0px 0px 15px #00c000);\n}\n\n.PrettyCards_Soul_PATIENCE.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_PATIENCE {\n\tfilter: drop-shadow(0px 0px 15px #41fcff);\n}\n\n.PrettyCards_Soul_INTEGRITY.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_INTEGRITY {\n\tfilter: drop-shadow(0px 0px 15px #0064ff);\n}\n\n.PrettyCards_Soul_PERSEVERANCE.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_PERSEVERANCE {\n\tfilter: drop-shadow(0px 0px 15px #d535d9);\n}\n\n.PrettyCards_Soul_MONSTER.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_MONSTER {\n\tfilter: drop-shadow(0px 0px 15px #ffffff);\n}\n\n/*\n.PrettyCards_Soul_SWITCH.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_SWITCH {\n\tfilter: drop-shadow(0px 0px 15px #D400FF);\n}\n*/\n\n.PrettyCards_DisplaySoul_SWITCH .PrettyCards_SplitSoul_Left img {\n\tfilter: drop-shadow(0px 0px 15px #41FCFF);\n}\n\n.PrettyCards_DisplaySoul_SWITCH .PrettyCards_SplitSoul_Right img {\n\tfilter: drop-shadow(0px 0px 15px #FF0000);\n}\n\n.PrettyCards_SelectedSoul.PrettyCards_NormalSoul {\n\tanimation: SoulFloatNormal 1.5s alternate infinite ease-in-out;\n}\n\n.PrettyCards_SoulSelect_Soul {\n\tbackground-position: center;\n\tbackground-size: contain;\n\theight: 64px;\n\twidth: 64px;\n\tmin-width: 64px;\n\tmargin: 2px;\n}\n\n.PrettyCards_SoulSelect_Rainbow {\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0;\n\tbackground: linear-gradient(rgba(255,0,0,1) 0%, rgba(255,154,0,1) 10%, rgba(208,222,33,1) 20%, rgba(79,220,74,1) 30%, rgba(63,218,216,1) 40%, rgba(47,201,226,1) 50%, rgba(28,127,238,1) 60%, rgba(95,21,242,1) 70%, rgba(186,12,248,1) 80%, rgba(251,7,217,1) 90%, rgba(255,0,0,1) 100%) 0 0/100% 200%;\n\t/*\n\tbackground: linear-gradient(145deg, rgba(255,0,0,1) 0%, rgba(252,165,0,1) 14.2857142857%, rgba(255,255,0,1) 28.5714285714%, rgba(0,192,0,1) 42.8571428571%, rgba(65,252,255,1) 57.1428571428%, rgba(0,100,255,1) 71.4285714285%, rgba(213,53,217,1) 85.7142857142%, rgba(255,0,0,1) 100%);\n\t*/\n\tanimation: PrettyCards_SoulSelect_Rainbow 2s linear infinite;\n\tpointer-events: none;\n\topacity: 0.7;\n\tmix-blend-mode: multiply;\n}\n\n@keyframes PrettyCards_SoulSelect_Rainbow {\n\tto {background-position: 0 -200%}\n}\n\n@keyframes SoulFloatNormal {\n\tto { transform: translatey(-15px);}\n}\n\n.PrettyCards_SelectedSoul.PrettyCards_SmallSoul {\n\tanimation: SoulFloatSmall 1.5s alternate infinite ease-in-out;\n}\n\n@keyframes SoulFloatSmall {\n\tto { transform: translatey(-8px);}\n}\n\n.tippy-box[data-inertia][data-state='visible'] {\n\ttransition-timing-function: cubic-bezier(1,1,0,0);\n}\n\n.PrettyCards_DeckTooltip {\n\ttext-align: left;\n}\n\n.PrettyCards_ArtifactContainer {\n\tmargin-bottom: 8px;\n}\n\n.PrettyCards_ChallengeMessageButton {\n\tmargin-left: 10px;\n}\n\n.PrettyCards_SplitSoul_Container {\n\tposition: relative;\n\twidth: 256px;\n\theight: 256px;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\ttop: -38px;\n\tleft: -36px;\n}\n\n.PrettyCards_SplitSoul_Left,.PrettyCards_SplitSoul_Right {\n\twidth: 50%;\n    height: 100%;\n\tposition: relative;\n\toverflow-x: hidden;\n}\n\n.PrettyCards_SplitSoul_Container img {\n\theight: 50%;\n\ttransform: translate(-50%, -50%);\n\ttop: 50%;\n\tposition: absolute;\n}\n\n.PrettyCards_SplitSoul_Container.PrettyCards_SplitSoul_Big img {\n\theight: 75%;\n}\n\n.PrettyCards_SplitSoul_Left img {\n\tleft: 100%;\n}\n\n.PrettyCards_SplitSoul_Right img {\n\tleft: 0px;\n}",""]);const o=s},4095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,'\n.bootstrap-dialog.type-primary .modal-header.PrettyCards_UserHeader {\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\tbackground-position-x: center;\n\tpadding: 3px 15px 3px 47px;\n\tbackground-color: black;\n}\n\n.bootstrap-dialog .bootstrap-dialog-title.PrettyCards_UserTitle {\n\tfont-size: 24px;\n\ttext-shadow: rgb(51 51 51) 3px 2px;\n}\n\n.PrettyCards_UserProfilePic {\n\tposition: absolute;\n\twidth: 64px;\n\theight: 64px;\n\ttop: -25px;\n\tleft: -25px;\n}\n\n* {\n\tbox-sizing: border-box;\n}\n\n.column {\n\tfloat: left;\n\twidth: 50%;\n\tpadding: 10px;\n}\n\n.double_column {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 10px;\n}\n\n.row:after {\n\tcontent: "";\n\tdisplay: table;\n\tclear: both;\n}\n\n.PrettyCards_UserColumn {\n\tpadding: 15px;\n\tfont-size: 18px;\n}\n\n.PrettyCards_UserLV {\n\tcolor: #00b8ff;\n}\n\n.Old_Legend {\n\tcolor: #d6a6e6;\n}\n\n.Old_Master {\n\tcolor: #e6e5a6;\n}\n\n.rainbowAvatar {\n\tposition: absolute;\n\tmix-blend-mode: multiply;\n\topacity: .6;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 2;\n\tpointer-events: none;\n}\n\n.PrettyCards_UserHeader .rainbowAvatar {\n\twidth: 64px;\n\theight: 64px;\n\ttop: -25px;\n\tleft: -25px;\n}\n\n.PrettyCards_UserGroupContainer {\n\twhite-space: nowrap;\n}\n\n.PrettyCards_ChatFriendshipContainer {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-content: center;\n}\n\n.PrettyCards_ChatFriendshipContainer .card {\n\tmargin: 0px 2px;\n}\n\n#PrettyCards_UserInfo_FriendshipTitleContainer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-direction: row;\n}\n\n#PrettyCards_UserInfo_SwapSortArea {\n\tdisplay: flex;\n    margin-top: 20px;\n    margin-bottom: 10px;\n    align-items: center;\n}\n\n#PrettyCards_UserInfo_SwapSortArea label {\n\tmargin: 3px;\n}\n\n.PrettyCards_UserInfo_FriendshipTitleText {\n\tcursor: pointer;\n}\n\n.PrettyCards_UserInfo_FriendshipTitleText:hover {\n\tcolor: #999999;\n}',""]);const o=s},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(s[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},9134:e=>{e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",d=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),o=new I(r||[]);return a(s,"_invoke",{value:S(e,n,o)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",g={};function y(){}function w(){}function C(){}var v={};c(v,s,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b($([])));_&&_!==n&&r.call(_,s)&&(v=_);var P=C.prototype=y.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,i,s,o){var d=u(e[a],e,i);if("throw"!==d.type){var c=d.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,o)}))}o(d.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function S(e,t,n){var r=p;return function(a,i){if(r===f)throw new Error("Generator is already running");if(r===m){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var o=E(s,n);if(o){if(o===g)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var d=u(e,t,n);if("normal"===d.type){if(r=n.done?m:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r=m,n.method="throw",n.arg=d.arg)}}}function E(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=u(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function $(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:N}}function N(){return{value:t,done:!0}}return w.prototype=C,a(P,"constructor",{value:C,configurable:!0}),a(C,"constructor",{value:w,configurable:!0}),w.displayName=c(C,d,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c(e,d,"GeneratorFunction")),e.prototype=Object.create(P),e},e.awrap=function(e){return{__await:e}},k(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var s=new x(l(t,n,r,a),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(P),c(P,d,"Generator"),c(P,s,(function(){return this})),c(P,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=$,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return o.type="throw",o.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var d=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(d&&c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(d){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:$(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},181:(e,t,n)=>{const r=n(1158);e.exports={recognize:async(e,t,n)=>{const a=await r(n);return await a.loadLanguage(t),await a.initialize(t),a.recognize(e).finally((async()=>{await a.terminate()}))},detect:async(e,t)=>{const n=await r(t);return await n.loadLanguage("osd"),await n.initialize("osd"),n.detect(e).finally((async()=>{await n.terminate()}))}}},6308:e=>{e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},7895:e=>{e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},9154:(e,t,n)=>{const r=n(6308);e.exports={defaultOEM:r.DEFAULT}},8720:e=>{e.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}},9520:e=>{e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},1949:(e,t,n)=>{const r=n(5504);let a=0;e.exports=({id:e,action:t,payload:n={}})=>{let i=e;return void 0===i&&(i=r("Job",a),a+=1),{id:i,action:t,payload:n}}},7877:function(e,t,n){const r=n(1949),{log:a}=n(3486),i=n(5504);let s=0;e.exports=()=>{const e=i("Scheduler",s),t={},n={};let o=[];s+=1;const d=()=>Object.keys(t).length,c=()=>{if(0!==o.length){const e=Object.keys(t);for(let r=0;r<e.length;r+=1)if(void 0===n[e[r]]){o[0](t[e[r]]);break}}},l=(t,i)=>new Promise(((s,d)=>{const l=r({action:t,payload:i});o.push((async e=>{o.shift(),n[e.id]=l;try{s(await e[t].apply(this,[...i,l.id]))}catch(e){d(e)}finally{delete n[e.id],c()}})),a(`[${e}]: Add ${l.id} to JobQueue`),a(`[${e}]: JobQueue length=${o.length}`),c()}));return{addWorker:n=>(t[n.id]=n,a(`[${e}]: Add ${n.id}`),a(`[${e}]: Number of workers=${d()}`),c(),n.id),addJob:async(t,...n)=>{if(0===d())throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return l(t,n)},terminate:async()=>{Object.keys(t).forEach((async e=>{await t[e].terminate()})),o=[]},getQueueLen:()=>o.length,getNumWorkers:d}}},1158:(e,t,n)=>{const r=n(1937),a=n(3634),i=n(1949),{log:s}=n(3486),o=n(5504),{defaultOEM:d}=n(9154),{defaultOptions:c,spawnWorker:l,terminateWorker:u,onMessage:p,loadImage:h,send:f}=n(3791);let m=0;e.exports=async(e={})=>{const t=o("Worker",m),{logger:n,errorHandler:g,...y}=r({...c,...e}),w={},C={};let v,b;const _=new Promise(((e,t)=>{b=e,v=t}));let P=l(y);P.onerror=e=>{v(e.message)},m+=1;const k=(e,t)=>{w[e]=t},x=(e,t)=>{C[e]=t},S=({id:e,action:n,payload:r})=>new Promise(((a,i)=>{s(`[${t}]: Start ${e}, action=${n}`),k(n,a),x(n,i),f(P,{workerId:t,jobId:e,action:n,payload:r})}));p(P,(({workerId:e,jobId:t,status:r,action:i,data:o})=>{if("resolve"===r){s(`[${e}]: Complete ${t}`);let n=o;"recognize"===i?n=a(o):"getPDF"===i&&(n=Array.from({...o,length:Object.keys(o).length})),w[i]({jobId:t,data:n})}else if("reject"===r){if(C[i](o),"load"===i&&v(o),!g)throw Error(o);g(o)}else"progress"===r&&n({...o,userJobId:t})}));const E={id:t,worker:P,setResolve:k,setReject:x,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,n)=>S(i({id:n,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>S(i({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>S(i({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,n)=>S(i({id:n,action:"FS",payload:{method:e,args:t}})),loadLanguage:(e="eng",t)=>S(i({id:t,action:"loadLanguage",payload:{langs:e,options:y}})),initialize:(e="eng",t=d,n,r)=>S(i({id:r,action:"initialize",payload:{langs:e,oem:t,config:n}})),setParameters:(e={},t)=>S(i({id:t,action:"setParameters",payload:{params:e}})),recognize:async(e,t={},n={blocks:!0,text:!0,hocr:!0,tsv:!0},r)=>S(i({id:r,action:"recognize",payload:{image:await h(e),options:t,output:n}})),getPDF:(e="Tesseract OCR Result",t=!1,n)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),S(i({id:n,action:"getPDF",payload:{title:e,textonly:t}}))),detect:async(e,t)=>S(i({id:t,action:"detect",payload:{image:await h(e)}})),terminate:async()=>(null!==P&&(u(P),P=null),Promise.resolve())};return S(i({id:undefined,action:"load",payload:{options:y}})).then((()=>b(E))).catch((()=>{})),_}},7320:(e,t,n)=>{n(5666);const r=n(7877),a=n(1158),i=n(181),s=n(9520),o=n(6308),d=n(7895),{setLogging:c}=n(3486);e.exports={languages:s,OEM:o,PSM:d,createScheduler:r,createWorker:a,setLogging:c,...i}},3634:e=>{e.exports=e=>{const t=[],n=[],r=[],a=[],i=[];return e.blocks&&e.blocks.forEach((s=>{s.paragraphs.forEach((t=>{t.lines.forEach((n=>{n.words.forEach((r=>{r.symbols.forEach((a=>{i.push({...a,page:e,block:s,paragraph:t,line:n,word:r})})),a.push({...r,page:e,block:s,paragraph:t,line:n})})),r.push({...n,page:e,block:s,paragraph:t})})),n.push({...t,page:e,block:s})})),t.push({...s,page:e})})),{...e,blocks:t,paragraphs:n,lines:r,words:a,symbols:i}}},6376:(e,t,n)=>{const r=n(9134);e.exports=e=>{const t={};return"undefined"!=typeof WorkerGlobalScope?t.type="webworker":r()?t.type="electron":"object"==typeof window?t.type="browser":"object"==typeof process&&(t.type="node"),void 0===e?t:t[e]}},5504:e=>{e.exports=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`},3486:function(e,t){let n=!1;t.logging=n,t.setLogging=e=>{n=e},t.log=(...e)=>n?console.log.apply(this,e):null},1937:(e,t,n)=>{const r="browser"===n(6376)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach((n=>{e[n]&&(t[n]=r(t[n]))})),t}},4040:(e,t,n)=>{const{version:r}=n(4547),a=n(8720);var i;e.exports={...a,workerPath:"undefined"!=typeof process&&"development"===process.env.TESS_ENV?(i=`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`,new URL(i,window.location.href).href):`https://cdn.jsdelivr.net/npm/tesseract.js@v${r}/dist/worker.min.js`,corePath:null}},3791:(e,t,n)=>{const r=n(4040),a=n(1005),i=n(25),s=n(9804),o=n(7247),d=n(1196);e.exports={defaultOptions:r,spawnWorker:a,terminateWorker:i,onMessage:s,send:o,loadImage:d}},1196:e=>{const t=e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:e}}})=>{n(Error(`File could not be read! Code=${e}`))},r.readAsArrayBuffer(e)})),n=async e=>{let r=e;if(void 0===e)return"undefined";if("string"==typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))r=atob(e.split(",")[1]).split("").map((e=>e.charCodeAt(0)));else{const t=await fetch(e);r=await t.arrayBuffer()}else if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(r=await n(e.src)),"VIDEO"===e.tagName&&(r=await n(e.poster)),"CANVAS"===e.tagName&&await new Promise((n=>{e.toBlob((async e=>{r=await t(e),n()}))}));else if("undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();r=await t(n)}else(e instanceof File||e instanceof Blob)&&(r=await t(e));return new Uint8Array(r)};e.exports=n},9804:e=>{e.exports=(e,t)=>{e.onmessage=({data:e})=>{t(e)}}},7247:e=>{e.exports=async(e,t)=>{e.postMessage(t)}},1005:e=>{e.exports=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const t=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(t))}else n=new Worker(e);return n}},25:e=>{e.exports=e=>{e.terminate()}},8452:()=>{prettycards.concepts.appendSuperposCard=function(e,t,n=3,r=1){var a=n>0||r>0,i=270;a||(i=246),console.log(n,r,a);var s="height: 100%; width: 50%; overflow-x: hidden;",o=$(`\n        <div style="display: flex; width: 176px; height: ${i}px;">\n            <div class="PrettyCards_SuperposCard_Left" style="${s}"></div>\n            <div class="PrettyCards_SuperposCard_Right" style="${s}"></div>\n        </div>\n    `),d=e.shiny;e.shiny=!1;var c=window.appendCard(e,o.find(".PrettyCards_SuperposCard_Left"));e.shiny=!0;var l=window.appendCard(e,o.find(".PrettyCards_SuperposCard_Right"));return l.css("position","relative"),l.css("left","-100%"),e.shiny=d,a&&(c.append('<div class="cardQuantity" style="text-align:left; padding-left: 0.8em;">x <span class="nb">'+n+"</span></div>"),l.append('<div class="cardQuantity rainbowText" style="text-align:right; padding-right: 0.8em;">x <span class="nb">'+r+"</span></div>")),t.append(o),o}},4701:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,a){"use strict";var i=[],s=Object.getPrototypeOf,o=i.slice,d=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,l=i.indexOf,u={},p=u.toString,h=u.hasOwnProperty,f=h.toString,m=f.call(Object),g={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},w=function(e){return null!=e&&e===e.window},C=r.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,a,i=(n=n||C).createElement("script");if(i.text=e,t)for(r in v)(a=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,a);n.head.appendChild(i).parentNode.removeChild(i)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[p.call(e)]||"object":typeof e}var P="3.6.0",k=function(e,t){return new k.fn.init(e,t)};function x(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!y(e)&&!w(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:P,constructor:k,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},k.extend=k.fn.extend=function(){var e,t,n,r,a,i,s=arguments[0]||{},o=1,d=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[o]||{},o++),"object"==typeof s||y(s)||(s={}),o===d&&(s=this,o--);o<d;o++)if(null!=(e=arguments[o]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(k.isPlainObject(r)||(a=Array.isArray(r)))?(n=s[t],i=a&&!Array.isArray(n)?[]:a||k.isPlainObject(n)?n:{},a=!1,s[t]=k.extend(c,i,r)):void 0!==r&&(s[t]=r));return s},k.extend({expando:"jQuery"+(P+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=s(e))&&("function"!=typeof(n=h.call(t,"constructor")&&t.constructor)||f.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(x(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;r++)e[a++]=t[r];return e.length=a,e},grep:function(e,t,n){for(var r=[],a=0,i=e.length,s=!n;a<i;a++)!t(e[a],a)!==s&&r.push(e[a]);return r},map:function(e,t,n){var r,a,i=0,s=[];if(x(e))for(r=e.length;i<r;i++)null!=(a=t(e[i],i,n))&&s.push(a);else for(i in e)null!=(a=t(e[i],i,n))&&s.push(a);return d(s)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=i[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var S=function(e){var t,n,r,a,i,s,o,d,c,l,u,p,h,f,m,g,y,w,C,v="sizzle"+1*new Date,b=e.document,_=0,P=0,k=de(),x=de(),S=de(),E=de(),A=function(e,t){return e===t&&(u=!0),0},T={}.hasOwnProperty,I=[],$=I.pop,N=I.push,D=I.push,L=I.slice,R=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+O+"*("+B+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+O+"*\\]",H=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",G=new RegExp(O+"+","g"),U=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),j=new RegExp("^"+O+"*,"+O+"*"),z=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),W=new RegExp(O+"|>"),K=new RegExp(H),V=new RegExp("^"+B+"$"),q={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){p()},se=ve((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(I=L.call(b.childNodes),b.childNodes),I[b.childNodes.length].nodeType}catch(t){D={apply:I.length?function(e,t){N.apply(e,L.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,a){var i,o,c,l,u,f,y,w=t&&t.ownerDocument,b=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return r;if(!a&&(p(t),t=t||h,m)){if(11!==b&&(u=Z.exec(e)))if(i=u[1]){if(9===b){if(!(c=t.getElementById(i)))return r;if(c.id===i)return r.push(c),r}else if(w&&(c=w.getElementById(i))&&C(t,c)&&c.id===i)return r.push(c),r}else{if(u[2])return D.apply(r,t.getElementsByTagName(e)),r;if((i=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!E[e+" "]&&(!g||!g.test(e))&&(1!==b||"object"!==t.nodeName.toLowerCase())){if(y=e,w=t,1===b&&(W.test(e)||z.test(e))){for((w=ee.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(re,ae):t.setAttribute("id",l=v)),o=(f=s(e)).length;o--;)f[o]=(l?"#"+l:":scope")+" "+Ce(f[o]);y=f.join(",")}try{return D.apply(r,w.querySelectorAll(y)),r}catch(t){E(e,!0)}finally{l===v&&t.removeAttribute("id")}}}return d(e.replace(U,"$1"),t,r,a)}function de(){var e=[];return function t(n,a){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=a}}function ce(e){return e[v]=!0,e}function le(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),a=n.length;a--;)r.attrHandle[n[a]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,r){for(var a,i=e([],n.length,t),s=i.length;s--;)n[a=i[s]]&&(n[a]=!(r[a]=n[a]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},i=oe.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},p=oe.setDocument=function(e){var t,a,s=e?e.ownerDocument||e:b;return s!=h&&9===s.nodeType&&s.documentElement&&(f=(h=s).documentElement,m=!i(h),b!=h&&(a=h.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",ie,!1):a.attachEvent&&a.attachEvent("onunload",ie)),n.scope=le((function(e){return f.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=le((function(e){return f.appendChild(e).id=v,!h.getElementsByName||!h.getElementsByName(v).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,a,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(a=t.getElementsByName(e),r=0;i=a[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],a=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[a++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(n.qsa=Q.test(h.querySelectorAll))&&(le((function(e){var t;f.appendChild(e).innerHTML="<a id='"+v+"'></a><select id='"+v+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+O+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+v+"-]").length||g.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+O+"*name"+O+"*="+O+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+v+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+O+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(w=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le((function(e){n.disconnectedMatch=w.call(e,"*"),w.call(e,"[s!='']:x"),y.push("!=",H)})),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=Q.test(f.compareDocumentPosition),C=t||Q.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return u=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==h||e.ownerDocument==b&&C(b,e)?-1:t==h||t.ownerDocument==b&&C(b,t)?1:l?R(l,e)-R(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,r=0,a=e.parentNode,i=t.parentNode,s=[e],o=[t];if(!a||!i)return e==h?-1:t==h?1:a?-1:i?1:l?R(l,e)-R(l,t):0;if(a===i)return pe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;s[r]===o[r];)r++;return r?pe(s[r],o[r]):s[r]==b?-1:o[r]==b?1:0}),h},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&m&&!E[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var r=w.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){E(t,!0)}return 0<oe(t,h,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!=h&&p(e),C(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!=h&&p(e);var a=r.attrHandle[t.toLowerCase()],i=a&&T.call(r.attrHandle,t.toLowerCase())?a(e,t,!m):void 0;return void 0!==i?i:n.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},oe.escape=function(e){return(e+"").replace(re,ae)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],a=0,i=0;if(u=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(A),u){for(;t=e[i++];)t===e[i]&&(a=r.push(i));for(;a--;)e.splice(r[a],1)}return l=null,e},a=oe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=a(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:ce,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&K.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var a=oe.attr(r,e);return null==a?"!="===t:!t||(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&-1<a.indexOf(n):"$="===t?n&&a.slice(-n.length)===n:"~="===t?-1<(" "+a.replace(G," ")+" ").indexOf(n):"|="===t&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,a){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===r&&0===a?function(e){return!!e.parentNode}:function(t,n,d){var c,l,u,p,h,f,m=i!==s?"nextSibling":"previousSibling",g=t.parentNode,y=o&&t.nodeName.toLowerCase(),w=!d&&!o,C=!1;if(g){if(i){for(;m;){for(p=t;p=p[m];)if(o?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&w){for(C=(h=(c=(l=(u=(p=g)[v]||(p[v]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(C=h=0)||f.pop();)if(1===p.nodeType&&++C&&p===t){l[e]=[_,h,C];break}}else if(w&&(C=h=(c=(l=(u=(p=t)[v]||(p[v]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===C)for(;(p=++h&&p&&p[m]||(C=h=0)||f.pop())&&((o?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++C||(w&&((l=(u=p[v]||(p[v]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]=[_,C]),p!==t)););return(C-=a)===r||C%r==0&&0<=C/r}}},PSEUDO:function(e,t){var n,a=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return a[v]?a(t):1<a.length?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,i=a(e,t),s=i.length;s--;)e[r=R(e,i[s])]=!(n[r]=i[s])})):function(e){return a(e,0,n)}):a}},pseudos:{not:ce((function(e){var t=[],n=[],r=o(e.replace(U,"$1"));return r[v]?ce((function(e,t,n,a){for(var i,s=r(e,null,a,[]),o=e.length;o--;)(i=s[o])&&(e[o]=!(t[o]=i))})):function(e,a,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return 0<oe(e,t).length}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||a(t)).indexOf(e)}})),lang:ce((function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e})),gt:ge((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function we(){}function Ce(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,a=t.next,i=a||r,s=n&&"parentNode"===i,o=P++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,a);return!1}:function(t,n,d){var c,l,u,p=[_,o];if(d){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,d))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(l=(u=t[v]||(t[v]={}))[t.uniqueID]||(u[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[i])&&c[0]===_&&c[1]===o)return p[2]=c[2];if((l[i]=p)[2]=e(t,n,d))return!0}return!1}}function be(e){return 1<e.length?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function _e(e,t,n,r,a){for(var i,s=[],o=0,d=e.length,c=null!=t;o<d;o++)(i=e[o])&&(n&&!n(i,r,a)||(s.push(i),c&&t.push(o)));return s}function Pe(e,t,n,r,a,i){return r&&!r[v]&&(r=Pe(r)),a&&!a[v]&&(a=Pe(a,i)),ce((function(i,s,o,d){var c,l,u,p=[],h=[],f=s.length,m=i||function(e,t,n){for(var r=0,a=t.length;r<a;r++)oe(e,t[r],n);return n}(t||"*",o.nodeType?[o]:o,[]),g=!e||!i&&t?m:_e(m,p,e,o,d),y=n?a||(i?e:f||r)?[]:s:g;if(n&&n(g,y,o,d),r)for(c=_e(y,h),r(c,[],o,d),l=c.length;l--;)(u=c[l])&&(y[h[l]]=!(g[h[l]]=u));if(i){if(a||e){if(a){for(c=[],l=y.length;l--;)(u=y[l])&&c.push(g[l]=u);a(null,y=[],c,d)}for(l=y.length;l--;)(u=y[l])&&-1<(c=a?R(i,u):p[l])&&(i[c]=!(s[c]=u))}}else y=_e(y===s?y.splice(f,y.length):y),a?a(null,s,y,d):D.apply(s,y)}))}function ke(e){for(var t,n,a,i=e.length,s=r.relative[e[0].type],o=s||r.relative[" "],d=s?1:0,l=ve((function(e){return e===t}),o,!0),u=ve((function(e){return-1<R(t,e)}),o,!0),p=[function(e,n,r){var a=!s&&(r||n!==c)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,a}];d<i;d++)if(n=r.relative[e[d].type])p=[ve(be(p),n)];else{if((n=r.filter[e[d].type].apply(null,e[d].matches))[v]){for(a=++d;a<i&&!r.relative[e[a].type];a++);return Pe(1<d&&be(p),1<d&&Ce(e.slice(0,d-1).concat({value:" "===e[d-2].type?"*":""})).replace(U,"$1"),n,d<a&&ke(e.slice(d,a)),a<i&&ke(e=e.slice(a)),a<i&&Ce(e))}p.push(n)}return be(p)}return we.prototype=r.filters=r.pseudos,r.setFilters=new we,s=oe.tokenize=function(e,t){var n,a,i,s,o,d,c,l=x[e+" "];if(l)return t?0:l.slice(0);for(o=e,d=[],c=r.preFilter;o;){for(s in n&&!(a=j.exec(o))||(a&&(o=o.slice(a[0].length)||o),d.push(i=[])),n=!1,(a=z.exec(o))&&(n=a.shift(),i.push({value:n,type:a[0].replace(U," ")}),o=o.slice(n.length)),r.filter)!(a=q[s].exec(o))||c[s]&&!(a=c[s](a))||(n=a.shift(),i.push({value:n,type:s,matches:a}),o=o.slice(n.length));if(!n)break}return t?o.length:o?oe.error(e):x(e,d).slice(0)},o=oe.compile=function(e,t){var n,a,i,o,d,l,u=[],f=[],g=S[e+" "];if(!g){for(t||(t=s(e)),n=t.length;n--;)(g=ke(t[n]))[v]?u.push(g):f.push(g);(g=S(e,(a=f,o=0<(i=u).length,d=0<a.length,l=function(e,t,n,s,l){var u,f,g,y=0,w="0",C=e&&[],v=[],b=c,P=e||d&&r.find.TAG("*",l),k=_+=null==b?1:Math.random()||.1,x=P.length;for(l&&(c=t==h||t||l);w!==x&&null!=(u=P[w]);w++){if(d&&u){for(f=0,t||u.ownerDocument==h||(p(u),n=!m);g=a[f++];)if(g(u,t||h,n)){s.push(u);break}l&&(_=k)}o&&((u=!g&&u)&&y--,e&&C.push(u))}if(y+=w,o&&w!==y){for(f=0;g=i[f++];)g(C,v,t,n);if(e){if(0<y)for(;w--;)C[w]||v[w]||(v[w]=$.call(s));v=_e(v)}D.apply(s,v),l&&!e&&0<v.length&&1<y+i.length&&oe.uniqueSort(s)}return l&&(_=k,c=b),C},o?ce(l):l))).selector=e}return g},d=oe.select=function(e,t,n,a){var i,d,c,l,u,p="function"==typeof e&&e,h=!a&&s(e=p.selector||e);if(n=n||[],1===h.length){if(2<(d=h[0]=h[0].slice(0)).length&&"ID"===(c=d[0]).type&&9===t.nodeType&&m&&r.relative[d[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(d.shift().value.length)}for(i=q.needsContext.test(e)?0:d.length;i--&&(c=d[i],!r.relative[l=c.type]);)if((u=r.find[l])&&(a=u(c.matches[0].replace(te,ne),ee.test(d[0].type)&&ye(t.parentNode)||t))){if(d.splice(i,1),!(e=a.length&&Ce(d)))return D.apply(n,a),n;break}}return(p||o(e,h))(a,t,!m,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=v.split("").sort(A).join("")===v,n.detectDuplicates=!!u,p(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ue(M,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),oe}(r);k.find=S,k.expr=S.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=S.uniqueSort,k.text=S.getText,k.isXMLDoc=S.isXML,k.contains=S.contains,k.escapeSelector=S.escape;var E=function(e,t,n){for(var r=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&k(e).is(n))break;r.push(e)}return r},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=k.expr.match.needsContext;function I(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var $=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(e,t,n){return y(t)?k.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return-1<l.call(t,e)!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,r=this.length,a=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<r;t++)if(k.contains(a[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,a[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"==typeof e&&T.test(e)?k(e):e||[],!1).length}});var D,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),$.test(r[1])&&k.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(a=C.getElementById(r[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,D=k(C);var R=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,a=this.length,i=[],s="string"!=typeof e&&k(e);if(!T.test(e))for(;r<a;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?k.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?l.call(k(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(I(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,r){var a=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(a=k.filter(r,a)),1<this.length&&(M[e]||k.uniqueSort(a),R.test(e)&&a.reverse()),this.pushStack(a)}}));var B=/[^\x20\t\r\n\f]+/g;function F(e){return e}function H(e){throw e}function G(e,t,n,r){var a;try{e&&y(a=e.promise)?a.call(e).done(t).fail(n):e&&y(a=e.then)?a.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},k.each(t.match(B)||[],(function(e,t){n[t]=!0})),n):k.extend({},e);var r,a,i,s,o=[],d=[],c=-1,l=function(){for(s=s||e.once,i=r=!0;d.length;c=-1)for(a=d.shift();++c<o.length;)!1===o[c].apply(a[0],a[1])&&e.stopOnFalse&&(c=o.length,a=!1);e.memory||(a=!1),r=!1,s&&(o=a?[]:"")},u={add:function(){return o&&(a&&!r&&(c=o.length-1,d.push(a)),function t(n){k.each(n,(function(n,r){y(r)?e.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==_(r)&&t(r)}))}(arguments),a&&!r&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;-1<(n=k.inArray(t,o,n));)o.splice(n,1),n<=c&&c--})),this},has:function(e){return e?-1<k.inArray(e,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return s=d=[],o=a="",this},disabled:function(){return!o},lock:function(){return s=d=[],a||r||(o=a=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],d.push(t),r||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,r){var a=y(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=a&&a.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,a?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,a){var i=0;function s(e,t,n,a){return function(){var o=this,d=arguments,c=function(){var r,c;if(!(e<i)){if((r=n.apply(o,d))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,y(c)?a?c.call(r,s(i,t,F,a),s(i,t,H,a)):(i++,c.call(r,s(i,t,F,a),s(i,t,H,a),s(i,t,F,t.notifyWith))):(n!==F&&(o=void 0,d=[r]),(a||t.resolveWith)(o,d))}},l=a?c:function(){try{c()}catch(r){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(r,l.stackTrace),i<=e+1&&(n!==H&&(o=void 0,d=[r]),t.rejectWith(o,d))}};e?l():(k.Deferred.getStackHook&&(l.stackTrace=k.Deferred.getStackHook()),r.setTimeout(l))}}return k.Deferred((function(r){t[0][3].add(s(0,r,y(a)?a:F,r.notifyWith)),t[1][3].add(s(0,r,y(e)?e:F)),t[2][3].add(s(0,r,y(n)?n:H))})).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},i={};return k.each(t,(function(e,r){var s=r[2],o=r[5];a[r[1]]=s.add,o&&s.add((function(){n=o}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=s.fireWith})),a.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),a=o.call(arguments),i=k.Deferred(),s=function(e){return function(n){r[e]=this,a[e]=1<arguments.length?o.call(arguments):n,--t||i.resolveWith(r,a)}};if(t<=1&&(G(e,i.done(s(n)).resolve,i.reject,!t),"pending"===i.state()||y(a[n]&&a[n].then)))return i.then();for(;n--;)G(a[n],s(n),i.reject);return i.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&U.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){r.setTimeout((function(){throw e}))};var j=k.Deferred();function z(){C.removeEventListener("DOMContentLoaded",z),r.removeEventListener("load",z),k.ready()}k.fn.ready=function(e){return j.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||j.resolveWith(C,[k])}}),k.ready.then=j.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?r.setTimeout(k.ready):(C.addEventListener("DOMContentLoaded",z),r.addEventListener("load",z));var W=function(e,t,n,r,a,i,s){var o=0,d=e.length,c=null==n;if("object"===_(n))for(o in a=!0,n)W(e,t,o,n[o],!0,i,s);else if(void 0!==r&&(a=!0,y(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;o<d;o++)t(e[o],n,s?r:r.call(e[o],o,t(e[o],n)));return a?e:c?t.call(e):d?t(e[0],n):i},K=/^-ms-/,V=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function Y(e){return e.replace(K,"ms-").replace(V,q)}var J=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=k.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},J(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,a=this.cache(e);if("string"==typeof t)a[Y(t)]=n;else for(r in t)a[Y(r)]=t[r];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in r?[t]:t.match(B)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Q=new X,Z=new X,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r,a;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(a=n)||"false"!==a&&("null"===a?null:a===+a+""?+a:ee.test(a)?JSON.parse(a):a)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return Z.hasData(e)||Q.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,a,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(a=Z.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=Y(r.slice(5)),ne(i,r,a[r]));Q.set(i,"hasDataAttrs",!0)}return a}return"object"==typeof e?this.each((function(){Z.set(this,e)})):W(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=Z.get(i,e))||void 0!==(n=ne(i,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,a=n.shift(),i=k._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete i.stop,a.call(e,(function(){k.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:k.Callbacks("once memory").add((function(){Q.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=k.Deferred(),i=this,s=this.length,o=function(){--r||a.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Q.get(i[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(o));return o(),a.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],se=C.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},de={composed:!0};se.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(de)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===k.css(e,"display")};function le(e,t,n,r){var a,i,s=20,o=r?function(){return r.cur()}:function(){return k.css(e,t,"")},d=o(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),l=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+d)&&ae.exec(k.css(e,t));if(l&&l[3]!==c){for(d/=2,c=c||l[3],l=+d||1;s--;)k.style(e,t,l+c),(1-i)*(1-(i=o()/d||.5))<=0&&(s=0),l/=i;l*=2,k.style(e,t,l+c),n=n||[]}return n&&(l=+l||+d||0,a=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=a)),a}var ue={};function pe(e,t){for(var n,r,a,i,s,o,d,c=[],l=0,u=e.length;l<u;l++)(r=e[l]).style&&(n=r.style.display,t?("none"===n&&(c[l]=Q.get(r,"display")||null,c[l]||(r.style.display="")),""===r.style.display&&ce(r)&&(c[l]=(d=s=i=void 0,s=(a=r).ownerDocument,o=a.nodeName,(d=ue[o])||(i=s.body.appendChild(s.createElement(o)),d=k.css(i,"display"),i.parentNode.removeChild(i),"none"===d&&(d="block"),ue[o]=d)))):"none"!==n&&(c[l]="none",Q.set(r,"display",n)));for(l=0;l<u;l++)null!=c[l]&&(e[l].style.display=c[l]);return e}k.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?k(this).show():k(this).hide()}))}});var he,fe,me=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;he=C.createDocumentFragment().appendChild(C.createElement("div")),(fe=C.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),he.appendChild(fe),g.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue,he.innerHTML="<option></option>",g.option=!!he.lastChild;var we={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ce(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&I(e,t)?k.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}we.tbody=we.tfoot=we.colgroup=we.caption=we.thead,we.th=we.td,g.option||(we.optgroup=we.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function _e(e,t,n,r,a){for(var i,s,o,d,c,l,u=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if((i=e[h])||0===i)if("object"===_(i))k.merge(p,i.nodeType?[i]:i);else if(be.test(i)){for(s=s||u.appendChild(t.createElement("div")),o=(ge.exec(i)||["",""])[1].toLowerCase(),d=we[o]||we._default,s.innerHTML=d[1]+k.htmlPrefilter(i)+d[2],l=d[0];l--;)s=s.lastChild;k.merge(p,s.childNodes),(s=u.firstChild).textContent=""}else p.push(t.createTextNode(i));for(u.textContent="",h=0;i=p[h++];)if(r&&-1<k.inArray(i,r))a&&a.push(i);else if(c=oe(i),s=Ce(u.appendChild(i),"script"),c&&ve(s),n)for(l=0;i=s[l++];)ye.test(i.type||"")&&n.push(i);return u}var Pe=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function xe(){return!1}function Se(e,t){return e===function(){try{return C.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,a,i){var s,o;if("object"==typeof t){for(o in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,o,n,r,t[o],i);return e}if(null==r&&null==a?(a=n,r=n=void 0):null==a&&("string"==typeof n?(a=r,r=void 0):(a=r,r=n,n=void 0)),!1===a)a=xe;else if(!a)return e;return 1===i&&(s=a,(a=function(e){return k().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=k.guid++)),e.each((function(){k.event.add(this,t,a,r,n)}))}function Ae(e,t,n){n?(Q.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var r,a,i=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=o.call(arguments),Q.set(this,t,i),r=n(this,t),this[t](),i!==(a=Q.get(this,t))||r?Q.set(this,t,!1):a={},i!==a)return e.stopImmediatePropagation(),e.preventDefault(),a&&a.value}else i.length&&(Q.set(this,t,{value:k.event.trigger(k.extend(i[0],k.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&k.event.add(e,t,ke)}k.event={global:{},add:function(e,t,n,r,a){var i,s,o,d,c,l,u,p,h,f,m,g=Q.get(e);if(J(e))for(n.handler&&(n=(i=n).handler,a=i.selector),a&&k.find.matchesSelector(se,a),n.guid||(n.guid=k.guid++),(d=g.events)||(d=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(B)||[""]).length;c--;)h=m=(o=Pe.exec(t[c])||[])[1],f=(o[2]||"").split(".").sort(),h&&(u=k.event.special[h]||{},h=(a?u.delegateType:u.bindType)||h,u=k.event.special[h]||{},l=k.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&k.expr.match.needsContext.test(a),namespace:f.join(".")},i),(p=d[h])||((p=d[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,f,s)||e.addEventListener&&e.addEventListener(h,s)),u.add&&(u.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),a?p.splice(p.delegateCount++,0,l):p.push(l),k.event.global[h]=!0)},remove:function(e,t,n,r,a){var i,s,o,d,c,l,u,p,h,f,m,g=Q.hasData(e)&&Q.get(e);if(g&&(d=g.events)){for(c=(t=(t||"").match(B)||[""]).length;c--;)if(h=m=(o=Pe.exec(t[c])||[])[1],f=(o[2]||"").split(".").sort(),h){for(u=k.event.special[h]||{},p=d[h=(r?u.delegateType:u.bindType)||h]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=p.length;i--;)l=p[i],!a&&m!==l.origType||n&&n.guid!==l.guid||o&&!o.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(i,1),l.selector&&p.delegateCount--,u.remove&&u.remove.call(e,l));s&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||k.removeEvent(e,h,g.handle),delete d[h])}else for(h in d)k.event.remove(e,h+t[c],n,r,!0);k.isEmptyObject(d)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,a,i,s,o=new Array(arguments.length),d=k.event.fix(e),c=(Q.get(this,"events")||Object.create(null))[d.type]||[],l=k.event.special[d.type]||{};for(o[0]=d,t=1;t<arguments.length;t++)o[t]=arguments[t];if(d.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,d)){for(s=k.event.handlers.call(this,d,c),t=0;(a=s[t++])&&!d.isPropagationStopped();)for(d.currentTarget=a.elem,n=0;(i=a.handlers[n++])&&!d.isImmediatePropagationStopped();)d.rnamespace&&!1!==i.namespace&&!d.rnamespace.test(i.namespace)||(d.handleObj=i,d.data=i.data,void 0!==(r=((k.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,o))&&!1===(d.result=r)&&(d.preventDefault(),d.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,d),d.result}},handlers:function(e,t){var n,r,a,i,s,o=[],d=t.delegateCount,c=e.target;if(d&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],s={},n=0;n<d;n++)void 0===s[a=(r=t[n]).selector+" "]&&(s[a]=r.needsContext?-1<k(a,this).index(c):k.find(a,this,null,[c]).length),s[a]&&i.push(r);i.length&&o.push({elem:c,handlers:i})}return c=this,d<t.length&&o.push({elem:c,handlers:t.slice(d)}),o},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&I(t,"input")&&Ae(t,"click",ke),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&I(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&I(t,"input")&&Q.get(t,"click")||I(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:xe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:xe,isPropagationStopped:xe,isImmediatePropagationStopped:xe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Ae(this,e,Se),!1},trigger:function(){return Ae(this,e),!0},_default:function(){return!0},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,a=e.handleObj;return r&&(r===this||k.contains(this,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=xe),this.each((function(){k.event.remove(this,e,n,t)}))}});var Te=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return I(e,"table")&&I(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,r,a,i,s,o;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.get(e).events))for(a in Q.remove(t,"handle events"),o)for(n=0,r=o[a].length;n<r;n++)k.event.add(t,a,o[a][n]);Z.hasData(e)&&(i=Z.access(e),s=k.extend({},i),Z.set(t,s))}}function Me(e,t,n,r){t=d(t);var a,i,s,o,c,l,u=0,p=e.length,h=p-1,f=t[0],m=y(f);if(m||1<p&&"string"==typeof f&&!g.checkClone&&Ie.test(f))return e.each((function(a){var i=e.eq(a);m&&(t[0]=f.call(this,a,i.html())),Me(i,t,n,r)}));if(p&&(i=(a=_e(t,e[0].ownerDocument,!1,e,r)).firstChild,1===a.childNodes.length&&(a=i),i||r)){for(o=(s=k.map(Ce(a,"script"),De)).length;u<p;u++)c=a,u!==h&&(c=k.clone(c,!0,!0),o&&k.merge(s,Ce(c,"script"))),n.call(e[u],c,u);if(o)for(l=s[s.length-1].ownerDocument,k.map(s,Le),u=0;u<o;u++)c=s[u],ye.test(c.type||"")&&!Q.access(c,"globalEval")&&k.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):b(c.textContent.replace($e,""),c,l))}return e}function Oe(e,t,n){for(var r,a=t?k.filter(t,e):e,i=0;null!=(r=a[i]);i++)n||1!==r.nodeType||k.cleanData(Ce(r)),r.parentNode&&(n&&oe(r)&&ve(Ce(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,a,i,s,o,d,c,l=e.cloneNode(!0),u=oe(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(s=Ce(l),r=0,a=(i=Ce(e)).length;r<a;r++)o=i[r],"input"===(c=(d=s[r]).nodeName.toLowerCase())&&me.test(o.type)?d.checked=o.checked:"input"!==c&&"textarea"!==c||(d.defaultValue=o.defaultValue);if(t)if(n)for(i=i||Ce(e),s=s||Ce(l),r=0,a=i.length;r<a;r++)Re(i[r],s[r]);else Re(e,l);return 0<(s=Ce(l,"script")).length&&ve(s,!u&&Ce(e,"script")),l},cleanData:function(e){for(var t,n,r,a=k.event.special,i=0;void 0!==(n=e[i]);i++)if(J(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)a[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return W(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Me(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)}))},prepend:function(){return Me(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(Ce(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!we[(ge.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(Ce(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(Ce(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,r=[],a=k(e),i=a.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),k(a[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var Be=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},He=function(e,t,n){var r,a,i={};for(a in t)i[a]=e.style[a],e.style[a]=t[a];for(a in r=n.call(e),t)e.style[a]=i[a];return r},Ge=new RegExp(ie.join("|"),"i");function Ue(e,t,n){var r,a,i,s,o=e.style;return(n=n||Fe(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||oe(e)||(s=k.style(e,t)),!g.pixelBoxStyles()&&Be.test(s)&&Ge.test(t)&&(r=o.width,a=o.minWidth,i=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=r,o.minWidth=a,o.maxWidth=i)),void 0!==s?s+"":s}function je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(c).appendChild(l);var e=r.getComputedStyle(l);n="1%"!==e.top,d=12===t(e.marginLeft),l.style.right="60%",s=36===t(e.right),a=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),se.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var n,a,i,s,o,d,c=C.createElement("div"),l=C.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===l.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),a},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),d},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,a;return null==o&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",se.appendChild(e).appendChild(t).appendChild(n),a=r.getComputedStyle(t),o=parseInt(a.height,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),o}}))}();var ze=["Webkit","Moz","ms"],We=C.createElement("div").style,Ke={};function Ve(e){return k.cssProps[e]||Ke[e]||(e in We?e:Ke[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in We)return e}(e)||e)}var qe=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"};function Qe(e,t,n){var r=ae.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,a,i){var s="width"===t?1:0,o=0,d=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(d+=k.css(e,n+ie[s],!0,a)),r?("content"===n&&(d-=k.css(e,"padding"+ie[s],!0,a)),"margin"!==n&&(d-=k.css(e,"border"+ie[s]+"Width",!0,a))):(d+=k.css(e,"padding"+ie[s],!0,a),"padding"!==n?d+=k.css(e,"border"+ie[s]+"Width",!0,a):o+=k.css(e,"border"+ie[s]+"Width",!0,a));return!r&&0<=i&&(d+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-d-o-.5))||0),d}function et(e,t,n){var r=Fe(e),a=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),i=a,s=Ue(e,t,r),o="offset"+t[0].toUpperCase()+t.slice(1);if(Be.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&a||!g.reliableTrDimensions()&&I(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(a="border-box"===k.css(e,"boxSizing",!1,r),(i=o in e)&&(s=e[o])),(s=parseFloat(s)||0)+Ze(e,t,n||(a?"border":"content"),i,r,s)+"px"}function tt(e,t,n,r,a){return new tt.prototype.init(e,t,n,r,a)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,s,o=Y(t),d=Ye.test(t),c=e.style;if(d||(t=Ve(o)),s=k.cssHooks[t]||k.cssHooks[o],void 0===n)return s&&"get"in s&&void 0!==(a=s.get(e,!1,r))?a:c[t];"string"==(i=typeof n)&&(a=ae.exec(n))&&a[1]&&(n=le(e,t,a),i="number"),null!=n&&n==n&&("number"!==i||d||(n+=a&&a[3]||(k.cssNumber[o]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(d?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var a,i,s,o=Y(t);return Ye.test(t)||(t=Ve(o)),(s=k.cssHooks[t]||k.cssHooks[o])&&"get"in s&&(a=s.get(e,!0,n)),void 0===a&&(a=Ue(e,t,r)),"normal"===a&&t in Xe&&(a=Xe[t]),""===n||n?(i=parseFloat(a),!0===n||isFinite(i)?i||0:a):a}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!qe.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):He(e,Je,(function(){return et(e,t,r)}))},set:function(e,n,r){var a,i=Fe(e),s=!g.scrollboxSize()&&"absolute"===i.position,o=(s||r)&&"border-box"===k.css(e,"boxSizing",!1,i),d=r?Ze(e,t,r,o,i):0;return o&&s&&(d-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Ze(e,t,"border",!1,i)-.5)),d&&(a=ae.exec(n))&&"px"!==(a[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),Qe(0,n,d)}}})),k.cssHooks.marginLeft=je(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ue(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,a={},i="string"==typeof n?n.split(" "):[n];r<4;r++)a[e+ie[r]+t]=i[r]||i[r-2]||i[0];return a}},"margin"!==e&&(k.cssHooks[e+t].set=Qe)})),k.fn.extend({css:function(e,t){return W(this,(function(e,t,n){var r,a,i={},s=0;if(Array.isArray(t)){for(r=Fe(e),a=t.length;s<a;s++)i[t[s]]=k.css(e,t[s],!1,r);return i}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,1<arguments.length)}}),((k.Tween=tt).prototype={constructor:tt,init:function(e,t,n,r,a,i){this.elem=e,this.prop=n,this.easing=a||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}}).init.prototype=tt.prototype,(tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=tt.prototype.init,k.fx.step={};var nt,rt,at,it,st=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function dt(){rt&&(!1===C.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(dt):r.setTimeout(dt,k.fx.interval),k.fx.tick())}function ct(){return r.setTimeout((function(){nt=void 0})),nt=Date.now()}function lt(e,t){var n,r=0,a={height:e};for(t=t?1:0;r<4;r+=2-t)a["margin"+(n=ie[r])]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function ut(e,t,n){for(var r,a=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),i=0,s=a.length;i<s;i++)if(r=a[i].call(n,t,e))return r}function pt(e,t,n){var r,a,i=0,s=pt.prefilters.length,o=k.Deferred().always((function(){delete d.elem})),d=function(){if(a)return!1;for(var t=nt||ct(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,s=c.tweens.length;i<s;i++)c.tweens[i].run(r);return o.notifyWith(e,[c,r,n]),r<1&&s?n:(s||o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(a)return this;for(a=!0;n<r;n++)c.tweens[n].run(1);return t?(o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c,t])):o.rejectWith(e,[c,t]),this}}),l=c.props;for(function(e,t){var n,r,a,i,s;for(n in e)if(a=t[r=Y(n)],i=e[n],Array.isArray(i)&&(a=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(s=k.cssHooks[r])&&"expand"in s)for(n in i=s.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=a);else t[r]=a}(l,c.opts.specialEasing);i<s;i++)if(r=pt.prefilters[i].call(c,e,l,c.opts))return y(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(l,ut,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(d,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ae.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(B);for(var n,r=0,a=e.length;r<a;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,a,i,s,o,d,c,l,u="width"in t||"height"in t,p=this,h={},f=e.style,m=e.nodeType&&ce(e),g=Q.get(e,"fxshow");for(r in n.queue||(null==(s=k._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,p.always((function(){p.always((function(){s.unqueued--,k.queue(e,"fx").length||s.empty.fire()}))}))),t)if(a=t[r],st.test(a)){if(delete t[r],i=i||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!g||void 0===g[r])continue;m=!0}h[r]=g&&g[r]||k.style(e,r)}if((d=!k.isEmptyObject(t))||!k.isEmptyObject(h))for(r in u&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Q.get(e,"display")),"none"===(l=k.css(e,"display"))&&(c?l=c:(pe([e],!0),c=e.style.display||c,l=k.css(e,"display"),pe([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===k.css(e,"float")&&(d||(p.done((function(){f.display=c})),null==c&&(l=f.display,c="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),d=!1,h)d||(g?"hidden"in g&&(m=g.hidden):g=Q.access(e,"fxshow",{display:c}),i&&(g.hidden=!m),m&&pe([e],!0),p.done((function(){for(r in m||pe([e]),Q.remove(e,"fxshow"),h)k.style(e,r,h[r])}))),d=ut(m?g[r]:0,r,p),r in g||(g[r]=d.start,m&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var a=k.isEmptyObject(e),i=k.speed(t,n,r),s=function(){var t=pt(this,k.extend({},e),i);(a||Q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,a||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,a=null!=e&&e+"queueHooks",i=k.timers,s=Q.get(this);if(a)s[a]&&s[a].stop&&r(s[a]);else for(a in s)s[a]&&s[a].stop&&ot.test(a)&&r(s[a]);for(a=i.length;a--;)i[a].elem!==this||null!=e&&i[a].queue!==e||(i[a].anim.stop(n),t=!1,i.splice(a,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Q.get(this),r=n[e+"queue"],a=n[e+"queueHooks"],i=k.timers,s=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,r,a)}})),k.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),nt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){rt||(rt=!0,dt())},k.fx.stop=function(){rt=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var a=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(a)}}))},at=C.createElement("input"),it=C.createElement("select").appendChild(C.createElement("option")),at.type="checkbox",g.checkOn=""!==at.value,g.optSelected=it.selected,(at=C.createElement("input")).value="t",at.type="radio",g.radioValue="t"===at.value;var ht,ft=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return W(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?k.prop(e,t,n):(1===i&&k.isXMLDoc(e)||(a=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(r=a.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&I(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,a=t&&t.match(B);if(a&&1===e.nodeType)for(;n=a[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ft[t]||k.find.attr;ft[t]=function(e,t,r){var a,i,s=t.toLowerCase();return r||(i=ft[s],ft[s]=a,a=null!=n(e,t,r)?s:null,ft[s]=i),a}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(B)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}k.fn.extend({prop:function(e,t){return W(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(e)||(t=k.propFix[t]||t,a=k.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:e[t]=n:a&&"get"in a&&null!==(r=a.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,r,a,i,s,o,d=0;if(y(e))return this.each((function(t){k(this).addClass(e.call(this,t,wt(this)))}));if((t=Ct(e)).length)for(;n=this[d++];)if(a=wt(n),r=1===n.nodeType&&" "+yt(a)+" "){for(s=0;i=t[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a!==(o=yt(r))&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,r,a,i,s,o,d=0;if(y(e))return this.each((function(t){k(this).removeClass(e.call(this,t,wt(this)))}));if(!arguments.length)return this.attr("class","");if((t=Ct(e)).length)for(;n=this[d++];)if(a=wt(n),r=1===n.nodeType&&" "+yt(a)+" "){for(s=0;i=t[s++];)for(;-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");a!==(o=yt(r))&&n.setAttribute("class",o)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,wt(this),t),t)})):this.each((function(){var t,a,i,s;if(r)for(a=0,i=k(this),s=Ct(e);t=s[a++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=wt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+yt(wt(n))+" ").indexOf(t))return!0;return!1}});var vt=/\r/g;k.fn.extend({val:function(e){var t,n,r,a=this[0];return arguments.length?(r=y(e),this.each((function(n){var a;1===this.nodeType&&(null==(a=r?e.call(this,n,k(this).val()):e)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=k.map(a,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))}))):a?(t=k.valHooks[a.type]||k.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:"string"==typeof(n=a.value)?n.replace(vt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:yt(k.text(e))}},select:{get:function(e){var t,n,r,a=e.options,i=e.selectedIndex,s="select-one"===e.type,o=s?null:[],d=s?i+1:a.length;for(r=i<0?d:s?i:0;r<d;r++)if(((n=a[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!I(n.parentNode,"optgroup"))){if(t=k(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,r,a=e.options,i=k.makeArray(t),s=a.length;s--;)((r=a[s]).selected=-1<k.inArray(k.valHooks.option.get(r),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in r;var bt=/^(?:focusinfocus|focusoutblur)$/,_t=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,a){var i,s,o,d,c,l,u,p,f=[n||C],m=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(s=p=o=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!bt.test(m+k.event.triggered)&&(-1<m.indexOf(".")&&(m=(g=m.split(".")).shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=a?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),u=k.event.special[m]||{},a||!u.trigger||!1!==u.trigger.apply(n,t))){if(!a&&!u.noBubble&&!w(n)){for(d=u.delegateType||m,bt.test(d+m)||(s=s.parentNode);s;s=s.parentNode)f.push(s),o=s;o===(n.ownerDocument||C)&&f.push(o.defaultView||o.parentWindow||r)}for(i=0;(s=f[i++])&&!e.isPropagationStopped();)p=s,e.type=1<i?d:u.bindType||m,(l=(Q.get(s,"events")||Object.create(null))[e.type]&&Q.get(s,"handle"))&&l.apply(s,t),(l=c&&s[c])&&l.apply&&J(s)&&(e.result=l.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,a||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),t)||!J(n)||c&&y(n[m])&&!w(n)&&((o=n[c])&&(n[c]=null),k.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,_t),n[m](),e.isPropagationStopped()&&p.removeEventListener(m,_t),k.event.triggered=void 0,o&&(n[c]=o)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,a=Q.access(r,t);a||r.addEventListener(e,n,!0),Q.access(r,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,a=Q.access(r,t)-1;a?Q.access(r,t,a):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}}));var Pt=r.location,kt={guid:Date.now()},xt=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var St=/\[\]$/,Et=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function It(e,t,n,r){var a;if(Array.isArray(t))k.each(t,(function(t,a){n||St.test(e)?r(e,a):It(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,n,r)}));else if(n||"object"!==_(t))r(e,t);else for(a in t)It(e+"["+a+"]",t[a],n,r)}k.param=function(e,t){var n,r=[],a=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){a(this.name,this.value)}));else for(n in e)It(n,e[n],t,a);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Tt.test(this.nodeName)&&!At.test(e)&&(this.checked||!me.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(Et,"\r\n")}})):{name:t.name,value:n.replace(Et,"\r\n")}})).get()}});var $t=/%20/g,Nt=/#.*$/,Dt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Mt=/^\/\//,Ot={},Bt={},Ft="*/".concat("*"),Ht=C.createElement("a");function Gt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a=0,i=t.toLowerCase().match(B)||[];if(y(n))for(;r=i[a++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ut(e,t,n,r){var a={},i=e===Bt;function s(o){var d;return a[o]=!0,k.each(e[o]||[],(function(e,o){var c=o(t,n,r);return"string"!=typeof c||i||a[c]?i?!(d=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),d}return s(t.dataTypes[0])||!a["*"]&&s("*")}function jt(e,t){var n,r,a=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Ht.href=Pt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,k.ajaxSettings),t):jt(k.ajaxSettings,e)},ajaxPrefilter:Gt(Ot),ajaxTransport:Gt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,a,i,s,o,d,c,l,u,p,h=k.ajaxSetup({},t),f=h.context||h,m=h.context&&(f.nodeType||f.jquery)?k(f):k.event,g=k.Deferred(),y=k.Callbacks("once memory"),w=h.statusCode||{},v={},b={},_="canceled",P={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Lt.exec(i);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,v[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)P.always(e[P.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||_;return n&&n.abort(t),x(0,t),this}};if(g.promise(P),h.url=((e||h.url||Pt.href)+"").replace(Mt,Pt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(B)||[""],null==h.crossDomain){d=C.createElement("a");try{d.href=h.url,d.href=d.href,h.crossDomain=Ht.protocol+"//"+Ht.host!=d.protocol+"//"+d.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=k.param(h.data,h.traditional)),Ut(Ot,h,t,P),c)return P;for(u in(l=k.event&&h.global)&&0==k.active++&&k.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Rt.test(h.type),a=h.url.replace(Nt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace($t,"+")):(p=h.url.slice(a.length),h.data&&(h.processData||"string"==typeof h.data)&&(a+=(xt.test(a)?"&":"?")+h.data,delete h.data),!1===h.cache&&(a=a.replace(Dt,"$1"),p=(xt.test(a)?"&":"?")+"_="+kt.guid+++p),h.url=a+p),h.ifModified&&(k.lastModified[a]&&P.setRequestHeader("If-Modified-Since",k.lastModified[a]),k.etag[a]&&P.setRequestHeader("If-None-Match",k.etag[a])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&P.setRequestHeader("Content-Type",h.contentType),P.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ft+"; q=0.01":""):h.accepts["*"]),h.headers)P.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(!1===h.beforeSend.call(f,P,h)||c))return P.abort();if(_="abort",y.add(h.complete),P.done(h.success),P.fail(h.error),n=Ut(Bt,h,t,P)){if(P.readyState=1,l&&m.trigger("ajaxSend",[P,h]),c)return P;h.async&&0<h.timeout&&(o=r.setTimeout((function(){P.abort("timeout")}),h.timeout));try{c=!1,n.send(v,x)}catch(e){if(c)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,s,d){var u,p,C,v,b,_=t;c||(c=!0,o&&r.clearTimeout(o),n=void 0,i=d||"",P.readyState=0<e?4:0,u=200<=e&&e<300||304===e,s&&(v=function(e,t,n){for(var r,a,i,s,o=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in o)if(o[a]&&o[a].test(r)){d.unshift(a);break}if(d[0]in n)i=d[0];else{for(a in n){if(!d[0]||e.converters[a+" "+d[0]]){i=a;break}s||(s=a)}i=i||s}if(i)return i!==d[0]&&d.unshift(i),n[i]}(h,P,s)),!u&&-1<k.inArray("script",h.dataTypes)&&k.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),v=function(e,t,n,r){var a,i,s,o,d,c={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!d&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=i,i=l.shift())if("*"===i)i=d;else if("*"!==d&&d!==i){if(!(s=c[d+" "+i]||c["* "+i]))for(a in c)if((o=a.split(" "))[1]===i&&(s=c[d+" "+o[0]]||c["* "+o[0]])){!0===s?s=c[a]:!0!==c[a]&&(i=o[0],l.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+d+" to "+i}}}return{state:"success",data:t}}(h,v,P,u),u?(h.ifModified&&((b=P.getResponseHeader("Last-Modified"))&&(k.lastModified[a]=b),(b=P.getResponseHeader("etag"))&&(k.etag[a]=b)),204===e||"HEAD"===h.type?_="nocontent":304===e?_="notmodified":(_=v.state,p=v.data,u=!(C=v.error))):(C=_,!e&&_||(_="error",e<0&&(e=0))),P.status=e,P.statusText=(t||_)+"",u?g.resolveWith(f,[p,_,P]):g.rejectWith(f,[P,_,C]),P.statusCode(w),w=void 0,l&&m.trigger(u?"ajaxSuccess":"ajaxError",[P,h,u?p:C]),y.fireWith(f,[P,_]),l&&(m.trigger("ajaxComplete",[P,h]),--k.active||k.event.trigger("ajaxStop")))}return P},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,r,a){return y(n)&&(a=a||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:a,data:n,success:r},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Wt=k.ajaxSettings.xhr();g.cors=!!Wt&&"withCredentials"in Wt,g.ajax=Wt=!!Wt,k.ajaxTransport((function(e){var t,n;if(g.cors||Wt&&!e.crossDomain)return{send:function(a,i){var s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];for(s in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)o.setRequestHeader(s,a[s]);t=function(e){return function(){t&&(t=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?i(0,"error"):i(o.status,o.statusText):i(zt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),n=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,a){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),C.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Kt,Vt=[],qt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||k.expando+"_"+kt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var a,i,s,o=!1!==e.jsonp&&(qt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&qt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(qt,"$1"+a):!1!==e.jsonp&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return s||k.error(a+" was not called"),s[0]},e.dataTypes[0]="json",i=r[a],r[a]=function(){s=arguments},n.always((function(){void 0===i?k(r).removeProp(a):r[a]=i,e[a]&&(e.jsonpCallback=t.jsonpCallback,Vt.push(a)),s&&y(i)&&i(s[0]),s=i=void 0})),"script"})),g.createHTMLDocument=((Kt=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Kt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),i=!n&&[],(a=$.exec(e))?[t.createElement(a[1])]:(a=_e([e],t,i),i&&i.length&&k(i).remove(),k.merge([],a.childNodes)));var r,a,i},k.fn.load=function(e,t,n){var r,a,i,s=this,o=e.indexOf(" ");return-1<o&&(r=yt(e.slice(o)),e=e.slice(0,o)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),0<s.length&&k.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done((function(e){i=arguments,s.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var r,a,i,s,o,d,c=k.css(e,"position"),l=k(e),u={};"static"===c&&(e.style.position="relative"),o=l.offset(),i=k.css(e,"top"),d=k.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(i+d).indexOf("auto")?(s=(r=l.position()).top,a=r.left):(s=parseFloat(i)||0,a=parseFloat(d)||0),y(t)&&(t=t.call(e,n,k.extend({},o))),null!=t.top&&(u.top=t.top-o.top+s),null!=t.left&&(u.left=t.left-o.left+a),"using"in t?t.using.call(e,u):l.css(u)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],a={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((a=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),a.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-k.css(r,"marginTop",!0),left:t.left-a.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||se}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return W(this,(function(e,r,a){var i;if(w(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===a)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:a,n?a:i.pageYOffset):e[r]=a}),e,r,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=je(g.pixelPosition,(function(e,n){if(n)return n=Ue(e,t),Be.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){k.fn[r]=function(a,i){var s=arguments.length&&(n||"boolean"!=typeof a),o=n||(!0===a||!0===i?"margin":"border");return W(this,(function(t,n,a){var i;return w(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===a?k.css(t,n,o):k.style(t,n,a,o)}),t,s?a:void 0,s)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}));var Yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,a;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=o.call(arguments,2),(a=function(){return e.apply(t||this,r.concat(o.call(arguments)))}).guid=e.guid=e.guid||k.guid++,a},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=I,k.isFunction=y,k.isWindow=w,k.camelCase=Y,k.type=_,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(Yt,"")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var Jt=r.jQuery,Xt=r.$;return k.noConflict=function(e){return r.$===k&&(r.$=Xt),e&&r.jQuery===k&&(r.jQuery=Jt),k},void 0===a&&(r.jQuery=r.$=k),k}))},4547:e=>{"use strict";e.exports=JSON.parse('{"_from":"tesseract.js@^4.1.0","_id":"tesseract.js@4.1.0","_inBundle":false,"_integrity":"sha512-sCfWJtei6Ykc7uLiWs5H4IKDAhwsMauEVDwUiSkEpzMo4kH+7n8QDBPPNRtGJoZ4NJBf1WSlcbU+Puf64GjOfw==","_location":"/tesseract.js","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"tesseract.js@^4.1.0","name":"tesseract.js","escapedName":"tesseract.js","rawSpec":"^4.1.0","saveSpec":null,"fetchSpec":"^4.1.0"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/tesseract.js/-/tesseract.js-4.1.0.tgz","_shasum":"6246aeb35f8eb7c94551554270c8c0d1c19f49eb","_spec":"tesseract.js@^4.1.0","_where":"D:\\\\Undercards\\\\PrettCards_Git\\\\prettycards\\\\Smart_Attempt","author":"","browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"bundleDependencies":false,"collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"},"contributors":[{"name":"jeromewu"}],"dependencies":{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^4.0.4","wasm-feature-detect":"^1.2.11","zlibjs":"^0.3.1"},"deprecated":false,"description":"Pure Javascript Multilingual OCR","devDependencies":{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0","acorn":"^8.8.2","babel-loader":"^9.1.2","buffer":"^6.0.3","cors":"^2.8.5","eslint":"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1","express":"^4.18.2","mocha":"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5","nyc":"^15.1.0","rimraf":"^5.0.0","rollup":"^3.20.7","rollup-plugin-sourcemaps":"^0.6.3","wait-on":"^7.0.1","webpack":"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2"},"homepage":"https://github.com/naptha/tesseract.js","jsdelivr":"dist/tesseract.min.js","license":"Apache-2.0","main":"src/index.js","name":"tesseract.js","overrides":{"@rollup/pluginutils":"^5.0.2"},"repository":{"type":"git","url":"git+https://github.com/naptha/tesseract.js.git"},"scripts":{"build":"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","lint":"eslint src","lint:fix":"eslint --fix src","postinstall":"opencollective-postinstall || true","prepublishOnly":"npm run build","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","start":"node scripts/server.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js"},"types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","version":"4.1.0"}')}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";void 0===window.underscript?(window.localStorage.getItem("PrettyCards_DependencyErrorMessageShown")&&"false"!=window.localStorage.getItem("PrettyCards_DependencyErrorMessageShown")||(window.BootstrapDialog.show({title:"Oh no!",type:window.BootstrapDialog.TYPE_WARNING,message:"Looks like you don't have Underscript installed, or you deactivated it! In order for PrettyCards to work, you need to have it up and running. Until then, the features of this userscript will simply not work. Thank you for your understanding.",buttons:[{label:"Proceed",cssClass:"btn-primary",action:function(e){e.close()}}]}),window.localStorage.setItem("PrettyCards_DependencyErrorMessageShown",!0)),console.error("PrettyCards Error: Underscript is not installed!")):window.localStorage.setItem("PrettyCards_DependencyErrorMessageShown",!1);var e=window.underscript.plugin("PrettyCards"),t={};window.prettycards=t,window.PrettyCards_plugin=e;var r={};window.PrettyCards_settings=r;var a={misc:"Miscellaneous",card:"Card Related",controversial:"<span class='red'>Controversial</span>",background:"Background",packs:"Packs",artifact:"Artifact Related",noob_help:"Mid-Match Help",april:"<span class='ranbowText'>April Fools</span>"};function i(t){t.note&&"function"!=typeof t.note&&(t.note=`<div style="max-width: 600px;">${t.note}</div>`),t.category=a[t.category||"misc"];var n=e.settings().add(t);return r[t.key]=n,n}if(i({key:"turn_off",name:"Turn Off PrettyCards",type:"boolean",refresh:!0,default:!1,category:"controversial"}),r.turn_off.value())throw"PrettyCards is stopped!";i({key:"packs_page",name:"Enable Fancy Packs Page",type:"boolean",refresh:!0,default:!0,category:"packs"}),i({key:"breaking_skin_fix",name:"Breaking Skin Fix",note:"Whenever you hover over a breaking skin card, the name, description, cost, ATK and HP will go over the skin.",type:"boolean",refresh:!0,default:!0,category:"card"}),i({key:"breaking_skin_stats_fix",name:"Breaking Skin Stats Fix",note:"Hides stats and tribes behind breaking skin to not break immersion. Hovering over a card will show them. Only works in non-Game settings if Breaking Skin Fix is also enabled.",type:"boolean",refresh:!0,default:!0,category:"card"}),i({key:"hd_artifacts",name:"HD Artifact Images",note:"Most places will now display Artifacts in HD. (still a WIP, feedback is appreciated)",type:"boolean",refresh:!0,default:!0,category:"artifact"}),i({key:"override_decks",name:"Override Deck System",note:"Overrides the current deck system locally with a more flexible one. This inludes the Decks page, Play page, Custom page and the Custom Challenge system.",type:"boolean",refresh:!0,default:!0,category:"controversial"}),i({key:"override_decks_autogen",name:"Create Autogen Decks",note:'While using my Custom Deck System, if the system cannot find an exact replica of the deck on Onu\'s server, it will create an "Autogen" deck. Unfortunately, this, for some reason, can malfunction in some cases. This is why I added this setting, with which you can turn off this behavior.<br><span class="red">If turned off, decks from other devices uploaded to the server may be lost forever without a backup. Use at own risk, or turn off the Custom Deck system entirely!</span>',type:"boolean",refresh:!0,default:!0,category:"controversial"}),i({key:"my_own_custom_cards",name:"My Own Custom Cards",note:"A Hidden setting that lets me see my own custom card sets, while not letting others see it.",type:"boolean",disabled:!0,hidden:!0,refresh:!0,default:!1}),i({key:"asset_directory",name:"Asset Directory",note:"If you don't know what this does or how to change it, don't touch it!",type:"text",refresh:!0,hidden:!0,default:"https://raw.githubusercontent.com/MysteryHD/prettycards-assets/master/"}),e.events.emit.singleton("PrettyCards:init");var s=n(4701),o=n.n(s);o().fn.animateRotate=function(e,t,n,r,a,i){const s=a||o().noop;return this.each((function(){var a=o()(this);o()({deg:e}).animate({deg:t},{duration:n,easing:r,step:function(e){a.css({"-moz-transform":"rotateY("+e+"deg)","-webkit-transform":"rotateY("+e+"deg)","-o-transform":"rotateY("+e+"deg)","-ms-transform":"rotateY("+e+"deg)",transform:"rotateY("+e+"deg)"}),s(e)},complete:i||o().noop})}))};var d=n(776),c=document.createElement("DIV");function l(e=""){"string"!=typeof e&&(e=e.toString());var t=document.createElement("STYLE");t.innerHTML=e.replace(/\$asset\$/gm,r.asset_directory.value()),c.appendChild(t)}c.id="PrettyCards_StyleContainer",e.events.on("PrettyCards:onPageLoad",(()=>{window.document.head.appendChild(c)})),t.loadCSS=l,e.events.emit.singleton("PrettyCards:cssLoaderReady"),l(d.Z);var u,p={};class h extends window.underscript.utils.SettingType{constructor(){super("EditableList")}areDupesPresent(e="",t){for(var n=t.children,r=0,a=0;a<n.length;a++)r+=n[a].firstChild.firstChild.value===e;return r>1}addRow(e,t="",n="",r=!1,a,i){var s=document.createElement("DIV");s.className="PrettyCards_Settings_EditableListRow";var o=document.createElement("DIV"),d=document.createElement("DIV"),c=document.createElement("DIV"),l=document.createElement("DIV"),u=document.createElement("DIV"),p=t,h=document.createElement("INPUT");h.type="text",h.className="form-control",h.value=t,h.onblur=n=>{if(this.areDupesPresent(h.value,e))return u.classList.remove("PrettyCards_Hidden"),void(h.value=p);delete a[p],a[h.value]=f.value,i(a),p=t},h.onfocus=e=>{u.classList.add("PrettyCards_Hidden")},o.appendChild(h),u.innerHTML="Duplicate keys are not allowed!",u.className="red PrettyCards_Hidden PrettyCards_Settings_EditableListText",o.appendChild(u),d.innerHTML='<div style="width: 1.2em; text-align: center; user-select: none;">:</div>';var f=document.createElement("INPUT");f.type="text",f.className="form-control",f.value=n,f.onblur=()=>{a[h.value]=f.value,i(a)},c.appendChild(f);var m=document.createElement("BUTTON");m.innerHTML="Delete",m.onclick=()=>{delete a[h.value],i(a),s.remove()},m.className="btn btn-danger PrettyCards_Settings_EditableListTableButton",l.appendChild(m),s.appendChild(o),s.appendChild(d),s.appendChild(c),s.appendChild(l),r?e.prepend(s):e.appendChild(s)}element(e,t,{data:n,remove:r=!1,container:a,key:i=""}){var s={...e},o=document.createElement("DIV"),d=document.createElement("DIV");for(var i in d.className="PrettyCards_Settings_EditableListTable",o.appendChild(d),s)this.addRow(d,i,s[i],!1,s,t);a[0].appendChild(o);var c=document.createElement("BUTTON");return c.onclick=()=>{this.addRow(d,"","",!0,s,t)},c.className="btn btn-success PrettyCards_Settings_EditableListTableButton",c.innerHTML="Add",c}default(){return{}}value(e,t=void 0){return"object"!=typeof e&&(e=JSON.parse(e)),e}labelFirst(){return!0}}p[(u=new h).name]=u,e.settings().addType(u),l(n(2760).Z);const f="PrettyCards_CardBottomLeftInfo";function m(e){e[0]&&(e=e[0]);var t=e.querySelector("."+f);return t||((t=document.createElement("DIV")).className=f,e.appendChild(t)),t}e.events.on("func:appendCard PC_appendCard",(function(e,t){m(t)}));class g{static GOLD=new g("yellow",(()=>window.$('<img src="images/icons/gold.png">')[0]),g.speedFunction(75,5,500));static UCP=new g("ucp",(()=>window.$(`<span>${window.$.i18n("reward-ucp")}</span>`)[0]),g.speedFunction(100,10,200));static DUST=new g("gray",(()=>window.$('<img src="images/icons/dust.png">')[0]),g.speedFunction(50,5,500));static DTFRAG=new g("DTFragment",(()=>window.$('<img src="images/dtFragment.png">')[0]),g.speedFunction(500,100,10));static XP=new g("PrettyCards_UserLV",(()=>window.$("<span>XP</span>")[0]),g.speedFunction(30,5,3e3),"0.8em").setCountPerTick(5);static ELO=new g("Contributor",(()=>window.$("<span>ELO</span>")[0]),g.speedFunction(50,5,25),"0.8em");static UT_PACK=new g("",(()=>window.$('<img src="images/icons/pack.png">')[0]),g.speedFunction(250,100,50));static DR_PACK=new g("",(()=>window.$('<img src="images/icons/drPack.png">')[0]),g.speedFunction(250,100,50));static SHINY_PACK=new g("rainbowText",(()=>window.$('<img src="images/icons/shinyPack.png">')[0]),g.speedFunction(200,100,25));static SUPER_PACK=new g("yellow",(()=>window.$('<img src="images/icons/superPack.png">')[0]),g.speedFunction(500,200,25));static FINAL_PACK=new g("DTFragment",(()=>window.$('<img src="images/icons/finalPack.png">')[0]),g.speedFunction(500,200,25));static CARD_SKIN=new g("",(()=>window.$(`<span>${window.$.i18n("reward-card-skin")}</span>`)[0]),g.speedFunction(500,200,25));static PROFILE_SKIN=new g("",(()=>window.$(`<span>${window.$.i18n("reward-profile-skin")}</span>`)[0]),g.speedFunction(500,200,25));static AVATAR=new g("",(()=>window.$(`<span>${window.$.i18n("reward-avatar")}</span>`)[0]),g.speedFunction(500,200,25));static EMOTE=new g("",(()=>window.$(`<span>${window.$.i18n("reward-emote")}</span>`)[0]),g.speedFunction(500,200,25));static CARD_CURRENCIES=new Map;constructor(e,t,n,r="0"){this.textClass=e,this.icon=t,this.speed=n,this.countPerTick=1,this.padding=r}static getOrCreateCardCurrency(e){if(!g.CARD_CURRENCIES.has(e)){var t=new y(e);g.CARD_CURRENCIES.set(e,t)}return g.CARD_CURRENCIES.get(e)}getCurrencyIcon(){return this.icon()}applyTextClass(e){""!=this.textClass&&e.classList.add(this.textClass)}getSpeedForAmount(e){return this.speed(e)}setCountPerTick(e){return this.countPerTick=e,this}static speedFunction(e,t,n){return r=>Math.ceil(t+(e-t)*(1-Math.min(r,n)/n))}}class y extends g{constructor(e){super("",(()=>{}),(()=>500)),this.cardId=e}getCurrencyIcon(){var e=document.createElement("SPAN");return e.innerHTML=window.$.i18n(`{{CARD:${this.cardId}|1}}`),e}}var w=document.getElementById("collection");w||((w=document.createElement("DIV")).id="collection",w.className="PrettyCards_Hidden",document.body.appendChild(w));var C=-1;const v=["elytrafae","Jazmin290"];e.events.on("translation:loaded",(function(t){for(var n=$.i18n.messageStore.messages.en,r=Object.keys(n),a=r.length-1;a>=0;a--){var i=r[a];if(i.startsWith("quest-s")&&i.endsWith("-start-1")){var s=i.substring(7,i.length-8);C=Number(s);break}}e.events.emit.singleton("PrettyCards:seasonNumber",C)}));class b{constructor(e=(e=>e)){this.arr=[],this.mapFunc=e}insert(e){for(var t=0,n=this.arr.length-1;t<=n;){var r=t+n>>>1,a=this.arr[r],i=this.mapFunc(a),s=this.mapFunc(e);if(i===s)return!1;s>i?t=r+1:n=r-1}return this.arr.splice(t,0,e),!0}getPos(e){return P.binarySearch(this.arr,e,this.mapFunc)}includes(e){return null!==P.binarySearch(this.arr,e,this.mapFunc)}}void 0===String.prototype.splice&&(String.prototype.splice=function(e,t,n=0){let r=e<0?this.length+e:e;return this.substring(0,r)+t+this.substring(r+n)});class _{constructor(e,t){this.left=e,this.right=t}getLeft(){return this.left}getRight(){return this.right}setLeft(e){this.left=e}setRight(e){this.right=e}}var P=new class{constructor(){this.SortedUniqueEntryHolder=b}loadCSSFromLink(e){return new Promise(((t,n)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=e,r.onload=t,r.onerror=n,document.head.appendChild(r)}))}asset(e){return r.asset_directory.value()+e}copyCSS(e,t){const n=window.getComputedStyle(e);if(""!==n.cssText)t.style.cssText=n.cssText;else{window.getComputedStyle(t);const e=Object.values(n).reduce(((e,t)=>`${e}${t}:${n.getPropertyValue(t)};`));t.style.cssText=e}}completeCopyArray(e){if(!Array.isArray(e))return this.completeCopy(e);for(var t=[],n=0;n<e.length;n++)"object"==typeof e[n]?t[n]=this.completeCopy(e[n]):t[n]=e[n];return t}completeCopy(e){if(Array.isArray(e))return this.completeCopyArray(e);var t={};for(var n in e)"object"==typeof e[n]?t[n]=this.completeCopy(e[n]):t[n]=e[n];return t}deleteByValue(e,t){var n=e.indexOf(t);return-1!==n&&(e.splice(n,1),!0)}addFriend(e,t){$.post("Friends",{username:e,addFriend:"Add friend"},t)}appendCardFriendship(e,t,n,r,a){var i=window.appendCardFriendship(e,n,r,a);return i.find(".cardDesc").empty(),t.append(i),i}getFriendshipInfo(e,t){return $.get("https://raw.githubusercontent.com/PrettyCards/friendship-server/main/data/"+e+".json",{},(function(e){t(JSON.parse(e))}))}getXpForLevel(e){return window.U0*e+e*(e-1)/2*window.R}onTestServer(){return!["www","undercards"].includes(window.location.hostname.split(".")[0])}saveCanvasAsImage(e,t){var n=document.createElement("A");n.setAttribute("download",t+".png"),n.setAttribute("href",e.toDataURL("image/png").replace("image/png","image/octet-stream")),n.click()}downloadFile(e,t,n="text/plain"){var r=document.createElement("a"),a=new Blob([e],{type:n});r.href=URL.createObjectURL(a),r.download=t,r.click()}randomInt(e=0,t=1){return e+Math.floor(Math.random()*(t-e))}getRandomFromArray(e){if(!(e.length<=0))return 1==e.length?e[0]:e[this.randomInt(0,e.length)]}getSeasonMonth(){return(C-66)%12}getSeasonNumber(){return C}getCardImageLink(e){return 3==this.getSeasonMonth()?`/afi/cards/${e}.png`:`/images/cards/${e}.png`}getFallbackedImage(e,t){var n=new Image;return n.onerror=function(){this.src=t,n.onerror=function(){}},n.src=e,n}getArtifactImageLink(e,t=!1){return 3==this.getSeasonMonth()?`/afi/artifacts/${e}.png`:r.hd_artifacts.value()&&!t?this.asset(`img/HDArtifacts/${e}.png`):`/images/artifacts/${e}.png`}getArtifactImage(e){var t=`/images/artifacts/${e}.png`,n=t;return 3==this.getSeasonMonth()?n=`/afi/artifacts/${e}.png`:r.hd_artifacts.value()&&(n=this.asset(`img/HDArtifacts/${e}.png`)),this.getFallbackedImage(n,t)}getSoulImageLink(e,t=!1){return t?`/images/souls/${e}.png`:this.asset(`img/Souls/${e}.png`)}getSoulImage(e){return this.getFallbackedImage(this.asset(`img/Souls/${e}.png`),`/images/souls/${e}.png`)}getCardJingleLink(e=""){return e=e.replaceAll(" ","_"),3==this.getSeasonMonth()?`/afm/cards/${e}.ogg`:`/musics/cards/${e}.ogg`}preloadAudio(e){return new Promise(((t,n)=>{var r=new Audio;r.onload=function(){t(r)},r.onerror=n,r.src=e}))}preloadImage(e){return new Promise(((t,n)=>{var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=e}))}resizePixelArt(e,t=1){console.log(e,t);var n=document.createElement("CANVAS").getContext("2d");n.height=e.height,n.width=e.width,n.drawImage(e,0,0);var r=n.getImageData(0,0,e.width,e.height).data,a=document.createElement("CANVAS");a.height=e.height*t,a.width=e.width*t;for(var i=a.getContext("2d"),s=0;s<e.width;++s)for(var o=0;o<e.height;++o){var d=4*(o*e.width+s),c=r[d],l=r[d+1],u=r[d+2],p=r[d+3];i.fillStyle="rgba("+c+","+l+","+u+","+p/255+")",i.fillRect(s*t,o*t,t,t)}return document.body.appendChild(a),a}featuresAccessForGroupOnly(e){if(v.includes(window.selfUsername))return!0;"string"==typeof e&&(e=[e]);for(var t=0;t<window.selfGroups.length;t++){var n=window.selfGroups[t];if(e.includes(n.name))return!0}return!1}translatorFeaturesAccess(){return this.featuresAccessForGroupOnly("Translator")}toLocale(e,t,n=[]){const r=window.$.i18n().locale;let a;window.$.i18n().locale=t;try{a=window.$.i18n(e,...n)}catch(e){a="ERROR"}return window.$.i18n().locale=r,a}constructURL(e,t,n,r=!1){return r?e+t+"."+n:(e.length>0&&!e.endsWith("/")&&(e+="/"),t.split(".").length<2&&(t=t+"."+n),e+t)}hideUglyPage(){for(var e=[...document.querySelector(".mainContent").children],t=0;t<e.length;t++){var n=e[t];"NAV"!=n.nodeName&&"FOOTER"!=n.nodeName&&"SCRIPT"!=n.nodeName&&(n.style.setProperty("display","none","important"),n.className+=" PrettyCards_Hidden")}}binarySearch(e,t,n=(e=>e)){for(var r=0,a=e.length-1;r<=a;){var i=r+a>>>1,s=n(e[i]);if(s===t)return e[i];t>s?r=i+1:a=i-1}return null}getCoordsRelativeToDocument(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,a=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,s=r.clientTop||n.clientTop||0,o=r.clientLeft||n.clientLeft||0,d=t.top+a-s,c=t.left+i-o;return{top:Math.round(d),left:Math.round(c),width:t.width,height:t.height}}addCustomSimpleTextIconToCard(e,t,n,r=window.$.i18n("dialog-information")){this.addCustomSimpleTextIconToCard2(e,t,n,n,r)}addCustomSimpleTextIconToCard2(e,t,n,r=n,a=window.$.i18n("dialog-information")){var i=document.createElement("IMG");i.src=t,e[0]&&(e=e[0]),m(e).appendChild(i),window.tippy(i,{content:n,allowHTML:!0,arrow:!0,inertia:!0,placement:"top",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect}),i.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation(),BootstrapDialog.show({title:a,message:r,buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}}getResizedFontSizeHorizontal(e,t,n,r=10,a=.5){var i=document.createElement("SPAN");i.innerHTML=e,i.style.fontSize=t+"px";var s=t;for(document.body.appendChild(i);s>r&&i.getBoundingClientRect().width>n;)console.log(e,i.getBoundingClientRect().width,n),s-=a,i.style.fontSize=s+"px";return i.remove(),s}isImgUrl(e){return new Promise(((t,n)=>{fetch(e,{method:"HEAD"}).then((e=>{var r=e.headers.get("Content-Type");console.log("CONTENTTYPE",r),r.startsWith("image")?(console.log("RESOLVING!"),t()):(console.log("REJECTING!"),n())})).catch((()=>{n()}))}))}feildItemsToMyCurrencies(e){const t=window.underscript.constants;switch(e){case t.GOLD:return g.GOLD;case t.UCP:return g.UCP;case t.DUST:return g.DUST;case t.DT_FRAGMENT:return g.DTFRAG;case t.UT_PACK:return g.UT_PACK;case t.DR_PACK:return g.DR_PACK;case t.SHINY_PACK:return g.SHINY_PACK;case t.SUPER_PACK:return g.SUPER_PACK;case t.FINAL_PACK:return g.FINAL_PACK;case t.SKIN:return g.CARD_SKIN;case t.PROFILE:return g.PROFILE_SKIN;case t.AVATAR:return g.AVATAR;case t.EMOTE:return g.EMOTE;case t.EXP:return g.XP;case t.ELO:return g.ELO;default:return null}}};t.utility=P;var k=["PrettyCards:onLoad","PrettyCards:onPageLoad","SoulSelector:decksLoaded","Chat:Connected","PrettyCards:onArtifacts","translation:loaded","PC_Chat:getSelfInfos","allCardsReady","PrettyCards:baseThemeSongDataReady","PrettyCards:TranslationExtReady"],x={},S={},E=[];function A(e,t){"string"==typeof e&&(e=e.split(" "));for(var n={eventsToWaitFor:[],callback:t},r=0;r<e.length;r++){var a=e[r];k.find((e=>e===a))||console.log("! ExecuteWhen WARNING ! The event ",a," is not being tracked!"),x[a]||n.eventsToWaitFor.push(a)}I(n)||E.push(n)}function T(e){for(var t=0;t<E.length;t++){var n=E[t];P.deleteByValue(n.eventsToWaitFor,e)&&I(n)&&(E.splice(t,1),t--)}}function I(e){return e.eventsToWaitFor.length<=0&&(e.callback(),!0)}!function(){for(var t=0;t<k.length;t++){const n=k[t];x[n]=!1,e.events.on(n,(function(e){x[n]=!0,S[n]=e,T(n)}))}}(),"loading"==document.readyState?document.addEventListener("load",(function(){e.events.emit("PrettyCards:onLoad")})):e.events.emit("PrettyCards:onLoad"),A("PrettyCards:onPageLoad",(function(){window.fetchAllCards||(window.$("body").append('<script src="js/card.js" type="text/javascript"><\/script>'),window.$("head").append('<link href="css/cards.css" rel="stylesheet" type="text/css">'),window.$("head").append('<link href="css/frames.css" rel="stylesheet" type="text/css">')),window.underscript.onPage("Friendship")||window.$("body").append('<script src="js/friendshipUtils.js" type="text/javascript"><\/script>')}));var N=["CustomCardSkins","CustomCards","SmashOrPass","CustomTranslations"],D=!1;function L(){window.$&&!D&&(console.log(e.events.emit.singleton(":loaded").ran),console.log(e.events.emit.singleton(":load").ran),e.events.emit.singleton("PrettyCards:onPageLoad"),e.events.on("PrettyCards:TranslationExtReady",(function(){o()("#PrettyCards_GoBack").html(window.$.i18n("pc-navigate-goback"))})),D=!0)}o()(document).ready((function(){L()})),function(){for(var e=0;e<N.length;e++)if(window.underscript.onPage(N[e]))return!0;return!1}()&&(o().ajax({url:P.asset("html_templates/undercards.html"),success:function(e){document.open(),document.write(e),document.close(),o().cache={},document.body.onload=function(){L()}}}),A("PrettyCards:onPageLoad",(function(){window.socketChat.onmessage=function(t){window.onMessageChat(t);var n=JSON.parse(t.data);"getSelfInfos"===n.action?e.events.emit.singleton("PC_Chat:"+n.action,n):e.events.emit("PC_Chat:"+n.action,n)}}))),e.events.on("PrettyCards:onPageLoad",(function(){window.$(document).ajaxComplete(((t,n,r)=>{"CardSkinsConfig?action=shop"!==r.url?"CardSkinsConfig"===r.url&&e.events.emit("PrettyCards:onCardSkinBought"):e.events.emit.singleton("PrettyCards:onCardSkinShopConfig")}))}));var R=["Auto","Cover","Contain"],M=["Left","Center","Right"],O=["Top","Center","Bottom"];function B(){document.documentElement.style.height="100%",document.body.style.minHeight="100%",document.body.style.backgroundSize=r.background_size.value().toLowerCase(),document.body.style.backgroundPositionX=r.background_position_x.value().toLowerCase(),document.body.style.backgroundPositionY=r.background_position_y.value().toLowerCase()}i({key:"background_size",name:"Background Size",note:"Change the size of the background based on your preferred logic.",type:"select",refresh:!1,disabled:!1,options:R,default:()=>R[1],onChange:B,category:"background"}),i({key:"background_position_x",name:"Background Position X",note:"Change the horizontal position of the background.",type:"select",refresh:!1,disabled:!1,options:M,default:()=>M[1],onChange:B,category:"background"}),i({key:"background_position_y",name:"Background Position Y",note:"Change the vertical position of the background.",type:"select",refresh:!1,disabled:!1,options:O,default:()=>O[1],onChange:B,category:"background"}),B(),e.events.on("connect",B),i({key:"kromer_test",name:"Kromer Test",note:"Changes every instance of UCP to KROMER.",type:"boolean",refresh:!0,disabled:!1,default:!1,category:"controversial"});var F=["item-ucp","header-free-ucp","shop-title","quests-ucp","settings-username-ucp","packs-error-add","reward-ucp","cardskins-shop-confirm"];function H(e){for(var t={},n=0;n<F.length;n++){var r=F[n];t[r]=P.toLocale(r,e).replaceAll("UCP","KROMER")}window.$.i18n().load(t,e)}r.kromer_test.value()&&e.events.on("translation:loaded",(e=>{H("en");var t=window.localStorage.getItem("language");t||(t=window.getLanguage()),"en"!=t&&H(t),$("body").i18n(),$("[data-i18n-custom],[data-i18n-value],[data-i18n-title],[data-i18n-placeholder]").each((function(){translateElement($(this))})),window.underscript.onPage("CosmeticsShop")&&$(".ucp").parent().each((function(){[...this.childNodes].filter((e=>3===e.nodeType)).each((e=>e.textContent=e.textContent.replace(ucp,kromer)))}))})),l(n(4386).Z),A("translation:loaded",(function(){window.$}));var G,U,j,z={"pc-navbar-home":"/","header-sign-in":"SignIn","header-register":"SignUp"},W={"pc-navbar-home":"/","header-play":"Play","header-cards":{"header-decks":"Decks","header-crafting":"Crafting","header-friendship":"Friendship","header-hub":"Hub"},"header-shops":{"header-packs ({packs})":"Packs","header-artifacts":"Artifacts","header-card-skins":"CardSkinsShop","header-your-shop":"/CardSkinsShop?&discount","header-cosmetics":"CosmeticsShop","item-ucp":"Shop"},"{quests}":"Quests"},K={"header-profile":"Profile","header-history":"History","header-avatars":"Avatars","header-card-skins":"CardSkins","header-profile-skins":"ProfileSkins","header-frame-skins":"FrameSkins","header-settings":"Settings","pc-navbar-pcsettings":"js:prettycards.openSettings()","header-translate":"Translate","pc-navbar-dc":"Disconnect"},V={"{friends}":"Friends",'<span class="glyphicon glyphicon-comment blue"></span>':"js:openChatsList()",'<img src="/images/leaderboard.png">':"/leaderboard.jsp",'<img src="/images/friendship.png">':"/friendshipLeaderboard.jsp",'<img src="/images/social/discord.png">':"https://discord.gg/wVmCQk6",'<img src="/images/social/twitter.png">':"https://twitter.com/undercardsgame",'<img src="/images/social/facebook.png">':"https://www.facebook.com/undercards",'<img src="/images/social/reddit.png">':"https://www.reddit.com/r/UnderCards",'<img src="/images/social/wiki.png">':"http://undercards.wikia.com/",'<img src="./images/cardBacks/BASECardDETERMINATION.png">':"https://undercard.feildmaster.com"},q={"footer-about":{"footer-staff":"Staff","footer-legal":"legal.jsp",'<img alt="mail" src="/images/social/gmail.png"> footer-mail':"mailto:undercardsgame@gmail.com"}};function Y(e,t){e.click((function(){t.toggleClass("PrettyCards_Hidden")}))}function J(e){for(var t=e.split(" "),n=0;n<t.length;n++)t[n]=$.i18n(t[n]);var r=t.join(" ");return(r=(r=r.replace("{packs}",G)).replace("{quests}",U)).replace("{friends}",j)}function X(e){var t=!1;return"string"==typeof e&&(t=e.startsWith("js:"),e=e.replace("js:","")),{link:e,isfunc:t}}function Q(e,t="#000000",n=!1){var r=$("<div></div>");r.css("background-color",t);var a="PrettyCards_NavBarItem";for(var i in n&&(a+=" PrettyCards_NavBarInline"),e){var s,{link:o,isfunc:d}=X(e[i]),c=J(i);if(c.length>0){if("string"==typeof o){var l='<a href="'+o+'">'+c+"</a>";d&&(l='<span onclick="'+o+'">'+c+"</span>"),s=$('<div class="'+a+'">'+l+"</div>")}else{s=$('<div class="'+a+'"><span>'+c+"</span></div>");var u=Q(o);u.addClass("PrettyCards_Hidden"),Y(s.find("span"),u),s.append(u)}r.append(s)}}return r}function Z(){j=window.selfId?'<span class="glyphicon glyphicon-user green"></span>':"",$("#PrettyCards_Mobile_NavBar").remove();var e=$('<div id="PrettyCards_Mobile_NavBar" class="PrettyCards_Hidden"></div>');if(e.append(Q(window.selfId?W:z)),$("body").append(e),window.selfId){var t=Q(K,"#333333");t.addClass("PrettyCards_Hidden"),e.prepend(t);var n=$("nav .avatar")[0],r=$("#golds").text(),a=$("#ucp").text(),i=$("<div>DATA_PULL_ERROR</div>");n&&r&&a&&(i=$(`\n\t\t\t<table class="PrettyCards_NavBarProfile">\n\t\t\t\t<tr>\n\t\t\t\t\t<td rowspan="2"><img class="${n.className}" src="${n.src}"></td>\n\t\t\t\t\t<td>${selfUsername}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>(<span class="yellow">${r}</span> <img src="images/icons/gold.png" class="height-32"> / <span class="ucp">${a}</span> ${$.i18n("item-ucp")})</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t`)),i.click((function(){t.toggleClass("PrettyCards_Hidden")})),e.prepend(i)}e.append('<div class="PrettyCards_Divider"></div>'),e.append(Q(V,"#000000",!0)),e.append(Q(q)),e.append('<div class="PrettyCards_NavBarCopyright">Undercards © 2021<br>'+$.i18n("footer-copyright")+"</div>")}i({key:"mobile_mode",name:"Mobile Mode",note:"Experimental feature to make the game more mobile-friendly.",type:"boolean",refresh:!0,hidden:!0,default:()=>window.mobile}),t.openSettings=function(){e.settings().open()},!underscript.onPage("Game")&&r.mobile_mode.value()&&A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){G=$(".nbPacksHeader").text(),U=$("a[href=Quests]").text(),function(){$("nav").css("display","none"),$("footer").addClass("PrettyCards_Hidden");var e=$("header").contents();$("header").html('<div class="PrettyCards_HeaderFlex"><div id="PrettyCards_HeaderLeft"></div><div id="PrettyCards_HeaderMid"></div><div id="PrettyCards_HeaderRight"></div></div>'),$("#PrettyCards_HeaderMid").append(e);var t=$('<button class="btn btn-outline-secondary PrettyCards_Mobile_HeaderButton"><i class="glyphicon glyphicon-menu-hamburger"></i></button>');t.click((function(){$("#PrettyCards_Mobile_NavBar").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_Mobile_NavBarBG").toggleClass("PrettyCards_Hidden")})),$("#PrettyCards_HeaderLeft").prepend(t);var n=$('<div id="PrettyCards_Mobile_NavBarBG" class="PrettyCards_Hidden"></div>');n.click((function(){$("#PrettyCards_Mobile_NavBarBG").addClass("PrettyCards_Hidden"),$("#PrettyCards_Mobile_NavBar").addClass("PrettyCards_Hidden")})),$("body").append(n)}(),Z(),A("Chat:Connected",(function(){Z()}))}));var ee=i({key:"no_turn_end_while_select",name:"Prevent Ending Turn while Selecting a Target",type:"boolean",refresh:!1,default:!0,category:"noob_help"});window.underscript.onPage("Game")&&e.events.on("player:endTurn",(function(){this.canceled=ee.value()&&!!document.querySelector(".target")||!1})),prettycards.sendDealWarning=function(){window.BootstrapDialog.show({title:window.$.i18n("pc-matchwarn"),type:"type-danger",message:window.$.i18n("pc-matchwarn-sneo"),buttons:[{label:window.$.i18n("pc-navigate-noturnend"),cssClass:"btn-primary us-normal",action(e){e.close()}},{label:window.$.i18n("pc-navigate-suicide"),cssClass:"btn-danger us-normal",action(e){e.close(),window.endTurn()}},{label:window.$.i18n("pc-navigate-disablewarn"),cssClass:"btn-danger us-normal",action(e){e.close(),dealSetting.set(!1),window.endTurn()}}]})};var te={},ne=["BASE","COMMON","RARE","EPIC","LEGENDARY","DETERMINATION","TOKEN"],re=["BASE","DELTARUNE","UTY"];function ae(e,t){return`<img src="${function(e,t){return`/images/rarity/${e}_${t}.png`}(e,t)}" title="${t}">`}for(var ie=0;ie<re.length;ie++){var se=re[ie];te[se]={};for(var oe=0;oe<ne.length;oe++){var de=ne[oe];te[se][de]=ae(se,de)}}te.DELTARUNE.BASE='<img src="/images/rarity/DELTARUNE.png" title="BASE">',te.UTY.BASE='<img src="/images/rarity/UTY.png" title="BASE">',function(){var e=document.createElement("DIV");for(var t in e.style="display: none;",document.body.appendChild(e),te){var n=te[t];for(var r in n){var a=o()(n[r]);e.appendChild(a[0])}}setTimeout((function(){e.remove()}),1e3)}();class ce{static get gold(){return Number(document.getElementById("golds").innerHTML)}static set gold(e){document.getElementById("golds").innerHTML=Number(e)}static get ucp(){return Number(document.getElementById("ucp").innerHTML)}static GetNumberOfPacks(e){return underscript.onPage("Packs")?Number(document.getElementById("nb"+e+"s").innerHTML):-1}static get dust(){return Number(o()("#dust").html())}static GetActiveMatchesData(e){const t=e||function(){};o().get("/",{},(function(e){var n=o()(e).find("#liste").find("tr"),r=[];n.each((function(e,t){var n={},a=t.children[0],i={},s=a.onclick.toString();i.spectateLink=s.split("'")[1],i.id=Number(i.spectateLink.split("playerId=")[1]),i.profileSkinUrl=a.style.backgroundImage,i.profilePictureUrl=o()(a).find(".avatar").attr("src"),i.soul=o()(a).find("> .playerInfo > span").attr("class"),i.name=o()(a).find("> .playerInfo > span").clone().children().remove().end().text().trim(),i.level=Number(o()(a).find("> .playerInfo > span > span").text().replace(/^\D+/g,""));var d=t.children[1],c={},l=d.onclick.toString();c.spectateLink=l.split("'")[1],c.id=Number(c.spectateLink.split("playerId=")[1]),c.profileSkinUrl=d.style.backgroundImage,c.profilePictureUrl=o()(d).find(".avatar").attr("src"),c.soul=o()(d).find("> .playerInfo > span").attr("class"),c.name=o()(d).find("> .playerInfo > span").clone().children().remove().end().text().trim(),c.level=Number(o()(d).find("> .playerInfo > span > span").text().replace(/^\D+/g,"")),n.gameId=Number(i.spectateLink.split("&playerId=")[0].split("gameId=")[1]),n.player1=i,n.player2=c,r.push(n)})),t(r)}))}static GetActiveMatchForId(e,t){const n=t||function(){};this.GetActiveMatchesData((function(t){for(var r=0;r<t.length;r++)if(e===t[r].gameId){var a=t[r];n(a)}}))}static IsSelfMod(){return window.selfMainGroup.priority<=4}static IsMyself(e){return window.selfId===e}static IsMyFriend(e){for(var t=0;t<window.selfFriends.length;t++)if(window.selfFriends[t].id==e)return!0;return!1}static GetDecks(e){o().get("/DecksConfig",{},(function(t){var n=JSON.parse(t.decks);e(n)}))}}t.pagegetters=ce;var le=n(3620);l(le.Z);var ue=!1,pe={};function he(){if(underscript.onPage("Decks")){var t=window.decks;for(var n in pe={},t)pe[n]={},pe[n].cards=t[n],pe[n].artifacts=decksArtifacts[n];ue||(ue=!0,e.events.emit("SoulSelector:decksLoaded"))}else o().isEmptyObject(pe)&&ce.GetDecks((function(t){for(var n=0;n<t.length;n++){var r=t[n];pe[r.soul.name]={},pe[r.soul.name].cards=r.cardsList,pe[r.soul.name].artifacts=r.artifacts}ue||(ue=!0,e.events.emit("SoulSelector:decksLoaded"))}))}class fe{constructor(){this.selectedSoul="KINDNESS",this.idPrefix="PrettyCards_ChallengeSoul_",this.highlightSelectedSoul=!0,this.changeSoulCallback=function(){},this.soulsToDisplay=[]}GetPlayableDecks(){he();var e={};for(var t in pe){var n=pe[t];n.cards.length>=25&&(n.artifacts.length>=2||1===n.artifacts.length&&n.artifacts[0].legendary)&&(e[t]=n)}return e}GenerateArtifacts(e){var t=document.createElement("DIV");t.className="PrettyCards_ArtifactContainer";for(var n=0;n<e.length;n++){var r=e[n];n>0&&t.appendChild(document.createElement("BR"));var a=document.createElement("SPAN");a.className=r.legendary?"yellow":"";var i=P.getArtifactImage(r.image);i.style="height: 16px;",a.appendChild(i),a.appendChild(document.createTextNode(" "+r.name)),t.appendChild(a)}return t}GenerateCards(e){for(var t=document.createElement("DIV"),n="",r=0;r<e.length;r++){var a=e[r];n+=`${a.shiny?'<span class="rainbowText">S</span> ':""}<span class="${a.rarity}">${a.name}</span><br>`}return t.innerHTML=n,t}ChangeDeck(e){this.highlightSelectedSoul&&o()(document.getElementById(this.idPrefix+this.selectedSoul)).removeClass("PrettyCards_SelectedSoul"),this.selectedSoul=e,this.highlightSelectedSoul&&o()(document.getElementById(this.idPrefix+this.selectedSoul)).addClass("PrettyCards_SelectedSoul"),this.changeSoulCallback(this.selectedSoul)}SetUp(e,t){this.idPrefix=e;var n=this.GetPlayableDecks();this.soulsToDisplay.length<=0&&(this.soulsToDisplay=Object.keys(n));var r=document.createElement("DIV"),a="";window["PrettyCards_ChangeDeck_"+this.idPrefix]=this.ChangeDeck.bind(this);for(var i=0;i<this.soulsToDisplay.length;i++){var s=this.soulsToDisplay[i];""===a&&(a=s);var o=P.getSoulImage(s);o.id=this.idPrefix+s,o.className=`PrettyCards_Soul_${s} PrettyCards_${t}Soul ${s===a&&this.highlightSelectedSoul?"PrettyCards_SelectedSoul":""}`,o.onclick=new Function("event",`PrettyCards_ChangeDeck_${this.idPrefix}("${s}");`),r.appendChild(o)}return this.selectedSoul=a,r}AddDeckTooltips(){var e=this.GetPlayableDecks();for(var t in e){document.querySelector("#"+this.idPrefix+t);var n=document.createElement("DIV");n.className="PrettyCards_DeckTooltip",n.appendChild(this.GenerateArtifacts(e[t].artifacts)),n.appendChild(this.GenerateCards(e[t].cards)),window.tippy("#"+this.idPrefix+t,{content:n,allowHTML:!0,arrow:!0,inertia:!0,placement:"auto",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect,onShow(e){}})}}static ExecuteOnDeckLoad(t){ue?t():e.events.on("SoulSelector:decksLoaded",t)}static GetDecks(){return pe}}underscript.onPage("Decks")?e.events.on("Deck:Loaded",(function(e){he()})):he();var me=[];function ge(e,t=!1){return me.includes(e)?P.asset(`img/HDCardSkins/${e}.png`):t?`/images/cards/${e}.png`:P.getCardImageLink(e)}i({key:"hd_card_skins",name:"HD Card Skins",note:"Enables HD Card Skins. Only applies to registered card skins.<br>I would recommend turning this off if:<br>- You are using a low resolution device.<br>- You have slow internet access.<br>- You pay for your internet based on consumption (ex. Mobile data).",type:"boolean",refresh:!0,default:!0,category:"controversial"}),e.events.on("PrettyCards:onPageLoad",(function(){var t=window.appendCardCardSkinShop;window.appendCardCardSkinShop=function(n,r){var a=t(n,r);return e.events.emit("appendCardCardSkinShop()",{cardSkin:n,frameName:r,element:a}),a}})),r.hd_card_skins.value()&&(o().getJSON(P.asset("json/hdCardSkins.json"),{},(function(t){me=t,e.events.emit.singleton("PrettyCards:hdSkinsFetched",{skins:t})})),e.events.on("func:appendCard",(function(t,n){e.events.on("PrettyCards:hdSkinsFetched",(function(){me.includes(t.image)&&n.find(".cardImage").css("backgroundImage",`url("${ge(t.image)}")`)}))})),e.events.on("appendCardCardSkinShop()",(function(t){var n=t.cardSkin,r=t.element,a=n.image;e.events.on("PrettyCards:hdSkinsFetched",(function(){me.includes(a)&&r.find(".cardImage").css("backgroundImage",`url("${ge(a)}")`)}))})),e.events.on("appendHubDeck()",(function(t){var n=t.deck,r=t.element,a=n.image;e.events.on("PrettyCards:hdSkinsFetched",(function(){me.includes(a)&&r.find(".hubDeckImage img").attr("src",ge(a))}))})));var ye=[],we="Undertale";A("PrettyCards:onPageLoad",(function(){$.get("/CardSkinsConfig",{action:"profile"},(function(e){ye=JSON.parse(e.cardSkins),we=e.frameName}))})),l(n(4145).Z);var Ce=i({key:"old_artifact_rarity",name:"Disable Post-2023 Artifact Rarity System",type:"boolean",refresh:!1,default:!1,category:"artifact"});i({key:"no_artifact_background",name:"Disable Artifact Backgrounds",type:"boolean",refresh:!1,default:!1,category:"artifact"});var ve=new class{constructor(){this.artifacts=[],this.buyableArtifactIds={}}AddCustomArtifact(e){this.artifacts[e.id]=e}GetArtifactById(e){return this.artifacts[e]||null}GetArtifactByName(e){for(var t=0;t<this.artifacts.length;t++){var n=this.artifacts[t];if(n&&n.name===e)return n}return null}ReturnArtifactIcon(e){var t=this.GetArtifactById(e),n=P.getArtifactImage(t.image);return n.style="height: 24px;",n.className=`pointer PrettyCards_AverageSizedArtifact PrettyCards_Artifact_${t.rarity||"COMMON"}`,n.setAttribute("name",t.name),n.setAttribute("image",t.image),n.setAttribute("legendary","LEGENDARY"===t.rarity),n.setAttribute("artifactid",t.id),n.onclick=function(){window.artifactInfo(parseInt(this.getAttribute("artifactid")))},n}GetAllArtifacts(){$.getJSON("https://raw.githubusercontent.com/PrettyCards/daily-collector/main/allArtifactsProcessed.json",{},function(t){this.artifacts=[];for(var n=0;n<t.length;n++){var r=t[n];this.artifacts[r.id]=r}e.events.emit("PrettyCards:onArtifacts",this.artifacts)}.bind(this))}GetPage(e=-1){return new Promise(((t,n)=>{if(-1===e&&window.underscript.onPage("Artifacts"))t(document.getElementsByClassName("mainContent")[0]);else{var r={};e>=0&&(r={idArtifact:e,unlock:"Unlock"}),$.post("/Artifacts",r,(function(e){for(var r=$(e),a=0;a<r.length;a++){var i=r[a];if(i&&i.className&&i.classList.contains("mainContent"))return void t(i)}n("ELEMENT_NOT_FOUND_ERROR")}))}}))}GetPurchasableArtifacts(e=-1){return new Promise(((t,n)=>{this.GetPage(e).catch(n).then((e=>{var r=e.querySelector("nav.navbar div .navbar-right .dropdown .dropdown-toggle #golds");r&&(ce.gold=parseInt(r.innerText));var a=e.querySelector("table.table");a||n("NO_TABLE");var i,s=a.querySelector("tbody");this.buyableArtifactIds=[];for(var o=0;o<s.children.length;o++){var d=s.children[o],c=d.children[1].getAttribute("data-i18n"),l=parseInt(d.children[4].firstChild.innerText),u=parseInt((i=c.split("-")).length<=0?null:i[i.length-1]);this.buyableArtifactIds[u]=l}t(this.buyableArtifactIds)}))}))}IsArtifactPurchasable(e){return this.BuyPriceForArtifact(e)>-1}BuyPriceForArtifact(e){return e in this.buyableArtifactIds?this.buyableArtifactIds[e]:-1}BuyArtifact(t){this.GetPurchasableArtifacts(t).catch((t=>{console.error(t),e.events.emit("PrettyCards:artBuyError")})).then((n=>{if(this.IsArtifactPurchasable(t))return console.warn("Server error when buying artifact"),void e.events.emit("PrettyCards:artBuyError");e.events.emit("PrettyCards:artBuySuccess",{idArtifact:t,artifact:this.GetArtifactById(t)})}))}GetRarityDataFor(e){var t=e.soul,n=e.rarity,r=e.ownerId&&!!window.getCard(e.ownerId),a="";Ce.value()||!r&&!t?a=window.$.i18n("pc-fd-artifactwithrarity",window.$.i18n("rarity-"+n.toLowerCase())):r&&t?a=window.$.i18n("pc-fd-artifactwithownerandsoul",window.$.i18n("card-name-"+e.ownerId,1),window.$.i18n("soul-"+t.toLowerCase())):r?a=window.$.i18n("pc-fd-artifactwithowner",window.$.i18n("card-name-"+e.ownerId,1)):t&&(a=window.$.i18n("pc-fd-artifactwithsoul",window.$.i18n("soul-"+t.toLowerCase())));var i="PrettyCards_ArtifactDisplay_"+n;return e.customImgClass?i=e.customImgClass:t&&(i="PrettyCards_ArtifactDisplay_SoulArt_"+t,"LEGENDARY"!=n&&"DETERMINATION"!=n&&"MYTHIC"!=n||(i+=" PrettyCards_ArtifactDisplay_FloatingForSoul")),{text:a,txtClass:e.customTxtClass||e.soul||e.rarity,imgClass:i}}};t.artifactDisplay=ve,window.artifactDisplay=ve,A("PrettyCards:onPageLoad",(function(){ve.GetAllArtifacts(),ve.GetPurchasableArtifacts()})),e.events.on("connect getPlayersStats",(function(e){var t=[];if("getPlayersStats"==e.action){var n=JSON.parse(e.artifacts);for(var r in n)t=t.concat(n[r])}else t=JSON.parse(e.enemyArtifacts).concat(JSON.parse(e.yourArtifacts));for(var a=0;a<t.length;a++){var i=ve.GetArtifactById(t[a].id),s="PrettyCards_Artifact_"+i.rarity;i.soul&&(s="PrettyCards_Artifact_Soul_"+i.soul),window.$(".artifact-img[artifactId="+i.id+"]").addClass(s)}}));var be="/DecksConfig";class _e{static OptimalImportDeck(e,t){var n=0,r=function(e,r){"success"==r?0==--n&&t("success"):(console.log("ERROR WHILE IMPORTING DECK!",e),t("error",e))};_e.RemoveEverything(e.soul,(function(a,i){if("success"==i){for(var s=0;s<e.cards.length;s++){var o=e.cards[s];n++,_e.AddCard(o.id,o.shiny,e.soul,r)}for(s=0;s<e.artifacts.length;s++){var d=e.artifacts[s];n++,_e.AddArtifact(d,e.soul,r)}}else t("error")}))}static ImportDeck(e,t){$.get("/Decks",{},(function(){$.get("/DecksConfig",{},(function(){_e.OptimalImportDeck(e,(function(e,n){"success"==e?$.get(window.location.pathname,{},(function(){setTimeout((function(){t("success")}),500)})):t(e,n)}))}))}))}static AddCard(e,t,n,r){$.ajax({url:be,type:"POST",dataType:"json",data:JSON.stringify({action:"addCard",idCard:e,isShiny:!!t,soul:n}),contentType:"application/json",success:function(e){"error"!==e.status?r(e,"success"):r(e,"error")}})}static AddArtifact(e,t,n){$.ajax({url:be,type:"POST",dataType:"json",data:JSON.stringify({action:"addArtifact",idArtifact:e,soul:t}),contentType:"application/json",success:function(e){"getArtifactAdded"===e.action?n(e,"success"):n(e,"error")}})}static RemoveEverything(e,t){$.ajax({url:be,type:"POST",dataType:"json",data:JSON.stringify({action:"removeAllCards",soul:e}),contentType:"application/json",success:function(e){void 0===e.status?t(e,"success"):t(e,"error")}})}static RemoveArtifacts(e,t){$.ajax({url:be,type:"POST",dataType:"json",data:JSON.stringify({action:"clearArtifacts",soul:e}),contentType:"application/json",success:function(e){"getArtifactsCleared"===e.action?t(e,"success"):t(e,"error")}})}static RemoveCard(e,t,n,r){$.ajax({url:be,type:"POST",dataType:"json",data:JSON.stringify({action:"removeCard",idCard:e,isShiny:t,soul:n}),contentType:"application/json",complete:function(){canRemove=!0},success:function(e){void 0===e.status?r(e,"success"):r(e,"error")}})}}l(n(3410).Z);var Pe="underscript.deck."+window.selfId+".",ke=Math.random()<=.022;const xe={active:!0,authorName:"",cardId:1,cardName:"Dummy",id:-1,image:"Dummy",name:"Default",owned:!0,typeSkin:0,ucpCost:0,unavailable:!1},Se={active:!0,authorName:"",cardId:-1,cardName:"Onutrem",id:-1,image:"Onutrem",name:"Default",owned:!0,typeSkin:0,ucpCost:0,unavailable:!1},Ee={id:-22,fixedId:-22,typeCard:1,name:"PLACEHOLDER",image:"Big_Mine",baseImage:"Big_Mine",cost:0,rarity:"TOKEN",originalCost:0,shiny:!1,quantity:1,extension:"BASE",tribes:[],selectCards:[],typeSkin:0,playedTurn:0,ownerId:0,loop:0,program:0};function Ae(){var e=[];Pe="underscript.deck."+window.selfId+".";for(var t=0;t<window.localStorage.length;t++){var n=window.localStorage.key(t);if(n.includes(Pe)){var r=window.localStorage.getItem(n),a=n.substring(Pe.length,n.length).split(".");if("name"===a[2])continue;var i=JSON.parse(r),s="prettycards.deck."+selfId+"."+a[0]+"."+a[1]+".image",o="prettycards.deck."+selfId+"."+a[0]+"."+a[1]+".description",d=window.localStorage[s];d=d?JSON.parse(d):ke?Se:xe;var c=a[0],l={soul:c,id:Number(a[1]),name:window.localStorage[n+".name"]||window.$.i18n("pc-decks-unnamed",window.$.i18n("soul-"+c.toLowerCase())),cards:i.cards,artifacts:i.artifacts,image:d,description:window.localStorage[o]||"",key:n};e.push(l)}}return e}function Te(e,t){if(e.cards.length!=t.cards.length||e.artifacts.length!=t.artifacts.length)return!1;for(var n=0;n<e.artifacts.length;n++)if(!t.artifacts.includes(e.artifacts[n].id))return!1;var r=[...e.cards],a=[...t.cards];for(r.sort(((e,t)=>e.id-t.id||e.shiny-t.shiny)),a.sort((({id:e,shiny:t=!1},{id:n,shiny:r=!1})=>e-n||t-r)),n=0;n<r.length;n++){var i=r[n],{id:s,shiny:o=!1}=a[n];if(i.id!==s||i.shiny!==o)return!1}return!0}function Ie(){var e=Ae(),t={DETERMINATION:[],BRAVERY:[],JUSTICE:[],KINDNESS:[],PATIENCE:[],INTEGRITY:[],PERSEVERANCE:[]};P.onTestServer()&&(t.MONSTER=[]);for(var n=0;n<e.length;n++){var r=e[n];t[r.soul]?t[r.soul].push(r):console.warn("NEW DECK TYPE DISCOVERED ON CLIENT! "+r.soul)}for(var a in t)t[a].sort((function(e,t){return e.id-t.id}));return t}function $e(e,t){for(var n=e[t],r=0;r<n.length&&r==n[r].id;)r++;return r}class Ne{constructor(){this.callback=function(){},this.closeCallback=function(){},this.closable=!1,this.deckSouls={},this.decks=[],this.canEditDecks=!1,this.hideInvalidDecks=!0}IsValidDeck(e){if(25!=e.cards.length)return!1;if(0==e.artifacts.length||e.artifacts.length>=3)return!1;var t=ve.GetArtifactById(e.artifacts[0]);if(!t)return console.log("ARTIFACT WITH ID"+e.artifacts[0]+" NOT FOUND!"),!1;if(1==e.artifacts.length)return"LEGENDARY"===t.rarity;var n=ve.GetArtifactById(e.artifacts[1]);return n?"LEGENDARY"!==t.rarity&&"LEGENDARY"!==n.rarity:(console.log("ARTIFACT WITH ID"+e.artifacts[1]+" NOT FOUND!"),!1)}SetUpButtons(e){var t=document.createElement("BUTTON");t.className="btn btn-danger PrettyCards_DeckListHeaderButton",t.innerHTML="Purge Autogens",e.appendChild(t)}GetHTML(e){var t=document.createElement("DIV");t.className="PrettyCards_ChooseDeckScreenContainer";var n=document.createElement("DIV");n.className="PrettyCards_DeckListHeader",t.appendChild(n);var r=document.createElement("DIV");for(var a in r.className="PrettyCards_DecklistSoulsContainer",n.appendChild(r),this.soulSelector=new fe,this.soulSelector.changeSoulCallback=function(e){this.deckSouls[e][0].scrollIntoView({behavior:"smooth",block:"start"})}.bind(this),this.soulSelector.highlightSelectedSoul=!1,this.soulSelector.soulsToDisplay=[],e)this.soulSelector.soulsToDisplay.push(a);r.appendChild(this.soulSelector.SetUp("PrettyCards_SavedDeckSelectSoul_","Normal"));var i=document.createElement("DIV");if(i.className="PrettyCards_DeckListContainer",t.appendChild(i),this.closable){var s=document.createElement("DIV"),o=document.createElement("BUTTON");o.className="btn btn-primary PrettyCards_DeckListHeaderButton",o.innerHTML=ke?"<span class='red'>"+window.$.i18n("pc-navigate-later")+"</span>":window.$.i18n("pc-navigate-nevermind"),o.onclick=this.closeCallback,s.appendChild(o),n.appendChild(s)}for(var a in this.deckSouls={},e){for(var d=$('<div><div class="PrettyCards_DeckHeader '+a+'">'+window.$.i18n("soul-"+a.toLowerCase())+"</div></div>"),c=0;c<e[a].length;c++){const t=e[a][c];if(!this.hideInvalidDecks||this.IsValidDeck(t)){var l=this.appendCardDeck(d,t);this.canEditDecks&&(l.append('<div class="PrettyCards_DeckCardErase">'+(ke?window.$.i18n("pc-decks-delete-mystery"):window.$.i18n("pc-decks-delete"))+"</div>"),l.find(".PrettyCards_DeckCardErase").click(function(e){this.DeleteDeckDialogue(t),e.stopPropagation()}.bind(this)),l.find(".cardFooter").css("display","none")),l.click(function(){this.callback(t)}.bind(this))}}if(this.canEditDecks){var u=$e(e,a);const t={image:ke?Se:xe,soul:a,name:window.$.i18n("pc-decks-new",window.$.i18n("soul-"+a.toLowerCase())),description:"",cards:[],artifacts:[],id:u,key:Pe+a+"."+u};this.appendCardDeck(d,t).click(function(){this.callback(t)}.bind(this))}this.deckSouls[a]=d,$(i).append(d)}return t}AppendTo(e){this.decks=Ie(),function(e){var t=fe.GetDecks();for(var n in t){var a=!1,i=t[n];if(e[n]&&!(i.cards.length<=0)){for(var s=0;s<e[n].length;s++){var o=e[n][s];o.isBase=Te(i,o),o.isBase&&(a=!0)}if(!a&&r.override_decks_autogen.value()){var d=$e(e,n),c=[],l=[],u=Pe+n+"."+d,p=window.$.i18n("pc-decks-autogen",window.$.i18n("soul-"+n.toLowerCase()));for(s=0;s<i.cards.length;s++){var h={id:i.cards[s].id};i.cards[s].shiny&&(h.shiny=!0),c.push(h)}for(s=0;s<i.artifacts.length;s++)l.push(i.artifacts[s].id);window.localStorage[u]=JSON.stringify({cards:c,artifacts:l}),window.localStorage[u+".name"]=p,e[n].push({image:ke?Se:xe,soul:n,name:p,cards:c,artifacts:l,id:d,key:u,isBase:!0})}}}}(this.decks);var t=this.GetHTML(this.decks);return e.appendChild(t),this.parent=e,t}Reload(){this.parent.innerHTML="",this.AppendTo(this.parent)}DeleteDeckDialogue(e){var t=ke?window.$.i18n("pc-decks-askdelete-title-mystery"):window.$.i18n("pc-decks-askdelete-title"),n=ke?`<span class='red'>${window.$.i18n("pc-decks-askdelete-text-mystery")}</span>`:window.$.i18n("pc-decks-askdelete-text"),r=ke?window.$.i18n("pc-decks-askdelete-yes-mystery"):window.$.i18n("pc-decks-askdelete-yes"),a=ke?window.$.i18n("pc-decks-askdelete-no-mystery"):window.$.i18n("pc-decks-askdelete-no");const i=this;BootstrapDialog.show({title:t,message:n,buttons:[{label:a,cssClass:"btn-primary us-normal",action(e){e.close()}},{label:r,cssClass:"btn-danger us-normal",action(t){i.DeleteDeck(e),t.close()}}]})}DeleteDeck(e){window.localStorage.removeItem(e.key),window.localStorage.removeItem(e.key+".name"),window.localStorage.removeItem("prettycards.deck."+selfId+"."+e.soul+"."+e.id+".image"),window.localStorage.removeItem("prettycards.deck."+selfId+"."+e.soul+"."+e.id+".description"),e.isBase?_e.RemoveEverything(e.soul,function(){fe.GetDecks()[e.soul]={cards:[],artifacts:[]},this.Reload()}.bind(this)):this.Reload()}appendCardDeck(e,t,n){var r=window.appendCard(Ee,e);r.addClass("PrettyCards_DeckCard");var a=r.find(".cardName div");r.find(".cardName").css("width","160px"),a.html(t.name),r.find(".cardName").addClass(t.soul),r.find(".cardDesc div").html('<span class="'+t.soul+'">'+(t.description||"").replaceAll("\n","<br>")+"</span>"+(!n&&t.isBase?'<p style="color:grey; margin:0px;">(Loaded)</p>':"")),r.find(".cardFrame").css("background-image","url("+(!n&&t.isBase?P.asset("img/CardFrames/frame_deck_gold.png"):P.asset("img/CardFrames/frame_deck.png"))+")"),function(e,t){var n=ge(t.image,!0);t.isCustom&&(n=t.image),e.find(".cardImage").css("background-image","url("+n+")");var r="standard-skin";1==t.typeSkin?r="full-skin":2==t.typeSkin&&(r="breaking-skin"),e.removeClass("standard-skin").addClass(r)}(r,t.image),a.css("font-size","");var i=window.getResizedFontSize(a,25);return a.css("font-size",i+"px"),!n&&t.isBase&&r.addClass("PrettyCards_BaseDeckCard"),r}getDeckBySoulAndId(e,t){this.decks=Ie();var n=this.decks[e];if(!n)return null;for(var r=0;r<n.length;r++){var a=n[r];if(a.id===t)return a}return null}}l(le.Z);var De,Le=r.override_decks.value(),Re=!1,Me=new fe,Oe=new Ne,Be=!1;function Fe(){o()("#PrettyCards_PrivateGameChallengeForm").attr("hidden",!0),o()("#PrettyCards_PrivateGameChallengeDeckSelector").attr("hidden",!1),We.$modalDialog.addClass("modal-lg"),Be=!0}function He(){o()("#PrettyCards_PrivateGameChallengeForm").attr("hidden",!1),o()("#PrettyCards_PrivateGameChallengeDeckSelector").attr("hidden",!0),We.$modalDialog.removeClass("modal-lg"),Be=!1}function Ge(e){Ue(e),He()}function Ue(e){De=e,window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]=e.id,window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"]=e.soul,Be=!1;var t=o()("#PrettyCards_PrivateGameChallengeDeckCard");t.html(""),Oe.appendCardDeck(t,e,!1)}function je(e){var t=o()(`\n\t\t<div id="PrettyCards_PrivateGameChallengeForm">\n\t\t\t<p>${window.$.i18n("pc-customgame-options-name")}: </p><input id="PrettyCards_PrivateGameName" type="text" class="form-control" value="${"PrettyCardsCustom"+Math.floor(100*Math.random())}"></input>\n\t\t\t<p>${window.$.i18n("pc-customgame-options-recipients")}: </p><input id="PrettyCards_PrivateGameRecipients" type="text" class="form-control" value="${e?e.username:""}"></input>\n\t\t\t<br>\n\t\t\t<label class="form-check-label"><input id="PrettyCards_PrivateGameEveryone" type="checkbox" class="form-check-input" ${e?"":"checked"}></input> ${window.$.i18n("pc-customgame-options-everyone")}</label>\n\t\t\t<p ${Le?"hidden":""} className="PrettyCards_PrivateGameChallengeForm_Souls">${window.$.i18n("pc-customgame-options-soul")}: </p>\n\t\t\t<div id="PrettyCards_PrivateGameChallengeDeckCard"></div>\n\t\t</div>\n\t\t<div id="PrettyCards_PrivateGameChallengeDeckSelector" hidden></div>\n\t`);return t.find("#PrettyCards_PrivateGameChallengeForm .PrettyCards_PrivateGameChallengeForm_Souls").append(Me.SetUp("PrettyCards_ChallengeSoul_","Normal")),Le&&t.find("#PrettyCards_PrivateGameChallengeDeckCard").click(Fe),t}function ze(e){Le?(function(){var e=Number(window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]),t=window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"];if("number"==typeof e&&"string"==typeof t){var n=Oe.getDeckBySoulAndId(t,e);null==n?(Ue({soul:"DETERMINATION",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:Se,description:window.$.i18n("pc-play-deckerror")}),Be=!0):Ue(n)}else Ue({soul:"UNIVERSAL",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:xe,description:window.$.i18n("pc-play-nodeck")}),Be=!0}(),Oe.closable=!0,Oe.closeCallback=He,Oe.callback=Ge,Oe.AppendTo(o()("#PrettyCards_PrivateGameChallengeDeckSelector")[0])):Me.AddDeckTooltips()}var We,Ke={};function Ve(e,t,n){sessionStorage.setItem("PrettyCards_PrivateGameIsHost",!0),sessionStorage.setItem("PrettyCards_PrivateGameName",e),sessionStorage.setItem("PrettyCards_PrivateGameSoul",n),sessionStorage.setItem("PrettyCards_PrivateGameRecipients",JSON.stringify(t));var r="I challenge "+t.join(", ")+" to a CUSTOM game! via PrettyCards";Ke.idRoom>0?window.sendMessage(r,String(Ke.idRoom)):window.sendPrivateMessage(r,String(Ke.user.id)),Re=!0}function qe(e){Re&&JSON.parse(e.chatMessage).user.id===window.selfId&&(window.location="/GamesList")}e.events.on("Chat:getPrivateMessage",qe),e.events.on("Chat:getMessage",qe);var Ye=new class{constructor(){this.allValuesLists={},this.languageSources=[],this.previewTypes=[],this.addPreviewType("default",/.*/,(e=>`<span>${e}</span>`),0)}addLanguageSource(e="DEFAULT_NAME",t=(e=>e)){this.languageSources.push({name:e,urlFunc:t})}addPreviewType(e="DEFAULT_MAME",t=/.*/,n=(()=>{}),r=0,a=(()=>{})){for(var i={name:e,regex:t,eleFunc:n,priority:r,onremove:a},s=0;s<this.previewTypes.length&&this.previewTypes[s].priority>r;)s++;return this.previewTypes.splice(s,0,i),i}getStringOrList(e){return this.allValuesLists[e]?this.getTranslatedValueList(e):window.$.i18n(e)}getTranslatedValueList(e){for(var t=[],n=0;n<this.allValuesLists[e];n++)t.push(this.getFromValueList(e,n));return t}getFromValueList(e,t){return window.$.i18n(this.getListKeyIndex(e,t))}getRandomFromValueList(e){return this.getFromValueList(e,P.randomInt(0,this.allValuesLists[e]))}getListKeyIndex(e,t){return e+"-"+t}getWithFallback(e,t,n){var r=window.$.i18n(e,n);return r==e?t:r}},Je=i({key:"april_fools_wording",name:"Uglycards Wording",type:"boolean",refresh:!0,default:!0,note:"This will ONLY work during the month of April, and may be removed in the future!",hidden:function(){return P.getSeasonNumber()<81},category:"april"});e.events.on("PrettyCards:registerTranslationSources",(function(){console.log("MONTH",P.getSeasonNumber()),Je.value()&&3==P.getSeasonMonth()&&Ye.addLanguageSource("PrettyCards:UglyWording",(e=>P.asset(`json/translation/april/${e}.json`))),Ye.addLanguageSource("PrettyCards:Core",(e=>P.asset(`json/translation/${e}.json`)))}));var Xe,Qe=0;function Ze(){--Qe<=0&&e.events.emit.singleton("PrettyCards:TranslationExtReady")}function et(e="en"){Ye.languageSources.forEach((t=>{o().getJSON(t.urlFunc(e),{},(function(t){!function(e,t){for(var n in t){var r=t[n];if("string"==typeof t[n])window.$.i18n.messageStore.set(e,{[n]:r});else{if(r.ifEqual&&window.$.i18n.messageStore.get(e,n)!=r.ifEqual)continue;if(r.values){Ye.allValuesLists[n]=r.values.length;for(var a=0;a<r.values.length;a++)window.$.i18n.messageStore.set(e,{[Ye.getListKeyIndex(n,a)]:r.values[a]})}else window.$.i18n.messageStore.set(e,{[n]:r.value})}}Ze()}(e,t)})).fail((function(){console.warn(`Language file from source "${t.name}" for language "${e}", from address "${t.urlFunc(e)}" could not be loaded!`),Ze()}))}))}function tt(e,t){var n=Number(e[0]);isNaN(n)&&(n=1);var a=`class="PrettyCards_SwitchHighlight_${t}" `;return r.switch_highlight.value()||(a=""),`<span ${a}style="opacity:${n}; ${n<=0?"display:none;":""}">${e[1]}</span>`}(Xe=window.localStorage.getItem("language"))||(Xe=window.getLanguage()),e.events.on("translation:loaded",(()=>{window.$.extend(window.$.i18n.parser.emitter,{pc_artifacts:function(e){for(var t=e[0],n=[],r=1;r<e.length;r++)n.push(Number(e[r]));return`<span class="helpPointer underlined" oncontextmenu="prettycards.viewArtifactsInfoForIdArray([${n.join(",")}]);">${t}</span>`},pc_switch_cyan:function(e){return tt(e,"Cyan")},pc_switch_red:function(e){return tt(e,"Red")},pc_raricon:function(e){var t=e[0],n=e[1];return te[t][n]},pc_shiny:function(e){return`<span class="rainbowText">${e[0]}</span>`},pc_tc:function(e){var t=e[0].toLowerCase();return 1==e.length?"["+t+"]":(e.splice(0,1),"["+t+":"+e.join("|")+"]")},pc_en_poss:function(e){return e[0].endsWith("s")?e[0]+"'":e[0]+"'s"}}),e.events.emit.singleton("PrettyCards:registerTranslationSources"),e.events.emit.singleton("PrettyCards:translationSourcesDone"),"en"!=Xe?(Qe=2*Ye.languageSources.length,et("en"),et(Xe)):(Qe=Ye.languageSources.length,et("en"))})),t.translationManager=Ye,l(n(7288).Z);const nt={id:220,priority:10,name:"PrettyCards_Staff",icon:"PC_Staff"},rt={id:221,priority:10,name:"PrettyCards_MiniStaff",icon:"PC_MiniStaff"},at={id:222,priority:10,name:"PrettyCards_Owner",icon:"PC_Owner"},it={id:999,priority:15,name:"Overachiever",icon:"Overachiever"},st={id:9999,priority:15,name:"Grassless",icon:"Grassless"},ot={id:277,priority:16,name:"Cutie",icon:"Cutie"};class dt{#e;chatRoleUserData={};#t=[nt,rt,at,it,st,ot];static#n=new dt;constructor(){this.#r()}static getInstance(){return dt.#n}#r(){o().getJSON(P.asset("json/customChatRoles.json"),{},(t=>{this.chatRoleUserData=t,e.events.emit.singleton("PrettyCards:customChatRolesData",this.chatRoleUserData)})),e.events.on("PrettyCards:onPageLoad",(()=>{this.#e=window.appendMessage,window.appendMessage=(e,t,n)=>{this.#a(e),this.#e(e,t,n),this.#i(e,t,n)}}))}#a(e){var t=e.user;if(!t.pc_touched){t.pc_touched=!0;var n,r=null;if(this.#s(t.id,"pc_staff")?(r=nt,n=t.mainGroup.priority>=8):this.#s(t.id,"pc_ministaff")?(r=rt,n=!1):this.#s(t.id,"pc_owner")&&(r=at,n=!0),r&&(t.groups.push(r),n)){var a=t.groups.find((e=>e.id===t.mainGroup.id));a&&(a.priority=10),t.mainGroup=r}t.level>=9999?t.groups.push(st):t.level>=999&&t.groups.push(it),this.#s(t.id,"cutie")&&t.groups.push(ot),t.groups.sort(((e,t)=>e.priority-t.priority))}}#i(e,t,n){for(var r=n?"chat-private-"+t:"chat-public-"+t,a=o()("#"+r).find("#message-"+e.id).find(".groupIcon"),i=0;i<a.length;i++){var s=a[i],d=s.getAttribute("title"),c=this.#t.find((e=>e.name==d));c&&(s.src=this.#o(c.icon))}}#o(e){return P.asset(`img/ChatBadges/${e}.png`)}#s(e,t){return this.chatRoleUserData[t]?this.chatRoleUserData[t].find((t=>t.id===e)):(console.warn("List name",t,"in",this.chatRoleUserData,"does not exist!"),!1)}getChatBadgeIcon(e){return this.#t.find((t=>t.icon==e))?this.#o(e):`images/${e}.png`}#d(e){var t=this.#s(e,"cutie");return t?t.face:null}#c(e){return this.#s(e,"pc_staff")||this.#s(e,"pc_ministaff")||this.#s(e,"pc_owner")}#l(e){var t=this.#c(e);return t?t.credit:null}getStatusStringForId(e){var t=this.#d(e),n=this.#l(e),r="";return n&&(r+=` <span class="PrettyCards_Staff">(${n})</span>`),t&&(r+=` <span class="Cutie">(${t})</span>`),r}isStaffMember(t){return new Promise(((n,r)=>{try{e.events.on("PrettyCards:customChatRolesData",(()=>{var e=this.#c(t);e?n(e):r("NO_PERMS")}))}catch(e){console.error(e),r("ERROR_INSIDE")}}))}}var ct=n(4095),lt=n(9157),ut=n(9008);l(ct.Z),l(lt.Z),l(ut.Z),window.PrettyCards_plugin=e;var pt,ht=window.$,ft=[];i({key:"user_info",name:"Better User Info",type:"boolean",refresh:!1,default:!0});var mt=i({key:"user_info_special_bg_opacity",name:"BUI: Background Opacity",note:"Certain profile skins have special backgrounds while in battle. Better User Info displays these backgrounds as its background if there are any, or black if there is not. This setting lets you control the opacity of these special backgrounds, with lower numbers making them darker, and higher numbers making them brighter.",type:"slider",refresh:!1,default:60,min:0,max:100,step:1});function gt(e,t,n=ht(".PrettyCards_UserInfo_FriendshipHideable")){e?n.removeClass("PrettyCards_Hidden"):n.addClass("PrettyCards_Hidden")}var yt=i({key:"user_info_friendship_show",name:"Show Friendship Data On User Info",note:'Requires "Better User Info" to have any effect!',type:"boolean",refresh:!1,default:!0,onChange:gt,hidden:!0});function wt(t){var n=ht(t).data("infos");console.log(n);var r=n.user;if(!e.events.emit("preChat:getInfo",{infos:n,user:r},!0).canceled){pt(t);var a=window.BootstrapDialog.dialogs[Object.keys(BootstrapDialog.dialogs)[0]];e.events.emit("Chat:getInfo",{popupElement:a.$modalDialog[0],infos:n,user:r})}}A("PrettyCards:onPageLoad",(function(){window.$.get("Leaderboard?action=ranked",(function(e){ft=JSON.parse(e.leaderboard)}))})),A("PrettyCards:onPageLoad",(function(){pt=window.getInfo,window.getInfo=wt,ht=window.$,P.loadCSSFromLink("/css/meters.css")})),e.events.on("Chat:getInfo",(function(t){if(!r.user_info.value())return;console.log("Chat:getInfo ",t);var n=t.user,a=t.popupElement.querySelector(".modal-header"),i=window.localStorage["prettycards.profile_skin_text_color."+window.selfId+"."+n.profileSkin.id]||"#FFFFFF";t.popupElement.className="modal-dialog modal-lg",a.className+=" PrettyCards_UserHeader",a.style["background-image"]=`url(/images/profiles/${n.profileSkin.image}.png)`;var s=t.popupElement.querySelector(".modal-content");s.style["background-image"]=`url(/images/backgrounds/${n.profileSkin.image}.png)`,s.style["background-color"]="black",s.style["background-size"]="cover",s.style["background-position"]="center";var o=(100-mt.value())/100;t.popupElement.querySelector(".modal-body").style.background=`rgba(0, 0, 0, ${o})`,t.popupElement.querySelector(".modal-footer").style.background=`rgba(0, 0, 0, ${o})`;var d=dt.getInstance().getStatusStringForId(n.id),c=a.querySelector(".bootstrap-dialog-title");c.innerHTML+=d,c.className+=" PrettyCards_UserTitle",c.style.color=i;var l=t.popupElement.querySelector(".bootstrap-dialog-footer-buttons");l.style="display: flex; justify-content: flex-end; align-items: center;";var u=document.createElement("INPUT");u.setAttribute("type","color"),u.value=i,u.style="height: 32px; margin: 0px 4px;",u.oninput=function(e){c.style.color=u.value,window.localStorage["prettycards.profile_skin_text_color."+window.selfId+"."+n.profileSkin.id]=u.value},l.prepend(u);var p=t.popupElement.querySelector(".avatar");p.className+=" PrettyCards_UserProfilePic",a.appendChild(p),n.shinyAvatar&&a.appendChild(t.popupElement.querySelector(".rainbowAvatar"));var h=t.popupElement.querySelector(".bootstrap-dialog-message");h.innerHTML="";var f=document.createElement("DIV");f.className="row";var m=document.createElement("DIV");m.className="column PrettyCards_UserColumn",f.appendChild(m);var g=document.createElement("DIV");g.className="column PrettyCards_UserColumn",f.appendChild(g),h.appendChild(f);var y=Math.random()<=.022,w=document.createElement("DIV");w.className="PrettyCards_UserGroups",w.innerHTML="Groups: ";for(var C=0;C<n.groups.length;C++){var v=n.groups[C],b=document.createElement("SPAN");if(b.className="PrettyCards_UserGroupContainer",w.appendChild(b),v.icon){var _=document.createElement("IMG");_.src=dt.getInstance().getChatBadgeIcon(v.icon),_.onerror=function(e){e.target.style.display="none"},_.title=v.name,b.appendChild(_)}var k=document.createElement("SPAN");k.innerHTML=Ye.getWithFallback("group-"+v.name.replace(" ","_").toLowerCase(),v.name),k.className=v.name.replace(" ","_"),k.style.paddingRight="15px",b.appendChild(k)}m.appendChild(w);var x=document.createElement("DIV");x.innerHTML=window.$.i18n("stat-lv")+" "+n.level,x.className="PrettyCards_UserLV",m.appendChild(x);var S=document.createElement("DIV");function E(){S.innerHTML='<span class="glyphicon glyphicon-user green"></span> '+window.$.i18n("pc-chat-friend-add"),S.style.cursor="pointer",S.onclick=function(){ht.post("/Friends",{username:n.username,addFriend:"Add friend"},A)}}function A(){S.innerHTML='<span class="glyphicon glyphicon-user red"></span> '+window.$.i18n("pc-chat-friend-remove"),S.style.cursor="pointer",S.onclick=T}function T(){BootstrapDialog.show({title:window.$.i18n("pc-chat-unfriend-confirm-title",n.username),message:window.$.i18n("pc-chat-unfriend-confirm",n.username),buttons:[{label:window.$.i18n("pc-navigate-no"),cssClass:"btn-primary us-normal",action(e){e.close()}},{label:window.$.i18n("pc-navigate-yes"),cssClass:"btn-danger us-normal",action(e){ht.get("/Friends?delete="+n.id,{},E()),e.close()}}]})}m.appendChild(S),ce.IsMyself(n.id)||ce.IsMyFriend(n.id)?ce.IsMyself(n.id)?S.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-user"></span> '+Ye.getRandomFromValueList("pc-chat-friend-mystery")+"</span>":'<span class="glyphicon glyphicon-user gray"></span> '+window.$.i18n("pc-chat-friend-you"):A():E();var I=document.createElement("DIV");function $(){I.innerHTML='<span class="glyphicon glyphicon-volume-off red"></span> '+(underscript.user.isIgnored(n)?window.$.i18n("pc-chat-ignore-remove"):window.$.i18n("pc-chat-ignore-add"))}m.appendChild(I),ce.IsMyself(n.id)?I.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-volume-off"></span> '+Ye.getRandomFromValueList("pc-chat-ignore-mystery")+"</span>":'<span class="glyphicon glyphicon-volume-off gray"></span> '+window.$.i18n("pc-chat-ignore-self"):($(),I.style.cursor="pointer",I.onclick=function(){underscript.user.isIgnored(n)?underscript.user.unIgnore(n):underscript.user.ignore(n),$()});var N=document.createElement("DIV");m.appendChild(N),ce.IsMyself(n.id)||!ce.IsSelfMod()&&!ce.IsMyFriend(n.id)?ce.IsMyself(n.id)?N.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-envelope"></span> '+Ye.getRandomFromValueList("pc-chat-pm-mystery")+"</span>":'<span class="glyphicon glyphicon-envelope gray"></span> '+window.$.i18n("pc-chat-pm-self"):N.innerHTML='<span class="glyphicon glyphicon-envelope gray"></span> '+window.$.i18n("pc-chat-pm-denied"):(N.innerHTML='<span class="glyphicon glyphicon-envelope yellow"></span> '+window.$.i18n("pc-chat-pm-allowed"),N.style.cursor="pointer",N.onclick=function(){openPrivateRoom(n.id,n.username)});const D=document.createElement("DIV");if(m.appendChild(D),!ce.IsMyself(n.id)&&n.gameId>-1?ce.GetActiveMatchForId(n.gameId,(function(e){if(e.player2.id===n.id){var t=e.player1;e.player1=e.player2,e.player2=t}D.innerHTML=`<span class="glyphicon glyphicon-eye-open green"></span> ${window.$.i18n("pc-chat-spectate-match")}<br><a href="${e.player1.spectateLink}"><img src="images/souls/${e.player1.soul}.png"></img><span class="${e.player1.soul}"> ${e.player1.name}</span></a> ${window.$.i18n("pc-chat-spectate-separator")} \n<a href="${e.player2.spectateLink}"><img src="images/souls/${e.player2.soul}.png"></img><span class="${e.player2.soul}"> ${e.player2.name}</span></a>`})):ce.IsMyself(n.id)&&n.gameId>-1?D.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-eye-open"></span> '+Ye.getRandomFromValueList("pc-chat-spectate-mystery-match")+"</span>":'<span class="glyphicon glyphicon-eye-open gray"></span> '+window.$.i18n("pc-chat-spectate-self"):ce.IsMyself(n.id)?D.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-eye-open"></span> '+Ye.getRandomFromValueList("pc-chat-spectate-mystery-idle")+"</span>":'<span class="glyphicon glyphicon-eye-open gray"></span> '+window.$.i18n("pc-chat-spectate-self"):D.innerHTML='<span class="glyphicon glyphicon-eye-open gray"></span> '+window.$.i18n("pc-chat-spectate-idle"),!ce.IsMyself(n.id)&&n.gameId<=-1){var L=document.createElement("DIV");L.innerHTML='<span class="glyphicon glyphicon-flash red"></span> '+window.$.i18n("pc-chat-challenge-create"),L.style.cursor="pointer",L.onclick=function(){!function(t,n){Ke=n,We=BootstrapDialog.show({title:"Custom Challenge!",message:je(t),onshown:ze.bind(this),buttons:[{label:window.$.i18n("pc-navigate-cancel"),cssClass:"btn-primary us-normal",action(e){e.close()}},{label:window.$.i18n("pc-navigate-send"),cssClass:"btn-primary us-normal",action(t){if(!Be){for(var n=document.getElementById("PrettyCards_PrivateGameName").value,r=document.getElementById("PrettyCards_PrivateGameEveryone").checked?["everyone"]:document.getElementById("PrettyCards_PrivateGameRecipients").value.split(","),a=0;a<r.length;a++)r[a]=r[a].trim();r.length<=0&&(r=["everyone"]);var i,s,o=Le?De.soul:Me.selectedSoul;Le?(i=function(){Ve(n,r,o)},s=e.toast({title:"Please wait!",text:"Setting up the deck on the server . . ."}),Be=!0,_e.OptimalImportDeck(De,(function(e){Be=!1,s.exists()&&s.close(),"success"==e&&i()}))):Ve(n,r,o)}}}]})}(n,t.infos)},m.appendChild(L)}var R=document.createElement("DIV");if(ce.IsSelfMod()&&!ce.IsMyself(n.id)){var M={1:"1 "+window.$.i18n("pc-smalltime-sec",1),30:"30 "+window.$.i18n("pc-smalltime-sec",2),60:"1 "+window.$.i18n("pc-smalltime-min",1),600:"10 "+window.$.i18n("pc-smalltime-min",2),3600:"1 "+window.$.i18n("pc-smalltime-hour",1),21600:"6 "+window.$.i18n("pc-smalltime-hour",2),43200:"12 "+window.$.i18n("pc-smalltime-hour",2),43200:"1 day"+window.$.i18n("pc-smalltime-day",1)};R.innerHTML='<span class="glyphicon glyphicon-volume-off gray"></span> '+window.$.i18n("chat-time-out-user")+" ";var O=document.createElement("INPUT");O.setAttribute("type","text"),O.id="PrettyCards_Timeout",O.style="display:inline; width: 110px; margin-right: 15px;",O.setAttribute("list","PrettyCards_TimeoutList"),O.onchange=function(){for(var e in M)if(M[e]==this.value){this.value=e;break}};var B=document.createElement("DATALIST");for(var F in B.id="PrettyCards_TimeoutList",M)B.innerHTML+='<option value="'+M[F]+'"></option>';var H=document.createElement("BUTTON");H.className="btn btn-primary",H.innerHTML=window.$.i18n("pc-chat-mod-timeout"),H.onclick=function(){var e=ht("#PrettyCards_Timeout").val();for(var t in M)if(M[t]==e){e=t;break}window.timeout(String(n.id),e)},R.appendChild(O),R.appendChild(H),R.appendChild(B)}m.appendChild(R),g.innerHTML+=window.$.i18n("{{DIVISION:"+n.division+"}}");var G,U='<span style="font-size: 20px;" class="rainbowText">'+n.eloRanked+"</span>";"LEGEND"!==n.division&&(U='  <progress max="25" value="'+n.eloRanked%25+'" class="'+(G=n.division).substring(0,G.indexOf("_"))+'Bar" style="width: 150px;"></progress> <span>('+n.eloRanked+")</span>"),g.innerHTML+=U;var j=function(e){if(ft.length<=0)return-1;for(var t=0;t<ft.length;t++)if(e.id===ft[t].id)return t+1;return-1}(n),z="";j>-1&&(z="<div>"+window.$.i18n("pc-chat-ranked-rank")+": "+function(e){return 1==e?te.DELTARUNE.DETERMINATION+" "+window.$.i18n("pc-chat-ranked-first"):2==e?te.DELTARUNE.LEGENDARY+" "+window.$.i18n("pc-chat-ranked-second"):3==e?te.DELTARUNE.EPIC+" "+window.$.i18n("pc-chat-ranked-third"):4==e?te.DELTARUNE.RARE+" "+window.$.i18n("pc-chat-ranked-fourth"):5==e?te.DELTARUNE.COMMON+" "+window.$.i18n("pc-chat-ranked-fifth"):e}(j)+"</div>");var W="<div>"+window.$.i18n("pc-chat-ranked-wins")+": "+n.winsRanked+"</div>",K="<div>"+window.$.i18n("pc-chat-ranked-losses")+": "+n.lossesRanked+"</div>",V="<div>"+window.$.i18n("pc-chat-ranked-winrate")+": "+Math.floor(n.winsRanked/(n.winsRanked+n.lossesRanked)*1e4)/100+"%</div>",q="<div>"+window.$.i18n("pc-chat-ranked-winstreak")+": "+n.winStreak+"</div>";g.innerHTML+=z+W+K+V+q;var Y=document.createElement("DIV");Y.className="row";var J=document.createElement("DIV");J.className="double_column PrettyCards_UserColumn",Y.appendChild(J),h.appendChild(Y);var X=document.createElement("DIV");X.className="PrettyCards_ChatFriendshipContainer PrettyCards_UserInfo_FriendshipHideable",X.innerHTML=`<h2 class='gray'>${window.$.i18n("pc-chat-friendship-fetching")}</h2>`;var Q=document.createElement("DIV");Q.id="PrettyCards_UserInfo_FriendshipTitleContainer";var Z=document.createElement("H2");Z.innerHTML=window.$.i18n("pc-chat-friendship-title"),Z.className="PrettyCards_UserInfo_FriendshipTitleText",Q.appendChild(Z),J.appendChild(Q),J.appendChild(X),P.getFriendshipInfo(n.id,(function(e){X.innerHTML="",Z.onclick=()=>{var e=!yt.value();yt.set(e,!e)};var t=ht(`\n\t\t<div style="display:flex;" id="PrettyCards_UserInfo_SwapSortArea" class="PrettyCards_UserInfo_FriendshipHideable">\n\t\t\t<label class="form-check-label" for="PrettyCards_UserInfo_SwapSortBtn">${window.$.i18n("pc-chat-friendship-sortxp")}</label>\n\t\t\t<label class="form_switch friendshipSortSwitch">\n\t\t\t\t<input type="checkbox" id="PrettyCards_UserInfo_SwapSortBtn">\n\t\t\t\t<span class="slider round"></span>\n\t\t\t</label>\n\t\t\t<label class="form-check-label" for="PrettyCards_UserInfo_SwapSortBtn">${window.$.i18n("pc-chat-friendship-sortrank")}</label>\n\t\t</div>`);ht(Q).append(t);var n=t.find("#PrettyCards_UserInfo_SwapSortBtn");n.change((function(){bt(e.scores,ht(X),n)})),bt(e.scores,ht(X),n);var r=document.createElement("P");r.className="PrettyCards_UserInfo_FriendshipHideable gray";var a=new Date(e.lastUpdated);r.innerHTML=`${window.$.i18n("pc-chat-friendship-fetchedat")}: ${a.toUTCString()}`,J.appendChild(r),gt(yt.value(),yt.value(),ht(J).find(".PrettyCards_UserInfo_FriendshipHideable"))})).fail((function(){X.innerHTML=`<p class='red'>${window.$.i18n("pc-chat-friendship-fail")}</p>`}))}));var Ct=function(e,t){return t.xp-e.xp},vt=function(e,t){return e.rank-t.rank};function bt(e,t,n){n.prop("checked")?_t(e,t,vt):_t(e,t,Ct)}function _t(e,t,n){e.sort(n),t.empty();for(var r=0;r<Math.min(8,e.length);r++)Pt(e[r],t,0)}function Pt(e,t,n=1){var r;switch(n){case 1:r="TOP XP";break;case 2:r="TOP RANK";break;case 3:r="TOP XP & RANK"}var a=window.getLevel(e.xp),i=P.appendCardFriendship(window.getCard(e.cardId),t,a,e.xp-P.getXpForLevel(a-1),window.distanceNextLevel(a));return r&&i.append('<div class="PrettyCards_FriendshipTop">'+r+"</div>"),i.append(`<div class="PrettyCards_FriendshipRank"${e.rank<=5?" top":""} val="${e.rank}"></div>`),i.off("click"),i}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.sendMessageAsPositionInRanked=function(e){var t=ft[e-1];t.mainGroup={id:10,name:"User",priority:13},t.groups=[t.mainGroup],t.profileSkin={id:34,image:"Charas_Rush",name:"Charas Rush",ucpCost:400};var n={deleted:!1,id:1e5,idRoom:1,me:!1,message:"I am high on leaderboard!!!!!!",rainbow:!0,user:ft[e-1]};window.appendMessage(n,1,!1),JSON.stringify(n),window.appendMessage(n,"chat-public-1",!1)};var xt=function(){function e(e){this.word=e.trim(),this.replacedWords=new Set}var t=e.prototype;return t.replace=function(e,t,n){if(void 0===n&&(n=!1),!n&&function(e,t,n){return Array.from(n).some((function(n){return n.replace(e,t)!==n}))}(e,t,this.replacedWords))return this;var r=this.word.replace(e,t).trim(),a=this.word.match(e),i=null!==a?Array.from(a).map((function(e){return e.replace(e,t)})):[];if(r!==this.word){for(var s,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i);!(s=o()).done;){var d=s.value;this.replacedWords.add(d)}this.word=r}return this},t.toString=function(){return this.word},e}(),St=["(・`ω´・)",";;w;;","owo","UwU",">w<","^w^","(* ^ ω ^)","(⌒ω⌒)","ヽ(*・ω・)ﾉ","(o´∀`o)","(o･ω･o)","＼(＾▽＾)／"],Et=[function(e){return e.replace(/([Ff])uc/g,"$1wuc")},function(e){return e.replace(/([Mm])om/g,"$1wom")},function(e){return e.replace(/\b([Tt])ime\b/g,"$1im")},function(e){return e.replace(/^Me$/g,"Mwe").replace(/^me$/g,"mwe")},function(e){return e.replace(/([Oo])ver/g,"$1wor")},function(e){return e.replace(/ove/g,"uv").replace(/OVE/g,"UV")},function(e){return e.replace(/\b(ha|hah|heh|hehe)+\b/g,"hehe xD")},function(e){return e.replace(/\b([Tt])he\b/g,"$1eh")},function(e){return e.replace(/\bYou\b/g,"U").replace(/\byou\b/g,"u")},function(e){return e.replace(/Read/g,"Wead").replace(/read/g,"wead")},function(e){return e.replace(/([Ww])orse/g,"$1ose")},function(e){return e.replace(/([Gg])reat/g,"$1wate")},function(e){return e.replace(/([Aa])viat/g,"$1wiat")},function(e){return e.replace(/([Dd])edicat/g,"$1editat")},function(e){return e.replace(/([Rr])emember/g,"$1ember")},function(e){return e.replace(/([Ww])hen/g,"$1en")},function(e){return e.replace(/([Ff])righten(ed)*/g,"$1rigten")},function(e){return e.replace(/Meme/g,"mem").replace(/Mem/g,"Mem")},function(e){return e.replace(/^([Ff])eel$/g,"$1ell")}],At=[function(e){return e.replace(/o/g,(function(){return Math.round(Math.random())?"owo":"o"}))},function(e){return e.replace(/ew/g,"uwu")},function(e){return e.replace(/([Hh])ey/g,"$1ay")},function(e){return e.replace(/Dead/g,"Ded").replace(/dead/g,"ded")},function(e){return e.replace(/n[aeiou]*t/g,"nd")}],Tt=[function(e){return e.replace(/[({<]/g,"｡･:*:･ﾟ★,｡･:*:･ﾟ☆").replace(/[)}>]/g,"☆ﾟ･:*:･｡,★ﾟ･:*:･｡")},function(e){return e.replace(/[.,](?![0-9])/g,(function(){return" "+St[Math.floor(Math.random()*St.length)]})).replace(/[!;]+/g,(function(){return" "+St[Math.floor(Math.random()*St.length)]}))},function(e){return e.replace(/that/g,"dat").replace(/That/g,"Dat")},function(e){return e.replace(/[Tt]h(?![Ee])/g,"f").replace(/TH(?!E)/g,"F")},function(e){return e.replace(/le$/g,"wal")},function(e){return e.replace(/ve/g,"we").replace(/Ve/g,"We")},function(e){return e.replace(/ry/g,"wwy")},function(e){return e.replace(/(?:r|l)/g,"w").replace(/(?:R|L)/g,"W")}],It=[function(e){return e.replace(/n([aeiou])/g,"ny$1").replace(/N([aeiou])/g,"Ny$1").replace(/N([AEIOU])/g,"NY$1")},function(e){return e.replace(/ll/g,"ww")},function(e){return e.replace(/[aeiur]l$/g,"wl").replace(/[AEIUR]([lL])$/g,"W$1")},function(e){return e.replace(/([Oo])ld/g,"$1wld").replace(/OLD/g,"OWLD")},function(e){return e.replace(/([Oo])l/g,"$1wl").replace(/OL/g,"OWL")},function(e){return e.replace(/[lr]o/g,"wo").replace(/[LR]([oO])/g,"W$1")},function(e){return e.replace(/([bcdfghjkmnpqstxyz])o/g,"$1wo").replace(/([BCDFGHJKMNPQSTXYZ])([oO])/g,(function(e,t,n){return t+(n.toUpperCase()===n?"W":"w")+n}))},function(e){return e.replace(/[vw]le/g,"wal")},function(e){return e.replace(/([Ff])i/g,"$1wi").replace(/FI/g,"FWI")},function(e){return e.replace(/([Vv])er/g,"wer")},function(e){return e.replace(/([Pp])oi/g,"$1woi")},function(e){return e.replace(/([DdFfGgHhJjPpQqRrSsTtXxYyZz])le$/g,"$1wal")},function(e){return e.replace(/([BbCcDdFfGgKkPpQqSsTtWwXxZz])r/g,"$1w")},function(e){return e.replace(/ly/g,"wy").replace(/Ly/g,"Wy")},function(e){return e.replace(/([Pp])le/g,"$1we")},function(e){return e.replace(/([Nn])r/g,"$1w").replace(/NR/g,"NW")},function(e){return e.replace(/Mem/g,"mwem").replace(/mem/g,"Mwem")},function(e){return e.replace(/([Nn])ywo/g,"$1yo",!0)}];const $t=function(e,t){void 0===t&&(t="owo");var n=e.split(/[^\s]+/g),r=e.split(/\s+/g).map((function(e){return new xt(e)}));return function(e,t){for(var n=[],r=e,a=t,i=null;r.length>0;)n.push(r.shift()),i=r,r=a,a=i;return a.length>0&&n.push.apply(n,a),n}(n,r=r.map((function(e){switch(Et.reduce((function(e,t){return t(e)}),e),t){case"uvu":At.reduce((function(e,t){return t(e)}),e);case"uwu":Tt.reduce((function(e,t){return t(e)}),e);case"owo":It.reduce((function(e,t){return t(e)}),e)}return e}))).join("")};var Nt,Dt,Lt=i({key:"chat_ascii_emotes_list",name:"Chat Ascii Emotes",note:'Chat shortcuts. The first value is the name you type between "::", the second is the text it will be replaced with. Examples provided below. <span class="red">CAN ONLY CONTAIN LOWERCASE LETTERS FROM THE ENGLISH ALPHABET!</span>',type:(Nt="EditableList",Dt=p[Nt],Dt||(console.warn(`Custom Setting Type with name ${Nt} not found! Defaulting to boolean!`),Dt="boolean"),Dt),refresh:!1,default:{shrug:"¯\\_(ツ)_/¯",shrugl:"¯\\_( ͡° ͜ʖ ͡°)_/¯",above:"☝(ツ)",tableflip:"(╯°□°)╯︵ ┻━┻",tabledown:"┬─┬ノ( º _ ºノ)",lenny:"( ͡° ͜ʖ ͡°)",lelelennynyny:"( ͡°( ͡° ͜ʖ( ͡° ͜ʖ ͡°)ʖ ͡°) ͡°)",amog:"ඞ"}});class Rt{#u="";#p="";constructor(e,t){this.#u=e,this.#p=t}getCommand(){return this.#u}getText(){return this.#p}}const Mt={":upper:":[":fullcaps:",":uppercase:",":caps:"],":lower:":["fulllower",":lowercase:"],":mock:":[":mockcase:",":swapcase:",":alternatecase:"]};var Ot={":owo:":e=>new Rt("",$t(e,"owo")),":uwu:":e=>new Rt("",$t(e,"uwu")),":uvu:":e=>new Rt("",$t(e,"uvu")),":upper:":e=>new Rt("",e.toUpperCase()),":lower:":e=>new Rt("",e.toLowerCase()),":mock:":e=>new Rt("",e.toMockCase())},Bt=Lt.value();for(var Ft in Bt)Ot[`:${Ft}:`]=Ht(Bt[Ft]);function Ht(e){return t=>new Rt(e,t)}String.prototype.toMockCase=function(){for(var e="",t=!1,n=0;n<this.length;n++){var r=this[n];this[n].toLowerCase()!=this[n].toUpperCase()&&(r=t?this[n].toUpperCase():this[n].toLowerCase(),t=!t),e=e.concat(r)}return e},e.events.on("Chat:send",(function({input:e}){$(e).val(function(e){var t=[];e=(e=e.replaceAll("␚","")).replace(/:[a-z]*:/gi,(e=>(t.push(e),"␚")));for(var n=0;n<t.length;n++){var r=t[n];for(var a in Mt)Mt[a].includes(r.toLowerCase())&&(t[n]=a,r=a);var i=Ot[r.toLowerCase()];if(i){var s=i(e);t[n]=s.getCommand(),e=s.getText()}}return n=0,e.replaceAll("␚",(()=>t[n++]))}($(e).val()))}));var Gt=JSON.parse(sessionStorage.getItem("PrettyCards_PrivateGameIsHost")),Ut=sessionStorage.getItem("PrettyCards_PrivateGameName"),jt=sessionStorage.getItem("PrettyCards_PrivateGameCreator"),zt=JSON.parse(sessionStorage.getItem("PrettyCards_PrivateGameRecipients")||'["everyone"]'),Wt=sessionStorage.getItem("PrettyCards_PrivateGameSoul")||localStorage.getItem("customDeck");function Kt(){socket.send(JSON.stringify({action:"createGame",name:Ut,soul:Wt})),e.events.on("preCustom:getPlayerJoined",Vt)}function Vt(e){zt.includes("everyone")||zt.includes(e.username)?(sessionStorage.removeItem("PrettyCards_PrivateGameName"),window.start()):(window.banUser(),this.canceled=!0)}function qt(e){for(var t=JSON.parse(e.games),n=0;n<t.length;n++){var r=t[n];r.owner.usernameSafe==jt&&(sessionStorage.removeItem("PrettyCards_PrivateGameName"),socket.send(JSON.stringify({action:"joinGame",gameId:r.id,soul:Wt,gamePassword:""})))}}underscript.onPage("GamesList")&&A("PrettyCards:onPageLoad",(function(){!function(){var t=window.socket;const n=t.onopen;t.onopen=function(t){Ut&&(Gt?Kt():e.events.on("preCustom:getGamesList",qt)),n(t)}}()}));var Yt,Jt=r.override_decks.value(),Xt=new Ne;function Qt(t,n){t&&n.message.startsWith("I challenge")&&n.message.endsWith("via PrettyCards")&&e.events.on("PrettyCards:TranslationExtReady",(function(){try{var r=n.message.substring(12,n.message.length-34).split(", ");if(n.user.id===window.selfId){var a=[...r],i=a.indexOf("everyone");i>-1&&(a[i]=window.$.i18n("pc-customgame-everyone"));var s=a.join(", ");$(t).find(".chat-message").html('<span class="gray">'+window.$.i18n("pc-customgame-selfinvite",s)+"</span>")}else r.includes("everyone")||r.includes(window.selfUsername)?fe.ExecuteOnDeckLoad((function(){if(t.style.backgroundColor="black",$(t).find(".chat-message").html(window.$.i18n("pc-customgame-invite")),!Jt){var r=new fe,a=document.createElement("SPAN");a.style="white-space: nowrap;",a.appendChild(r.SetUp("PrettyCards_ChallengeMessage_"+n.id+"_","Small")),t.appendChild(a),r.AddDeckTooltips()}var i=document.createElement("BUTTON");i.innerHTML=window.$.i18n("pc-navigate-accept"),i.className="btn btn-success PrettyCards_ChallengeMessageButton",i.onclick=Jt?function(){!function(t){Xt.closable=!1,Xt.closeCallback=Zt,Xt.callback=function(n){Zt(),function(t,n){var r=e.toast({title:window.$.i18n("pc-play-decksetup-title"),text:window.$.i18n("pc-play-decksetup-text")});_e.OptimalImportDeck(t,(function(e){r.exists()&&r.close(),"success"==e?n():console.log("DeckEditor.ImportDeck error!")}))}(n,(function(){en(t,n.soul)}))},Yt=window.BootstrapDialog.show({title:window.$.i18n("pc-customgame-choosedeck"),size:window.BootstrapDialog.SIZE_WIDE,message:"",onshown:function(){Xt.AppendTo(Yt.$modalBody[0].firstChild.firstChild)}.bind(this),buttons:[{label:window.$.i18n("pc-navigate-cancel"),cssClass:"btn-primary us-normal",action(e){e.close()}}]})}(n.user.usernameSafe)}:function(){en(n.user.usernameSafe,r.selectedSoul)},t.appendChild(i)})):$(t).find(".chat-message").html('<span class="gray">'+window.$.i18n("pc-customgame-cuckinvite")+"</span>")}catch(e){console.log("Error! ¯_(ツ)_/¯",e)}}))}function Zt(){Yt.close()}function en(e,t){sessionStorage.setItem("PrettyCards_PrivateGameIsHost",!1),sessionStorage.setItem("PrettyCards_PrivateGameName","PLACEHOLDER_SO_CODE_STARTS"),sessionStorage.setItem("PrettyCards_PrivateGameSoul",t),sessionStorage.setItem("PrettyCards_PrivateGameCreator",e),window.location="/GamesList"}function tn(e,t,n,r,a=!1){console.log(e,t,n,r,a);var i=document.createElement("DIV");i.className="PrettyCards_SplitSoul_Container "+(a?"PrettyCards_SplitSoul_Big ":"")+String(t);var s=document.createElement("DIV");s.className="PrettyCards_SplitSoul_Left",e.cloneNode().className+=n,s.appendChild(e.cloneNode()),i.appendChild(s);var o=document.createElement("DIV");o.className="PrettyCards_SplitSoul_Right";var d=e;return d.className+=r,o.appendChild(d),i.appendChild(o),i}e.events.on("Chat:getHistory Chat:getPrivateHistory",(function(e){for(var t=JSON.parse(e.history),n=document.querySelectorAll("#"+e.room+" .message-group"),r=0;r<t.length;r++)Qt(n[r],t[r])})),e.events.on("Chat:getMessage Chat:getPrivateMessage",(function(e){Qt(document.querySelector("#"+e.room+" .message-group:last-of-type"),JSON.parse(e.chatMessage))})),A("PrettyCards:onPageLoad",(function(){r.breaking_skin_fix.value()&&window.$("head").append("<style>\n\t\t\t.card.breaking-skin:hover .cardImage {\n\t\t\t\tz-index: 4;\n\t\t\t}\n\t\t</style>"),r.breaking_skin_stats_fix.value()&&window.$("head").append("\n\t\t\t<style>\n\t\t\t\t.card.breaking-skin .cardStatus {\n\t\t\t\t\tz-index: 5;\n\t\t\t\t}\n\n\t\t\t\t.card.breaking-skin .cardTribes {\n\t\t\t\t\tz-index: 5;\n\t\t\t\t}\n\n\t\t\t\t.card.breaking-skin .PrettyCards_CardBottomLeftInfo {\n\t\t\t\t\tz-index: 5;\n\t\t\t\t}\n\t\t\t</style>\n\t\t"),window.$("head").append("<style>\n\t\t.card .cardImage {\n\t\t\tbackground-size: contain;\n\t\t}\n\t</style>")}));var nn=n(4811),rn=n(4810);l(nn.Z),l(rn.Z);class an{constructor(){this.backgroundClass="",this.image=null,this.imageClass="",this.disabled=!1,this.isImageBig=!1,this.counter=0,this.name="",this.textClass="",this.rarityText="",this.description="",this.shopInfo=null,this.note="",this.size=window.BootstrapDialog.SIZE_NORMAL}setBackgroundClass(e){return this.backgroundClass=e,this}setImage(e){return this.image=e,this}setImageClass(e){return this.imageClass=e,this}setDisabled(e){return this.disabled=e||!1,this}setBigImage(e){return this.isImageBig=e,this}setCounter(e){return this.counter=e||0,this}setName(e){return this.name=e,this}setTextClass(e){return this.textClass=e,this}setRarityText(e){return this.rarityText=e,this}setDescription(e){return this.description=e,this}setShopInfo(e){return this.shopInfo=e,this}setNote(e){return this.note=e,this}setSize(e){return this.size=e,this}}class sn{constructor(e,t){const n=`<span class='gray'>(${window.$.i18n("pc-fd-disabled")})</span>`;for(var a=window.$('<div class="PrettyCards_ArtifactListContainer"></div>'),i=0;i<e.length;i++){var s=e[i],o=r.no_artifact_background.value()?"":s.backgroundClass||"",d=window.$(`<div class="PrettyCards_ArtifactListRow"><div class="PrettyCards_ArtifactListBackground ${o}"></div></div>`),c=window.$('<div class="PrettyCards_ArtifactListCircle"></div>');console.log(s);var l=tn(s.image,`PrettyCards_ArtifactListImage ${s.imageClass} ${s.disabled?"transparent":""}`,"","",s.isImageBig);if(c.append(l),d.append(c),s.counter&&s.counter>0){var u=window.$(`<div class="PrettyCards_ArtifactListCounter">${s.counter}</div>`);d.append(u)}var p=`${s.name} (${s.rarityText}) ${s.disabled?n:""}`,h=window.$(`<div class="PrettyCards_ArtifactListName ${s.textClass}">${p}</div>`);h.css("font-size",P.getResizedFontSizeHorizontal(p,25,538,10,.5));var f=window.$('<div class="PrettyCards_ArtifactListDescription"></div>');f.append(s.description),d.append(h),d.append(f),a.append(d)}window.BootstrapDialog.show({title:t||window.$.i18n("artifacts-title"),message:a,buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}}class on{constructor(e){this.data=e;var t=r.no_artifact_background.value()?"":e.backgroundClass||"";if(this.box=window.$(`<div class="PrettyCards_ArtifactDisplayBox ${t}"></div>`),this.box.click((function(e){e.stopPropagation()})),this.circle=window.$('<div class="PrettyCards_ArtifactCircle"></div>'),console.log(e),this.circle.append(tn(e.image,e.imageClass,"","",e.isImageBig)),this.box.append(this.circle),this.name=window.$(`<div class="PrettyCards_ArtifactDisplayName ${e.textClass}">${e.name}</div>`),this.rarity=window.$(`<div class="PrettyCards_ArtifactDisplayRarity ${e.textClass}">${e.rarityText}</div>`),this.description=window.$('<div class="PrettyCards_ArtifactDisplayDescription"></div>'),this.description.append(e.description),e.counter&&e.counter>0&&(this.counter=window.$(`<div class="PrettyCards_ArtifactDisplayCounter">${e.counter}</div>`),this.box.append(this.counter)),this.box.append(this.name),this.box.append(this.rarity),e.disabled&&(this.disabled=window.$(`<div class="PrettyCards_ArtifactDisplayDisabled gray">(${window.$.i18n("pc-fd-disabled")})</div>`),this.box.append(this.disabled)),this.box.append(this.description),e.shopInfo){var n=`<span class="yellow">${e.shopInfo.price}</span> <img src="images/icons/gold.png" class="height-16">`,a=window.$.i18n("pc-buyart-nomuns",n);e.shopInfo.hasEnough&&(a=window.$.i18n("pc-buyart-willyoubuy",n)+` <button class="btn btn-success">${$.i18n("artifacts-unlock")}</button>`),this.shop=window.$(`<div class="PrettyCards_ArtifactDisplayShop">${e.shopInfo.topLine}<br>${a}</div>`),this.shop.find("button").click(function(){e.shopInfo.action(this)}.bind(this)),this.box.append(this.shop)}e.note&&e.note.length>0&&(this.noteTitle=window.$(`<div class="PrettyCards_ArtifactDisplayNoteTitle">${window.$.i18n("pc-fd-authornote")}</div>`),this.note=window.$(`<div class="PrettyCards_ArtifactDisplayNote">${e.note}</div>`),this.box.append(this.noteTitle),this.box.append(this.note)),window.BootstrapDialog.show({title:"You shouldn't be able to see this!",size:e.size||window.BootstrapDialog.SIZE_NORMAL,message:this.box,onshow:this.OnShow}).$modalDialog[0].className="modal-dialog modal-lg"}OnShow(e){e.$modalFooter.css("display","none"),e.$modalHeader.css("display","none"),e.$modalContent.css("background-color","transparent").css("box-shadow","initial").css("border","none").css("padding","0px"),e.$modalBody.css("border","none").css("background-color","transparent").css("padding","0px").css("box-shadow","initial")}static ViewArtifactInfo(t){var n,r,a=ve.GetArtifactById(t);if(e.events.emit("pre:viewArtifact()",a),a.collection){var i=a.collection,s=3==P.getSeasonMonth()&&a.aprilImage,o=s?i.aprilArtifactImagePrefix:i.artifactImagePrefix,d=s?a.aprilImage:a.image;(n=document.createElement("IMG")).src=P.constructURL(o,d,"png",i.oldPrefixBehavior)}else n=P.getArtifactImage(a.image);if(ve.IsArtifactPurchasable(t)&&!underscript.onPage("Game")&&!underscript.onPage("Spectate")){const n=t;var c=ve.BuyPriceForArtifact(t);r={price:c,topLine:window.$.i18n("pc-buyart-youdonthave"),hasEnough:c<=ce.gold,action:function(t){e.events.on("PrettyCards:artBuySuccess",(function(){t.shop.addClass("PrettyCards_Hidden")})),ve.BuyArtifact(n)}}}var l=ve.GetRarityDataFor(a),u=(new an).setName($.i18n("artifact-name-"+a.id)).setImage(n).setTextClass(l.txtClass).setRarityText(l.text).setDescription(window.$.i18n("artifact-"+a.id)).setImageClass(l.imgClass).setNote(window.$.i18n(a.note||"")).setDisabled(a.disabled).setCounter(a.counter).setShopInfo(r).setBackgroundClass(a.backgroundClass).setBigImage(a.isImageBig||!1),p=new on(u);e.events.emit("viewArtifact()",{artifact:a,helper:p})}static ViewSoulInfo(t){e.events.emit("pre:viewSoul",t);for(var n,r=null,a=0;a<on.customSouls.length;a++){var i=on.customSouls[a];if(i.name===t){r=i;break}}if(r){var s=r.collection,o=3==P.getSeasonMonth()&&r.aprilImage,d=o?s.aprilSoulImagePrefix:s.soulImagePrefix,c=o?r.aprilImage:r.image;(n=document.createElement("IMG")).src=P.constructURL(d,c,"png",s.oldPrefixBehavior)}else n=P.getSoulImage(t);var l=window.$.i18n("soul-"+t.toLowerCase()+"-desc"),u=window.$.i18n("soul-"+t.toLowerCase()),p=window.$(`<div><div>${l}</div><div class="PrettyCards_SoulDisplay_SpellsHeader">${window.$.i18n("pc-fd-soulspells",u)}:</div></div>`),h=window.$('<div class="PrettyCards_SoulDisplay_Spells"></div>');for(a=0;a<window.allCards.length;a++){var f=window.allCards[a];f.soul&&f.soul.name===t&&window.appendCard(f,h)}p.append(h);var m=(new an).setName(u).setImage(n).setTextClass(t).setRarityText(window.$.i18n("pc-fd-soul")).setDescription(p).setImageClass("PrettyCards_ArtifactDisplay_Floating PrettyCards_DisplaySoul_"+t).setNote(r?window.$.i18n(r.note||""):"").setSize(BootstrapDialog.SIZE_LARGE),g=new on(m);e.events.emit("viewSoul()",{id:t,helper:g})}static ViewArtifactsInfoBox(e){if(window.$(e).find(".artifact-img").length>0){var t=[];$(e).find(".artifact-img").each((function(){var e=Number($(this).attr("artifactId")),n=Number($(this).next(".artifact-custom").html()),r=$(this).hasClass("artifact-disabled");t.push({id:e,counter:n,disabled:r})})),on.ViewArtifactsInfo(t)}}static ViewArtifactsInfoForIdArray(e,t){var n=[];e.forEach((e=>{n.push({id:e})})),on.ViewArtifactsInfo(n,t)}static ViewArtifactsInfo(t,n){if(e.events.emit("pre:viewArtifacts",t),t.length>0){var r=[];t.forEach((e=>{var t,n=e.id,a=e.counter,i=e.disabled,s=ve.GetArtifactById(n),o=ve.GetRarityDataFor(s);if(s.collection){var d=s.collection,c=3==P.getSeasonMonth()&&s.aprilImage,l=c?d.aprilArtifactImagePrefix:d.artifactImagePrefix,u=c?s.aprilImage:s.image;(t=document.createElement("IMG")).src=P.constructURL(l,u,"png",d.oldPrefixBehavior)}else t=P.getArtifactImage(s.image);r.push((new an).setName($.i18n("artifact-name-"+s.id)).setImage(t).setTextClass(o.txtClass).setRarityText(o.text).setDescription(window.$.i18n("artifact-"+s.id)).setImageClass(o.imgClass).setNote(window.$.i18n(s.note||"")).setDisabled(i).setCounter(a).setBackgroundClass(s.backgroundClass).setBigImage(s.isImageBig||!1))}));var a=new sn(r,n);e.events.emit("viewArtifacts()",{artDatas:t,helper:a})}}static TestArtifactsInfo(){e.events.emit("pre:viewArtifacts",t);for(var t=window.$("<div></div>"),n=0;n<ve.artifacts.length;n++){var r=ve.artifacts[n];t.append(`<img class="artifact-img" artifactId="${r.id}">`)}window.artifactsInfo(t),e.events.emit("viewArtifacts()",{})}}on.customSouls=[],A("PrettyCards:onPageLoad",(function(){window.artifactInfo=on.ViewArtifactInfo.bind(this),window.showArtifactDescBox=on.ViewArtifactInfo.bind(this),window.soulInfo=on.ViewSoulInfo.bind(this),window.artifactsInfo=on.ViewArtifactsInfoBox.bind(this),t.viewArtifactsInfoForIdArray=on.ViewArtifactsInfoForIdArray.bind(this),t.testArtifactsInfo=on.TestArtifactsInfo.bind(this)})),t.FancyDisplay=on;var dn={};function cn(e,t=0){var n=e;return t>0&&(n=e+t),dn[n]?cn(e,t+1):n}function ln(e,t){var n=cn(e),r=new FontFace(n,"url("+t+")");return dn[n]=r,r.load().then((function(e){window.document.fonts.add(e)})).catch((function(e){console.error('Error loading font "'+n+'": ',e)})),n}i({key:"multi_theme_songs",name:"Enable Multiple Card Jingles",note:"Also adds some sound effects to certaion token cards.",type:"boolean",refresh:!0,default:!0,category:"card"});class un{constructor(e){this.cardId=e.fixedId||e.id,this.originalUrl=`musics/cards/${e.name.replaceAll(" ","_")}.ogg`,this.replacements=[],this.playedBefore=0,this.playAsJingle=!0}getNextReplacement(){return this.playedBefore++,this.replacements[(this.playedBefore-1)%this.replacements.length]}getRandomReplacement(){return this.replacements[Math.floor(Math.random()*this.replacements.length)]}getReplacementOnCardData(e){return null}addFile(e){(underscript.onPage("Game")||underscript.onPage("Spectate"))&&P.preloadAudio(e).catch((e=>{})),this.replacements.push(e)}}var pn,hn=[],fn={};function mn(e){for(var t=0;t<hn.length;t++){var n=hn[t];if(n.cardId==e)return n}return null}function gn(e){var t=mn(e.fixedId||e.id);return t||(t=new un(e),hn.push(t),t)}A("allCardsReady PrettyCards:baseThemeSongDataReady PrettyCards:TranslationExtReady",(function(){var t=function(){if(!fn._Disabled_Themes)return[];for(var e=0;e<fn._Disabled_Themes.length;e++){var t=fn._Disabled_Themes[e];if(t.season_nr==P.getSeasonNumber())return t.cards}return[]}();for(var n in fn)if("_Disabled_Themes"!=n&&!t.includes(n)){var r=window.getCardWithName(n);if(r){var a=gn(r);a.playAsJingle="LEGENDARY"==r.rarity||"DETERMINATION"==r.rarity||r.tribes.includes("ROYAL_INVENTION");for(var i=1;i<=fn[n];i++)a.addFile(P.asset(`audio/cards/${r.name.replaceAll(" ","_")}/intro_${i}.ogg`))}}!function(){var e=mn(710);e&&(e.getReplacementOnCardData=function(e){return e.originalAttack<1?null:this.replacements[(e.originalAttack-2)/1]});var t=mn(54);t&&(t.getReplacementOnCardData=function(e){return e.originalAttack<1?null:this.replacements[(4-e.originalAttack)%this.replacements.length]});var n=mn(106);n&&(n.getReplacementOnCardData=function(e){return e.originalAttack<1?null:this.replacements[(7-e.originalAttack)/1]});var r=mn(110);r&&(r.getReplacementOnCardData=function(e){return this.playedBefore++,this.replacements[Math.min(this.playedBefore-1,this.replacements.length-1)]})}(),e.events.emit.singleton("PrettyCards:customCardsSongsAppend"),e.events.emit.singleton("PrettyCards:themeSongsReady")})),r.multi_theme_songs.value()?e.events.on("PrettyCards:onPageLoad",(function(){if(o().getJSON(P.asset("json/baseThemeSongData.json"),{},(function(t){fn=t,e.events.emit.singleton("PrettyCards:baseThemeSongDataReady",t)})),window.underscript.onPage("Game")||window.underscript.onPage("Spectate"))pn=new Audio,e.events.on("getMonsterPlayed getSpellPlayed",(function(e){var t=JSON.parse(e.card);if(0!=t.typeCard||"getSpellPlayed"!=e.action){var n=mn(t.fixedId||t.id);if(n){var r=n.getReplacementOnCardData(t)||n.getNextReplacement();n.playAsJingle?(window.playJingle("NON EXISTENT CARD"),window.jingle.src=r,window.jingle.play()):((pn=new Audio(r)).volume=.2,pn.play())}}}));else{window.Audio;class e extends Audio{constructor(e){var t=function(e){if(!e)return null;for(var t=0;t<hn.length;t++){var n=hn[t];if(e.includes(n.originalUrl))return n}return null}(e);t&&(e=t.getRandomReplacement()),super(e)}}window.Audio=e}var t=[];e.events.on("func:appendCard PC_appendCard",(function(n,r){e.events.on("PrettyCards:themeSongsReady",(function(){var e=n.fixedId||n.id;if(!t.includes(e)){t.push(e);var r=mn(e);r&&r.replacements.forEach((e=>{P.preloadAudio(e).catch((()=>{}))}))}}))}))})):e.events.emit.singleton("PrettyCards:themeSongsReady");var yn=2e3,wn=200,Cn=20,vn=[];function bn(e,t,n=0){var r=e+t.toLowerCase();if(n>0&&(r+=n),window.$.i18n(r)!=r)return bn(e,t,n+1);var a=t;return n>0&&(a+=n),a}class _n{constructor(e){this.cards=[],this.tribes=[],this.artifacts=[],this.souls=[],this.keywords=[],this.frames=[],this.cardImagePrefix=e.cardImagePrefix||"",this.cardSongPrefix=e.cardSongPrefix||"",this.rarityImagePrefix=e.rarityImagePrefix||e.rarityIconPrefix||"images/rarity/",this.tribeImagePrefix=e.tribeImagePrefix||"",this.artifactImagePrefix=e.artifactImagePrefix||"",this.soulImagePrefix=e.soulImagePrefix||"",this.aprilCardImagePrefix=e.aprilCardImagePrefix||"",this.aprilArtifactImagePrefix=e.aprilArtifactImagePrefix||"",this.aprilSoulImagePrefix=e.aprilSoulImagePrefix||"",this.name=e.name||"UNNAMED CATEGORY",this.author=e.author||"",this.note=e.note||"",this.universalCustomFont=e.universalCustomFont||"",this.oldPrefixBehavior=!1}newCard(e){var t=new Pn(e,this);return t.collection=this,this.cards.push(t),t}newTribe(e){var t=new kn(e);return this.tribes.push(t),t}newArtifact(e){var t=new xn(e);return t.collection=this,this.artifacts.push(t),t}newSoul(e){var t=new Sn(e);return t.collection=this,this.souls.push(t),t}newKeyword(e){var t=new En(e);return this.keywords.push(t),t}newFrame(e){var t=new An(e);return this.frames.push(t),t}reloadFrames(){for(var e="",t=0;t<this.frames.length;t++)e+=this.frames[t].returnCSSStyles();$("#collectionCustomCSS").html(e)}loadFont(e,t){return ln(e,t)}getTribeById(e){for(var t=0;t<this.tribes.length;t++){var n=this.tribes[t];if(n.id==e)return n}return null}toJSON(){return this.id}}class Pn{constructor(e,t){for(var n in this.armor=!1,this.burn=0,this.candy=!1,this.cantAttack=!1,this.charge=!1,this.cost=0,this.dodge=0,this.extension="BASE",this.fixedId=196,this.frameSkinName="Undertale",this.haste=!1,this.image="Tiny_Froggit",this.invulnerable=!1,this.kr=!1,this.name="Tiny Froggit",this.ownerId=0,this.paralyzed=0,this.playedTurn=0,this.quantity=99999,this.rarity="COMMON",this.selectCards=[],this.shiny=!1,this.silence=!1,this.taunt=!1,this.transparency=!1,this.tribes=[],this.typeCard=1,this.typeSkin=0,this.shockEnabled=!1,this.supportEnabled=!1,this.loop=0,this.program=0,this.customFont="",this.note="",e)this[n]=e[n];if((this.attack||this.hp)&&(this.typeCard=0),this.id=yn,this.fixedId=yn,yn++,this.maxHp=this.hp,this.originalHp=this.hp,this.originalAttack=this.attack,this.originalCost=this.cost,this.baseImage=this.image,this.isCustom=!0,window.$.i18n().load({en:{["card-name-"+this.id]:this.name,["card-"+this.id]:this.description||this.desc}}),this.tribes=this.tribes.map((e=>e.toString())),this.name=window.$.i18n("card-name-"+this.id,1),this.description=void 0,this.themeSongs)for(var r=gn(this),a=0;a<this.themeSongs.length;a++)r.addFile(P.constructURL(t.cardSongPrefix,this.themeSongs[a],"ogg",t.oldPrefixBehavior));window.allCards.push(this)}mention(e="1"){return"{{CARD:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["card-name-"+this.id]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("card-name-"+this.id,e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["card-"+this.id]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("card-"+this.id)}}class kn{constructor(e){this.name=e.name||"{{PLURAL:$1|Unnamed Tribe|Unnamed_Tribes}}",Object.defineProperty(this,"id",{value:bn("tribe-",e.id||"unnamed_tribe"),writable:!1}),this.image=e.image||"NO_IMAGE",this.setName(this.name),this.name=window.$.i18n("tribe-"+this.id,1)}toString(){return this.id.toString()}setName(e,t="en"){var n={};n[t]={},n[t]["tribe-"+this.id.toLowerCase()]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("tribe-"+this.id.toLowerCase(),e)}mention(e=1){return"{{TRIBE:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}}class xn{constructor(e){this.name=e.name||"UNNAMED ARTIFACT",this.description=e.description||"NO EFFECT",this.image=e.image||"NO_IMAGE",this.aprilImage=e.aprilImage,this.rarity=e.rarity||"COMMON",this.note=e.note||"",this.soul=e.soul,this.soul&&this.soul.name&&(this.soul=this.soul.name),this.ownerId=e.ownerId,this.backgroundClass=e.backgroundClass||"",this.isImageBig=e.isImageBig||!1,Object.defineProperty(this,"id",{value:wn,writable:!1}),wn++,window.$.i18n().load({en:{["artifact-name-"+this.id]:this.name,["artifact-"+this.id]:this.description}}),this.name=window.$.i18n("artifact-name-"+this.id,1),ve.AddCustomArtifact(this)}mention(e=1){return"{{ARTIFACT:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["artifact-name-"+this.id]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("artifact-name-"+this.id,e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["artifact-"+this.id]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("artifact-"+this.id)}}class Sn{constructor(e){Object.defineProperty(this,"id",{value:Cn,writable:!1}),Cn++,Object.defineProperty(this,"name",{value:bn("soul-name-",e.name||"NONAME"),writable:!1}),this.displayName=e.displayName||"NoName",this.image=e.image||"NO_IMAGE",this.aprilImage=e.aprilImage,this.description=e.description||"No description",this.note=e.note||"",window.$.i18n().load({en:{["soul-"+this.name.toLowerCase()]:this.displayName,["soul-"+this.name.toLowerCase()+"-desc"]:this.description}}),this.displayName=window.$.i18n("soul-"+this.name.toLowerCase(),1),on.customSouls.push(this)}mention(e="1"){return"{{SOUL:"+this.name+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["soul-"+this.name.toLowerCase()]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("soul-"+this.name.toLowerCase(),e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["soul-"+this.name.toLowerCase()+"-desc"]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("soul-"+this.name.toLowerCase()+"-desc")}}class En{constructor(e){Object.defineProperty(this,"id",{value:bn("kw-",e.id||"NOID"),writable:!1}),this.name=e.name||"NoName",this.description=e.description||"No description",window.$.i18n().load({en:{["kw-"+this.id.toLowerCase()]:this.name,["kw-"+this.id.toLowerCase()+"-desc"]:this.description}}),this.name=window.$.i18n("kw-"+this.id.toLowerCase(),1)}mention(e="1"){return"{{KW:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["kw-"+this.id.toLowerCase()]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("kw-"+this.id.toLowerCase(),e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["kw-"+this.id.toLowerCase()+"-desc"]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("kw-"+this.id.toLowerCase()+"-desc")}}class An{constructor(e){this.id=e.id.toLowerCase()||"unnamed",this.monsterImage=e.monsterImage,this.spellImage=e.spellImage,this.shinyImage=e.shinyImage||"/images/frameSkins/Undertale/frame_shiny.png",this.animatedShinyImage=e.animatedShinyImage||"/images/frameSkins/Undertale/frame_shiny_animated.png",this.nameTop=this.makeIntoCSSMeasurement(e.nameTop,"9px"),this.descTop=this.makeIntoCSSMeasurement(e.descTop,"129px"),this.rarityTop=this.makeIntoCSSMeasurement(e.rarityTop,"213px"),this.quantityTop=this.makeIntoCSSMeasurement(e.quantityTop,"240px")}makeIntoCSSMeasurement(e,t){return"number"==typeof e?e+"px":e||t}returnCSSStyles(){return`\n\t\t.${this.id}-frame .shinySlot {\n\t\t\tbackground-image: url(${this.shinyImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame .shinySlot.animated {\n\t\t\tbackground-image: url(${this.animatedShinyImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame.spell .cardFrame {\n\t\t\tbackground-image: url(${this.spellImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame.monster .cardFrame {\n\t\t\tbackground-image: url(${this.monsterImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardName,.${this.id}-frame .cardCost {\n\t\t\ttop: ${this.nameTop}\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardDesc,.${this.id}-frame .cardSilence {\n\t\t\ttop: ${this.descTop}\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardATK,.${this.id}-frame .cardHP,.${this.id}-frame .cardRarity {\n\t\t\ttop: ${this.rarityTop}\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardQuantity,.${this.id}-frame .cardUCPCost {\n\t\t\ttop: ${this.quantityTop}\n\t\t}\n\n\t\t`}toString(){return this.id}replace(e,t){return this.id.replace(e,t)}toJSON(){return this.id}}t.newCollection=function(e){var t=new _n(e);return t.id=vn.length,vn.push(t),t},i({key:"theme_song_preview",name:"Card Theme Song Preview",note:"Outside of games, if this is on, a button will appear on cards if they are hovered in the top-left corner of the card image. Pressing it will play that card's theme song (if it has one)!",type:"boolean",refresh:!0,default:!1,category:"card"});var Tn={358:"/sounds/load.wav",351:"/sounds/gasterBlaster.wav"};const In=new Audio;function $n(e){return'<span class="glyphicon glyphicon-volume-up PrettyCards_CardThemeSongPlayer" onclick="prettycards.playThemeSongPreviewEvent(\''+e+"', event)\"></span>"}t.playThemeSongPreviewEvent=function(t,n){e.events.emit("PrettyCards:pauseBGM"),In.src=t,In.play(),In.onended=In.onerror=function(){e.events.emit("PrettyCards:resumeBGM")},n.stopPropagation()},!r.theme_song_preview.value()||underscript.onPage("Game")||underscript.onPage("Spectate")||e.events.on("func:appendCard PC_appendCard",(function(t,n){e.events.on("PrettyCards:themeSongsReady",(function(){var e,r=mn(t.fixedId||t.id),a="LEGENDARY"===t.rarity||"DETERMINATION"===t.rarity;t.id in Tn?a=!0:"hasThemeSong"in t?a=t.hasThemeSong:r&&(a=!0),a&&(e=r?function(e){if(0==e.replacements.length)return"";if(1==e.replacements.length)return $n(e.replacements[0]);var t="";return e.replacements.forEach(((e,n)=>{t=`${t}<button class="btn btn-primary" onclick="prettycards.playThemeSongPreviewEvent('${e}', event)">${n+1}</button>`})),$(`\n\t<span class="glyphicon glyphicon-volume-up PrettyCards_CardThemeSongPlayer" onclick="event.stopPropagation();">\n\t\t<span class="PrettyCards_TransparentText">S</span>\n\t\t<span class="PrettyCards_CardThemeSongList">\n\t\t\t${t}\n\t\t</span>\n\t</span>`)}(r):function(e){var t=e.collection;"number"==typeof t&&(t=vn[t],e.collection=t);var n;return n=e.isCustom?t.cardSongPrefix+e.name.split(" ").join("_")+".ogg":e.id in Tn?Tn[e.id]:P.getCardJingleLink(e.name),$($n(n))}(t),n.append(e))}))}));var Nn=["Text","Adapt","Undertale","Deltarune"];function Dn(e){var t="WHY DOES THIS KEEP HAPPENING!?";switch(e){case Nn[0]:t="TEXT";break;case Nn[1]:t="ADAPT";break;case Nn[2]:t="BASE";break;case Nn[3]:t="DELTARUNE"}return t}i({key:"rarity_text_change",name:"Change Rarity Text",note:function(){return"Change every mention of a rarity into their respective icons."},type:"select",options:Nn,refresh:!0,default:Nn[0],category:"card"});var Ln="TEXT";e.events.on("translation:loaded",(function(){$.extend($.i18n.parser.emitter,{rarity:function(e){if(e.length>=1){var t=e[0],n="rarity-"+t.replace(/_/g,"-").toLowerCase(),r=checkOverride(e)||$.i18n(n);if("TEXT"==Ln)return'<span class="'+t+'">'+r+"</span>";var a=te[Ln][t];return $(a).css({height:"1.5em"})[0].outerHTML}}})})),e.events.on("pre:func:appendCard pre:viewArtifacts() pre:viewArtifact() pre:viewSoul()",(e=>{if(window.underscript.onPage("CustomCards"))return void(Ln="TEXT");const t=r.rarity_text_change.value();"Text"!==t&&(Ln=e.extension?"Adapt"===t?e.extension:Dn(t):"Adapt"===t?"TEXT":Dn(t))})),e.events.on("func:appendCard viewArtifacts() viewArtifact() viewSoul()",(()=>{Ln="TEXT"}));const Rn=P.asset("img/RarityIcons/ALL_RARITIES.png"),Mn=["baseRarityInput","commonRarityInput","rareRarityInput","epicRarityInput","legendaryRarityInput","determinationRarityInput","tokenRarityInput","baseGenInput:not(:disabled)"];if(i({key:"za_filter",name:'Enable "Toggle All Rarities" button',note:'Also known as the "Za Filter".',type:"boolean",refresh:!1,default:!0}),["Crafting","Decks","Friendship","CardSkins"].includes(window.location.pathname.substring(1))&&r.za_filter.value()){var On=$('<label><input type="checkbox" id="everyRarityInput"> <img style="height: 24px;" src="'+Rn+'" alt="Check all rarities"></label>');On.find("input").change((function(e){var t=$("#everyRarityInput").prop("checked");$("#"+Mn.join(", #")).prop("checked",t),window.applyFilters(),window.showPage(0)})),$("#deltaruneInput").parent().parent().append(On)}var Bn;i({key:"hd_game_animations",name:"HD Game Animations",note:"As per the request of the original animator of the game's visual effects, now you can use their new and improved version of the visual effects!",type:"boolean",refresh:!0,default:!0,category:"controversial"}),r.hd_game_animations.value()&&(window.underscript.onPage("Game")||window.underscript.onPage("Spectate")),e.events.on("func:appendCardDeck func:appendCardCraft",(function(t,n){e.events.on("PrettyCards:friendshipFetched",(function(r){e.events.on("PrettyCards:selfFriendshipLeaderboardFetched",(function(e){var a,i=-1;Array.isArray(r)&&(r=r[0]);var s=JSON.parse(r.friendshipItems),o=P.binarySearch(s,t.id,(e=>e.idCard));if(o&&!(o.xp<=0)){if(a=o.xp,e=e[0]){var d=P.binarySearch(e.scores,t.id,(e=>e.cardId));d&&(i=d.rank)}var c=window.getLevel(a),l=a-P.getXpForLevel(c-1),u=window.distanceNextLevel(c);P.addCustomSimpleTextIconToCard(n,"/images/friendship.png",`<span>Level: ${c}</span><br><span>XP: ${l}/${u}</span>${-1!=i?`<br><span>Rank: ${i}</span>`:""}`)}}))}))})),i({key:"friendship_info_on_cards",name:"Display Friendship Info on Cards",note:"When on, a heart will appear on the bottom-left corner of a card's image. Hovering over it will display information about your friendship status for that card.",type:"boolean",refresh:!0,default:!0,category:"card"}),r.friendship_info_on_cards.value()&&(window.underscript.onPage("Decks")||window.underscript.onPage("Crafting"))&&(o().getJSON("/FriendshipConfig",{},(function(t){Bn=t,e.events.emit.singleton("PrettyCards:friendshipFetched",Bn)})),e.events.on("Chat:Connected",(function(){P.getFriendshipInfo(window.selfId,(function(t){t.scores=t.scores.sort(((e,t)=>e.cardId-t.cardId)),e.events.emit.singleton("PrettyCards:selfFriendshipLeaderboardFetched",t)})).fail((function(){e.events.emit.singleton("PrettyCards:selfFriendshipLeaderboardFetched",null)}))}))),i({key:"uco_badge",name:"Display UC:O Badge on Cards",note:"When on, an icon will appear on the bottom-left corner of a card's image, indicating that it is an Undercards Original card. Clicking on it will let you read more about it.",type:"boolean",refresh:!0,default:!0,category:"card"}).value()&&(o().getJSON(P.asset("json/ucoCardIds.json"),{},(function(t){var n=new Set(t);e.events.emit.singleton("PrettyCards:ucoCardListFetched",n)})).fail((function(t){console.error("ERROR FETCHING UCO CARD LIST! ",t),e.events.emit.singleton("PrettyCards:ucoCardListFetched",new Set)})),e.events.on("func:appendCard",(function(t,n){e.events.on("PrettyCards:ucoCardListFetched",(function(r){r.has(t.fixedId||t.id)&&e.events.on("PrettyCards:TranslationExtReady",(function(){P.addCustomSimpleTextIconToCard2(n,P.asset("img/CardPowers/uco.png"),window.$.i18n("pc-cardbadge-uco-short"),window.$.i18n("pc-cardbadge-uco-desc"),window.$.i18n("pc-cardbadge-uco-title"))}))}))})));var Fn=new P.SortedUniqueEntryHolder;e.events.on("PrettyCards:onCardSkinShopConfig",(function(){window.cardSkins.forEach((e=>{e.owned&&Fn.insert(e.cardId)})),e.events.emit.singleton("PrettyCards:cardSkinShop:idsWithOwnedCardSkins")})),e.events.on("appendCardCardSkinShop()",(function(t){var n=t.cardSkin,r=t.element;e.events.on("PrettyCards:cardSkinShop:idsWithOwnedCardSkins",(function(){Fn.includes(n.cardId)&&P.addCustomSimpleTextIconToCard(r,P.asset("img/CardPowers/already_have.png"),`You already own a card skin for <span style="white-space: nowrap;">${window.$.i18n(`card-name-${n.cardId}`,1)}</span>!`)}))})),t.ids_with_owned_card_skins=Fn;var Hn,Gn=i({key:"interactive_card_hover",name:"Interactive card Hover Helper",note:"Hovering over a card's name to see what it is is not moved over to an interractive tippy hover, which lets you click on things on that card as well. Useful for nested TOKEN references.",type:"boolean",refresh:!1,default:!1,hidden:!0,category:"card"}),Un=!1;function jn(){!Un&&window.displayCardHelp&&(Un=!0,Hn=window.displayCardHelp,window.displayCardHelp=function(e,t,n=!1){if(!Gn.value())return Hn(...arguments);if(window.cardHoverEnabled){var r=window.getCard(t);if(r){var a=window.$("<div></div>"),i=r.shiny;r.shiny=n,window.appendCard(r,a),r.shiny=i,window.tippy(e,{content:a[0],arrow:!1,animation:!1,interactive:!0,placement:"left-end",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect})}else console.warn("No card is registered with the ID of ",t)}})}jn(),e.events.on("PrettyCards:onPageLoad",(function(){jn()}));var zn=i({key:"shiny_hover_fix",name:"Card Hover Helper Shiny Fix",note:"Hovering over a card's name to see what it is SHOULD now have proper shiny status based on the parent card.",type:"boolean",refresh:!0,default:!0,category:"card"}),Wn=!1;zn.value()&&(e.events.on("translation:loaded",(function(){$.extend($.i18n.parser.emitter,{card:function(e){if(!(e.length<=0)){var t=parseInt(e[0]),n=checkOverride(e);if(null===n){var r=1;if(e.length>1){var a=e[1];isNaN(a)||(r=parseInt(a))}n=$.i18n("card-name-"+t,r)}return'<span onmouseover="displayCardHelp(this, '+t+", "+Wn.toString()+');" onmouseleave="removeCardHover();" class="PATIENCE">'+n+"</span>"}}})})),e.events.on("pre:func:appendCard",(function(e){Wn=e.shiny})),e.events.on("func:appendCard",(function(e){Wn=!1}))),i({key:"card_skin_text_fix",name:"Card Skin Preview Text Fix",note:"Viewing card skins now always resizes text based on the skin's name's length instead of the original card's description!",type:"boolean",refresh:!0,default:!0,category:"card"}).value()&&e.events.on("func:appendCardCardSkinShop func:appendCardCardSkinProfile",((e,t)=>{var n=t.find(".cardDesc div");n.css("font-size","");var r=window.getResizedFontSize(n,81);n.css("font-size",r+"px")}));var Kn=new class{constructor(){}zoomElement(e,t,n){n[0],n.css("transform",`scale(${e}, ${t})`)}zoomScreen(e,t){this.zoomElement(e,t,$("body"))}};t.zoomManager=Kn,l(n(525).Z);var Vn,qn=null,Yn={close:function(){qn.remove(),$("body").removeClass("PrettyCards_LookAt_NoScroll")}};function Jn(e){window.selectCardDialog=Yn,document.body.className+=" PrettyCards_LookAt_NoScroll",(qn=document.createElement("DIV")).className="PrettyCards_LookAt_Background";var t=document.createElement("DIV");t.className="PrettyCards_LookAt_Container",qn.appendChild(t);var n=document.createElement("DIV");n.className="PrettyCards_LookAt_Title",n.innerHTML=window.$.i18n("game-select-card"),t.appendChild(n);var r=document.createElement("DIV");r.className="PrettyCards_LookAt_CardContainer";for(var a=0;a<e.length;a++){var i=window.appendCard(e[a],$(r));i.css("margin","6px"),i.click((function(e){if(0===e.button){var t=$(this).attr("id");sendEffectTarget(t)}}))}t.appendChild(r),document.body.appendChild(qn)}i({key:"fancy_card_select",name:'Enable Fancy "Choose a card" screen in games.',type:"boolean",refresh:!1,default:!0,onChange:function(e){window.showSelectCards=e?Jn:Vn}}),e.events.on("PrettyCards:onPageLoad",(function(){Vn=window.showSelectCards,r.fancy_card_select.value()&&(window.showSelectCards=Jn)})),l(n(1252).Z),i({key:"emote_sounds",name:"Enable Emote Sounds",type:"boolean",refresh:!0,default:!0});var Xn=new Audio;function Qn(t,n=function(){},r=!1){r&&e.events.emit("PrettyCards:pauseBGM"),Xn.pause(),Xn.src=P.asset(`audio/emotes/${t}.ogg`),Xn.onerror=function(){n(),e.events.emit("PrettyCards:resumeBGM")},Xn.onended=function(){e.events.emit("PrettyCards:resumeBGM")},Xn.play()}Xn.volume=.7,(window.underscript.onPage("Game")||window.underscript.onPage("Spectate"))&&e.events.on("getEmote:before",(function(e){if(r.emote_sounds.value()){var t=window.userId==e.idUser,n=e.emoteImage;window.gameEmotesEnabled&&(t&&!window.youDoingEmote?Qn(n):t||window.enemyDoingEmote||window.enemyMute||Qn(n))}})),r.emote_sounds.value()&&window.underscript.onPage("CosmeticsShop")&&e.events.on("PrettyCards:onPageLoad",(function(){document.querySelectorAll(".emote-bordered").forEach((function(e){var t=new URL(e.src).pathname;const n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf(".")),r=$('<div class="glyphicon glyphicon-volume-up PrettyCards_EmoteSoundPlayer"></div>')[0];r.onclick=function(){Qn(n,(function(){r.style.color="red",r.onclick=function(){}}),!0)},e.parentElement.appendChild(r)}))})),t.playEmoteSound=Qn;prettycards.showCredits=function(){var e=document.createElement("DIV");e.innerHTML='\n\t<span style="font-size: 2em;">General</span>\n\t<span>Uses Underscript\'s API.</span>\n\t<span>Feildmaster has been a MASSIVE help over the years and I cannot thank him enough! ^^</span>\n\t<span>Also huge thanks to the <span class="Translator">Translator</span> and <span class="Artist">Artist</span> teams for helping me out with certain features, including our team of English Translators!</span>\n\n\t<span style="font-size: 2em;">Card Theme Songs</span>\n\t<span>MysteryHD is the one who makes the audio files, I just paste them in and run a script. <img style="height:3em;" src="images/emotes/Hue.png"></span>\n\t<span>I could not have pulled this off without the help of HeavenlyFlower, who suggested a genious solution for non-Game pages.</span>\n\n    <span style="font-size: 2em;">PrettyCards Staff</span><span style="color:gray"> (in no particular order)</span>\n    <ul class="PrettyCards_Credits_GeneratedStaff"></ul>\n\t<span style="font-size: 2em;">Custom Cards</span>\n\t<span>Doki Doki Literature Club by <a href="http://teamsalvato.com/" target="_blank">Team Salvato</a></span>\n\t<span>Chibi MC sprite by <a href="https://www.deviantart.com/gyletotherescue/art/DDLC-MC-Chibi-Sprites-711310032" target="_blank">GyleToTheRescue on Deviantart</a></span>\n\t<span>MC SpriteSheet by <a href="https://www.deviantart.com/childish-n/art/DDLC-Protagonist-Sprite-715239172" target="_blank">Childish-N on Deviantart</a></span>\n\t<span>Amy Sprite Sheet by <a href="https://www.reddit.com/r/DDLC/comments/7qlzao/amy_sprite_sheet_for_those_who_wanted_it/" target="_blank">Meddy-sin on Reddit</a></span>\n\t<span>File Explorer/Character Folder artifact transparency fixed by @🌸bantikat🌸#6321 on Discord.</span>\n\t<br>\n\t<span>Battle Mew Mew theme by <a href="https://www.youtube.com/channel/UChAHYPBvyaQIpjyTSdQhOMQ" target="_blank">FalKKonE</a>. <a href="https://www.youtube.com/watch?v=jSozDtrESQE" target="_blank">Listen to the full remix here</a>.\n'.replaceAll("\n","<br>");var t=e.querySelector(".PrettyCards_Credits_GeneratedStaff"),n=dt.getInstance().chatRoleUserData;for(var r in n)["pc_owner","pc_staff","pc_ministaff"].includes(r)&&(console.log(n[r]),n[r].forEach((e=>{if(!e.creditHidden){var n=document.createElement("LI");n.innerHTML=e.username+" "+dt.getInstance().getStatusStringForId(e.id),t.appendChild(n)}})));BootstrapDialog.show({title:"PrettyCards Credits!",message:e,buttons:[{label:"Ok!",cssClass:"btn-primary us-normal",action(e){e.close()}}]})},l(n(8586).Z);function Zn(){window.$("footer").css("display",r.remove_footer.value()?"none":"block")}function er(){BootstrapDialog.show({title:window.$.i18n("pc-footerremove-ask-title"),message:window.$.i18n("pc-footerremove-ask"),buttons:[{label:$.i18n("pc-navigate-nevermind"),cssClass:"btn-danger",action:function(e){e.close()}},{label:$.i18n("pc-navigate-yes"),cssClass:"btn-primary",action:function(e){r.remove_footer.set(!0),e.close()}}]})}function tr(){var t=window.$("footer");if(0!=t.length){var n=t[0].querySelector(".navbar-right");if(n){var r=document.createElement("LI");r.style="border-left: 1px solid white;";var a=document.createElement("A");a.style="padding: 8px 10px 10px 10px;";var i=document.createElement("SPAN");i.style.fontSize="18px",i.className="glyphicon glyphicon-chevron-down white",a.appendChild(i),r.appendChild(a),a.onclick=er,n.appendChild(r),e.events.on("PrettyCards:TranslationExtReady",(function(){window.tippy(a,{content:window.$.i18n("pc-footerremove-hover"),arrow:!0,inertia:!0,placement:"auto",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect})}))}}}A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){var t=$(document).width()-450,n=window.$(`<div class="dropdown" id="PrettyCards_MainMenu">\n\t\t\t<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">${window.$.i18n("pc-menu-title")}</button>\n\t\t\t<div class="dropdown-menu" aria-labelledby="dropdownMenuButton" style="padding: 3px 5px;">\n\t\t\t\t<a><p style="cursor: pointer;" onclick="prettycards.openSettings()">${window.$.i18n("pc-menu-settings")}</p></a>\n\t\t\t\t<a><p style="cursor: pointer;" onclick="prettycards.showCredits()">${window.$.i18n("pc-menu-credits")}</p></a>\n\t\t\t\t<a class="PrettyCards_HiddenUntilLogin" href="/CustomCardSkins"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customcardskins")}</p></a>\n\t\t\t\t<a class="PrettyCards_HiddenUntilLogin" href="/CustomCards"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customcards")}</p></a>\n\t\t\t\t${3==P.getSeasonMonth()?'<a href="/SmashOrPass"><p style="cursor: pointer; color: yellow;">'+window.$.i18n("pc-menu-sop")+"</p></a>":""}\n\t\t\t\t<a href="/CustomTranslations" class="PrettyCards_Hidden Translator PrettyCards_Staff"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customtranslate")}</p></a>\n\t\t\t\t<a class="PrettyCards_Hidden PrettyCards_Staff"><p style="cursor: pointer;" onclick="prettycards.downloadEmotesFile()">${window.$.i18n("pc-menu-emotefile")}</p></a>\n\t\t\t\t<a href="https://elytrafae.github.io/prettycards/artistConsole.html" class="PrettyCards_Hidden Artist"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customartistconsole")}</p></a>\n\t\t\t\t<a href="https://github.com/elytrafae/prettycards/wiki"><p style="cursor: pointer;">${window.$.i18n("pc-menu-apidocs")}</p></a>\n\t\t\t</div>\n\t\t</div>`);e.events.on("PC_Chat:getSelfInfos Chat:Connected",(function(){$(".PrettyCards_HiddenUntilLogin").css("display","initial"),P.translatorFeaturesAccess()&&$("#PrettyCards_MainMenu .Translator").removeClass("PrettyCards_Hidden"),P.featuresAccessForGroupOnly("Artist")&&$("#PrettyCards_MainMenu .Artist").removeClass("PrettyCards_Hidden"),dt.getInstance().isStaffMember(window.selfId).then((()=>{$("#PrettyCards_MainMenu .PrettyCards_Staff").removeClass("PrettyCards_Hidden")})).catch((e=>{}))}));var r=!1;$("body").mousemove((function(e){e.pageX>=t&&e.pageY<=300?r||(n.stop().fadeIn(),r=!0):r&&(n.stop().fadeOut(),r=!1)})),$("body").append(n)})),e.events.on("PrettyCards:onPageLoad",(function(){var t;function n(e=!1){$("#PrettyCards_TopAdvert").remove(),$("#PrettyCards_MainMenu").css("top","0px"),e&&(localStorage["prettycards.top_advert_closed"]=!0)}"true"===localStorage["prettycards.top_advert_closed"]||3!=(t=new Date).getMonth()||1!=t.getDate()||window.underscript.onPage("Game")||window.underscript.onPage("SmashOrPass")||(window.$("#PrettyCards_MainMenu").css("top","36px"),e.events.on("PrettyCards:onPageLoad",(function(){window.$("body").prepend('\n\t\t\t\t<div id="PrettyCards_TopAdvert">\n\t\t\t\t\t<span>New! Undercards Smash or Pass Game!</span> <a href="/SmashOrPass">Are you brave enough~?</a>\n\t\t\t\t\t<div id="PrettyCards_TopAdvert_CloseButtons">\n\t\t\t\t\t\t<div id="PrettyCards_TopAdvert_CloseForever">Don\'t Remind Me!</div>\n\t\t\t\t\t\t<div id="PrettyCards_TopAdvert_Close">X</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),window.$("#PrettyCards_TopAdvert_Close").click((function(){n(!1)})),window.$("#PrettyCards_TopAdvert_CloseForever").click((function(){n(!0)}))})))})),t.downloadEmotesFile=()=>{P.downloadFile(JSON.stringify(window.chatEmotes),"every_undercards_emote.json")},i({key:"remove_footer",name:"Remove Footer",note:"Sayonara, ugly!",type:"boolean",refresh:!0,default:!1,onChange:Zn}),window.$?(Zn(),tr()):e.events.on("PrettyCards:onPageLoad",(function(){Zn(),tr()}));var nr=n(4578);class rr{constructor(e){this.cards=[];for(var t=0;t<e.length;t++){var n=e[t];this.cards[n.fixedId||n.id]={...n}}}getCard(e){return this.cards[e]||null}}class ar{static REWARD_LEVELS=5;static MAX_FRIENDSHIP_REWARD_LEVEL=200;constructor(e){this.cardId=e.idCard,this.xp=e.xp,this.claim=e.claim}getCollectableRewardCount(){return Math.floor(Math.min(this.getLevel(),ar.MAX_FRIENDSHIP_REWARD_LEVEL)/ar.REWARD_LEVELS)-this.claim}getLevel(){return window.getLevel(this.xp)}render(e,t,n=((e,t)=>{})){var r=this.getLevel();n(P.appendCardFriendship(e,window.$(t),r,this.xp-P.getXpForLevel(r-1),window.distanceNextLevel(r)),this)}claimOnce(){return new Promise(((e,t)=>{window.$.post("/FriendshipConfig",JSON.stringify({action:"claim",idCard:this.cardId}),(n=>{if("success"===n.status){this.claim=n.claim;var r=function(e){switch(e){case"GOLD":return g.GOLD;case"DUST":return g.DUST;case"UCP":return g.UCP;case"PACK":return g.UT_PACK;case"DR_PACK":return g.DR_PACK;case"SHINY_PACK":return g.SHINY_PACK;default:return null}}(n.reward);r||(console.warn("UNKNOWN CURRENCY: "+n.reward),t("UNKNOWN CURRENCY: "+n.reward)),e(new _(r,n.quantity))}else t(n)})).error((e=>{t(e)}))}))}}class ir{constructor(e){this.collection=new rr(JSON.parse(e.collection)),this.friendshipItems=[];for(var t=JSON.parse(e.friendshipItems),n=0;n<t.length;n++){var r=t[n];this.friendshipItems[r.idCard]=new ar(r)}}#h(e=(e=>!0)){for(var t=[],n=0;n<this.friendshipItems.length;n++){var r=this.friendshipItems[n];r&&e(r)&&t.push(r)}return t}renderAll(e,t=(e=>!0),n=((e,t)=>{})){var r=this.#h(t);r.sort(((e,t)=>t.xp-e.xp)),r.forEach((t=>{t.render(this.collection.getCard(t.cardId),e,n)}))}claimAll(e=((e,t)=>{}),t=(()=>{})){var n=this.#h((e=>e.getCollectableRewardCount())),r=0;n.forEach((e=>{r+=e.getCollectableRewardCount()})),0!=r?n.forEach((n=>{for(var a=0;a<n.getCollectableRewardCount();a++)n.claimOnce().then((t=>{e(n,t)})).finally((()=>{--r<=0&&t()}))})):t()}}l(nr.Z);const sr=["COPPER_IV","COPPER_III","COPPER_II","COPPER_I","IRON_IV","IRON_III","IRON_II","IRON_I","GOLD_IV","GOLD_III","GOLD_II","GOLD_I","EMERALD_IV","EMERALD_III","EMERALD_II","EMERALD_I","SAPPHIRE_IV","SAPPHIRE_III","SAPPHIRE_II","SAPPHIRE_I","AMETHYST_IV","AMETHYST_III","AMETHYST_II","AMETHYST_I","RUBY_IV","RUBY_III","RUBY_II","RUBY_I","DIAMOND_IV","DIAMOND_III","DIAMOND_II","DIAMOND_I","ONYX_IV","ONYX_III","ONYX_II","ONYX_I","MASTER_IV","MASTER_III","MASTER_II","MASTER_I","LEGEND"];function or(e){var t=g.CARD_CURRENCIES.has(e),n=g.getOrCreateCardCurrency(e);return t||mr.addCardCurrencyToOrder(n),n}class dr{constructor(e,t,n,r,a){this.firstSize=e,this.secondSize=t,this.startValue=n,this.firstClass=r,this.secondClass=a,this.firstTextClass="PrettyCards_Hidden",this.secondTextClass="PrettyCards_Hidden",this.container=document.createElement("DIV"),this.container.style.position="relative",this.bar=document.createElement("PROGRESS"),this.bar.classList.add(this.firstClass),this.bar.setAttribute("min",0),this.bar.setAttribute("max",this.firstSize),this.bar.setAttribute("value",this.startValue),this.barText=document.createElement("DIV"),this.barText.classList.add(this.firstTextClass),this.barText.className="PrettyCards_GameEnd_BarText",this.container.appendChild(this.bar),this.container.appendChild(this.barText),this.didTipOver=!1,this.tipOverFunction=()=>{},this.customRow=!1,this.customRowElement=document.createElement("DIV"),this.customRowFunction=()=>{}}setTextClasses(e,t){return this.barText.classList.remove(this.firstTextClass),this.barText.classList.add(e),this.firstTextClass=e,this.secondTextClass=t,this}hasCustomRow(){return this.customRow}updateCustomRow(e){this.customRowFunction(e)}updateBar(e){var t=this.startValue+e,n=!1;t>=this.firstSize&&(t-=this.firstSize,n=!0),t<0&&(t+=this.secondSize,n=!0),n&&!this.didTipOver&&(this.didTipOver=!0,this.bar.classList.remove(this.firstClass),this.bar.classList.add(this.secondClass),this.barText.classList.remove(this.firstTextClass),this.barText.classList.add(this.secondTextClass),this.bar.setAttribute("max",this.secondSize),this.onTipOver()),this.barText.innerHTML=t+"/"+this.bar.getAttribute("max"),this.bar.setAttribute("value",t)}onTipOver(){this.tipOverFunction()}static returnEmpty(){return new dr(0,0,0,"PrettyCards_Hidden","PrettyCards_Hidden")}static returnXPData(e,t,n,r,a,i){var s=new dr(e,t,n,"xpBar","xpBar");s.setTextClasses("PrettyCards_XPBarText","PrettyCards_XPBarText");var o=document.createElement("SPAN");s.tipOverFunction=()=>{br("/sounds/levelUp.wav"),i++,o.innerHTML=window.$.i18n("pc-game-levelup"),o.className="GOLD_NEON",r&&a.addReward(r.getLeft(),r.getRight())},s.customRow=!0;var d=document.createElement("SPAN");s.customRowElement.appendChild(d),o.style.width="180px",o.style.display="inline-block",s.customRowElement.appendChild(o);var c=document.createElement("SPAN");return s.customRowElement.appendChild(c),s.customRowFunction=e=>{d.innerHTML="LV "+i,c.innerHTML="+ "+e+" XP"},s}static returnEloData(e,t,n,r,a){var i=r.split("_")[0],s=a.split("_")[0],o=new dr(25,25,e,"LEGEND"===i?"PrettyCards_Hidden":i+"Bar","LEGEND"===s?"PrettyCards_Hidden":s+"Bar");o.setTextClasses("LEGEND"===i?"PrettyCards_Hidden":i+"_NEON","LEGEND"===s?"PrettyCards_Hidden":s+"_NEON");var d=new Audio;d.volume=Ir("sfx"),d.src=`https://github.com/elytrafae/prettycards/raw/master/audio/sfx/Rank${t<n?"Up":"Down"}.ogg`;var c=document.createElement("SPAN");o.tipOverFunction=()=>{r!==a&&(d.play(),c.innerHTML=window.$.i18n("{{DIVISION:"+a+"}}"))},o.customRow=!0,c.style.fontSize="1.4em",c.innerHTML=window.$.i18n("{{DIVISION:"+r+"}}"),o.customRowElement.appendChild(c);var l=document.createElement("SPAN");return l.className="LEGEND_NEON",o.customRowElement.appendChild(l),o.customRowFunction=e=>{var n=o.didTipOver?s:i;l.innerHTML="LEGEND"===n?" ("+(t+e)+")":""},o}}class cr{static WIN=new cr("game-game-victory","","/musics/uty_victory.ogg");static LEAVE_WIN=new cr("game-game-victory","","/musics/dogsong.ogg").setSubtitleFunction(lr).setChangeTitleFunction((e=>'"'+e+'"'));static LOSE=new cr("game-game-over","","/musics/uty_gameover.ogg");static DRAW=new cr("pc-game-draw","","https://github.com/elytrafae/prettycards/raw/master/audio/bgms/mus_star.ogg").setSubtitleFunction(ur);static CHARA=new cr("game-died","red","/musics/toomuch.ogg");constructor(e,t,n){this.textKey=e,this.textClass=t,this.songSrc=n,this.subtitleFunction=()=>document.createElement("DIV"),this.changeTitleFunction=e=>e}setSubtitleFunction(e){return this.subtitleFunction=e,this}setChangeTitleFunction(e){return this.changeTitleFunction=e,this}getSubtitle(){return this.subtitleFunction()}}function lr(){var e=document.createElement("DIV"),t=document.createElement("IMG");t.src="images/annoyingDog.gif",e.appendChild(t.cloneNode());var n=document.createElement("SPAN");return n.innerHTML=" "+window.$.i18n("game-opponent-left")+" ",e.appendChild(n),e.appendChild(t),e}function ur(){var e=document.createElement("SPAN");return e.className="PrettyCards_BarelyVisibleHallucinationMachine gray",e.innerHTML=Ye.getRandomFromValueList("pc-game-draw-messages"),setTimeout((()=>{e.className="PrettyCards_Transparent",e.innerHTML="Too slow~"}),22e3),e}class pr{static MATCH=new pr("match","piggy-bank");static SPECIAL=new pr("special","star");static CONTRIBUTOR=new pr("contributor","euro");static QUEUE=new pr("queue","time");static LEVELUP=new pr("levelup","arrow-up");static QUEST=new pr("quest","calendar");static FRIENDSHIP=new pr("friendship","heart");constructor(e,t){this.id=e,this.iconName=t}}class hr{constructor(e,t){this.source=e,this.amount=t,this.passedAmount=0,this.container=document.createElement("SPAN"),this.amountElement=document.createElement("SPAN"),this.iconElement=document.createElement("SPAN"),this.container.className="PrettyCards_GameEnd_RewardSourceContainer PrettyCards_Hidden",this.iconElement.className=`glyphicon glyphicon-${this.source.iconName}`,this.iconElement.appendChild(function(e){var t=document.createElement("DIV"),n=document.createElement("DIV"),r=document.createElement("DIV");return n.innerHTML=e,t.className="PrettyCards_GameEnd_Tooltip",n.className="PrettyCards_GameEnd_TooltipText",r.className="PrettyCards_GameEnd_TooltipArrow",t.appendChild(n),t.appendChild(r),t}(window.$.i18n(`pc-rewardsource-${e.id}`))),this.container.appendChild(this.amountElement),this.container.appendChild(document.createTextNode(" ")),this.container.appendChild(this.iconElement)}attemptMerge(e){return e.source==this.source&&(this.amount+=e.amount,this.passedAmount+=e.passedAmount,!0)}finishedTicking(){return this.amount<0?this.passedAmount<=this.amount:this.passedAmount>=this.amount}tick(e){this.amount>0?this.passedAmount=Math.min(this.passedAmount+e,this.amount):this.passedAmount=Math.max(this.passedAmount-e,this.amount),this.amountElement.innerHTML="+"+this.passedAmount,this.container.classList.remove("PrettyCards_Hidden")}}class fr{constructor(e){this.currency=e,this.sources=[],this.displaySources=!0,this.totalAmount=0,this.tickSpeed=1e3,this.container=document.createElement("DIV"),e.applyTextClass(this.container),this.container.style.padding=this.currency.padding,this.breakdownContainer=document.createElement("DIV"),this.customContainer=document.createElement("DIV"),this.customContainer.className="PrettyCards_GameEnd_RewardRow PrettyCards_Hidden",this.breakdownContainer.classList.add("PrettyCards_Hidden"),this.breakdownContainer.classList.add("PrettyCards_GameEnd_RewardRow"),this.totalAmountElement=document.createElement("SPAN"),this.instanceContainer=document.createElement("SPAN"),this.barContainer=document.createElement("DIV"),this.barContainer.className="PrettyCards_GameEnd_BarRow PrettyCards_Hidden",this.barData,this.setBarData(dr.returnEmpty()),this.breakdownContainer.innerHTML="+ ",this.breakdownContainer.appendChild(this.totalAmountElement),this.breakdownContainer.appendChild(document.createTextNode(" ")),this.breakdownContainer.appendChild(this.currency.getCurrencyIcon()),this.breakdownContainer.appendChild(document.createTextNode(" (")),this.breakdownContainer.appendChild(this.instanceContainer),this.breakdownContainer.appendChild(document.createTextNode(" )")),this.container.appendChild(this.breakdownContainer),this.container.appendChild(this.customContainer),this.container.appendChild(this.barContainer)}setBarData(e){this.barData&&(this.barContainer.removeChild(this.barData.container),this.customContainer.removeChild(this.barData.customRowElement)),this.barData=e,this.barContainer.appendChild(this.barData.container),this.customContainer.appendChild(this.barData.customRowElement)}addInstance(e,t=!1){this.totalAmount+=e.amount,this.tickSpeed=this.currency.getSpeedForAmount(this.totalAmount);for(var n=0;n<this.sources.length;n++)if(this.sources[n].attemptMerge(e))return;t?(this.sources.unshift(e),this.instanceContainer.prepend(e.container)):(this.sources.push(e),this.instanceContainer.appendChild(e.container))}tick(){for(var e=!0,t=0,n=0;n<this.sources.length;n++){var r=this.sources[n];e&&!r.finishedTicking()&&(e=!1,r.tick(this.currency.countPerTick)),t+=r.passedAmount}e||(this.totalAmountElement.innerHTML=t,this.barContainer.classList.remove("PrettyCards_Hidden"),this.barData.updateBar(t),this.barData.customRow?(this.barData.updateCustomRow(t),this.customContainer.classList.remove("PrettyCards_Hidden")):this.breakdownContainer.classList.remove("PrettyCards_Hidden")),setTimeout(this.tick.bind(this),this.tickSpeed)}}class mr{static#f=[g.GOLD,g.DUST,g.UCP,g.DTFRAG,g.UT_PACK,g.DR_PACK,g.SHINY_PACK,g.SUPER_PACK,g.FINAL_PACK,g.CARD_SKIN,g.PROFILE_SKIN,g.AVATAR,g.EMOTE,g.ELO,g.XP];constructor(){this.rows=new Map,this.container=document.createElement("DIV"),this.alreadyStartedTicking=!1}static getCurrencyOrder(){return mr.#f}addReward(e,t,n=!1){var r=!this.rows.has(e);if(r){var a=new fr(e);this.#m(a),this.rows.set(e,a)}(a=this.rows.get(e)).addInstance(t,n),r&&this.alreadyStartedTicking&&a.tick()}#m(e){this.rows.size<=0&&this.container.appendChild(e.container);for(var t=0,n=0;n<mr.#f.length&&mr.#f[n]!=e.currency;)this.rows.has(mr.#f[n])&&t++,n++;this.rows.size!=t?this.container.insertBefore(e.container,this.container.children[t]):this.container.appendChild(e.container)}startTicking(e=(()=>{})){this.alreadyStartedTicking=!0;for(var t=0,n=0;n<mr.#f.length;n++){var r=mr.#f[n];if(this.rows.has(r)){var a=this.rows.get(r);setTimeout(a.tick.bind(a),800*t),t++}}setTimeout(e,800*t)}addBarForCurrency(e,t){this.rows.has(e)&&this.rows.get(e).setBarData(t)}static addCardCurrencyToOrder(e){mr.#f.splice(4,0,e)}}function gr(e,t,n,r){if(!e)return null;if("CARD"===e){var a=or(t);return new _(a,new hr(r,1))}return a=function(e){var t=e.split("-");switch(t.shift(),t=t.join("-")){case"dust":return g.DUST;case"pack":return g.UT_PACK;case"gold":return g.GOLD;case"xp":return g.XP;case"super-pack":return g.SUPER_PACK;case"shiny-pack":return g.SHINY_PACK;case"final-pack":return g.FINAL_PACK;case"ucp":return g.UCP;case"dt-fragment":return g.DTFRAG;case"dr-pack":return g.DR_PACK;case"avatar":return g.AVATAR;case"card-skin":return g.CARD_SKIN;case"profile-skin":return g.PROFILE_SKIN;case"emote":return g.EMOTE;default:return null}}(e),a?new _(a,new hr(r,t)):(console.warn("Could not find Currency type for string ",e),null)}function yr(e){var t={endType:"getVictory"===e.action?e.disconnected?cr.LEAVE_WIN:cr.WIN:"getGameRemoved"==e.action?cr.DRAW:cr.LOSE,oldGold:e.oldGold,rewardManager:new mr,oldLevelBarSize:e.oldJaugeSize,newLevelBarSize:e.jaugeSize};e.oldGold&&function(e,t){var n=e.golds-e.oldGold;e.isDonator&&(t.addReward(g.GOLD,new hr(pr.CONTRIBUTOR,10)),n-=10),e.queueGoldBonus&&(t.addReward(g.GOLD,new hr(pr.QUEUE,e.queueGoldBonus)),n-=e.queueGoldBonus),t.addReward(g.GOLD,new hr(pr.MATCH,n),!0)}(e,t.rewardManager);var n,r=gr("CARD"===e.rewardType?e.rewardType:e.rewardStringKey,e.rewardQuantity,t.rewardManager,pr.LEVELUP),a=gr("CARD"===e.bonusRewardType?e.bonusRewardType:e.bonusRewardStringKey,e.bonusRewardQuantity,t.rewardManager,pr.SPECIAL);if(e.newXp&&e.oldXp&&(t.rewardManager.addReward(g.XP,new hr(pr.MATCH,e.newXp-e.oldXp)),t.rewardManager.addBarForCurrency(g.XP,dr.returnXPData(e.oldJaugeSize,e.jaugeSize,e.oldJaugeSize-e.xpUntilNextLevel,r,t.rewardManager,parseInt($(".level").html())))),e.oldElo&&e.newElo){t.rewardManager.addReward(g.ELO,new hr(pr.MATCH,e.newElo-e.oldElo));var i=(n=e.oldElo,25*Math.floor(n/25));t.rewardManager.addBarForCurrency(g.ELO,dr.returnEloData(e.oldElo-i,e.oldElo,e.newElo,e.oldDivision,e.newDivision))}return a&&t.rewardManager.addReward(a.getLeft(),a.getRight()),t}var wr=new Audio,Cr=new Audio;function vr(t){var n,r=new Promise(((e,t)=>{window.$.getJSON("/FriendshipConfig",{},(t=>{e(new ir(t))})).error((e=>{t(e)}))})),a=(n=e.quests.getQuests())&&n.length>0?Promise.resolve(n):e.quests.update().then((e=>e.quests)),i=new Audio;i.volume=Ir("result"),i.src=t.endType.songSrc,Cr.volume=Ir("sfx"),Cr.src="https://github.com/elytrafae/prettycards/raw/master/audio/sfx/RewardCollect.ogg";var s=document.createElement("DIV"),o=document.createElement("DIV");window.document.body.appendChild(o),o.className="PrettyCards_GameEnd_Backdrop",window.$(o).css("top",-window.innerHeight+"px").animate({top:"0px"},1e3,"easeInQuad",(()=>{wr.volume=Ir("sfx"),wr.play(),setTimeout((()=>{i.loop=!0,i.volume=.7,i.play(),t.rewardManager.startTicking((()=>{s.classList.remove("PrettyCards_Hidden"),xr.forEach((e=>{e.classList.remove("PrettyCards_Hidden")}))}))}),1e3)}));var d=document.createElement("DIV");d.className="PrettyCards_GameEnd_Content";var c=document.createElement("DIV");c.className="PrettyCards_GameEnd_Title "+t.endType.textClass,c.innerHTML=t.endType.changeTitleFunction(window.$.i18n(t.endType.textKey)),d.appendChild(c);var l=document.createElement("DIV");l.className="PrettyCards_GameEnd_Subtitle",l.appendChild(t.endType.getSubtitle()),d.appendChild(l),d.appendChild(t.rewardManager.container),s.className="PrettyCards_Hidden PrettyCards_GameEnd_LeaveRow";var u=document.createElement("BUTTON");u.className="btn btn-success",u.innerHTML=window.$.i18n("pc-game-leave"),u.onclick=()=>{window.location="/Play"},s.appendChild(u),d.appendChild(s),d.appendChild(Sr("pc-game-friendship-header","pc-game-collect-all","PrettyCards_GameEnd_FriendshipCards",((e,t,n,r)=>{e.renderAll(t,(e=>e.getCollectableRewardCount()),((e,a)=>{e.addClass("friendship-not-claimed"),e.off("click").click((()=>{a.claimOnce().then((i=>{Cr.currentTime=0,Cr.play(),r.addReward(i.getLeft(),new hr(pr.FRIENDSHIP,i.getRight())),a.getCollectableRewardCount()<=0&&(e.remove(),n.style.display=t.children.length>0?"block":"none")}))}))}))}),((e,n,r)=>{e.claimAll(((e,n)=>{Cr.currentTime=0,Cr.play(),t.rewardManager.addReward(n.getLeft(),new hr(pr.FRIENDSHIP,n.getRight()))}),(()=>{r(e),n.removeAttribute("disabled")}))}),r,t.rewardManager)),d.appendChild(Sr("pc-game-quest-header","pc-game-collect-all","",((e,t,n,r)=>{e.forEach((e=>{if(e.claimable){var a=document.createElement("DIV");a.className="PrettyCards_GameEnd_QuestRow";var i=e.progress;a.innerHTML=`\n                    <div class="PrettyCards_GameEnd_QuestText ${e.claimable?"green":""}">${e.name}</div>\n                    <div class="PrettyCards_GameEnd_QuestProgress"><progress class="${i.complete?"EMERALDBar":"xpBar"}" value="${i.value}" max="${i.max}" style="width: 100px;"></progress> ${i.value} / ${i.max}</div>`;var s=document.createElement("DIV");a.appendChild(s);var o=function(e,t){var n=P.feildItemsToMyCurrencies(t.type);if(n===g.UCP)return e.innerHTML=window.$.i18n("quests-ucp",t.reward),new _(g.UCP,parseInt(t.reward));if(n&&Er.includes(n))return e.innerHTML=n.getCurrencyIcon().outerHTML+'<span class="white">x'+t.reward+"</span>",n.applyTextClass(e),new _(n,parseInt(t.reward));if(t.type===window.underscript.constants.CARD||n===g.CARD_SKIN){var r=t.reward;"string"==typeof r&&(r={card:r});var a=document.createElement("SPAN");a.innerHTML=r.name?r.name:window.$.i18n(`card-name-${r.card}`),a.dataset.rewardHoverData=JSON.stringify(r),a.className="cyan",e.appendChild(a);var i=g.CARD_SKIN;return t.type===window.underscript.constants.CARD&&(i=or(parseInt(r.card))),new _(i,1)}return n===g.PROFILE_SKIN?(e.parentElement.style.backgroundImage="url("+t.reward+")",e.parentElement.style.backgroundPosition="center center",e.parentElement.style.backgroundSize="cover",new _(g.PROFILE_SKIN,1)):n===g.AVATAR?(e.innerHTML=`<img class="avatar ${t.reward.rarity}" src="${t.reward.image}">`,new _(g.AVATAR,1)):(console.warn("Unhandled reward type: ",t.type,t),e.innerHTML="???",null)}(s,e.reward);s.classList.add("PrettyCards_GameEnd_QuestReward");var d=document.createElement("DIV");d.className="PrettyCards_GameEnd_QuestClaim";var c=document.createElement("BUTTON");c.className="btn btn-success",c.innerHTML=window.$.i18n("quests-claim");var l=parseInt(e.id);isNaN(l)||(c.onclick=()=>{c.setAttribute("disabled","true"),Tr(l).then((e=>{r.addReward(o.getLeft(),new hr(pr.QUEST,o.getRight())),a.remove(),n.style.display=t.children.length>0?"block":"none",Cr.currentTime=0,Cr.play()})).catch((()=>{c.removeAttribute("disabled"),n.style.display=t.children.length>0?"block":"none"}))}),d.appendChild(c),a.appendChild(d),t.appendChild(a)}}))}),((e,t,n)=>{for(var r=t.parentElement.parentElement.querySelectorAll("button.btn.btn-success"),a=0;a<r.length;a++)r[a].click()}),a,t.rewardManager)),o.appendChild(d)}function br(e){var t=new Audio;t.volume=Ir("sfx"),t.src=e,t.play()}wr.src="https://github.com/elytrafae/prettycards/raw/master/audio/sfx/mus_intronoise.ogg",t.GameEndTypes=cr,t.displayMatchResults=vr,t.testMatchResults=()=>{vr(yr({action:"getVictory",gameType:"RANKED",disconnected:!0,golds:5944,isDonator:!1,oldGold:5919,oldXp:5709561,newXp:5713123,nbLevelPassed:0,oldJaugeSize:6e3,jaugeSize:6e3,xpUntilNextLevel:3189,queueGoldBonus:10,oldDivision:"AMETHYST_I",newDivision:"AMETHYST_I",oldDivision:"LEGEND",newDivision:"LEGEND",oldElo:1888,newElo:1900,rewardStringKey:"reward-dt-fragment",rewardType:"DTFRAGMENT",rewardQuantity:4,bonusRewardStringKey:"card",bonusRewardType:"CARD",bonusRewardQuantity:518}))},t.testMatchResultsDraw=()=>{vr({endType:cr.DRAW,rewardManager:new mr})};var _r=i({key:"custom_game_end",name:"Custom Game End Screen",type:"boolean",refresh:!1,default:!0}),Pr=i({key:"custom_game_end_death_anim",name:"Custom Game End Screen: Death Animation",note:"Should the death animation play with the Custom Game End Screen? I honestly do not know if this should be on or off.",type:"boolean",refresh:!1,default:!0}),kr=["getVictory","getDefeat"];e.events.on("PreGameEvent",(function(e){_r.value()&&kr.includes(e.action)&&(function(e,t){window.music.pause(),window.musicEnabled=!1,window.finish=!0,window.$(".spellPlayed").remove(),window.$("#enemyMute").remove(),window.$("#game-history").remove(),null!==window.settingsDialog&&window.settingsDialog.close(),null!==window.selectCardDialog&&window.selectCardDialog.close(),null!==window.dustpileDialog&&window.dustpileDialog.close();var n=[window.$("#user"+(e?window.opponentId:window.userId)),window.$(e?"#enemyAvatar":"#yourAvatar")];window.shakeEnabled&&Pr.value()?(n.forEach((e=>{e.effect("shake")})),setTimeout((()=>{n.forEach((e=>{e.effect("puff")})),br("/sounds/dust.wav"),setTimeout((()=>{t()}),750)}),750)):t()}("getVictory"===e.action,(()=>{vr(yr(e))})),this.canceled=!0)})),e.events.on("getError:before getGameError:before",(function(e){if(_r.value()){var t=JSON.parse(JSON.parse(e.message).args)[0];console.log(e,t),"game-turn-limit"!=t&&"game-time-limit"!=t||(this.canceled=!0,vr({endType:cr.DRAW,rewardManager:new mr}))}}));var xr=[];function Sr(e,t,n,r,a,i,s){var o=document.createElement("DIV");o.className="PrettyCards_Hidden",o.style.display="none",o.style.marginTop="30px";var d=document.createElement("DIV");d.className="PrettyCards_GameEnd_FriendshipHeader",o.appendChild(d);var c=document.createElement("DIV");c.innerHTML=window.$.i18n(e),c.style.fontSize="2.5em",d.appendChild(c);var l=document.createElement("BUTTON");l.innerHTML=window.$.i18n(t),l.className="btn btn-primary",d.appendChild(l);var u=document.createElement("DIV");function p(e){u.innerHTML="",r(e,u,o,s),o.style.display=u.children.length>0?"block":"none"}return u.className=n,o.appendChild(u),i.then((e=>{l.onclick=function(){l.setAttribute("disabled",!0),a(e,l,p)},p(e)})),xr.push(o),o}var Er=[g.GOLD,g.DUST,g.DTFRAG,g.UT_PACK,g.DR_PACK,g.SHINY_PACK,g.SUPER_PACK,g.FINAL_PACK],Ar=["standard-skin","full-skin","breaking-skin"];function Tr(e){return new Promise(((t,n)=>{window.$.post("/Quests",{questId:e,dailyQuest:e},(e=>{t(e)})).error((e=>{n(e)}))}))}function Ir(t="sfx"){return e.settings().value("underscript.audio."+t)?e.settings().value("underscript.audio."+t+".volume"):0}function $r(e,t){return 0==t?"":`\n    <div>\n        <div style="height: 128px; display: flex;align-items: center;">\n            ${e}\n        </div>\n        <div style="font-size: 28px;">x ${t}</div>\n    </div>`}function Nr(e,t){return $r(`<img style="width:68px;" src="${e}">`,t)}window.underscript.lib.tippy(document.body,{target:"[data-reward-hover-data]",theme:"undercards",animateFill:!1,onShow(e){var t=JSON.parse(e.reference.dataset.rewardHoverData),n=window.appendCard(window.getCard(Number(t.card)),$("<DIV>"));if(t.name){var r='url("'+t.src+'")';n.find(".cardImage").css("background-image",r),n.removeClass("standard-skin").addClass(Ar[parseInt(t.type)]||"");var a=t.name+'<br/><span class="Artist">'+t.author+"</span>";n.find(".cardDesc div").html(a)}e.setContent(n[0])}}),t.collectQuestReward=Tr;var Dr={LEGEND:400,MASTER_I:200,MASTER_II:150,MASTER_III:100,MASTER_IV:50,ONYX_I:25,ONYX_II:20,ONYX_III:15,ONYX_IV:10};function Lr(e,t){if(typeof e!=typeof t)return!1;if("object"!=typeof e)return e===t;for(var n in e)if(!Lr(e[n],t[n]))return!1;return!0}function Rr(e){var t=e.fixedId,n=e.id,r=window.getCard(t||n);if(!r)return e;var a={};for(var i in e)Lr(e[i],r[i])||(a[i]=e[i]);return n&&(a.id=n),t&&(a.fixedId=t),a}function Mr(e){for(var t=0;t<e.length;t++)e[t]=Rr(e[t])}function Or(e=[]){if(!(e.length<=0))return e[0].extension}t.concepts={},t.concepts.viewEndOfSeasonScreen=function(e,t=!1){var n=t?"LEGEND":function(e){var t=Math.floor((e-1200)/25);return sr[Math.min(t,sr.length-1)]}(e),r=Math.min(Math.floor((e-1200)/25)+1,50),a=0;n.startsWith("AMETHYST")?a=1:n.startsWith("RUBY")?a=2:n.startsWith("DIAMOND")?a=3:(n.startsWith("ONYX")||n.startsWith("MASTER")||n.startsWith("LEGEND"))&&(a=4);var i=`<div style="font-size: 50px;">${window.$.i18n(`{{DIVISION:${n}}}`)}</div>`;"LEGEND"===n&&(r=50,i+=`<div style="font-size:30px;">With ${e} ELO!</div>`);var s=Nr(P.asset("img/Packs/UndertalePack.png"),r)+Nr(P.asset("img/Packs/DeltarunePack.png"),r)+Nr("images/dtFragment.png",a)+$r(`<span class="ucp" style="font-size: 3em;">${window.$.i18n("item-ucp")}</span>`,Dr[n]||0),o=window.$(`\n        <div style="text-align: center;">\n            <div>Last season, you reached</div>\n            ${i}\n            <div style="margin: 10px 0;">Your rewards are:</div>\n\n            <div style="display: flex;\n            flex-direction: row;\n            flex-wrap: nowrap;\n            align-content: center;\n            justify-content: space-around;\n            align-items: center;\n            margin: 0 20px;">${s}</div>\n\n        </div>\n    `);window.BootstrapDialog.show({title:"End of season rewards!",message:o,buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})},n(8452),t.concepts.optimization={},t.concepts.optimization.minifyCard=Rr,t.concepts.optimization.fetchAndOptimizeCards=function(e,t=!0){$.getJSON("/"+e,{},(e=>{var n=JSON.stringify(e).length;for(var r in e){var a=!1;"string"==typeof e[r]&&(e[r]=JSON.parse(e[r]),a=!0),Or(e[r])&&Mr(e[r]),t&&a&&(e[r]=JSON.stringify(e[r]))}var i=JSON.stringify(e).length;console.log("Minified Data: ",e),console.log("Original Size: ",n),console.log("Improved Size: ",i),console.log(`The improved version is %c${i/n*100}%c% of the original size!`,"color: #e000d9;","")}))};const Br="Arial, Helvetica, sans-serif",Fr=['"Times New Roman", Times, serif','"Courier New", monospace','"Brush Script MT"','"Comic Sans MS", "Comic Sans", cursive',"Papyrus, fantasy"],Hr="Arial",Gr=["TimesNewRoman","CourierNew","BrushScriptMT","ComicSansMS","Papyrus"];var Ur,jr=i({key:"april_fools_font",name:"April Fools Font",type:"select",options:["SEASONAL","RANDOM","OFF",Hr].concat(Gr),refresh:!0,default:"SEASONAL",hidden:function(){return P.getSeasonNumber()<81},category:"april"}).value();function zr(){if("OFF"!=jr){if("RANDOM"==jr)Ur=Br,underscript.utils.rand(10,1,!0)<=2&&(Ur=Fr[underscript.utils.rand(Fr.length)]);else if(jr==Hr)Ur=Br;else{var t=Gr.findIndex((e=>e==jr));Ur=Fr[t]}Wr(),e.events.on("PrettyCards:onPageLoad",Wr)}}function Wr(){if(!document.getElementById("PrettyCards_AprilFoolsFonts")){var e=document.createElement("STYLE");e.id="PrettyCards_AprilFoolsFonts",e.innerHTML=`\n        body {\n            font-family: ${Ur}!important;\n        }\n\n        div.chat-box {\n            font-family: ${Ur}!important;\n        }\n\n        .mono .modal-body { font-family: ${Ur}!important; }\n\n        .underscript-dialog legend { font-family: ${Ur}!important; }\n    `,document.head.appendChild(e)}}"SEASONAL"==jr?e.events.on("PrettyCards:seasonNumber",(function(){jr=3!=P.getSeasonMonth()?"OFF":"RANDOM",zr()})):zr();var Kr=[{text:"ThiS [[Number ONE rated SalesMASCOT]] is DROWNing in [[KROMER]]!!! CLICK HERE!!!",bgImage:"https://a-z-animals.com/media/2023/01/iStock-1283011874-1024x683.jpg",bgSize:"cover",bgPosition:"center",color:"red",picSrc:"images/cards/Golden_Mascot.png",textSize:2,link:"https://www.youtube.com/watch?v=ETxmCCsMoD0"},{text:"Do you hate this [[VILE DOG]]?<br>CLICK HERE!",bgImage:"https://www.hartz.com/wp-content/uploads/2022/04/small-dog-owners-1.jpg",bgSize:"contain",bgPosition:"center",color:"darkblue",picSrc:"images/cards/Bulldogzer.png",textSize:2,link:"https://media.discordapp.net/attachments/1089991272174993519/1089991301069545492/image.png"},{text:"Does your neighbors grass look [delicious and natural]? You can have the same [delicious outdoor floor], JUST BUY NOW!",bgImage:"https://cdn.britannica.com/22/215522-050-8315BB78/green-grass-close-up.jpg",bgSize:"contain",bgPosition:"center",color:"purple",textSize:2,link:"https://store.steampowered.com/app/1944240/Touch_Some_Grass/"},{text:"K N O W L E D G E",bgColor:"yellow",bgImage:"https://images.theconversation.com/files/45159/original/rptgtpxd-1396254731.jpg?ixlib=rb-1.1.0&q=45&auto=format&w=1356&h=668&fit=crop",bgSize:"50%",bgPosition:"center",color:"#696969",textSize:3,link:"https://undercards.fandom.com/wiki/Undercards_Wikia",centerText:!0},{text:"Looking for a little fun with \\[\\[{{CARD:723|1}}\\]\\] in your area~?",bgImage:"https://t4.ftcdn.net/jpg/03/22/89/73/360_F_322897394_X2JQen9I6ECDSsQZoESOJ87dfebaGaAe.jpg",bgSize:"cover",bgPosition:"center",color:"#220000",picSrc:"images/cards/HOTSINGLE.png",textSize:2,link:"https://i.redd.it/6ztypom2wy661.jpg",centerText:!0},{text:"Club music for any<br>&gt[[MAN, WOMAN OR CHILD]]&lt!!",bgImage:"https://www.bettaeventhire.com.au/wp-content/uploads/2019/10/shutterstock_139152893.jpg",bgSize:"cover",bgPosition:"center",color:"cyan",picSrc:"images/cards/Dancer_Mettaton.png",textSize:2,link:"https://www.youtube.com/watch?v=x_QgxpTeKzM"},{text:"Hey   EVERY   !!!IT's ME!! Wan to be [[Number 1 Rated Salesman1997]]? Click HERE for the [[Specil Deal]]",bgImage:"https://media.tenor.com/FOgfl0x7RiUAAAAC/spamton-dancing.gif",bgSize:"contain",bgPosition:"unset",color:"green",picSrc:"images/cards/Spamton.png",textSize:1.5,link:"https://cdn.discordapp.com/attachments/1089991272174993519/1089996859998736414/k55m8nkfsra81.png"},{text:"are YOU [[All Alone On A Late Night?]]????? Want more [[PRIME ENTERTAINMENT!]] CLICK HERE!!!",bgImage:"https://media.discordapp.net/attachments/1089991272174993519/1090257788938240131/Sanest_libteg.jpg",bgSize:"contain",bgPosition:"unset",color:"green",picSrc:"images/cards/Sand_Dog.png",textSize:1.75,link:"https://youtu.be/4X2y5_k2zEw"}],Vr=i({key:"spamton_ads",name:"Enable Spamton Ads",note:"[[NumberOneRatedSetting1997]]",type:"select",refresh:!1,options:["OFF","SEASONAL","ON"],default:"SEASONAL",category:"april",hidden:function(){return P.getSeasonNumber()<81}});e.events.on("BootstrapDialog:show",(function(e){var t="OFF"==Vr.value();if("SEASONAL"==Vr.value()&&(t=3!=P.getSeasonMonth()),!t&&!e.$modalContent.find(".mulligan")[0]){var n=P.getRandomFromArray(Kr),r=document.createElement("DIV"),a=`background-color: ${n.bgColor||"black"};`;n.bgImage&&(a=`background-image: url(${n.bgImage}); background-size: ${n.bgSize||"auto"}; background-position: ${n.bgPosition||"unset"}`);var i=window.$.i18n(n.text.replaceAll("   "," &nbsp "));r.style=`${a};border: 5px solid white;border-width: 0 5px;margin: 0;padding: 5px; display:flex; user-select: none; justify-content: space-between;`,r.innerHTML=`<p style="font-size: ${n.textSize||2}em; color: ${n.color||white}">${i}</p>${n.picSrc?`<img src="${n.picSrc}">`:""}`,e.$modalContent.find(".PrettyCards_ArtifactDisplayName")[0]&&(r.style.borderWidth="0 5px 5px 5px"),n.link&&(r.style.cursor="pointer",r.onclick=function(){window.open(n.link,"_blank")}),n.centerText&&(r.querySelector("p").style.width="100%",r.querySelector("p").style.textAlign="center"),e.$modalContent[0].insertBefore(r,e.$modalFooter[0])}})),i({key:"crafting_in_decks",name:"Crafting in Decks Page",note:"An icon on craftable cards will appear. Clicking it will display a menu for crafting. Uncrafting in the Decks page is not supported.",type:"boolean",refresh:!0,default:!0}).value()&&window.underscript.onPage("Decks")&&(window.$.get("/Crafting",{},(function(t){var n=window.$(t).find("#dust");n[0]&&(qr=Number(n[0].innerHTML)),console.log("DUST",qr),qr<underscript.utils.rarity.cost("COMMON",!1)?console.warn("Crafting in Decks page: Insufficient Dust to craft anything. Won't continue forward."):window.$.getJSON("/CraftConfig",{},(function(t){Yr=function(t){var n=Zr(t,!1);return t.forEach((e=>{(!Xr.includes(e.rarity)||e.quantity>0)&&Jr.push(e)})),e.events.emit.singleton("PrettyCards:DeckCollectionAppendReady"),n}(JSON.parse(t.collection))}))})),e.events.on("Deck:Loaded",(()=>{e.events.on("PrettyCards:DeckCollectionAppendReady",(()=>{for(var e in window.collection=Jr,window.decks){window.deckCollections[e]=[];for(var t=0;t<window.collection.length;t++){var n=JSON.parse(JSON.stringify(window.collection[t]));(0===n.typeCard||n.hasOwnProperty("soul")&&n.soul.name===e||window.playground)&&(n.quantity=n.quantity-window.getQuantityInDeck(n,e),window.deckCollections[e].push(n))}}}))})),e.events.on("func:appendCardDeck",(function(e,t){var n=ea(e.id,e.shiny);if(n){var r='<img style="height:1.6em;" src="/images/icons/dust.png">',a=(n.shiny?'<span class="rainbowText">S</span> ':"")+$.i18n("card-name-"+e.id,1),i=window.$(`<p style="font-size: 1.2em;">${r} ${qr}</p>`),s=function(e){var t=underscript.utils.rarity.max(e.rarity)-e.quantity;if(t<=0)return 0;var n=underscript.utils.rarity.cost(e.rarity,e.shiny);return qr<n*t&&(t=Math.floor(qr/n)),t}(n);if(s<=0)return;var o=window.$(`<button class="btn btn-success">Craft One (-${underscript.utils.rarity.cost(n.rarity,n.shiny)} ${r})</button>`),d=window.$(`<button class="btn btn-success" style="margin-left: 0.6em">Craft x${s} (-${underscript.utils.rarity.cost(n.rarity,n.shiny)*s} ${r})</button>`);o.click((()=>{o.prop("disabled",!0),d.prop("disabled",!0),function(e){na(e.id,e.shiny).then((t=>{qr=t.dust,e.quantity++,Yr=Zr(Yr),ra(e.id,e.shiny),window.applyFilters(),window.showPage(window.currentPage),window.BootstrapDialog.closeAll();var n=(e.shiny?'<span class="rainbowText">S</span> ':"")+$.i18n("card-name-"+e.id,1);window.BootstrapDialog.show({type:window.BootstrapDialog.TYPE_SUCCESS,title:$.i18n("crafting-title",n),message:$.i18n("crafting-craft-success",n),buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})})).catch((e=>{e instanceof Error?console.error(e):(window.BootstrapDialog.closeAll(),window.BootstrapDialog.show({type:window.BootstrapDialog.TYPE_DANGER,title:window.$.i18n("dialog-error"),message:aa(e),buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]}))}))}(n)})),d.click((()=>{o.prop("disabled",!0),d.prop("disabled",!0),function(e,t){for(var n=[],r=t,a=0,i=0;i<t;i++)na(e.id,e.shiny).then((t=>{a++,r--,qr=t.dust,e.quantity++,ta(a,n,r,e)})).catch((t=>{t instanceof Error?console.error(t):(r--,n.push(aa(t)),ta(a,n,r,e))}))}(n,s)}));var c=$("<div></div>");c.append(i),c.append(o),s>1&&c.append(d),P.addCustomSimpleTextIconToCard2(t,"/images/icons/dust.png","Craft!",c,window.$.i18n("crafting-title",a))}})));var qr=0,Yr=[],Jr=[],Xr=["TOKEN","DETERMINATION"];function Qr(e){var t=e.rarity;return!Xr.includes(t)&&e.quantity<underscript.utils.rarity.max(t)&&qr>=underscript.utils.rarity.cost(t,e.shiny)}function Zr(e,t=!0){for(var n=[],r=0;r<e.length;r++){var a=e[r];Qr(a)&&(t?n.push(a):n.push({shiny:a.shiny,quantity:a.quantity,id:a.id,rarity:a.rarity}))}return n}function ea(e,t=!1){for(var n=0;n<Yr.length;n++){var r=Yr[n];if(r.id===e&&r.shiny===t)return r}return null}function ta(e,t=[],n=0,r){if(!(n>0)){Yr=Zr(Yr),ra(r.id,r.shiny,e),window.applyFilters(),window.showPage(window.currentPage),window.BootstrapDialog.closeAll();var a=e+t.length,i=e>0?window.BootstrapDialog.TYPE_SUCCESS:window.BootstrapDialog.TYPE_DANGER,s=`<p style="font-size:1.2em" class="green">${e}/${a} ${(r.shiny?'<span class="rainbowText">S</span> ':"")+$.i18n("card-name-"+r.id,a)} Crafted successfully!</p>`;t.length>0&&(s+=`<h2 class="red">Errors: </h2><ul>${"<li>"+t.join("</li><li>")+"</li>"}</ul>`),window.BootstrapDialog.show({type:i,title:"Multi Craft Results",message:s,buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}}function na(e,t){var n=`{"action": "craft", "idCard": ${e}, "isShiny": ${t?"true":"false"}}`;return new Promise(((e,t)=>{window.$.post("/CraftConfig",n,(function(n){"success"===n.status?e(n):t(n)}))}))}function ra(e,t,n=1){var r=[window.collection];for(var a in deckCollections)r.push(deckCollections[a]);r.forEach((r=>{for(var a=0;a<r.length;a++){var i=r[a];if(i.id===e&&i.shiny===t){i.quantity+=n;break}}}))}function aa(e){return"errorMaintenance"===e.status?translateFromServerJson(e.message):"An unexpected error occurred!"}t.test_SearchInCraftableCollection=ea;var ia=n(7320),sa=n.n(ia);function oa(e){return Array.isArray?Array.isArray(e):"[object Array]"===ha(e)}function da(e){return"string"==typeof e}function ca(e){return"number"==typeof e}function la(e){return"object"==typeof e}function ua(e){return null!=e}function pa(e){return!e.trim().length}function ha(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const fa=e=>`Missing ${e} property in key`,ma=e=>`Property 'weight' in key '${e}' must be a positive integer`,ga=Object.prototype.hasOwnProperty;class ya{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=wa(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function wa(e){let t=null,n=null,r=null,a=1,i=null;if(da(e)||oa(e))r=e,t=Ca(e),n=va(e);else{if(!ga.call(e,"name"))throw new Error(fa("name"));const s=e.name;if(r=s,ga.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(ma(s));t=Ca(s),n=va(s),i=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:i}}function Ca(e){return oa(e)?e:e.split(".")}function va(e){return oa(e)?e.join("."):e}const ba={useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const a=(e,t,i)=>{if(ua(e))if(t[i]){const s=e[t[i]];if(!ua(s))return;if(i===t.length-1&&(da(s)||ca(s)||function(e){return!0===e||!1===e||function(e){return la(e)&&null!==e}(e)&&"[object Boolean]"==ha(e)}(s)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(s));else if(oa(s)){r=!0;for(let e=0,n=s.length;e<n;e+=1)a(s[e],t,i+1)}else t.length&&a(s,t,i+1)}else n.push(e)};return a(e,da(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var _a={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...ba};const Pa=/[^ ]+/g;class ka{constructor({getFn:e=_a.getFn,fieldNormWeight:t=_a.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const a=t.match(Pa).length;if(n.has(a))return n.get(a);const i=1/Math.pow(a,.5*e),s=parseFloat(Math.round(i*r)/r);return n.set(a,s),s},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,da(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();da(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!ua(e)||pa(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,r)=>{let a=t.getFn?t.getFn(e):this.getFn(e,t.path);if(ua(a))if(oa(a)){let e=[];const t=[{nestedArrIndex:-1,value:a}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(ua(r))if(da(r)&&!pa(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else oa(r)&&r.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[r]=e}else if(da(a)&&!pa(a)){let e={v:a,n:this.norm.get(a)};n.$[r]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function xa(e,t,{getFn:n=_a.getFn,fieldNormWeight:r=_a.fieldNormWeight}={}){const a=new ka({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(wa)),a.setSources(t),a.create(),a}function Sa(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=_a.distance,ignoreLocation:i=_a.ignoreLocation}={}){const s=t/e.length;if(i)return s;const o=Math.abs(r-n);return a?s+o/a:o?1:s}const Ea=32;function Aa(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}class Ta{constructor(e,{location:t=_a.location,threshold:n=_a.threshold,distance:r=_a.distance,includeMatches:a=_a.includeMatches,findAllMatches:i=_a.findAllMatches,minMatchCharLength:s=_a.minMatchCharLength,isCaseSensitive:o=_a.isCaseSensitive,ignoreLocation:d=_a.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:a,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:o,ignoreLocation:d},this.pattern=o?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:Aa(e),startIndex:t})},l=this.pattern.length;if(l>Ea){let e=0;const t=l%Ea,n=l-t;for(;e<n;)c(this.pattern.substr(e,Ea),e),e+=Ea;if(t){const e=l-Ea;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:a,threshold:i,findAllMatches:s,minMatchCharLength:o,ignoreLocation:d}=this.options;let c=[],l=0,u=!1;this.chunks.forEach((({pattern:t,alphabet:p,startIndex:h})=>{const{isMatch:f,score:m,indices:g}=function(e,t,n,{location:r=_a.location,distance:a=_a.distance,threshold:i=_a.threshold,findAllMatches:s=_a.findAllMatches,minMatchCharLength:o=_a.minMatchCharLength,includeMatches:d=_a.includeMatches,ignoreLocation:c=_a.ignoreLocation}={}){if(t.length>Ea)throw new Error("Pattern length exceeds max of 32.");const l=t.length,u=e.length,p=Math.max(0,Math.min(r,u));let h=i,f=p;const m=o>1||d,g=m?Array(u):[];let y;for(;(y=e.indexOf(t,f))>-1;){let e=Sa(t,{currentLocation:y,expectedLocation:p,distance:a,ignoreLocation:c});if(h=Math.min(e,h),f=y+l,m){let e=0;for(;e<l;)g[y+e]=1,e+=1}}f=-1;let w=[],C=1,v=l+u;const b=1<<l-1;for(let r=0;r<l;r+=1){let i=0,o=v;for(;i<o;)Sa(t,{errors:r,currentLocation:p+o,expectedLocation:p,distance:a,ignoreLocation:c})<=h?i=o:v=o,o=Math.floor((v-i)/2+i);v=o;let d=Math.max(1,p-o+1),y=s?u:Math.min(p+o,u)+l,_=Array(y+2);_[y+1]=(1<<r)-1;for(let i=y;i>=d;i-=1){let s=i-1,o=n[e.charAt(s)];if(m&&(g[s]=+!!o),_[i]=(_[i+1]<<1|1)&o,r&&(_[i]|=(w[i+1]|w[i])<<1|1|w[i+1]),_[i]&b&&(C=Sa(t,{errors:r,currentLocation:s,expectedLocation:p,distance:a,ignoreLocation:c}),C<=h)){if(h=C,f=s,f<=p)break;d=Math.max(1,2*p-f)}}if(Sa(t,{errors:r+1,currentLocation:p,expectedLocation:p,distance:a,ignoreLocation:c})>h)break;w=_}const _={isMatch:f>=0,score:Math.max(.001,C)};if(m){const e=function(e=[],t=_a.minMatchCharLength){let n=[],r=-1,a=-1,i=0;for(let s=e.length;i<s;i+=1){let s=e[i];s&&-1===r?r=i:s||-1===r||(a=i-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}(g,o);e.length?d&&(_.indices=e):_.isMatch=!1}return _}(e,t,p,{location:r+h,distance:a,threshold:i,findAllMatches:s,minMatchCharLength:o,includeMatches:n,ignoreLocation:d});f&&(u=!0),l+=m,f&&g&&(c=[...c,...g])}));let p={isMatch:u,score:u?l/this.chunks.length:1};return u&&n&&(p.indices=c),p}}class Ia{constructor(e){this.pattern=e}static isMultiMatch(e){return $a(e,this.multiRegex)}static isSingleMatch(e){return $a(e,this.singleRegex)}search(){}}function $a(e,t){const n=e.match(t);return n?n[1]:null}class Na extends Ia{constructor(e,{location:t=_a.location,threshold:n=_a.threshold,distance:r=_a.distance,includeMatches:a=_a.includeMatches,findAllMatches:i=_a.findAllMatches,minMatchCharLength:s=_a.minMatchCharLength,isCaseSensitive:o=_a.isCaseSensitive,ignoreLocation:d=_a.ignoreLocation}={}){super(e),this._bitapSearch=new Ta(e,{location:t,threshold:n,distance:r,includeMatches:a,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:o,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Da extends Ia{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],a=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+a,r.push([t,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const La=[class extends Ia{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Da,class extends Ia{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends Ia{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Ia{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Ia{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends Ia{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Na],Ra=La.length,Ma=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Oa=new Set([Na.type,Da.type]);const Ba=[];function Fa(e,t){for(let n=0,r=Ba.length;n<r;n+=1){let r=Ba[n];if(r.condition(e,t))return new r(e,t)}return new Ta(e,t)}const Ha="$and",Ga="$path",Ua=e=>!(!e[Ha]&&!e.$or),ja=e=>({[Ha]:Object.keys(e).map((t=>({[t]:e[t]})))});function za(e,t,{auto:n=!0}={}){const r=e=>{let a=Object.keys(e);const i=(e=>!!e[Ga])(e);if(!i&&a.length>1&&!Ua(e))return r(ja(e));if((e=>!oa(e)&&la(e)&&!Ua(e))(e)){const r=i?e[Ga]:a[0],s=i?e.$val:e[r];if(!da(s))throw new Error((e=>`Invalid value for key ${e}`)(r));const o={keyId:va(r),pattern:s};return n&&(o.searcher=Fa(s,t)),o}let s={children:[],operator:a[0]};return a.forEach((t=>{const n=e[t];oa(n)&&n.forEach((e=>{s.children.push(r(e))}))})),s};return Ua(e)||(e=ja(e)),r(e)}function Wa(e,t){const n=e.matches;t.matches=[],ua(n)&&n.forEach((e=>{if(!ua(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let a={indices:n,value:r};e.key&&(a.key=e.key.src),e.idx>-1&&(a.refIndex=e.idx),t.matches.push(a)}))}function Ka(e,t){t.score=e.score}class Va{constructor(e,t={},n){this.options={..._a,...t},this.options.useExtendedSearch,this._keyStore=new ya(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof ka))throw new Error("Incorrect 'index' type");this._myIndex=t||xa(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){ua(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const a=this._docs[n];e(a,n)&&(this.removeAt(n),n-=1,r-=1,t.push(a))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:a,sortFn:i,ignoreFieldNorm:s}=this.options;let o=da(e)?da(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=_a.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:a})=>{const i=e?e.weight:null;n*=Math.pow(0===a&&i?Number.EPSILON:a,(i||1)*(t?1:r))})),e.score=n}))}(o,{ignoreFieldNorm:s}),a&&o.sort(i),ca(t)&&t>-1&&(o=o.slice(0,t)),function(e,t,{includeMatches:n=_a.includeMatches,includeScore:r=_a.includeScore}={}){const a=[];return n&&a.push(Wa),r&&a.push(Ka),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return a.length&&a.forEach((t=>{t(e,r)})),r}))}(o,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=Fa(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:a})=>{if(!ua(e))return;const{isMatch:i,score:s,indices:o}=t.searchIn(e);i&&r.push({item:e,idx:n,matches:[{score:s,value:e,norm:a,indices:o}]})})),r}_searchLogical(e){const t=za(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:a}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:a});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const a=[];for(let i=0,s=e.children.length;i<s;i+=1){const s=e.children[i],o=n(s,t,r);if(o.length)a.push(...o);else if(e.operator===Ha)return[]}return a},r=this._myIndex.records,a={},i=[];return r.forEach((({$:e,i:r})=>{if(ua(e)){let s=n(t,e,r);s.length&&(a[r]||(a[r]={idx:r,item:e,matches:[]},i.push(a[r])),s.forEach((({matches:e})=>{a[r].matches.push(...e)})))}})),i}_searchObjectList(e){const t=Fa(e,this.options),{keys:n,records:r}=this._myIndex,a=[];return r.forEach((({$:e,i:r})=>{if(!ua(e))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),i.length&&a.push({idx:r,item:e,matches:i})})),a}_findMatches({key:e,value:t,searcher:n}){if(!ua(t))return[];let r=[];if(oa(t))t.forEach((({v:t,i:a,n:i})=>{if(!ua(t))return;const{isMatch:s,score:o,indices:d}=n.searchIn(t);s&&r.push({score:o,key:e,value:t,idx:a,norm:i,indices:d})}));else{const{v:a,n:i}=t,{isMatch:s,score:o,indices:d}=n.searchIn(a);s&&r.push({score:o,key:e,value:a,norm:i,indices:d})}return r}}Va.version="6.6.2",Va.createIndex=xa,Va.parseIndex=function(e,{getFn:t=_a.getFn,fieldNormWeight:n=_a.fieldNormWeight}={}){const{keys:r,records:a}=e,i=new ka({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(a),i},Va.config=_a,Va.parseQuery=za,function(...e){Ba.push(...e)}(class{constructor(e,{isCaseSensitive:t=_a.isCaseSensitive,includeMatches:n=_a.includeMatches,minMatchCharLength:r=_a.minMatchCharLength,ignoreLocation:a=_a.ignoreLocation,findAllMatches:i=_a.findAllMatches,location:s=_a.location,threshold:o=_a.threshold,distance:d=_a.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:a,location:s,threshold:o,distance:d},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(Ma).filter((e=>e&&!!e.trim())),r=[];for(let e=0,a=n.length;e<a;e+=1){const a=n[e];let i=!1,s=-1;for(;!i&&++s<Ra;){const e=La[s];let n=e.isMultiMatch(a);n&&(r.push(new e(n,t)),i=!0)}if(!i)for(s=-1;++s<Ra;){const e=La[s];let n=e.isSingleMatch(a);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let a=0,i=[],s=0;for(let r=0,o=t.length;r<o;r+=1){const o=t[r];i.length=0,a=0;for(let t=0,r=o.length;t<r;t+=1){const r=o[t],{isMatch:d,indices:c,score:l}=r.search(e);if(!d){s=0,a=0,i.length=0;break}if(a+=1,s+=l,n){const e=r.constructor.type;Oa.has(e)?i=[...i,...c]:i.push(c)}}if(a){let e={isMatch:!0,score:s/a};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}),l(n(1700).Z);const qa=["DETERMINATION","BRAVERY","JUSTICE","KINDNESS","PATIENCE","INTEGRITY","PERSEVERANCE","MONSTER"];function Ya(e="https://media.discordapp.net/attachments/904110195867803669/1110045770679337030/zkVln3lpvtLAAAAAElFTkSuQmCC.png?width=225&height=740"){sa().recognize(e,"eng",{}).then((({data:{text:e}})=>{var t;window.showDeckLoad((t=function(e){var t;console.log(e);for(var n=[],r=[],a=e.split("\n"),i=0;i<a.length;i++){var s=a[i];if(s&&!(s.length<=0)){var o;if(!t&&(o=new Va(qa).search(s)).length>0){t=o[0].item;continue}if((n.length<1||1==n.length&&"LEGENDARY"!=n[0].rarity)&&(o=new Va(ve.artifacts,{keys:["name"]}).search(s)).length>0){n.push(o[0].item);continue}(o=new Va(window.allCards,{keys:["name"]}).search(s)).length>0?r.push(o[0].item):console.log("Could not find any matches for line (ignoring): ",s)}}return console.log("DECK: ",t,n,r),{soul:t,artifacts:n,cards:r}}(e),{soul:t.soul,artifactIds:t.artifacts.map((e=>e.id)),cardIds:t.cards.map((e=>e.fixedId||e.id))}))}))}t.testDeckImageImport=Ya,t.testDeckImageImportDialogue=function(){var e=window.$('<div class="PrettyCards_DeckImageImport_Parent">\n        <p1 class="gray">Note: The feature is far from perfect, and some things may be missing from the imported deck. I apologize for the inconvenience, but that\'s just how image recognition is sometimes.</p1>\n        <input id="PrettyCards_DeckImageImport_File" class="PrettyCards_Hidden" type="file" accept="image/*">\n        <label for="PrettyCards_DeckImageImport_File" class="PrettyCards_DeckImageImport_FileBtnFancy">Upload Image</label>\n        <p>. . . Or enter an image URL:</p><input type="text" id="PrettyCards_DeckImageImport_ImageLink" class="form-control">\n        <p class="red" id="PrettyCards_DeckImageImport_Status">\n        </div>'),t=e.find("#PrettyCards_DeckImageImport_Status")[0];function n(e,n){t.innerHTML=e,t.className=n}function r(e){n(e,"red")}e.find("#PrettyCards_DeckImageImport_File").change((function(e){var t=e.target.files,n=t[0];if(n.type.startsWith("image")){var a=new FileReader;a.onload=function(e){var t=e.target.result;P.isImgUrl(t).catch((()=>{r("The uploaded file is not an image! Please choose a deck image file and try again!")})).then((()=>{Ya(t)}))},a.readAsDataURL(n),console.log("A file has been selected.",t)}else r("The uploaded file is not an image! Please choose a deck image file and try again!")})),e.find("#PrettyCards_DeckImageImport_ImageLink").keyup((function(e){var t=e.target.value;!t||t.length<=0||P.isImgUrl(t).catch((()=>{r("Not valid image URL!")})).then((()=>{n("Valid image URL!",""),Ya(t)}))})),BootstrapDialog.show({title:"Deck Image Import",message:e,buttons:[{label:window.$.i18n("dialog-cancel"),cssClass:"btn-danger",action:function(e){e.close()}}]})};class Ja{constructor(){this.displayName="Base",this.description="This should not be visible!",this.packs_data2={}}terribleDropRatesButtonHTML(){return`<span style="color: gray;border: 1px dotted gray;padding: 5px;background-color: black;position: absolute;top: 0em;left: 5em;font-size: 2em;" onclick="showDropRates();" class="pointer" data-i18n="[html]packs-drop-rates">${window.$.i18n("packs-drop-rates")}</span>`}pageAdditions(e){for(var t=this.terribleDropRatesButtonHTML()+'<div class="PrettyCards_PacksRow">',n=0;n<e.length;n++)t+=`<div class="PrettyCards_PackCell" data-packid="${e[n].code_id}"></div>`,n%3==2&&n!=e.length-1&&(t+='</div><div class="PrettyCards_PackSpacer"></div><div class="PrettyCards_PacksRow">');return t+'</div><div class="PrettyCards_PackSpacer"></div>'}generateBuyRow(e){return`\n\t\t\t<input type="number" class="PrettyCards_PackBuyCount" data-packid="${e.code_id}" value="1" min="1" pattern="[0-9]">\n\t\t\tx <button class="PrettyCards_PackGBuy btn-primary" data-packid="${e.code_id}">${window.$.i18n("pc-packs-buy")} (<span class="PrettyCards_PackGPrice" data-packid="${e.code_id}">${e.g_cost}</span> <img src="images/icons/gold.png" class="height-16">)</button>\n\t\t\t<button class="PrettyCards_PackUcpBuy btn-primary" data-packid="${e.code_id}">${window.$.i18n("pc-packs-buy")} (<span class="ucp PrettyCards_PackUcpPrice" data-packid="${e.code_id}">${e.ucp_cost}</span> UCP)</button>\n\t\t`}generateOpenRow(e){return`\n\t\t\t<input type="number" class="PrettyCards_PackOpenCount" data-packid="${e.code_id}" value="1" min="1" pattern="[0-9]">\n\t\t\tx <button class="PrettyCards_PackOpen btn-primary" data-packid="${e.code_id}">${window.$.i18n("pc-packs-open")} <span class="PrettyCards_PackOpenCountButton" data-packid="${e.code_id}">${Math.min(e.amount,1)}</span></button>\n\t\t`}generatePack(e){var t=e.does_exist&&e.g_cost>-1?this.generateBuyRow(e):window.$.i18n("pc-packs-cannotbuy"),n=e.does_exist?this.generateOpenRow(e):window.$.i18n("pc-packs-cannotopen");return`\n\t\t<div class="PrettyCards_PackContainer">\n\t\t\t<div class="PrettyCards_FloatingPack">\n\t\t\t\t<div class="PrettyCards_FloatingPackImage" style="background-image: url(${P.asset("img/Packs/"+e.image)})">\n\t\t\t\t\t<img src="${P.asset("img/Packs/UndertalePack.png")}" class="PrettyCards_InvisiblePack">\n\t\t\t\t\t<div class="PrettyCards_PackAmount">${e.amount}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="PrettyCards_PackText">\n\t\t\t\t<div class="PrettyCards_PackName">${window.$.i18n(e.name)}</div>\n\t\t\t\t<div class="PrettyCards_PackDescription">${window.$.i18n(e.description)}</div>\n\t\t\t\t<div class="PrettyCards_PackBuy">${t}</div>\n\t\t\t\t<div class="PrettyCards_PackOpen">${n}</div>\n\t\t\t</div>\n\t\t</div>\n\t\t`}sanitizeNumberInput(e){var t=e.value||"1";t=(t=(t=t.replace("-","")).replace(",","")).replace(".",""),e.value=t}changePrices(e,t){if(NaN!=(t=Number(t))){var n=this.packs_data2[e];n.g_buy_count=Math.min(t,Math.floor(ce.gold/n.g_cost)),n.ucp_buy_count=Math.min(t,Math.floor(ce.ucp/n.ucp_cost)),document.querySelector(".PrettyCards_PackGPrice[data-packid="+e+"]").innerHTML=n.g_buy_count*n.g_cost,document.querySelector(".PrettyCards_PackUcpPrice[data-packid="+e+"]").innerHTML=n.ucp_buy_count*n.ucp_cost}}changePackCountButton(e,t){if(NaN!=(t=Number(t))){var n=this.packs_data2[e];n.open_count=Math.min(t,n.amount),document.querySelector(".PrettyCards_PackOpenCountButton[data-packid="+e+"]").innerHTML=n.open_count}}onPackMouseOver(e){e.currentTarget.getAttribute("data-packid")}onPackMouseLeave(e){e.currentTarget.getAttribute("data-packid")}onPackOpenCountChange(e){this.sanitizeNumberInput(e.target),this.changePackCountButton(e.target.getAttribute("data-packid"),e.target.value)}onPackBuyCountChange(e){this.sanitizeNumberInput(e.target),this.changePrices(e.target.getAttribute("data-packid"),e.target.value)}onPackGBuyClick(e){var t=this.packs_data2[e.target.getAttribute("data-packid")],n=Math.floor(ce.gold/t.g_cost);t.g_buy_count>n&&(t.g_buy_count=n);var r=t.code_id;r=r.substring(0,r.length-4),underscript.buyPacks(t.g_buy_count,{type:r,gold:!0}),t.amount+=t.g_buy_count,this.updatePackCount(t.code_id)}onPackUcpBuyClick(e){const t=this;var n=this.packs_data2[e.target.getAttribute("data-packid")],r=Math.floor(ce.ucp/n.ucp_cost);n.ucp_buy_count>r&&(n.ucp_buy_count=r),window.BootstrapDialog.show({title:"Buy packs with UCP?",message:$.i18n(`Buy ${n.ucp_buy_count} pack${n.ucp_buy_count>1?"s":""} for {{UCP:${n.ucp_buy_count*n.ucp_cost}}} UCP?`),buttons:[{label:$.i18n("dialog-continue"),cssClass:"btn-success",action(e){t.onPackUcpBuy(n),e.close()}},{label:$.i18n("dialog-cancel"),cssClass:"btn-danger",action(e){e.close()}}]})}onPackUcpBuy(e){var t=e.code_id;t=t.substring(0,t.length-4),underscript.buyPacks(e.ucp_buy_count,{type:t,gold:!1}),e.amount+=e.ucp_buy_count,this.updatePackCount(e.code_id)}onPackOpenClick(e){if(!underscript.openingPacks()&&!document.querySelector(".PrettyCards_PackOpenContent .PrettyCards_AnimationPack")){var t=this.packs_data2[e.target.getAttribute("data-packid")];if(!(t.amount<=0)){t.open_count>t.amount&&(t.open_count=t.amount);var n=t.code_id;n=n.substring(0,n.length-4),window.PrettyCards_pack_being_opened=t,underscript.openPacks(t.open_count,n)}}}updatePackCount(e){document.querySelector(".PrettyCards_PackCell[data-packid="+e+"] .PrettyCards_PackAmount").innerHTML=this.packs_data2[e].amount}onPackGeneration(e,t){t.addEventListener("mouseover",this.onPackMouseOver),t.addEventListener("mouseleave",this.onPackMouseLeave),$(".PrettyCards_PackCell[data-packid="+e.code_id+"] .PrettyCards_FloatingPack").css("animation-delay",1.5*-Math.random()+"s"),e.does_exist&&(document.querySelector(".PrettyCards_PackOpenCount[data-packid="+e.code_id+"]").onchange=this.onPackOpenCountChange.bind(this),document.querySelector(".PrettyCards_PackOpen[data-packid="+e.code_id+"]").onclick=this.onPackOpenClick.bind(this),e.g_cost>-1&&(document.querySelector(".PrettyCards_PackBuyCount[data-packid="+e.code_id+"]").onchange=this.onPackBuyCountChange.bind(this),document.querySelector(".PrettyCards_PackGBuy[data-packid="+e.code_id+"]").onclick=this.onPackGBuyClick.bind(this),document.querySelector(".PrettyCards_PackUcpBuy[data-packid="+e.code_id+"]").onclick=this.onPackUcpBuyClick.bind(this)))}generatePagePack(e){var t=this.generatePack(e),n=document.querySelector(".PrettyCards_PackCell[data-packid="+e.code_id+"]");n.innerHTML=t,this.onPackGeneration(e,n)}generatePage(e,t){this.packs_data2=t,document.getElementById("PrettyCards_MainContent").innerHTML=this.pageAdditions(e);for(var n=0;n<e.length;n++)this.generatePagePack(e[n])}}var Xa=new class extends Ja{constructor(){super(),this.displayName="Default",this.description="The default theme. Looks quite ugly."}};class Qa{constructor(e,t,n=!0,r=!0){if(this.baseScale=1,this.container=document.createElement("DIV"),this.container.className="PrettyCards_FlippableCardContainer",this.flipContainer=document.createElement("DIV"),this.flipContainer.className="PrettyCards_FlipContainer",this.flipContainer.style="transform: rotateY(180deg);",this.container.appendChild(this.flipContainer),n&&(e=function(e){var t=function(e){for(var t=0;t<ye.length;t++){var n=ye[t];if(n.cardId==e&&n.active)return n}return null}(e.id);return null!==t&&(e.image=t.image,e.typeSkin=t.typeSkin),e.frameSkinName=we,e}(e)),window.appendCard(e,o()(this.flipContainer)),this.front=this.flipContainer.children[0],this.front.className+=" PrettyCards_CardFront",r){var a=`<div class="cardQuantity">${e.quantity>0?'<span class="nb">x'+e.quantity+"</span>":""} ${e.quantityShiny>0?'<span class="nb_shiny rainbowText">x'+e.quantityShiny+"</span>":""}</div>`;o()(this.front).append(a),o()(this.front).css("height","275px")}const i="url(/images/cardBacks/"+e.extension+"Card"+e.rarity+".png)",s="url(/images/cardBacks/"+e.extension+"CardNORMAL.png)";this.back=document.createElement("DIV"),this.back.style.backgroundImage=t?s:i,this.back.className="PrettyCards_CardBack",t&&o()(this.container).hover(function(e){this.back.style.backgroundImage=i}.bind(this),function(e){this.back.style.backgroundImage=s}.bind(this)),this.flipContainer.appendChild(this.back),this.isShiny=e.shiny,this.shinySlot=this.front.querySelector(".shinySlot"),this.card_data=e,this.handleRotation(180)}appendTo(e){e.appendChild(this.container)}moveTo(e,t){this.container.style.top=t+"px",this.container.style.left=e+"px"}setBaseScale(e){this.container.style.transform="scale("+e+")"}glideTo(e,t,n,r){o()(this.container).animate({top:t+"px",left:e+"px"},{duration:n||1e3,easing:"swing",complete:r})}flipToFace(e){o()(this.flipContainer).animateRotate(180,0,e,"swing",this.handleRotation.bind(this))}flipToBack(e){o()(this.flipContainer).animateRotate(0,180,e,"swing",this.handleRotation.bind(this))}scaleTo(e,t){this.container.style["transition-duration"]=t/1e3+"s",this.container.style.transform="translate(-50%, -50%) scale("+e+")"}makeIntoSummaryCard(){this.container.style.position="static",this.container.style.display="inline-block",this.container.style.transform="none"}handleRotation(e){e<90?(this.front.style.opacity="1",this.back.style.opacity="0",this.isShiny&&(this.shinySlot.style["mix-blend-mode"]="multiply")):(this.front.style.opacity="0",this.back.style.opacity="1",this.isShiny&&(this.shinySlot.style["mix-blend-mode"]="normal"))}playJingle(){if("LEGENDARY"==this.card_data.rarity||"DETERMINATION"==this.card_data.rarity){var e="/musics/cards/"+this.card_data.name.split(" ").join("_")+".ogg",t=new window.Audio(e);t.volume=.4,t.play(),this.silent=!0}}}class Za{constructor(){this.clicks_to_break=1,this.current_click=0,this.pack_data,this.card_data,this.cards=[],this.flipCards=[],this.displayName="Base",this.description="You shouldn't be able to see this!",this.hasSkipButton=!1,this.audio=new Audio}OnPackMoveBegin(e,t,n,r){this.pack_data=n,this.AnalyzeCards(r),this.flipCards=[],this.current_click=0,this.cardsSpawned=!1,this.glideTimeouts=[];var a=o()("#PrettyCards_PackOpenContent");a.css("display","block"),a.css("backgroundColor","rgba(0,0,0,0)"),window.$("#PrettyCards_PackOpenContent").animate({backgroundColor:"rgba(0,0,0,1)"},1e3,"swing",(function(){})),o()(".PrettyCards_AnimationPack").animate({top:t+"px",left:e+"px"},1e3,"swing",this.OnPackMoveFinish.bind(this)),this.hasSkipButton&&(this.button=o()(`<button class="btn btn-primary PrettyCards_PacksSkipButton">${window.$.i18n("pc-navigate-skip")}</button>`),a.append(this.button),this.button.click(function(e){e.stopPropagation(),this.button.remove(),this.onSkipButtonPressed(e)}.bind(this)))}OnPackMoveFinish(){o()(".PrettyCards_AnimationPack").addClass("PrettyCards_Floating"),o()("#PrettyCards_PackOpenContent").click(this.OnBeforeBreakClick.bind(this))}OnBeforeBreakClick(){this.current_click++,this.current_click>=this.clicks_to_break?(o()("#PrettyCards_PackOpenContent").unbind("click"),this.OnPackBreakBegin()):(o()(".PrettyCards_AnimationPack").removeClass("PrettyCards_Floating"),window.$(".PrettyCards_AnimationPack").effect("shake"))}OnPackBreakBegin(){this.SpawnCards();var e=this.RipPackHorizontally();this.up=e[0],this.down=e[1],o()(this.up).animate({top:"-=30%",opacity:"0"},800,"swing"),o()(this.down).animate({top:"+=30%",opacity:"0"},800,"swing",this.OnPackBreakFinish.bind(this))}OnPackBreakFinish(){this.up.remove(),this.down.remove(),this.cards_finished_gliding=0;const e=1500/this.flipCards.length,t=this.OnCardFinishedGliding.bind(this);for(var n=0;n<this.flipCards.length;n++){const r=this.flipCards[n];this.glideTimeouts.push(setTimeout((function(){r.glideTo(200,window.innerHeight/2,500,t)}),(n+1)*e))}}cancelGlideTimeouts(){this.glideTimeouts.forEach((function(e){clearTimeout(e)}))}OnCardFinishedGliding(){this.cards_finished_gliding++,this.cards_finished_gliding>=this.flipCards.length&&this.OnFinishedGliding()}OnFinishedGliding(){this.card_viewed=-1,o()("#PrettyCards_PackOpenContent").click(this.OnNextCard.bind(this)),this.OnNextCard()}OnNextCard(){if(!(this.card_viewed>=this.flipCards.length)){var e=function(){};this.card_viewed==this.flipCards.length-1&&(e=function(){this.OnCardViewFinish()}),this.card_viewed>=0&&(this.flipCards[this.card_viewed].glideTo(window.innerWidth/2,window.innerHeight+600,500,e.bind(this)),this.flipCards[this.card_viewed].scaleTo(1,500)),this.card_viewed++,this.card_viewed>=this.flipCards.length||(this.flipCards[this.card_viewed].glideTo(window.innerWidth/2,window.innerHeight/2,500),this.flipCards[this.card_viewed].scaleTo(1.5,500),this.flipCards[this.card_viewed].flipToFace(500),this.flipCards[this.card_viewed].playJingle())}}OnCardViewFinish(){o()("#PrettyCards_PackOpenContent").unbind("click"),this.OnCardSummary()}OnCardSummary(){this.button&&this.button.remove();const e=this,t=document.createElement("DIV");t.className="PrettyCards_CardSummary";var n=document.createElement("P");n.innerHTML=window.$.i18n("pc-packs-summary"),n.className="PrettyCards_CardSummaryTitle",t.appendChild(n);for(var r=0;r<this.flipCards.length;r++){var a=this.flipCards[r];a.scaleTo(1,0),a.flipToFace(0),a.appendTo(t),a.makeIntoSummaryCard()}o()("#PrettyCards_PackOpenContent").append(t),o()(t).animate({top:"0px"},{duration:500,easing:"swing",complete:function(){o()(t).click(e.OnExitFade.bind(e))}})}OnExitFade(e){if(!o()(e.target).is(".PrettyCards_CardSummary"))return!0;o()("#PrettyCards_PackOpenContent").animate({opacity:"0"},{duration:1e3,easing:"swing",complete:this.OnExit.bind(this)})}OnExit(){o()("#PrettyCards_PackOpenContent").unbind("click").html("").css("display","none").css("opacity","1")}RipPackHorizontally(){var e=document.getElementsByClassName("PrettyCards_AnimationPack")[0].getBoundingClientRect(),t=document.createElement("DIV");t.className="PrettyCards_RippedPack_Up PrettyCards_RippedPack",t.style.backgroundImage="url("+this.pack_data.image_without_extension+this.pack_data.image_extension+")",t.style.top=window.innerHeight/2-e.height/2+"px",t.style.left=window.innerWidth/2-e.width/2+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(t);var n=document.createElement("DIV");return n.className="PrettyCards_RippedPack_Down PrettyCards_RippedPack",n.style.backgroundImage="url("+this.pack_data.image_without_extension+this.pack_data.image_extension+")",n.style.top=window.innerHeight/2-e.height/2+"px",n.style.left=window.innerWidth/2-e.width/2+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(n),o()(".PrettyCards_AnimationPack").css("opacity",0),[t,n]}RipPackVertically(){var e=document.getElementsByClassName("PrettyCards_AnimationPack")[0].getBoundingClientRect(),t=document.createElement("DIV");t.className="PrettyCards_RippedPack_Left PrettyCards_RippedPack",t.style.backgroundImage="url("+this.pack_data.image_without_extension+this.pack_data.image_extension+")",t.style.top=window.innerHeight/2-e.height/2+"px",t.style.left=window.innerWidth/2-e.width/2+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(t);var n=document.createElement("DIV");return n.className="PrettyCards_RippedPack_Left PrettyCards_RippedPack",n.style.backgroundImage="url("+this.pack_data.image_without_extension+this.pack_data.image_extension+")",n.style.top=window.innerHeight/2-e.height/2+"px",n.style.left=window.innerWidth/2-e.width/2+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(n),o()(".PrettyCards_AnimationPack").css("opacity",0),[t,n]}AnalyzeCards(e){for(var t={},n=0;n<ne.length;n++)t[ne[n]]={};for(n=0;n<e.length;n++){var r=t[(s=e[n]).rarity][s.id];r||(t[s.rarity][s.id]={normal:0,shiny:0,id:s.id},r=t[s.rarity][s.id]),s.shiny?r.shiny+=s.quantity||1:r.normal+=s.quantity||1}for(this.cards=[],n=0;n<ne.length;n++){var a=t[ne[n]];for(var i in a){var s,o=a[i];(s=P.completeCopy(window.getCard(o.id))).quantity=o.normal,s.quantityShiny=o.shiny,o.shiny>0&&(s.shiny=!0),this.cards.push(s)}}}SpawnCards(){this.cardsSpawned=!0;for(var e=this.cards.length-1;e>=0;e--){var t=new Qa(this.cards[e],!1);t.appendTo(document.getElementById("PrettyCards_PackOpenContent")),t.moveTo(window.innerWidth/2,window.innerHeight/2),this.flipCards.unshift(t)}}onSkipButtonPressed(e){}}var ei=new class extends Za{constructor(){super(),this.displayName="Default",this.description="The default pack open animation. It is very much similar to the one in the previous version.",this.hasSkipButton=!0}onSkipButtonPressed(e){$(".PrettyCards_AnimationPack").stop().remove(),this.up&&(this.up.remove(),this.down.remove()),this.cardsSpawned||this.SpawnCards(),this.cancelGlideTimeouts(),this.OnCardViewFinish()}},ti=new class extends Za{constructor(){super(),this.displayName="Onu",this.description="For those who like clicking the cards themselves, but still think the original pack opening is a chore."}OnPackBreakFinish(){this.up.remove(),this.down.remove(),this.cards_finished_gliding=0;const e=1500/this.flipCards.length,t=this.OnCardFinishedGliding.bind(this);for(var n=0;n<this.flipCards.length;n++){const r=this.flipCards[n];setTimeout((function(){r.glideTo(window.innerWidth/2,window.innerHeight+600,500,t)}),(n+1)*e)}}OnFinishedGliding(){$("#PrettyCards_PackOpenContent").click(this.OnNextCard.bind(this)),this.OnCardViewFinish();for(var e=0;e<this.flipCards.length;e++){const t=this.flipCards[e];t.flipToBack(0),$(t.container).click((function(){t.flipToFace(500),t.playJingle(),$(t.container).unbind("click")}))}}SpawnCards(){for(var e=this.cards.length-1;e>=0;e--){var t=new Qa(this.cards[e],!0);t.appendTo(document.getElementById("PrettyCards_PackOpenContent")),t.moveTo(window.innerWidth/2,window.innerHeight/2),this.flipCards.unshift(t)}}};e.events.on("openedPacks",(function(e){console.log(e,window.PrettyCards_pack_being_opened),window.PrettyCards_pack_being_opened.amount-=e.count,pi(r.packs_page_template.value()||ci[0]).updatePackCount(window.PrettyCards_pack_being_opened.code_id),function(e,t){var n=document.createElement("IMG");n.className="PrettyCards_AnimationPack",n.src=e.image;var r=document.querySelector(".PrettyCards_PackCell[data-packid="+e.code_id+"] .PrettyCards_InvisiblePack").getBoundingClientRect();n.style.top=r.top+"px",n.style.left=r.left+"px",n.style.width=r.width+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(n),ni.OnPackMoveBegin((window.innerWidth-r.width)/2,(window.innerHeight-r.height)/2,e,t)}(window.PrettyCards_pack_being_opened,e.cards),this.canceled=!0}));for(var ni=ei,ri=[ei,ti],ai=[],ii="Select the pack opening animation!",si=0;si<ri.length;si++)ai[si]=ri[si].displayName,ii+="<br>"+ri[si].displayName+": "+ri[si].description;function oi(e,t){ni=function(e){for(var t=0;t<ri.length;t++)if(ri[t].displayName==e)return ri[t];return console.error("Cannot find Pack Open Animation Template with name ",e),null}(e)}i({key:"packs_animation_template",name:"Pack Opening Animation",type:"select",note:ii,refresh:!0,default:ai[0],options:ai,refresh:!1,reset:!0,onChange:oi,category:"packs"}),oi(r.packs_animation_template.value()||ai[0]),l(n(1905).Z);for(var di=[Xa],ci=[],li="Select the look of the Packs Page!",ui=0;ui<di.length;ui++)ci[ui]=di[ui].displayName,li+="<br>"+di[ui].displayName+": "+di[ui].description;function pi(e){for(var t=0;t<di.length;t++)if(di[t].displayName==e)return di[t];return console.error("Cannot find Packs Page Template with name ",e),null}function hi(e,t){pi(e).generatePage(fi,mi)}i({key:"packs_page_template",name:"Packs Page Template",type:"select",note:li,refresh:!0,default:ci[0],options:ci,reset:!0,refresh:!1,onChange:hi,category:"packs"});var fi=[],mi={};l(n(9225).Z);var gi=[],yi=[],wi=[],Ci=[],vi=[],bi=[],_i=[],Pi=["Heal Delivery","Explosion","Sacrifice","Same Fate","Onutrem"],ki=[vi,Ci,yi,wi,bi,_i],xi=["pc-skinselect-header-custom","pc-skinselect-header-default","pc-skinselect-header-owned","pc-skinselect-header-notowned",["pc-skinselect-header-april",2022,69],["pc-skinselect-header-april",2023,81]],Si=[{year:2022,list:bi,ucpCost:69420,id:-69},{year:2023,list:_i,ucpCost:1997,id:-1997}];function Ei(){for(var e=0;e<allCards.length;e++){var t=allCards[e];Ci.push({active:!0,authorName:"",cardId:t.id,cardName:t.name,id:-1,image:t.image,name:window.$.i18n(`card-name-${t.id}`,1),owned:!0,typeSkin:0,ucpCost:0,unavailable:!1})}for(e=0;e<Pi.length;e++){var n=Pi[e];Ci.push({active:!0,authorName:"",cardId:-1,cardName:n,id:-1,image:n.replaceAll(" ","_"),name:n,owned:!0,typeSkin:0,ucpCost:0,unavailable:!1})}}var Ai=!1;class Ti{constructor(){this.callback=function(){},this.container=null,this.skinElements=[],this.skins=[],this.searchBar=null}GetSkinsToDisplay(){for(var e=[],t=0;t<ki.length;t++)e=e.concat(ki[t]);return e}GetHTML(){this.searchBar=document.createElement("INPUT"),this.searchBar.className="form-control",this.searchBar.setAttribute("type","text"),this.searchBar.placeholder=window.$.i18n("pc-skinselect-search"),$(this.searchBar).keyup(this.ApplyFilters.bind(this));var e=document.createElement("DIV");e.appendChild(this.searchBar);var t=document.createElement("DIV");t.className="PrettyCards_SkinsContainer",e.appendChild(t);for(var n=0;n<ki.length;n++){var r=ki[n],a=document.createElement("DIV");a.className="PrettyCards_SkinHeader",a.innerHTML=xi[n];const e=document.createElement("DIV");for(var i=0;i<r.length;i++){const t=r[i];var s=ge(t.image,!0);t.isCustom&&(s=t.image);var o=document.createElement("DIV");o.className="PrettyCards_SkinDiv",o.style.background="url("+s+") no-repeat transparent",o.style.backgroundSize="cover",o.innerHTML='<div class="PrettyCards_SkinText">'+t.name+(""!==t.authorName?'<br><span class="Artist">'+t.authorName+"</span>":"")+"</div>",t.typeSkin>0&&(o.innerHTML+='<div class="PrettyCards_FullSkinPreview"><img src="'+s+'"></div>'),o.onclick=function(){this.callback(t)}.bind(this),this.skinElements.push(o),e.appendChild(o)}a.onclick=function(){$(e).toggle()},t.appendChild(a),t.appendChild(e)}return this.container=e,e}OpenDialogue(){this.container=null,this.skinElements=[],this.skins=[],this.searchBar=null,this.skins=this.GetSkinsToDisplay();var e=this.GetHTML();this.dial=BootstrapDialog.show({title:window.$.i18n("pc-skinselect-title"),size:BootstrapDialog.SIZE_WIDE,closable:!0,closeByBackdrop:!1,message:e,buttons:[{label:window.$.i18n("pc-navigate-nevermind"),cssClass:"btn-primary us-normal",action(e){e.close()}}]})}ApplyFilters(){for(var e=0;e<this.skinElements.length;e++)this.skinElements[e].style.display=this.isRemoved(this.skins[e])?"none":""}isRemoved(e){var t=$(this.searchBar).val().toLowerCase();if(t.length>0){var n="";return n+=$.i18n("card-name-"+e.cardId,1),n+=e.name,n+=e.authorName,0==e.typeSkin?n+="normal":1==e.typeSkin?n+="full":2==e.typeSkin&&(n+="breaking"),!n.toLowerCase().includes(t)}return!1}}window.CardSkinSelector=Ti;var Ii,$i=window.$,Ni=new Ne,Di=new Ti,Li=document.createElement("INPUT"),Ri=document.createElement("TEXTAREA"),Mi=document.createElement("BUTTON"),Oi=document.createElement("DIV"),Bi=null,Fi=document.querySelector(".mainContent > table");function Hi(){Ni.callback=function(e){Gi(e),Ui()}.bind(this),Ni.closeCallback=Ui.bind(this),Oi.innerHTML="",Ni.closable=!0,Ni.AppendTo(Oi),Oi.style.display="initial",Fi.style.display="none"}function Gi(e){Bi=e,function(e){e.isBase&&_e.OptimalImportDeck(e,(function(){})),window.soul=e.soul,updateSoul(),Zi(!0,!0);for(var t=0;t<e.cards.length;t++){var n=e.cards[t];Xi(n=Ji(window.deckCollections[window.soul],n.id,!!n.shiny),window.decks[window.soul])&&(window.decks[window.soul].push(n),updateQuantity(window.soul,n,-1))}for(t=0;t<e.artifacts.length;t++)Qi(e.artifacts[t],!0,!0);checkCompletion(),refreshDeckList()}(e)}function Ui(){Oi.style.display="none",Fi.style.display="initial"}function ji(){Di.callback=function(e){!function(e){var t="prettycards.deck."+selfId+"."+Bi.soul+"."+Bi.id+".image";Bi.image=e,window.localStorage[t]=JSON.stringify(e),Vi()}(e),Di.dial.close()},Di.OpenDialogue()}function zi(){var e=$i(Li).val();Bi.name=e;var t=Bi.key+".name";window.localStorage[t]=e,Vi()}function Wi(){var e=$i(Ri).val();Bi.description=e;var t="prettycards.deck."+selfId+"."+Bi.soul+"."+Bi.id+".description";window.localStorage[t]=e,Vi()}function Ki(){var e=document.createElement("DIV"),t=document.createElement("DIV");t.style="min-height: 230px;",e.appendChild(t);var n=document.createElement("DIV");n.style="display: inline-block; margin: 0; float:left; min-height:250px; width: 320px;",t.appendChild(n),(Ii=document.createElement("DIV")).style="display: inline-block; margin: 0; width: 235px; display: flex; justify-content: space-evenly;",t.appendChild(Ii),n.innerHTML="<span>"+window.$.i18n("pc-decks-editor-name")+"</span>",n.appendChild(Li),Li.value=Bi.name,Li.className="form-control "+Bi.soul,Li.style="background: rgba(0,0,0,.5);",Li.placeholder=window.$.i18n("pc-decks-editor-name2"),$i(Li).unbind("keyup").keyup(zi.bind(this));var r=document.createElement("SPAN");r.innerHTML="<br>"+window.$.i18n("pc-decks-editor-desc")+"<br>",n.appendChild(r),n.appendChild(Ri),Ri.className=Bi.soul,Ri.style="background: rgba(0,0,0,.5); width: 100%; max-width: 320px;",Ri.value=Bi.description,$i(Ri).unbind("keyup").keyup(Wi.bind(this));var a=document.createElement("BUTTON");a.innerHTML=window.$.i18n("pc-decks-editor-image"),a.className="btn btn-primary",a.style="display: block; margin-top: 10px;",a.onclick=ji.bind(this),n.appendChild(a);var i=document.createElement("BUTTON");i.innerHTML=window.$.i18n("pc-decks-editor-emergency"),i.className="btn btn-danger",i.style="display: block; margin-top: 10px;",i.onclick=function(){_e.ImportDeck(Bi,(function(){}))},n.appendChild(i);var s=document.createElement("P");return s.className="gray",s.style="margin-top: 15px;",s.innerHTML=window.$.i18n("pc-decks-editor-emergencynote"),e.appendChild(s),Vi(),e}function Vi(){Ii.innerHTML="",Ni.appendCardDeck($i(Ii),Bi,!0)}function qi(){BootstrapDialog.show({title:window.$.i18n("pc-decks-editor-title"),size:BootstrapDialog.SIZE_NORMAL,closable:!0,closeByBackdrop:!1,message:Ki(),buttons:[{label:window.$.i18n("pc-navigate-ok"),cssClass:"btn-primary us-normal",action(e){e.close()}}]})}const Yi={BASE:3,COMMON:3,RARE:3,EPIC:2,LEGENDARY:1,DETERMINATION:1,TOKEN:0};function Ji(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if(a.id==t&&a.shiny==n)return a}return null}function Xi(e,t){if(!e||e.quantity<=0||t.length>=25)return!1;for(var n=0,r=0;r<t.length;r++){var a=t[r];e.id==a.id&&n++}return!(!P.onTestServer()&&n>=Yi[e.rarity])}function Qi(e,t,n=!1){for(var r=null,a=0;a<window.userArtifacts.length;a++){var i=window.userArtifacts[a];i.id==e&&(r=i)}var s=window.soul;decksArtifacts[s].push(r),updateArtifactSlots(),null!==lastOpenedDialog&&lastOpenedDialog.close(),checkCompletion(),t||es(),Bi.isBase&&!n&&_e.AddArtifact(e,Bi.soul,(function(){}))}function Zi(e,t=!1){$i("#deckCards"+window.soul).empty(),$i("#nbCardDeck"+window.soul).html(0);for(var n=0;n<window.decks[window.soul].length;n++){var r=window.decks[window.soul][n];updateQuantity(window.soul,r,1)}decks[window.soul]=[],decksArtifacts[window.soul]=[],updateArtifactSlots(),checkCompletion(),refreshDeckList(),applyFilters(),showPage(currentPage),canClearCards=!0,e||es(),Bi.isBase&&!t&&_e.RemoveEverything(Bi.soul,(function(){}))}function es(){for(var e={cards:[],artifacts:[]},t=0;t<window.decks[window.soul].length;t++){var n=window.decks[window.soul][t],r={id:n.id};n.shiny&&(r.shiny=!0),e.cards.push(r)}for(t=0;t<window.decksArtifacts[window.soul].length;t++){var a=window.decksArtifacts[window.soul][t];e.artifacts.push(a.id)}window.localStorage[Bi.key]=JSON.stringify(e)}var ts=window.showDeckLoad;var ns=n(5092);l(ns.Z);var rs=!0,as=!0,is={},ss=new Ne,os="",ds=0,cs=!1,ls=window.$;e.events.on("Chat:getSelfInfos",(function(e){var t=JSON.parse(e.me);os=t.division,ds=t.eloRanked}));var us={standard:window.sendJoinQueue,ranked:window.sendJoinRankedQueue,event:window.sendJoinEventQueue,boss:window.sendJoinBossQueue,reload:function(){window.location.reload()}};function ps(){as||(ls("#phase1").attr("hidden",!0).css("display","none"),ls("#deckSelectContainer").attr("hidden",!1))}function hs(){ls("#phase1").attr("hidden",!1).css("display","block"),ls("#deckSelectContainer").attr("hidden",!0)}function fs(e){ms(e),hs()}function ms(e){is=e,ls("#PrettyCards_DeckArtifacts").html("");for(var t=0;t<e.artifacts.length;t++){var n=e.artifacts[t];ls("#PrettyCards_DeckArtifacts").append(ve.ReturnArtifactIcon(n)).append(" ")}window.localStorage["prettycards."+window.selfId+".selectedPlayDeckId"]=e.id,window.localStorage["prettycards."+window.selfId+".selectedPlayDeckSoul"]=e.soul,rs=!1,as=!1;var r=ls("#PrettyCards_DeckContainer");r.html(""),ss.appendCardDeck(r,e,!1)}function gs(t){if(!(rs||"ranked"==t&&!cs&&"LEGEND"==os&&ds<=2e3&&(window.BootstrapDialog.show({title:window.$.i18n("pc-play-ranked-warning-title"),type:window.BootstrapDialog.TYPE_DANGER,message:window.$.i18n("pc-play-ranked-warning-body"),buttons:[{label:window.$.i18n("pc-play-ranked-warning-smart"),cssClass:"btn-primary",action:function(e){e.close()}},{label:window.$.i18n("pc-play-ranked-warning-dumbass"),cssClass:"btn-danger",action:function(e){cs=!0,gs("ranked"),e.close()}}]}),1))){var n=e.toast({title:window.$.i18n("pc-play-decksetup-title"),text:window.$.i18n("pc-play-decksetup-text")});as=!0,rs=!0,_e.ImportDeck(is,(function(e){as=!1,rs=!1,n.exists()&&n.close(),"success"==e?(ls("#playDecks").val(is.soul),us[t]()):console.log("DeckEditor.ImportDeck error!")}))}}l(ns.Z);var ys=!0,ws=!0,Cs={},vs=new Ne,bs={normal:window.joinGame,password:window.joinGamePassword,create:window.createGame};function _s(){$("#state1").attr("hidden",!1).css("display","block"),$("#deckSelectContainer").attr("hidden",!0)}function Ps(e){ks(e),_s()}function ks(e){Cs=e,$("#PrettyCards_DeckArtifacts").html("");for(var t=0;t<e.artifacts.length;t++){var n=e.artifacts[t];$("#PrettyCards_DeckArtifacts").append(ve.ReturnArtifactIcon(n)).append(" ")}window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]=e.id,window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"]=e.soul,ys=!1,ws=!1;var r=$("#PrettyCards_DeckContainer");r.html(""),vs.appendCardDeck(r,e,!1)}window.PrettyCards_StartJoiningQueue=function(t,n){if(!ys){var r=e.toast({title:window.$.i18n("pc-play-decksetup-title"),text:window.$.i18n("pc-play-decksetup-text")});ws=!0,ys=!0,_e.ImportDeck(Cs,(function(e,a){ws=!1,ys=!1,r.exists()&&r.close(),"success"==e&&($("#customDecks").val(Cs.soul),bs[n](t))}))}};var xs=r.override_decks.value();function Ss(e,t){for(var n={},r=0;r<e.length;r++){var a=e[r];if(a.fixedId==t&&(a.shiny?n.shiny=a:n.normal=a,n.normal&&n.shiny))return n}return n}l(n(1298).Z);var Es,As=[],Ts=[],Is=0,$s=[];function Ns(){As.forEach((e=>{window.craft(e.id,e.shiny)})),Ts.forEach((e=>{ve.BuyArtifact(e.id)}))}function Ds(e,t){!e||t.length<=0||(Ts=[],e.empty(),t.forEach((t=>{var n=ve.GetArtifactById(t),r=ve.IsArtifactPurchasable(n.id)?"PrettyCards_MassCraft_MissingArtifact":"",a=(function(e){"COMMON"!==e&&e.toLowerCase()}(n.rarity),document.createElement("DIV"));a.className=`PrettyCards_MassCraft_ArtifactSlot pointer ${r} ${n.rarity}`,a.appendChild(P.getArtifactImage(n.image)),a.appendChild(document.createTextNode(" "+$.i18n("artifact-name-"+t))),e.append(a),ve.IsArtifactPurchasable(n.id)&&Ts.push(n)})))}function Ls(){$("#PrettyCards_MassCraft_DustCount").html(ce.dust);var e=0;As.forEach((t=>{e+=t.cost}));var t=0;Ts.forEach((e=>{t+=e.cost}));var n="";e>0&&(n+=e>0?`${e} <img src="images/icons/dust.png" class="height-32">`:""),t>0&&(e>0&&(n+=" "),n+=e>0?`<span class="yellow">${t}</span> <img src="images/icons/gold.png" class="height-32">`:"");var r=window.$.i18n("pc-masscraft-buyall",n);$("#PrettyCards_MassCraft_BuyAllBtn").removeClass("PrettyCards_Hidden"),$("#PrettyCards_MassCraft_BuyAllBtn").addClass("btn-success"),$("#PrettyCards_MassCraft_BuyAllBtn").removeClass("btn-danger"),$("#PrettyCards_MassCraft_BuyAllBtn").attr("disabled",!1),0==e&&0==t&&(r=`<span class='green'>${window.$.i18n("pc-masscraft-allgood")}</span>`,$("#PrettyCards_MassCraft_BuyAllBtn").addClass("PrettyCards_Hidden"),Is>0&&(r=`<span class='yellow'>${window.$.i18n("pc-masscraft-allgood-nodt",Is)}</yellow>`)),(e>ce.dust||t>ce.gold)&&($("#PrettyCards_MassCraft_BuyAllBtn").addClass("btn-danger"),$("#PrettyCards_MassCraft_BuyAllBtn").removeClass("btn-success"),$("#PrettyCards_MassCraft_BuyAllBtn").attr("disabled",!0)),$("#PrettyCards_MassCraft_Cost").html(r)}function Rs(e){var t=e.soul,n=$('<div id="PrettyCards_MassCraft_Preview"></div>'),r=$('<div id="PrettyCards_MassCraft_SoulDeckRow"></div>'),a=$(`<div class="${t} pointer" onclick="soulInfo('${t}')"> ${$.i18n("soul-"+t.toLowerCase())}</div>`);a.prepend(P.getSoulImage(t)),$s=e.artifactIds;var i=$('<div id="PrettyCards_MassCraft_Artifacts"></div>');Ds(i,$s),r.append(a),r.append(i);var s=$(`\n        <div id="PrettyCards_MassCraft_ModeSelectRow">\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-nonly")}</div>\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-sonly")}</div>\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-nmixed")}</div>\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-smixed")}</div>\n        </div>\n    `),o=$('<div id="PrettyCards_MassCraft_CardSlot"></div>');function d(t=0,n=!1){var r=$(`.PrettyCards_MassCraft_ModeSelectBtn:nth-child(${t+1})`);r.hasClass("PrettyCards_MassCraft_ModeSelected")&&!n||($(".PrettyCards_MassCraft_ModeSelectBtn").removeClass("PrettyCards_MassCraft_ModeSelected"),r.addClass("PrettyCards_MassCraft_ModeSelected"),o.empty().append(function(e,t=0){var n=function(){var e={};return window.collection.forEach((t=>{e[t.id]||(e[t.id]={normal:0,shiny:0}),e[t.id][t.shiny?"shiny":"normal"]=t.quantity})),e}(),r=$('<div id="PrettyCards_MassCraft_CardContainer"></div>');function a(e,t,a){var i={...window.getCard(e)};i.shiny=t;var s=window.appendCard(i,r);a?n[e][t?"shiny":"normal"]--:(s.addClass("PrettyCards_MassCraft_NotHave"),"DETERMINATION"!==i.rarity?(As.push({id:e,shiny:t,cost:window.underscript.utils.rarity.cost(i.rarity,t)}),s.click((function(){window.craft(e,t)}))):(Is++,s.addClass("transparent")))}function i(e,t=!0){a(e,!1,t)}function s(e,t=!0){a(e,!0,t)}return As=[],Is=0,e.forEach((e=>{var r=n[e]||{normal:0,shiny:0};(0==t||2==t)&&r.normal>0?i(e):(1==t||3==t)&&r.shiny>0||2==t&&r.shiny>0?s(e):3==t&&r.normal>0?i(e):0==t||2==t?i(e,!1):s(e,!1)})),r}(e.cardIds,t)),Ls())}for(var c=s.find(".PrettyCards_MassCraft_ModeSelectBtn"),l=0;l<c.length;l++){const e=l,t=function(){d(e)};c[l].onclick=t,console.log(c[l],e,t)}var u=$(`\n        <div id="PrettyCards_MassCraft_BuyRow">\n            <div>\n                <img src="images/icons/dust.png" class="height-32">\n                <span id="PrettyCards_MassCraft_DustCount">[A LOT!]</span>\n            </div>\n            <div>\n                <span id="PrettyCards_MassCraft_Cost"></span> <button class="btn btn-success" id="PrettyCards_MassCraft_BuyAllBtn">${window.$.i18n("pc-masscraft-buyallbtn")}</button>\n            </div>\n        </div>\n    `);return d(0,!0),$(c[0]).addClass("PrettyCards_MassCraft_ModeSelected"),u.find("#PrettyCards_MassCraft_BuyAllBtn").click(Ns),n.append(r),n.append(s),n.append(o),n.append(u),n}i({key:"sktimacraft",name:"Enable Mass Crafting input",note:'Also known as "Sktimacraft".',type:"boolean",refresh:!1,default:!0}),e.events.on("craftcard",(function(e){if(Es&&Es.opened){$(`#PrettyCards_MassCraft_CardContainer #${e.id}${e.shiny?".shiny":""}.PrettyCards_MassCraft_NotHave:first-of-type`).removeClass("PrettyCards_MassCraft_NotHave");for(var t=0;t<As.length;t++){var n=As[t];if(n.id==e.id&&n.shiny==e.shiny){As.splice(t,1),Ls();break}}}})),e.events.on("PrettyCards:artBuySuccess",(function(e){Es&&Es.opened&&(Ds($("#PrettyCards_MassCraft_Artifacts"),$s),Ls())}));var Ms,Os,Bs,Fs=i({key:"hand_reveal_setting",name:"Improved Reveal Hand Setting",type:"boolean",refresh:!0,default:!0});function Hs(){Os.setAttribute("disabled","true"),Bs.setAttribute("disabled","true"),window.$.post("/Settings",{toggleSpectator:"lol"},(function(e){Os.removeAttribute("disabled"),Bs.removeAttribute("disabled")})).fail((function(){window.location.reload()}))}function Gs(e,t){var n=P.completeCopy(window.getCard(e.cardId)||window.allCards[0]);n.typeSkin=e.typeSkin;var r=window.appendCard(n,t);return r.find(".cardImage").css("background-image",'url("'+e.image+'")').css("background-size","contain"),r.find(".cardDesc").find("div").html(e.name+'<br><span class="Artist">'+e.authorName+"</span>"),r.click(Qs),r}function Us(){var e=window.$("#PrettyCards_CardListContainer");e.html("");for(var t=0;t<zs.length;t++)Gs(zs[t],e)}function js(){Ws=function(){for(var e="",t=0;t<window.allCards.length;t++){var n=window.allCards[t];e=e+'<option value="'+(n.fixedId||n.id)+'">'+n.name+"</option>"}return e}(),Us()}l(n(5727).Z);var zs,Ws,Ks,Vs=!1;function qs(){Vs?($(".cardBackground").css("box-shadow",""),Vs=!1,window.$("#PrettyCards_DeleteCustomCardSkinButton").html("Delete")):($(".cardBackground").css("box-shadow","0px 0px 10px 6px rgba(255,0,0,0.8)"),Vs=!0,window.$("#PrettyCards_DeleteCustomCardSkinButton").html("Cancel"))}function Ys(){Vs&&qs(),Xs({active:!1,authorName:window.selfUsername||"Unknown",cardId:1,cardName:window.getCard(1).name,id:-22,image:"",name:"New Skin",owned:!0,typeSkin:0,ucpCost:-9999,isCustom:!0,unavailable:!0,storageId:zs.length})}function Js(){window.BootstrapDialog.show({title:"Image URL Help",size:window.BootstrapDialog.SIZE_WIDE,message:'<h1>Why is a link needed instead of an uploaded image from my PC?</h1><p>Because localStorage, the place where I need to store things around here, has quite some strict policies with memory usage, and image data would most of the time take up all of the available space and more, causing a bunch of issues. So, instead, I settled with a method that is reliable and will always work.</p><h1>How do I get an image link?</h1><p>There are quite a lot of options out there host-wise, but what\'s important is that the link you type in is pointing towards the raw image. Nothing else, nothing more.</p><h1>How do I upload an image if I don\'t have a server of my own, or don\'t pay a host?</h1><p>You can use image sharing sites, or even <i>some</i> social media sites to do the hosting for you. I would personally recommend <a href="https://imgur.com/">Imgur</a>, as it\'s easy to upload an image there AND the compression is minimal. Discord is also a similarly excellent choice.</p><p>After uploading the image to your preferred "hosting service", right-click the image, then click "Copy Image Address" or "Copy Image Link". Then paste THAT into the Image Link input and you should be done. This should work ~90% of the time.</p><h1>I did what you said and it\'s still not working. What do I do?</h1><p>Contact me on Discord so we can sort this issue out, and potentially correct or expand upon this tutorial for others who may be struggling.</p><br><p class="gray">Thanks for reading! ^^</p><p class="gray">PS: The recommended resolutions: <br>Normal Skins: 160x90<br>Full Skins: 160x230<br>Breaking Skins: 176x246</p>',closable:!0,buttons:[{label:"Close!",cssClass:"btn btn-primary us-normal",action(e){e.close()}}]})}function Xs(e){var t=document.createElement("DIV");t.id="PrettyCards_CustomCardSkins_EditContainer",t.className="PrettyCards_RowFlex";var n=document.createElement("DIV");n.className="PrettyCards_CustomCardSkins_EditColumn";var r=document.createElement("DIV");r.className="PrettyCards_CustomCardSkins_EditColumn",t.appendChild(n),t.appendChild(r);var a=document.createElement("P");a.innerHTML="Card Skin Name",a.className="PrettyCards_InvertedP",n.appendChild(a);var i=document.createElement("INPUT");i.className="form-control",i.value=e.name,i.setAttribute("type","text"),n.appendChild(i);var s=document.createElement("P");s.innerHTML="Artist Name",s.className="PrettyCards_InvertedP",n.appendChild(s);var o=document.createElement("INPUT");o.className="form-control",o.value=e.authorName,o.setAttribute("type","text"),n.appendChild(o);var d=document.createElement("P");d.innerHTML="Skin Type",d.className="PrettyCards_InvertedP",n.appendChild(d);var c=document.createElement("SELECT");c.className="form-control white",c.innerHTML='\n\t\t<option value="0">Normal</option>\n\t\t<option value="1">Full</option>\n\t\t<option value="2">Breaking</option>\n\t',c.value=e.typeSkin,n.appendChild(c);var l=document.createElement("P");l.innerHTML="Card (Currently doesn't matter)",l.className="PrettyCards_InvertedP",n.appendChild(l);var u=document.createElement("SELECT");u.className="form-control white",u.innerHTML=Ws,u.value=e.cardId,n.appendChild(u);var p=document.createElement("P");p.innerHTML="Image Link",p.className="PrettyCards_InvertedP",n.appendChild(p);var h=document.createElement("DIV");h.className="PrettyCards_RowFlex",n.appendChild(h);var f=document.createElement("INPUT");f.className="form-control",f.id="PrettyCards_EditCardSkin_ImageInput",f.value=e.image,f.setAttribute("type","text"),h.appendChild(f);var m=document.createElement("BUTTON");m.className="btn btn-primary",m.innerHTML='<span class="glyphicon glyphicon-question-sign"></span>',m.onclick=Js,h.appendChild(m),window.BootstrapDialog.show({title:"Edit Card Skin!",size:window.BootstrapDialog.SIZE_LARGE,message:t,closable:!0,closeByBackdrop:!1,buttons:[{label:"Cancel!",cssClass:"btn btn-danger us-normal",action(e){e.close()}},{label:"Save!",cssClass:"btn btn-primary us-normal",action(t){var n=f.value;!function(e,t,n,r,a,i){var s={active:!1,authorName:n,cardId:a,cardName:window.getCard(a).name,id:-22,image:i,name:t,owned:!0,typeSkin:r,ucpCost:-9999,isCustom:!0,unavailable:!0};localStorage[Zs(e)]=JSON.stringify(s),s.storageId=e,zs[e]=s,Us()}(e.storageId,i.value,o.value,Number(c.value),Number(u.value),n),t.close()}}]})}function Qs(e){var t=$(e.currentTarget),n=Array.prototype.indexOf.call(document.getElementById("PrettyCards_CardListContainer").children,t[0]),r=zs[n];Vs?function(e){for(var t=e.storageId;t<zs.length-1;t++)localStorage[Zs(t)]=localStorage[Zs(t+1)],zs[t+1].storageId--;localStorage.removeItem(Zs(zs.length-1)),zs.splice(e.storageId,1),qs(),Us()}(r):Xs(r)}function Zs(e){return"prettycards.custom_card_skin."+window.selfId+"."+e}function eo(e){var t=window.localStorage[Zs(e)];return t?JSON.parse(t):null}A("PrettyCards:onPageLoad",(function(){if(underscript.onPage("CustomCards")){var t=window.appendCard;window.appendCard=function(n,r){var a=t(n,r);return e.events.emit("PC_appendCard",n,a),a},e.events.on("PC_appendCard",(function(e,t){if(e.isCustom){var n=e.collection;"number"==typeof n&&(n=vn[n],e.collection=n),t.addClass("ext_"+e.extension);var r=(l=3==P.getSeasonMonth()&&e.aprilImage)?n.aprilCardImagePrefix:n.cardImagePrefix,a=l?e.aprilImage:e.image,i=P.constructURL(r,a,"png",n.oldPrefixBehavior);t.find(".cardImage").css("background-image",'url("'+i+'")'),t.find(".cardRarity").css("background-image",'url("'+P.constructURL(n.rarityImagePrefix,e.extension+"_"+e.rarity,"png",n.oldPrefixBehavior)+'")');for(var s=t.find(".cardTribes .tribe"),o=0;o<e.tribes.length;o++){var d=e.tribes[o],c=n.getTribeById(d);c&&(s[o].src=P.constructURL(n.tribeImagePrefix,c.image,"png",n.oldPrefixBehavior))}if(e.background){var l,u=$('<div class="breakingSkinBackground"></div>'),p=(r=(l=3==P.getSeasonMonth()&&e.aprilBackground)?n.aprilCardImagePrefix:n.cardImagePrefix,a=l?e.aprilBackground:e.background,P.constructURL(r,a,"png",n.oldPrefixBehavior));u.css("background","url('"+p+"') no-repeat"),u.css("background-size","contain"),u.css("background-position","center"),t.prepend(u)}var h=""!=e.customFont?e.customFont:n.universalCustomFont;if(""!=h&&"DTM-Mono"!=h){var f=t.find(".cardName div"),g=t.find(".cardDesc div");f.css("font-family",h),g.css("font-family",h),f.css("font-size",""),g.css("font-size","");var y=window.getResizedFontSize(f,25);f.css("font-size",y+"px");var w=window.getResizedFontSize(g,81);g.css("font-size",w+"px")}if(e.note&&e.note.length>0){var C=window.$(`<img src="${P.asset("img/CardPowers/note.png")}"></img>`);C.contextmenu((function(){!function(e){window.BootstrapDialog.show({title:"Author's Note",message:window.$.i18n(e.note),buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}(e)})),m(t).append(C[0])}}}))}})),e.events.on("PrettyCards:customCards",(function(){var e=window.prettycards.newCollection({name:"Doki Doki Literature Club Set",author:"elytrafae",cardImagePrefix:P.asset("img/Cards/DDLC/"),cardSongPrefix:P.asset("audio/cards/DDLC/"),rarityImagePrefix:P.asset("img/RarityIcons/"),artifactImagePrefix:P.asset("img/Artifacts/"),tribeImagePrefix:P.asset("img/Tribes/"),soulImagePrefix:P.asset("img/Souls/"),aprilCardImagePrefix:P.asset("img/Cards/DDLC/aprilFools/"),aprilArtifactImagePrefix:P.asset("img/Artifacts/aprilFools/"),note:"This is a Doki Doki Literature Club themed card set I wanted to make for the longest time. I wanted it to be perfect, so I often modified it, asked for feedback and even the custom cards idea was born because of this set. So, please enjoy and don't be afraid to give me feedback! ^^\n\t\t<br><br>\n\t\tNOTE: Hand nerfs cannot bring a monster below 1 HP. I didn't add this in every instance because some cards are full enough already."}),n=e.loadFont("Aller",P.asset("fonts/Aller_Rg.ttf"));e.universalCustomFont=n;var r=e.newFrame({id:"DDLC",monsterImage:P.asset("img/CardFrames/DDLC/frame_monster.png"),spellImage:P.asset("img/CardFrames/DDLC/frame_spell.png")}),a=e.newTribe({name:"{{PLURAL:$1|Doki|Dokis}}",image:"DOKI",id:"DOKI"}),i=e.newTribe({name:"{{PLURAL:$1|CHR Spell|CHR Spells}}",image:"CHRSPELL",id:"CHRSPELL"}),s=e.newKeyword({name:"Fallen",description:"This effect triggers when this monster dies during its owner's turn.",id:"FALLEN"});e.newCard({name:"{{PLURAL:$1|Sayori|Sayoris}}",image:"Sayori",aprilImage:"Sayori",cost:3,attack:3,hp:3,description:`{{KW:MAGIC}}: Kill an ally monster to gain {{KW:HASTE}}. ${s.me()}: Give 3 ${a.me(2)} in your hand and 2 in your deck +2/-1.`,tribes:[a],extension:"DDLC",rarity:"COMMON",frameSkinName:r,note:`One of the textbook examples of this tribe (or, at least, the old direction I wanted to take with it). <br><br>It has slightly better than average stats with an either negligable or useful side effect and a slightly weak ${s.me()} effect, which serves to make it easier for these monsters to trade. <br><br>I was thinking of modifying her slightly, but I am really unsure if I want that.`}),e.newCard({name:"{{PLURAL:$1|Natsuki|Natsukis}}",image:"Natsuki",aprilImage:"Natsuki",cost:3,attack:3,hp:3,loop:1,description:`{{KW:LOOP}} (1). {{KW:MAGIC}}: Force an ally ${s.me()} monster to attack the monster in front of it.`,tribes:[a],extension:"DDLC",rarity:"COMMON",frameSkinName:r,note:"Simple, effective, powerful. This is the main activator of the tribe. While it IS tribed old Politics Bear, this card fits here too perfectly to warrant changing it."}),e.newCard({name:"{{PLURAL:$1|Yuri|Yuris}}",image:"Yuri",aprilImage:"Yuri",cost:4,attack:4,hp:5,description:`{{KW:MAGIC}}: Deal this card's {{HP}} buffs or nerfs as {{DMG}} to a monster. ${s.me()}: Give the highest {{ATK}} enemy monster -2/-1.`,tribes:[a],extension:"DDLC",rarity:"COMMON",frameSkinName:r,note:`Originally created around anti-ping and {{KW:PARALYZE}}, then {{KW:KR}}. Now I feel like she sits at a pretty good spot with a choice system built into her ${s.me()} effect.`}),e.newCard({name:"{{PLURAL:$1|Monika|Monikas}}",image:"Monika",aprilImage:"Monika",cost:7,attack:4,hp:6,taunt:!0,description:`{{KW:TAUNT}}. {{KW:DUST}}: Give the top 5 ${a.me(2)} in your deck -1 {{cost}}.`,tribes:[a],extension:"DDLC",rarity:"RARE",frameSkinName:r,note:`The tribe's {{KW:TAUNT}}. I am unsure how well she would perform, but she's hardly a bad {{KW:TAUNT}}, so she can offer protection to other ${s.me()} monsters with stronger effects.`}),e.newCard({name:"{{PLURAL:$1|Amy|Amys}}",image:"Amy",aprilImage:"Amy",cost:4,attack:4,hp:3,description:`{{KW:MAGIC}}: Kill an ally ${s.me()} monster to trigger its ${s.me()} effect. ${s.me()}: Add a copy of it to your deck with -1 {{cost}}.`,tribes:[a],extension:"DDLC",rarity:"RARE",frameSkinName:r,note:`One of the more complicated cards, but basically it's a double ${s.me()} trigger, and it can give you back copies of the cards. Pure value!`}),e.newCard({name:"{{PLURAL:$1|Main Character|Main Characters}}",image:"Protagonist",cost:5,attack:3,hp:5,taunt:!0,description:`{{KW:TAUNT}}. {{KW:MAGIC}}: If this has 3- {{HP}}, lose {{KW:TAUNT}} to gain {{KW:HASTE}}. {{KW:DELAY}} and ${s.me()}: Burn the last other ${a.me()} from your dustpile to add it your deck with {{KW:HASTE}}.`,tribes:[a],extension:"DDLC",rarity:"RARE",frameSkinName:r,note:"Does anyone even read these?"}),e.newCard({name:"{{PLURAL:$1|Alphys's PC|Alphys's PCs}}",image:"Alphys_PC",cost:6,attack:5,hp:7,description:"{{KW:MAGIC}}: Look at 3 random {{TRIBE:DOKI|2}} you didn't start in your deck with and catch one. {{KW:DUST}}: Release it into your hand.",extension:"BASE",rarity:"RARE",customFont:"DTM-Mono",note:"One of my headcanons as to how could such cards be added to Undercards was that Alphys would play a dating sim on her PC, but somehow the characters from the dating sim would come to life."}),e.newCard({name:"{{PLURAL:$1|Anime Poster|Anime Posters}}",image:"Anime_Poster",cost:5,attack:4,hp:4,description:`{{KW:MAGIC}}: Look at 3 random ${s.me()} monsters (rarity <= {{RARITY:EPIC}}) and choose one. {{KW:DELAY}}: Summon it for both players and force yours to attack the enemy one.`,extension:"BASE",rarity:"EPIC",customFont:"DTM-Mono",note:`Most of the time the effect is just helpful to you, since there are few ${a.me(2)} who mess this up. It's also {{KW:SUPPORT}} support!`}),e.newCard({name:"{{PLURAL:$1|Depressed Sayori|Depressed Sayoris}}",image:"Depressed_Sayori",cost:4,attack:3,hp:2,description:`{{KW:MAGIC}}: Heal 1 {{HP}} for each ${a.me()} in your dustpile (max: 12). ${s.me()}: Trigger the effect of the highest {{HP}} other ${s.me()} monster in your hand and give it +1/-1.`,tribes:[a],extension:"DDLC",rarity:"EPIC",frameSkinName:r,note:"Probably the hardest one to give a magic to for me. This card's original magic caused this card's text to be unreadable, so I made it a bit simpler."}),e.newCard({name:"{{PLURAL:$1|Obsessed Yuri|Obsessed Yuris}}",image:"Obsessed_Yuri",cost:6,attack:5,hp:5,description:`{{KW:MAGIC}}: Target an ally monster. {{KW:DELAY}}: If it's dead, {{KW:SILENCE}} and deal 5 {{DMG}} to the monster in front of it. Otherwise, give all ${a.me(2)} in your hand +3/-2.`,tribes:[a],extension:"DDLC",rarity:"EPIC",frameSkinName:r,note:`A ${s.me()} support card that doesn't actually HAVE a ${s.me()} keyword? Yes, and it can even singlehandedly take out some cards that could cause you trouble if you play your cards right, such as a Mettaton NEO or Sans (if you really must). Its secondary effect can also bring advantages that could be considered.`}),e.newCard({name:"{{PLURAL:$1|Corrupted Natsuki|Corrupted Natsukis}}",image:"Corrupted_Natsuki",cost:5,attack:4,hp:4,transparency:!0,description:`{{KW:TRANSPARENCY}}. ${s.me()}: Add 2 random ${a.me(2)} from your dustpile to your hand with -1 {{cost}} and -2 {{HP}}.`,tribes:[a],extension:"DDLC",rarity:"EPIC",frameSkinName:r,note:`I wanted to mess around with things that can help one trigger ${s.me()} effects without the use of {{KW:Haste}}, bonus attacks or self damage . . . And the answer was {{KW:TRANSPARENCY}}!<br><br>I am unsure how cool the effect is, but I still think that something like this can be very useful in ${s.me()} decks.`}),e.newCard({name:"{{PLURAL:$1|Traumatized MC|Traumatized MCs}}",image:"Traumatized_MC",cost:4,attack:5,hp:3,description:"{{KW:MAGIC}}: Swap this card's {{HP}} with the {{HP}} of another monster.",tribes:[a],extension:"DDLC",rarity:"EPIC",frameSkinName:r,note:"Does anyone even read these?"});var o=e.newCard({name:"{{PLURAL:$1|Desparation|Desparations}}",image:"Desparation",cost:0,description:"Give an ally monster {{KW:HASTE}} and +2/-1. {{KW:DELAY}}: If it's alive, {{KW:SILENCE}} and kill it. Draw a card.",extension:"DDLC",rarity:"TOKEN",frameSkinName:r,note:"Giving Haste in this tribe is very controversial, so I kept it to a conditionally bad(?) card."});e.newCard({name:"{{PLURAL:$1|Club President Monika|Club President Monikas}}",image:"Club_President_Monika",cost:6,attack:6,hp:5,description:`{{KW:DELAY}}: Force all ally monsters to attack enemy monsters in front of them. {{KW:FALLEN}}: Add a ${o.me()} to your deck.`,tribes:[a],extension:"DDLC",rarity:"LEGENDARY",frameSkinName:r,note:"This is one card I am not all that happy with now, personally, but I admit it can have some very clever strategies to ensure that the {{KW:DELAY}} effect doesn't hit you, so I left it as-is."}),e.newCard({name:"{{PLURAL:$1|Club President Sayori|Club President Sayoris}}",image:"Club_President_Sayori",cost:6,attack:5,hp:6,description:`{{KW:TURN-START}}: Burn the first ${a.me()} from your dustpile to add it to your hand with +2/-1. {{KW:MAGIC}}: Trigger the {{KW:TURN-START}} effect twice.`,tribes:[a],extension:"DDLC",rarity:"LEGENDARY",frameSkinName:r,note:'This card just screams "TRADES!". This one, just like Depressed Sayori, originally had a very long text, so I modified the effect a little, but the principle is the same.'}),e.newCard({name:"{{PLURAL:$1|Sayori.chr|Sayori.chrs}}",image:"SayoriCHR",cost:0,description:"Heal 5 {{HP}} to yourself or give a monster -1/-1 and {{KW:HASTE}}. Draw a card.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:r,note:`Semi-targeted heals and second best card draw out of the ${i.me(2)}.`}),e.newCard({name:"{{PLURAL:$1|Natsuki.chr|Natsuki.chrs}}",image:"NatsukiCHR",cost:0,description:"Look at 4 different random 3-5 {{cost}} cards in your dustpile. Add one to your hand with +2/-1.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:r,note:`Card revive and best card draw out of the ${i.me(2)}.`}),e.newCard({name:"{{PLURAL:$1|Yuri.chr|Yuri.chrs}}",image:"YuriCHR",cost:0,description:"Give an enemy monster -1/-2, then a random other enemy monster -1/-1. If there is only one enemy monster, draw a card.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:r,note:"Nerfs and either more nerfs or a conditional card draw if there was only one enemy monster."}),e.newCard({name:"{{PLURAL:$1|Monika.chr|Monika.chrs}}",image:"MonikaCHR",cost:0,description:"{{KW:SILENCE}} an enemy monster if its {{ATK}} was 4 or less. Otherwise, give it -3 {{ATK}}.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:r,note:"Powerful effect at the downside of no card draws."}),e.newCard({name:"{{PLURAL:$1|Just Monika|Just Monikas}}",image:"Just_Monika_Breaking",aprilImage:"Just_Monika",background:"Just_Monika_Breaking_BG",aprilBackground:"Just_Monika_Back",themeSongs:["Just_Monika","Just_Monika_2","Just_Monika_3"],cost:9,attack:6,hp:7,description:`{{KW:MAGIC}}: Add 8 ${i.me(2)} to your hand, and excess ones to your deck. ${s.me()}: Add a random different ${i.me()} to your hand and deck.`,tribes:[a],extension:"DDLC",typeSkin:2,rarity:"LEGENDARY",frameSkinName:r}),t.ddlc_collection=e})),e.events.on("PrettyCards:customCards",(function(){var e=window.prettycards.newCollection({name:"Switch Soul Set",author:"Baltoni and elytrafae",cardImagePrefix:P.asset("img/Cards/Switch_Soul/"),artifactImagePrefix:P.asset("img/Artifacts/"),tribeImagePrefix:P.asset("img/Tribes/"),soulImagePrefix:P.asset("img/Souls/"),note:"A collaboration between @Baltoni#7741 and I for Soultest back in the day, now in a fresh format!"}),t=e.newSoul({displayName:"SWITCH",description:"",image:"SWITCH",name:"SWITCH",note:"An idea for a spell-oriented soul. Unfortunately, I lost access to the original sheet where I submitted all of these cards, so they will have minimal reasoning now . . ."});Ks=e.newCard({soul:t,name:"{{PLURAL:$1|Spellbook|Spellbooks}}",image:"Spellbook",cost:0,description:`Look at 3 random ${t.me()} spells (<= {{RARITY:RARE}}). Add one to your hand. If your opponent has more monsters than you, give it -1 {{cost}}.`,extension:"BASE",rarity:"TOKEN"}),t.setDescription(`At the start of every 4th turn add a ${Ks.me()} to your hand.`),e.newCard({soul:t,name:"{{PLURAL:$1|Magic Orbs|Magic Orbs}}",image:"Magic_Orbs_2",cost:1,description:"Swap the {{ATK}} and {{HP}} of a monster. Draw a card.",extension:"BASE",rarity:"BASE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Sacrificial Lamb|Sacrificial Lambs}}",image:"Sacrificial_Lamb",cost:5,description:"Burn the most expensive {{KW:GENERATED}} spell in your hand to kill an enemy monster.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:t,name:"{{PLURAL:$1|Sabotage|Sabotages}}",image:"Sabotage",cost:1,description:"Look at 3 random different {{RARITY:BASE}} spells. Choose one. Add the other two to your hand.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:t,name:"{{PLURAL:$1|Chaotic Powers|Chaotic Powers}}",image:"Chaotic_Powers",cost:4,description:"Add 3 random other spells ({{cost}} <= 4) to your hand which you didn't cast this game with -1 {{cost}}.",extension:"DELTARUNE",rarity:"COMMON"}),e.newCard({soul:t,name:"{{PLURAL:$1|Mass Necromancy|Mass Necromancies}}",image:"Even_Necromancy",cost:3,description:"For ever 3 different spells you've cast this game, burn a random monster in your dustpile and add it to your hand (max: 3).",extension:"BASE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Evolutionary Leap|Evolutionary Leaps}}",image:"Evolutionary_Leap",cost:2,description:"Turn a monster in your hand into a random monster with +1 base {{cost}}, then give it -1 {{cost}} (keep base buffs). Draw a card.",extension:"BASE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Hysteria|Hysterias}}",image:"Mew_Mew_Special",cost:1,description:"Burn the 2 cheapest {{KW:GENERATED}} cards in your hand to draw 2 cards. Reduce their {{cost}} by the average of the burned cards' costs.",extension:"BASE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Breeze of Freedom|Breezes of Freedom}}",image:"Breeze_Of_Freedom",cost:2,description:"Deal 1 {{DMG}} to all enemies and heal 1 {{HP}} to you for each {{DMG}} dealt.",extension:"DELTARUNE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Power Drain|Power Drains}}",image:"Power_Drain",cost:3,description:"Set a monster’s {{ATK}} and {{HP}} to the {{ATK}} and {{HP}} of the monster in front of it. If it has {{KW:CHARGE}}, replace it with {{KW:HASTE}}.",extension:"BASE",rarity:"EPIC"}),e.newCard({soul:t,name:"{{PLURAL:$1|Triggers of Lunacy|Triggers of Lunacy}}",image:"Triggers_Of_Lunacy",cost:15,description:"In hand, this has -1 {{cost}} for each unique {{KW:GENERATED}} card you played this game. Deal 7 {{DMG}} to all enemy monsters.",extension:"BASE",rarity:"EPIC"}),e.newCard({soul:t,name:"{{PLURAL:$1|Food Fight|Food Fights}}",image:"Food_Fight",cost:7,description:"Summon a {{CARD:431}}. Shuffle 5 {{CARD:596|2}} into the top 10 cards of the enemy's deck.",extension:"DELTARUNE",rarity:"EPIC"}),e.newCard({soul:t,name:"{{PLURAL:$1|Royal Switch|Royal Switches}}",image:"Royal_Switch",cost:4,description:`Send your hand to the top of your deck and fill your hand with -1 {{cost}} non-{{RARITY:TOKEN}} ${t.me()} spells from highest to lowest rarity.`,extension:"BASE",tribes:["ROYAL_INVENTION"],rarity:"TOKEN"}),e.newArtifact({name:"Magic Wand",image:"Magic_Wand",rarity:"DETERMINATION",ownerId:65,soul:t.name,backgroundClass:"PrettyCards_ArtBG_MagicWand",description:`At the start of every even turn add a ${Ks.me()} to your hand.`})})),e.events.on("PrettyCards:customCards",(function(){if(r.my_own_custom_cards.value()){var e=window.prettycards.newCollection({name:"Hate Soul Set",author:"MysteryHD, bantikat and elytrafae",cardImagePrefix:P.asset("img/Cards/Hate_Soul/"),artifactImagePrefix:P.asset("img/Artifacts/"),tribeImagePrefix:P.asset("img/Tribes/"),soulImagePrefix:P.asset("img/Souls/"),note:"A HATE Soul concept we threw together to explore some game mechanics that went underutilised in the main game. Enjoy! ^^"}),t=e.newArtifact({name:"Darkness",description:"Whenever an ally monster dies, spend a counter to give the lowest {{HP}} enemy monster -1/-1. {{KW:TURN-START}}: Set the counters to 2.",image:"Darkness",rarity:"TOKEN"}),n=e.newSoul({displayName:"HATE",description:`After the opponent played their third card this game, gain the ${t.me()} artifact.`,image:"HATE",name:"HATE",note:"An idea for a soul that is oriented around killing its own minions and self damage."});e.newCard({soul:n,name:"{{PLURAL:$1|Leeching|Leechings}}",image:"Leeching",cost:2,description:"Kill an ally monster to heal yourself by its {{ATK}} and max {{HP}}.",extension:"BASE",rarity:"BASE"}),e.newCard({soul:n,name:"{{PLURAL:$1|Desparation|Desparations}}",image:"Desparation",cost:1,description:"Kill a 1+ base {{cost}} ally monster to draw 2 cards. If it has 4+ base {{cost}}, give them -1 {{cost}}, too.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:n,name:"{{PLURAL:$1|Magic Knife|Magic Knives}}",image:"Magic_Knife",cost:3,description:"Deal 3 {{DMG}} to a monster. If it survived, heal it by 3 and give it +2/+1.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:n,name:"{{PLURAL:$1|Graveyard Rise|Graveyard Rises}}",image:"Graveyard_Rise",cost:3,description:"{{KW:DELAY}}: Add a copy of every different ally monster that died this turn to your hand with -1 {{cost}}.",extension:"DELTARUNE",rarity:"COMMON"});var a=e.newCard({soul:n,name:"{{PLURAL:$1|Dark Wand|Dark Wands}}",image:"Dark_Wand",cost:3,description:"",extension:"BASE",rarity:"RARE"}),i=e.newCard({soul:n,name:"{{PLURAL:$1|Arcane Choice|Arcane Choices}}",image:"Arcane_Choice",cost:0,description:"Look at all spells with a {{cost}} equal to the base {{cost}} of this card. Add one to your hand and halve its {{cost}}.",extension:"BASE",rarity:"TOKEN"});a.setDescription(`Kill an ally monster to add an ${i.me()} to your hand. Set its base {{cost}} to the killed monster's {{cost}}, then set its {{cost}} to 0.`),e.newCard({soul:n,name:"{{PLURAL:$1|Eye for an Eye|Eye for an Eyes}}",image:"Eye_For_An_Eye",cost:4,description:"Kill an ally monster to kill a random enemy monster costing less than the killed ally monster.",extension:"BASE",rarity:"RARE"}),e.newCard({soul:n,name:"{{PLURAL:$1|Theft|Thefts}}",image:"Theft",cost:4,description:'Give a non-{{RARITY:DETERMINATION}} enemy monster: "{{KW:DUST}}: Summon a copy of this monster for your opponent with +1/+1".',extension:"BASE",rarity:"RARE"}),e.newCard({soul:n,name:"{{PLURAL:$1|???|???s}}",image:"Breeze_Of_Freedom",cost:"?",description:"",extension:"DELTARUNE",rarity:"RARE"}),e.newCard({soul:n,name:"{{PLURAL:$1|Avenge|Avenges}}",image:"Avenge",cost:"3",description:"Kill an ally monster and give all ally monsters +1/+1 for every 3 {{gold}} it costed.",extension:"BASE",rarity:"EPIC"});var s=e.newCard({soul:n,name:"{{PLURAL:$1|Numbing|Numbings}}",image:"Numbing",cost:2,description:"",extension:"BASE",rarity:"EPIC"}),o=e.newCard({name:"{{PLURAL:$1|Aimless Vessel|Aimless Vessel}}",image:"Aimless_Vessel",cost:5,description:"{{KW:HASTE}}. {{KW:DUST}}: Deal this card's {{cost}} as {{DMG}} to all monsters.",attack:4,hp:4,extension:"BASE",rarity:"TOKEN"});s.setDescription(`Kill a non-{{RARITY:DETERMINATION}} ally monster costing 3 or more and add an ${o.me()} to your hand with same stats.`),e.newCard({soul:n,name:"{{PLURAL:$1|Death Sentence|Death Sentences}}",image:"Death_Sentence",cost:5,description:'Give all ally monsters "{{KW:DUST}}: Deal half of this monster’s {{ATK}} (rounded up) randomly split as {{DMG}} to enemy monsters.”. {{KW:Delay}} (1): Kill all ally monsters.',extension:"DELTARUNE",rarity:"EPIC"});var d=e.newArtifact({name:"Finale",description:"{{KW:TURN_START}}: Gain -1 Max {{HP}} for each ally monster to give them all +1/+1.",image:"Finale",rarity:"TOKEN"});e.newCard({soul:n,name:"{{PLURAL:$1|Royal Hate|Royal Hates}}",image:"Royal_Hate",cost:2,description:`Gain the ${d.me()} artifact. Trigger its effect 3 times instantly.`,extension:"BASE",tribes:["ROYAL_INVENTION"],rarity:"TOKEN"})}}));const to={name:"{{PLURAL:$1|Battle Mew Mew|Battle Mew Mews}}",image:"Battle_Mew_Mew",aprilImage:"Battle_Mew_Mew",extension:"BASE",rarity:"LEGENDARY",themeSongs:["Battle_Mew_Mew_1","Battle_Mew_Mew_2","Battle_Mew_Mew_3"]};function no(e){return{...e,...to}}function ro(e,t,n){var r=3==P.getSeasonMonth()&&e.aprilImage,a=r?t.aprilArtifactImagePrefix:t.artifactImagePrefix,i=r?e.aprilImage:e.image,s=ve.GetRarityDataFor(e),o=P.constructURL(a,i,"png",t.oldPrefixBehavior),d=$(`<img class="PrettyCards_Artifact ${s.imgClass}" src="${o}">`);return d.click((function(){window.artifactInfo(e.id)})),n.append(d),d}function ao(e,t,n){var r=3==P.getSeasonMonth()&&e.aprilImage,a=r?t.aprilArtifactImagePrefix:t.artifactImagePrefix,i=r?e.aprilImage:e.image,s=ve.GetRarityDataFor(e),o=document.createElement("IMG");o.src=P.constructURL(a,i,"png",t.oldPrefixBehavior);var d=$(`\n\t<div class="PrettyCards_CollectionNew_Soultifact ${e.backgroundClass||""}">\n\t\t<div id="PrettyCards_CollectionNew_SoultifactImageContainer"></div>\n\t\t<div>\n\t\t\t<div class="${s.txtClass} PrettyCards_CollectionNew_SoultifactName">${window.$.i18n("artifact-name-"+e.id)}</div>\n\t\t\t<div class="${s.txtClass} PrettyCards_CollectionNew_SoultifactRarity">${s.text}</div>\n\t\t\t<div>${window.$.i18n("artifact-"+e.id)}</div>\n\t\t</div>\n\t<div>`);return d.find("#PrettyCards_CollectionNew_SoultifactImageContainer").append(tn(o,"PrettyCards_CollectionNew_SoultifactImage "+s.imageClass,"","")),d.find(".PrettyCards_CollectionNew_SoultifactImage").click((function(){window.artifactInfo(e.id)})),n.append(d),d}function io(e,t,n){var r=3==P.getSeasonMonth()&&e.aprilImage,a=r?t.aprilSoulImagePrefix:t.soulImagePrefix,i=r?e.aprilImage:e.image,s=P.constructURL(a,i,"png",t.oldPrefixBehavior),o=$(`<img class="PrettyCards_Soul" src="${s}">`);return o.click((function(){window.soulInfo(e.name)})),n.append(o),o}function so(e,t,n){var r=3==P.getSeasonMonth()&&e.aprilImage,a=r?t.aprilSoulImagePrefix:t.soulImagePrefix,i=r?e.aprilImage:e.image,s=document.createElement("IMG");s.src=P.constructURL(a,i,"png",t.oldPrefixBehavior);var o=$(`\n\t<div class="PrettyCards_CollectionNew_Soultifact">\n\t\t<div id="PrettyCards_CollectionNew_SoultifactImageContainer"></div>\n\t\t<div>\n\t\t\t<div class="${e.name} PrettyCards_CollectionNew_SoultifactName">${window.$.i18n("soul-"+e.name.toLowerCase())}</div>\n\t\t\t<div>${window.$.i18n("soul-"+e.name.toLowerCase()+"-desc")}</div>\n\t\t</div>\n\t<div>`);return o.find("#PrettyCards_CollectionNew_SoultifactImageContainer").append(tn(s,"PrettyCards_CollectionNew_SoultifactImage PrettyCards_DisplaySoul_"+e.name,"","")),o.find(".PrettyCards_CollectionNew_SoultifactImage").click((function(){window.soulInfo(e.name)})),n.append(o),o}function oo(e){var t=$("#PrettyCards_CustomCardShowcase");$("#PrettyCards_CustomCardCategories").css("display","none"),t.css("display","block").html("");var n=$(`\n\t\t<div id='PrettyCards_CustomCardsShowcaseContent'>\n\t\t\t<div class="PrettyCards_BigCollectionName">${e.name}</div>\n\t\t\t<div class="PrettyCards_BigCollectionAuthor Artist">${e.author}</div>\n\t\t\t<div>${e.note}</div>\t\n\t\t</div>\n\t`),r=$('\n\t\t<div id="PrettyCards_CollectionHeaderTop">\n\t\t\t<div class="PrettyCards_CollectionBackButton"><span class="glyphicon glyphicon-arrow-left"></span> Back to Collection Select Screen</div>\n\t\t\t<button id="PrettyCards_CollectionTakeScreenshot" class="btn btn-primary">Take Picture</button>\n\t\t\t<button id="PrettyCards_CollectionViewButton" class="btn btn-primary">Toggle View</button>\n\t\t</div>\n\t');if(r.find("#PrettyCards_CollectionViewButton").click((function(e){$("#PrettyCards_SoulsShowcase").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_NewSoulsShowcase").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_ArtifactsShowcase").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_NewArtifactsShowcase").toggleClass("PrettyCards_Hidden"),e.stopPropagation()})),r.find("#PrettyCards_CollectionTakeScreenshot").css("display","none").click((function(){!function(e){if(0!=window.$("#PrettyCards_CustomCardShowcase:visible").length){var t=!0;window.$("#PrettyCards_NewArtifactsShowcase").hasClass("PrettyCards_Hidden")&&(window.$("#PrettyCards_CollectionViewButton").click(),t=!1);var n=window.$("#PrettyCards_CustomCardsShowcaseContent");n.addClass("PrettyCards_CustomCardsShowcaseScreenshot"),window.html2canvas(n[0]).then((r=>{P.saveCanvasAsImage(r,e),n.removeClass("PrettyCards_CustomCardsShowcaseScreenshot"),t||$("#PrettyCards_CollectionViewButton").click()}))}}(e.name.toLowerCase())})),r.find(".PrettyCards_CollectionBackButton").click(co),t.append(r),t.append(n),e.souls.length>0){n.append("<h2>Souls</h2>");for(var a=$('<div id="PrettyCards_SoulsShowcase"></div>'),i=0;i<e.souls.length;i++)io(e.souls[i],e,a);n.append(a);var s=$('<div id="PrettyCards_NewSoulsShowcase" class="PrettyCards_Hidden"></div>');for(i=0;i<e.souls.length;i++)so(e.souls[i],e,s);n.append(s)}if(e.artifacts.length>0){n.append("<h2>Artifacts</h2>");var o=$('<div id="PrettyCards_ArtifactsShowcase"></div>');for(i=0;i<e.artifacts.length;i++)ro(e.artifacts[i],e,o);n.append(o);var d=$('<div id="PrettyCards_NewArtifactsShowcase" class="PrettyCards_Hidden"></div>');for(i=0;i<e.artifacts.length;i++)ao(e.artifacts[i],e,d);n.append(d)}if(e.cards.length>0){n.append("<h2>Cards</h2>");var c=$('<div id="PrettyCards_CardsShowcase"></div>');for(i=0;i<e.cards.length;i++)window.appendCard(e.cards[i],c);n.append(c)}$("#collectionCustomCSS").length<=0&&$("head").append('<style id="collectionCustomCSS"></style>'),e.reloadFrames(),e.souls.length+e.artifacts.length<10&&r.find("#PrettyCards_CollectionViewButton").click()}function co(){$("#PrettyCards_CustomCardCategories").css("display","block"),$("#PrettyCards_CustomCardShowcase").css("display","none")}function lo(){var e=$("#PrettyCards_CustomCardCategories");e.html("");for(var t=0;t<vn.length;t++){const r=vn[t];var n=$(`\n\t\t\t<div class="PrettyCards_CardCollection">\n\t\t\t\t<div class="PrettyCards_CollectionName">${r.name}</div>\n\t\t\t\t<div class="PrettyCards_CollectionAuthor Artist">${r.author}</div>\n\t\t\t\t<div class="PrettyCards_CollectionDetails">\n\t\t\t\t\t<div>${r.souls.length} ${1==r.souls.length?"Soul":"Souls"}</div>\n\t\t\t\t\t<div>${r.artifacts.length} ${1==r.artifacts.length?"Artifact":"Artifacts"}</div>\n\t\t\t\t\t<div>${r.cards.length} ${1==r.cards.length?"Card":"Cards"}</div>\n\t\t\t\t</div>\n\t\t\t</div>`);n.click((function(){oo(r)})),e.append(n)}}function uo(){var t;$("#PrettyCards_CustomCardCategories").html("Loading Custom Cards . . ."),e.events.emit.singleton("PrettyCards:customCards"),e.events.emit.singleton("PrettyCards:customCardsAfter"),$("#PrettyCards_CustomCardCategories").html("Loading Custom Fonts . . ."),t=lo,window.document.fonts.ready.then(t)}e.events.on("PrettyCards:customCards",(function(){var e=window.prettycards.newCollection({name:"UCO Ideas Set",author:"elytrafae",cardImagePrefix:P.asset("img/Cards/UCO_Ideas/"),cardSongPrefix:P.asset("audio/cards/UCO_Ideas/"),artifactImagePrefix:P.asset("img/Artifacts/"),tribeImagePrefix:P.asset("img/Tribes/"),soulImagePrefix:P.asset("img/Souls/"),aprilCardImagePrefix:P.asset("img/Cards/UCO_Ideas/aprilFools/"),aprilArtifactImagePrefix:P.asset("img/Artifacts/aprilFools/"),note:'Here are some of my UCO ideas.\n        <br>\n        This is also the place where I shall document my descent into madness as I try to make an actually good idea for a Battle Mew Mew card. This, of course, only includes the ones that still have the slightest chance of holding up. Purely stat change variations are also not included.\n        \n        <p style="color:red;font-size:1.2em;">I know these cards aren\'t perfectly balanced, and are subject to changes. I just want a general idea going on.</p>'});e.newKeyword({name:"Murder",description:"This effect triggers when this monster attacks and kills an enemy monster.",id:"MURDER"}),e.newCard(no({cost:8,attack:5,hp:5,haste:!0,description:"{{KW:HASTE}}. {{KW:DELAY}}: Summon 2/1 copies of all enemy monsters killed this turn."})),e.newCard(no({cost:7,attack:4,hp:4,haste:!0,description:"{{KW:HASTE}}. Before this attacks a monster, halve the {{ATK}} and {{HP}} of the target."})),e.newCard(no({cost:6,attack:4,hp:4,haste:!0,description:"{{KW:MAGIC}}: Burn half of your Dustpile, deal 3 {{DMG}} randomly spilt among enemy monsters for each 2 monsters burned."})),e.newCard({name:"{{PLURAL:$1|NEO Combo|NEO Combos}}",image:"NEO_Combo",aprilImage:"NEO_Combo",extension:"BASE",rarity:"LEGENDARY",cost:7,attack:10,hp:1,description:"{{KW:MAGIC}}: Choose a {{TRIBE:BARGAIN}} to cast to gain {{KW:CHARGE}}."}),e.newCard({name:"{{PLURAL:$1|Gothelle|Gothelles}}",image:"Gothelle",aprilImage:"Gothelle",extension:"DELTARUNE",rarity:"EPIC",cost:7,attack:7,hp:7,description:"Whenever an enemy monster deals {{DMG}} to an ally, this deals 2 {{DMG}} back."}),e.newCard({name:"{{PLURAL:$1|Gothelle|Gothelles}}",image:"Gothelle",aprilImage:"Gothelle",extension:"DELTARUNE",rarity:"EPIC",cost:7,attack:7,hp:7,description:"Whenever an enemy monster deals {{DMG}} to you, this deals 3 {{DMG}} back."}),e.newArtifact({name:"BASE Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"BASE",description:"Increase the chance of being the second player."}),e.newArtifact({name:"RARE Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"RARE",description:"Old Glamburger lol"}),e.newArtifact({name:"EPIC Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"EPIC",description:"Reverberation."}),e.newArtifact({name:"MYTHIC Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"MYTHIC",description:"Win the game XD"})})),e.events.on("PrettyCards:customCards",(function(){if(r.my_own_custom_cards.value()){var e=window.prettycards.newCollection({name:"Update Tester Sheet",author:"elytrafae",cardImagePrefix:"/images/cards/",cardSongPrefix:P.asset("audio/cards/UpdateTest/"),artifactImagePrefix:P.asset("img/Artifacts/"),tribeImagePrefix:P.asset("img/Tribes/"),soulImagePrefix:P.asset("img/Souls/"),aprilCardImagePrefix:P.asset("img/Cards/UpdateTest/aprilFools/"),aprilArtifactImagePrefix:P.asset("img/Artifacts/aprilFools/"),note:"Test sheet go brrrrrr"}),t=e.newCard({name:"{{PLURAL:$1|Frisk|Frisks}}",image:"Frisk",aprilImage:"Frisk",cost:10,attack:7,hp:8,description:"",tribes:[],extension:"BASE",rarity:"DETERMINATION"}),n=e.newCard({name:"{{PLURAL:$1|ACT Button|ACT Buttons}}",image:"ACT_Button",aprilImage:"ACT_Button",cost:1,description:"{{KW:LOOP}} (2). Look at all spells of the enemy SOUL (max. {{RARITY:RARE}}). Choose one to add to your hand.",tribes:[],extension:"BASE",rarity:"TOKEN"}),a=e.newArtifact({name:"Worn Dagger",image:"Worn_Dagger",rarity:"DETERMINATION",ownerId:t.id,soul:"DETERMINATION",backgroundClass:"PrettyCards_ArtBG_WornDagger",description:"Whenever a monster dies (except {{TRIBE:LOST_SOUL|2}}), gain a counter. {{KW:TURN-END}}: Spend 7 counters to summon the next {{TRIBE:LOST_SOUL}}. ({{TRIBE:LOST_SOUL}} order is the same as the {{ARTIFACT:33}} artifact.)"}),i=e.newArtifact({name:"Tough Glove",image:"Tough_Glove",rarity:"DETERMINATION",ownerId:t.id,soul:"BRAVERY",backgroundClass:"PrettyCards_ArtBG_ToughGlove",description:"At the start of every 3rd turn, add a {{CARD:577}} to your hand. If you have 4 or less cards in hand, add 2 instead. If you have 7 cards in your hand, add it to your deck."}),s=e.newArtifact({name:"Empty Gun",image:"Empty_Gun",rarity:"DETERMINATION",ownerId:t.id,soul:"JUSTICE",backgroundClass:"PrettyCards_ArtBG_EmptyGun",description:"{{KW:TURN-START}} and {{KW:TURN-END}}: Deal 1 {{DMG}} to the lowest {{HP}} enemy monster. If you have less {{HP}} than your opponent, deal 1 {{DMG}} to them too."}),o=e.newArtifact({name:"Burnt Pan",image:"Burnt_Pan",rarity:"DETERMINATION",ownerId:t.id,soul:"KINDNESS",backgroundClass:"PrettyCards_ArtBG_BurntPan",description:"{{KW:TURN-END}}: Heal 1 {{HP}} to you and 2 {{HP}} to all damaged ally monsters. If there are none, give the rightmost ally monster +1/+1."}),d=e.newArtifact({name:"Toy Knife",image:"Toy_Knife",rarity:"DETERMINATION",ownerId:t.id,soul:"PATIENCE",backgroundClass:"PrettyCards_ArtBG_ToyKnife",description:"{{KW:TURN-END}}: Add a {{CARD:552}} to the top of your deck if you don't have one in hand."}),c=e.newArtifact({name:"Ballet Shoes",image:"Ballet_Shoes",rarity:"DETERMINATION",ownerId:t.id,soul:"INTEGRITY",backgroundClass:"PrettyCards_ArtBG_BalletShoes",description:"{{KW:TURN-END}}: Earn 1 {{gold}}. If it's turn 10 or later, earn 1 more."}),l=e.newArtifact({name:"Torn Notebook",image:"Torn_Notebook",rarity:"DETERMINATION",ownerId:t.id,soul:"PERSEVERANCE",backgroundClass:"PrettyCards_ArtBG_TornNotebook",description:"{{KW:TURN-START}}: Give {{KR}} and -1/-1 to the highest {{ATK}} enemy monster without {{KR}}."}),u="";[a,i,s,o,d,c,l].forEach((e=>{u+="|"+e.id})),u="{{PC_ARTIFACTS:Upgraded Version"+u+"}}",t.setDescription(`{{KW:MAGIC}}: Gain an ${u} of the enemy SOUL. Add an ${n.me(1)} to your hand.`)}})),e.events.on("PrettyCards:customCards",(function(){if(r.my_own_custom_cards.value()){var e=window.prettycards.newCollection({name:"Kyra x elytrafae Sheet",author:"Kyra and elytrafae",cardImagePrefix:P.asset("img/Cards/Kyra/"),cardSongPrefix:P.asset("audio/cards/Kyra/"),artifactImagePrefix:P.asset("img/Kyra/"),tribeImagePrefix:P.asset("img/Tribes/"),soulImagePrefix:P.asset("img/Souls/"),aprilCardImagePrefix:P.asset("img/Cards/Kyra/aprilFools/"),aprilArtifactImagePrefix:P.asset("img/Artifacts/aprilFools/"),note:"A little sheet I made for ideas that we came up with together :3"});e.newCard({name:"{{PLURAL:$1|Moldog|Moldogs}}",image:"Moldog",cost:5,attack:4,hp:5,description:"{{KW:MAGIC}}: {{KW:Switch}}: Become a {{TRIBE:MOLD}} or {{TRIBE:DOG}}. Give all other ally monsters of the same tribe as this one +1/+2. {{KW:Synergy}}: Heal all allies by 3.",tribes:[],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Tangled Wires|Tangled Wires}}",image:"Tangled_Wires",cost:6,attack:4,hp:4,description:"{{KW:MAGIC}}: Turn an ally {{TRIBE:PLUG}} or {{TRIBE:AMALGAMATE}} into a {{CARD:684|1}} that catches the original. It becomes an {{TRIBE:AMALGAMATE}}, too.",tribes:["PLUG","AMALGAMATE"],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Tangled Wires|Tangled Wires}}",image:"Tangled_Wires",cost:6,attack:4,hp:4,description:"{{KW:MAGIC}}: Turn an ally {{TRIBE:PLUG}} or {{TRIBE:AMALGAMATE}} into a {{CARD:684|1}} that catches the original. It becomes an {{TRIBE:AMALGAMATE}}, too. {{KW:SYNERGY}}: It gains its stat buffs.",tribes:["PLUG","AMALGAMATE"],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Tembomination|Tembominations}}",image:"Tembomination",cost:5,attack:4,hp:4,description:"{{KW:MAGIC}}: {{KW:SWITCH}}: Gain +1 {{ATK}} and {{KW:HASTE}} or +2 {{HP}} and {{KW:TAUNT}}.",tribes:["TEMMIE","AMALGAMATE"],extension:"BASE",rarity:"RARE"}),e.newCard({name:"{{PLURAL:$1|Hoivemind|Hoiveminds}}",image:"Hoivemind",cost:4,attack:4,hp:2,haste:!0,description:"{{KW:HASTE}}. {{KW:MAGIC}}: {{KW:SWITCH}}: Draw a {{TRIBE:TEMMIE}} or an {{TRIBE:AMALGAMATE}}. {{KW:SYNERGY}}: If this is not {{KW:GENERATED}}, add two copies of it to your deck.",tribes:["TEMMIE","AMALGAMATE"],extension:"BASE",rarity:"COMMON"}),e.newCard({name:"{{PLURAL:$1|Ice Cave|Ice Cave}}",image:"Ice_Cave",cost:7,attack:4,hp:6,description:"{{KW:MAGIC}} and {{KW:TURN_START}}: Summon an {{CARD:9}}.",tribes:[],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Ice Cave|Ice Cave}}",image:"Ice_Cave",cost:6,attack:2,hp:5,candy:!0,description:"{{KW:CANDY}}. {{KW:MAGIC}} and {{KW:TURN_START}}: Summon an {{CARD:9}}.",tribes:[],extension:"BASE",rarity:"EPIC"})}})),window.underscript.onPage("CustomCards")||e.events.emit.singleton("PrettyCards:customCardsAfter");var po=i({key:"friendship_sort",name:"Enable Friendship Sorting",type:"boolean",refresh:!0,default:!0});l(n(2486).Z);const ho=["baseRarityInput","commonRarityInput","rareRarityInput","epicRarityInput","legendaryRarityInput","determinationRarityInput","tokenRarityInput","baseGenInput:not(:disabled)"];var fo,mo,go,yo,wo,Co,vo,bo=[],_o=-1,Po=!1;function ko(e,t){var n=$("#PrettyCards_SOP_ButtonSettingsContainer"),r=window.$(`\n        <div style="padding: 5px;" class="PrettyCards_SOP_ButtonData">\n            <span class="handle glyphicon glyphicon-sort" style="cursor:grab;"></span> \n            <label>\n                <span>${window.$.i18n("pc-sop-name")}: </span>\n                <input type="text" value="${e}" id="PrettyCards_SOP_ButtonNameInput"></input>\n            </label>\n            <label>\n                <span>${window.$.i18n("pc-sop-style")}: </span>\n                <select id="PrettyCards_SOP_ButtonStyleInput">\n                    <option value="btn-primary" class="text-primary">${window.$.i18n("pc-sop-stylelist-0")}</option>\n                    <option value="btn-info" class="text-info">${window.$.i18n("pc-sop-stylelist-1")}</option>\n                    <option value="btn-success" class="text-success">${window.$.i18n("pc-sop-stylelist-2")}</option>\n                    <option value="btn-danger" class="text-danger">${window.$.i18n("pc-sop-stylelist-3")}</option>\n                    <option value="btn-warning" class="text-warning">${window.$.i18n("pc-sop-stylelist-4")}</option>\n                </select>\n            </label>\n            <button class="btn btn-danger" onclick="this.parentElement.remove()">${window.$.i18n("pc-sop-remove")}</button>\n        </div>\n    `);return r.find("#PrettyCards_SOP_ButtonStyleInput").val(t),n.append(r),r}function xo(){if(!(_o>=bo.length||(_o>=0&&fo.glideTo(window.innerWidth/2,window.innerHeight+500,500,(function(){_o>=bo.length&&(window.$("#PrettyCards_SOP_Phase3").addClass("PrettyCards_Hidden"),window.$("#PrettyCards_SOP_Phase4").removeClass("PrettyCards_Hidden")),this.remove()})),++_o>=bo.length))){!$("#PrettyCards_SOP_BlindModeSetting").prop("checked")&&$("#PrettyCards_SOP_ViewSkinsSetting").prop("checked")&&function(e){for(var t=[{cardId:e.fixedId,name:e.name,id:-22,image:e.image,typeSkin:0}],n=0;n<gi.length;n++){var r=gi[n];r.cardId==e.id&&t.push(r)}console.log(e,t);var a=$("#PrettyCards_SOP_Phase3_Skins");if(a.html(""),!(t.length<=1))for(n=0;n<t.length;n++){const e=t[n];var i=$(`\n            <div class="PrettyCards_SOP_SkinDisplay ${0==n?"selected":""}">\n                <img src="${P.getCardImageLink(e.image)}">\n            </div>\n        `);i.click((function(){var t=$(fo.front);t.removeClass("full-skin").removeClass("breaking-skin").removeClass("standard-skin"),0==e.typeSkin?t.addClass("standard-skin"):1==e.typeSkin?t.addClass("full-skin"):t.addClass("breaking-skin"),t.find(".cardImage").css("backgroundImage","url("+P.getCardImageLink(e.image)+")"),$(".PrettyCards_SOP_SkinDisplay").removeClass("selected"),$(this).addClass("selected")})),a.append(i)}}(bo[_o]),fo=new Qa(bo[_o],!1,!1,!1);var e=document.getElementById("PrettyCards_SOP_Phase3_CardSpace").getBoundingClientRect();if(fo.appendTo(document.getElementById("PrettyCards_SOP_Phase3_CardContainer")),fo.moveTo(-300,e.top+e.height/2),fo.flipToFace(500),fo.glideTo(window.innerWidth/2,e.top+e.height/2,500,(function(){})),$("#PrettyCards_SOP_BlindModeSetting").prop("checked")){fo.back.style.backgroundImage="url(https://github.com/elytrafae/prettycards/raw/master/img/CardBackMystery.png)";var t=$(fo.front);t.removeClass("monster").addClass("spell"),t.removeClass("full-skin").removeClass("breaking-skin").addClass("standard-skin"),t.find(".cardATK").remove(),t.find(".cardHP").remove(),t.find(".cardName").html("???"),t.find(".cardTribes").html(""),t.find(".cardStatus").html(""),t.find(".cardCost").html("?"),t.find(".cardName")[0].className="cardName",t.find(".cardDesc > div").html(Ye.getRandomFromValueList("pc-sop-mysterydescriptions")),t.find(".cardImage").css("background-image","url(https://github.com/elytrafae/prettycards/raw/master/img/MysteryCard.png)"),t.find(".cardRarity").css("background-image","url(https://github.com/elytrafae/prettycards/raw/master/img/MysteryRarity.png)"),t.find(".PrettyCards_CardThemeSongPlayer").remove();var n=t.find(".cardName div"),r=t.find(".cardDesc div");n.css("font-size",""),r.css("font-size","");var a=window.getResizedFontSize(n,25);n.css("font-size",a+"px");var i=window.getResizedFontSize(r,81);r.css("font-size",i+"px")}}}function So(){var e=$("#PrettyCards_SOP_Buttons"),t=$(".PrettyCards_SOP_ButtonData");if(0!=t.length&&(bo=function(){var e=$(".rarityInput:checked").map((function(){return this.getAttribute("rarity")})).get();0==e.length&&(e=["COMMON","RARE","EPIC","LEGENDARY","DETERMINATION"]);var t=$(".typeCardInput:checked").map((function(){return this.getAttribute("typeCard")})).get();0==t.length&&(t=$(".typeCardInput").map((function(){return this.getAttribute("typeCard")})).get()),t.forEach(((e,n)=>{t[n]=Number(e)}));var n=$(".extensionInput:checked").map((function(){return this.getAttribute("extension")})).get();0==n.length&&(n=$(".extensionInput").map((function(){return this.getAttribute("extension")})).get());var r=[];return window.allCards.forEach((a=>{e.includes(a.rarity)&&t.includes(a.typeCard)&&n.includes(a.extension)&&r.push(a)})),r}(),!(bo.length<=0))){($("#PrettyCards_SOP_RandomizeSetting").prop("checked")||$("#PrettyCards_SOP_BlindModeSetting").prop("checked"))&&function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}(bo);var n=window.$.i18n("pc-sop-results-title-nouser");window.selfUsername&&(n=window.$.i18n("pc-sop-results-title",window.selfUsername));var r="<h1 style='text-align:center;'>"+n+"</h1>";e.html(""),t.each(((t,n)=>{var a=$(n),i=a.find("#PrettyCards_SOP_ButtonNameInput").val();const s=i.replace(/[^\w]/gi,"_");var o=a.find("#PrettyCards_SOP_ButtonStyleInput").val();r+=`<h2>${a.find("#PrettyCards_SOP_ButtonNameInput").val()}</h2><div id="PrettyCards_SOP_Cards_${s}" class="PrettyCards_SOP_CardResults"></div>`;var d=$(`<button class="btn ${o}">${i}</button>`);d.click((function(){var e;e=s,window.appendCard(bo[_o],$("#PrettyCards_SOP_Cards_"+e)),xo()})),e.append(d)})),$("#PrettyCards_SOP_Phase4_ScreenshotArea").html(r),window.$("#PrettyCards_SOP_Phase2").addClass("PrettyCards_Hidden"),window.$("#PrettyCards_SOP_Phase3").removeClass("PrettyCards_Hidden"),xo()}}l(n(1315).Z);var Eo=[],Ao=0;function To(e){wo=e,o().getJSON(`/translation/${e}.json`,{},(function(t){Co=t,window.$.i18n().load({[e]:t}),$o()})),o().getJSON(mo.urlFunc(e),{},(function(e){vo=e,$o()})).fail((function(){vo={},$o()}))}function Io(e){var t=vo[e];return t&&t.ifEqual&&t.ifEqual!=Co[e]}function $o(){go&&yo&&Co&&vo&&(function(){for(var e in vo){var t=vo[e],n=yo[e];Io(e)&&(n?t.ifEqual=Co[e]:vo[e]=void 0)}}(),o()("#PrettyCards_CT_Phase1").addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2").removeClass("PrettyCards_Hidden"),console.log("SUCCESS",go,yo,Co,vo),function(){var e=[""];for(var t in yo){var n=t.indexOf("-"),r=t.substring(0,n);"pc"===r&&(n=t.indexOf("-",n+1),r=t.substring(0,n)),e.includes(r)||e.push(r)}var a="";e.forEach((e=>{a+=`<option value="${e}">${e}</option>`})),document.getElementById("selectCategory").innerHTML=a}(),Lo(),Oo(0))}function No(e){var t=vo[e];if(!t)return!0;if("string"==typeof t&&""==t)return!0;if(t.value&&""==t.value)return!0;if(t.values){for(var n=0;n<t.values.length;n++)if(t.values[n]&&t.values[n].length>0)return!1;return!0}return!1}function Do(e){var t=o()("#selectCategory").val(),n=o()("#selectStatus").val(),r=o()("#searchInput").val(),a=(vo[e],No(e));return""!=t&&!e.startsWith(t)||!("DONE"!=n||!a)||"NEW"==n&&!a||!e.startsWith(t)||!function(e,t){if(""===t)return!0;var n=[e];if(!No(e)){var r=vo[e];"string"==typeof r&&n.push(r),r.value&&n.push(r.value),r.values&&(n=n.concat(r.values))}for(var a=0;a<n.length;a++)if(n[a].includes(t))return!0;return!1}(e,r)}function Lo(){for(var e in Eo=[],yo)Do(e)||Eo.push(e);o()("#maxPages").html(Eo.length);var t=o()("#selectPage");t.html("");for(var n=0;n<Eo.length;n++)t.append(`<option value="${n}">${n+1}</option>`)}function Ro(){Ao<Eo.length-1&&Oo(Ao+1)}function Mo(){Ao>0&&Oo(Ao-1)}function Oo(e){if(Ao=e,o()("#selectPage").val(Ao),o()("#btnNext").prop("disabled",Ao+1>=Eo.length),o()("#btnPrevious").prop("disabled",Ao<=0),Ao<0&&(Ao=0),Ao>=Eo.length&&(Ao=Eo.length-1),Eo.length<=0)return o()("#PrettyCards_CT_Phase2_Table").addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_Error").html("No entry matches the search! Please try something else!"),void console.error("No entry matches the search! Please try something else!");o()("#PrettyCards_CT_Phase2_Table").removeClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_Error").html(""),function(e){o()("#PrettyCards_CT_Phase2_Preview").html("");var t=vo[e];if(o()("#PrettyCards_CT_Phase2_TranslationKey").html(e),t||(t=function(e){var t=yo[e];if(console.log(e,t),"string"==typeof t)return"";var n={};if(t.ifEqual&&(n.ifEqual=Co[e]||""),t.values){n.values=[];for(var r=0;r<t.values.length;r++)n.values[r]=""}else n.value="";return n}(e),vo[e]=t),o()(".PrettyCards_CT_Phase2_ListEntryRow").remove(),t.values)return void function(e,t){var n=yo[e];o()("#PrettyCards_CT_Phase2_EnglishText").addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_OGEnglishText").parent().addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_OGTranslatedText").parent().addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_TranslationArea").parent().addClass("PrettyCards_Hidden");var r=o()("#PrettyCards_CT_Phase2_Table > tbody");const a=e;for(var i=0;i<n.values.length;i++){var s=t.values[i];const e=i,d=o()(`\n        <tr class="PrettyCards_CT_Phase2_ListEntryRow">\n            <td colspan="1">${Go(n.values[i])}</td>\n            <td colspan="2">\n                <textarea maxlength="500" class="form-control" class="PrettyCards_CT_Phase2_ListTranslationArea"></textarea>\n            </td>\n        </tr>`);d.find("textarea").val(s||""),d.find("textarea").keyup((function(){var t=Ho(o()(this).val());vo[a].values[e]=t,jo(t,a)})),r.append(d)}}(e,t);var n=Bo(yo[e]);o()("#PrettyCards_CT_Phase2_EnglishText").removeClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_EnglishText").html(Go(n)),t.ifEqual?(o()("#PrettyCards_CT_Phase2_OGEnglishText").parent().removeClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_OGTranslatedText").parent().removeClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_OGEnglishText").html(Go(go[e])),o()("#PrettyCards_CT_Phase2_OGTranslatedText").html(Go(Co[e]))):(o()("#PrettyCards_CT_Phase2_OGEnglishText").parent().addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_OGTranslatedText").parent().addClass("PrettyCards_Hidden")),o()("#PrettyCards_CT_Phase2_TranslationArea").parent().removeClass("PrettyCards_Hidden");var r=Bo(t);o()("#PrettyCards_CT_Phase2_TranslationArea").val(r),jo(Ho(r),e);const a=e;o()("#PrettyCards_CT_Phase2_TranslationArea").unbind("keyup").keyup((function(){var e=Ho(o()("#PrettyCards_CT_Phase2_TranslationArea").val());!function(e,t){var n=vo[e];n.value||""===n.value?n.value=t:vo[e]=Ho(t)}(a,e),jo(e,a)}))}(Eo[Ao])}function Bo(e){var t=e;return(e.value||""===e.value)&&(t=e.value),t}function Fo(){var e=JSON.stringify(vo);P.downloadFile(e,wo+".json","text/plain"),BootstrapDialog.show({title:"Thank you for your collaboration! ^^",size:BootstrapDialog.SIZE_WIDE,message:`<p>The language JSON file should be downloading now! Please send it to me through Discord to the <span class="PrettyCards_DiscordMention">#translation-files-go-here</span> channel!</p><p>is the file didn't download, you can copy-paste its contents below!</p>\n            <code class="PrettyCards_DarkThemeCode PrettyCards_BlockCode" onclick="navigator.clipboard.writeText(this.innerText)">${e}</code>\n        `,buttons:[{label:"Alright!",cssClass:"btn-primary us-normal",action(e){e.close()}}]})}function Ho(e){return e.replaceAll("\\n","\n").replaceAll("\\r","\r")}function Go(e,t=!0){var n,r=["#00ff06","#fc00ff","#00d6ff","#ff5300","#0074ff","#ff0030","#ffa400"];t&&(n=e,e=(e=o()("<span>").text(n).html()).replaceAll("\n",'<span class="gray">\\n</span>').replaceAll("\r",'<span class="gray">\\r</span>'));var a=e.replace(/({{[^{}]*?}})/g,(function(e){return'<span class="JUSTICE">'+e+"</span>"}));return a.replace(/(\$[1-9]+)/g,(function(e){var t=parseInt(e.replace("$",""))-1;return'<span style="color: '+r[t%r.length]+'">'+e+"</span>"}))}var Uo;function jo(e="",t=""){if(Uo&&Uo.onremove(),""!==e){for(var n,r=window.prettycards.translationManager.previewTypes,a=0;a<r.length;a++){var i=r[a];if(t.match(i.regex)){n=i;break}}Uo=n,o()("#PrettyCards_CT_Phase2_Preview").html(`<span>${P.toLocale("decks-preview",wo)}: </span><span id="PrettyCards_CT_Phase2_PreviewInsert"></span>`),o()("#PrettyCards_CT_Phase2_PreviewInsert").append(n.eleFunc(P.toLocale(e,wo)))}else o()("#PrettyCards_CT_Phase2_Preview").html("")}const zo=Object.freeze({NULL:Symbol("NULL"),AVATAR:Symbol("AVATAR"),EMOTE:Symbol("EMOTE"),PROFILE_SKIN:Symbol("PROFILE_SKIN")}),Wo=Object.freeze({[zo.AVATAR]:"idAvatar",[zo.EMOTE]:"idEmote",[zo.PROFILE_SKIN]:"idProfileSkin",[zo.NULL]:""});function Ko(e=zo.NULL,t=-1){return new Promise(((n,r)=>{if(e===zo.NULL&&window.underscript.onPage("CosmeticsShop"))n(document.getElementsByClassName("mainContent")[0]);else{var a={};e!==zo.NULL&&t>=0&&(a[Wo[e]]=t),o().post("/CosmeticsShop",a,(function(e){for(var t=o()(e),a=0;a<t.length;a++){var i=t[a];if(i&&i.className&&i.classList.contains("mainContent"))return void n(i)}r("ELEMENT_NOT_FOUND_ERROR")}))}}))}function Vo(e){return e.classList.contains("avatar")?zo.AVATAR:e.classList.contains("emote-bordered")?zo.EMOTE:e.classList.contains("profileSkin")?zo.PROFILE_SKIN:zo.NULL}function qo(e){var t,n=(t=e.getAttribute("data-i18n-tips")).indexOf("|");return n<0?t:t=t.substring(n+1,t.length-2)}const Yo=["BASE","COMMON","RARE","EPIC","LEGENDARY","DETERMINATION","MYTHIC","TOKEN"];function Jo(e){for(var t=0;t<Yo.length;t++){var n=Yo[t];if(e.classList.contains(n))return n}}var Xo,Qo,Zo;t.cosmeticShop={},t.cosmeticShop.isLastReadASuccessfulBuy=!1,t.cosmeticShop.GetPage=Ko,t.cosmeticShop.GetData=function(e=zo.NULL,n=-1){return new Promise(((r,a)=>{Ko(e,n).then((e=>{t.cosmeticShop.isLastReadASuccessfulBuy=!1;for(var n=e.querySelector(".navbar"),a=e.querySelector("footer"),i=[],s="",o=e.querySelectorAll("img,.ucp,:scope > p,form[action=CosmeticsShop]"),d=0;d<o.length;d++){var c=o[d];if(!n.contains(c)&&!a.contains(c)){var l=i[i.length-1];if("P"===c.tagName){var u=c.children[0];if(u){var p=u.getAttribute("data-i18n");if(p)s=p.substring(6);else{var h=u.getAttribute("data-i18n-custom");console.log(c,u,h),h.endsWith("unlocked")&&(t.cosmeticShop.isLastReadASuccessfulBuy=!0)}}}else if("IMG"===c.tagName){l&&!l.cost&&(l.owned=!0);var f={imageSrc:c.getAttribute("src"),name:qo(c),type:Vo(c),owned:!1,category:s},m=Jo(c);m&&(f.rarity=m),i.push(f)}else if("FORM"===c.tagName)for(var g=0;g<c.children.length;g++){var y=c.children[g];if("INPUT"===y.tagName&&y.hasAttribute("name")&&y.getAttribute("name").toString().includes("id")){l.id=parseInt(y.getAttribute("value"));break}}else{var w=Number(c.innerHTML);l.cost?l.discountPercent?console.warn(`A THIRD (or more) NUMBER ASSIGNED TO THE COSMETIC ${l.name}. PLEASE INVESTIGATE!`):l.discountPercent=w:l.cost=w}}}r(i)}))}))},t.cosmeticShop.COSMETIC_TYPES=zo,t.cosmeticShop.COSMETIC_TYPE_TO_BUY_NAME=Wo,r.packs_page.value()&&underscript.onPage("Packs")?(Xo=()=>{A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){P.hideUglyPage(),document.querySelector(".mainContent").innerHTML+="<div id='PrettyCards_MainContent'></div><div id='PrettyCards_PackOpenContent'></div>",hi(r.packs_page_template.value()||ci[0]),t.testPackOpeningNew=(t=.4,n=.2)=>{window.PrettyCards_pack_being_opened=fi[0];var r=[];window.allCards.forEach((e=>{if(Math.random()<t)for(var a=Math.floor(3*Math.random()+1);a>0;a--){var i={...e};r.push(i)}if(Math.random()<n)for(a=Math.floor(3*Math.random()+1);a>0;a--){var s={...e};s.shiny=!0,r.push(s)}})),e.events.emit("openedPacks",{count:999,cards:r})}}))},window.$.getJSON(P.asset("json/packs.json"),{},(e=>{console.log(e);for(var t=0;t<e.length;t++){var n=e[t];n.does_exist=!0,n.open_count=1,n.g_cost>=0&&(n.g_buy_count=1),n.ucp_cost>=0&&(n.ucp_buy_count=1),n.amount=0;try{n.amount=ce.GetNumberOfPacks(n.code_id)}catch(e){}n.image=n.image_without_extension+n.image_extension,fi.push(n),mi[n.code_id]=n}Xo()}))):underscript.onPage("Hub")?function(){var t=window.showDeckLoadHub;window.showDeckLoadHub=function(n,r,a,i,s){t(n,r);var o=window.Object.values(window.BootstrapDialog.dialogs)[0];if(o){var d=o.$modalFooter.find(".bootstrap-dialog-footer-buttons"),c=$(`<button class="btn btn-success">${window.$.i18n("pc-hub-savedeck")}</button>`);c.click((function(){!function(t,n,r,a){for(var i=JSON.parse(atob(t)),s=i.soul,o=window.cloneList(window.collection),d={cards:[],artifacts:i.artifactIds},c=0;c<i.cardIds.length;c++){var l=Ss(o,h=i.cardIds[c]);l.shiny&&l.shiny.quantity>0?(d.cards.push({id:h,shiny:!0}),l.shiny.quantity--):l.normal&&l.normal.quantity>0&&(d.cards.push({id:h}),l.normal.quantity--)}if(xs){for(var u="underscript.deck."+window.selfId+"."+s+".",p="prettycards.deck."+window.selfId+"."+s+".",h=0;window.localStorage.getItem(u+h);)h++;window.localStorage.setItem(u+h,JSON.stringify(d)),window.localStorage.setItem(u+h+".name",n),window.localStorage.setItem(p+h+".description",Ye.getWithFallback("pc-hub-deckby","by "+a,a)),window.localStorage.setItem(p+h+".image",JSON.stringify({id:-2,authorName:"",active:!1,cardId:-2,cardName:"IMPORTED_FROM_HUB",image:r,name:"IMPORTED_FROM_HUB",owned:!0,typeSkin:0,ucpCost:222,unavailable:!1}))}else _e.ImportDeck({soul:s,cards:d.cards,artifacts:d.artifacts},(function(t,n){"success"==t?e.toast({title:window.$.i18n("pc-hub-upload-success")}):(console.log("DeckEditor.ImportDeck error!",n),e.toast({title:window.$.i18n("pc-hub-upload-error1"),text:window.$.i18n("pc-hub-upload-error2")}))}))}(n,a,i,s),this.setAttribute("disabled",!0)})),d.prepend(c)}};var n=window.appendHubDeck;window.appendHubDeck=function(t,r){var a=n(t,r);return e.events.emit("appendHubDeck()",{container:t,deck:r,element:a}),a},e.events.on("appendHubDeck()",(function(e){var t=e.deck;e.element.find(".hubDeckShow .show-button")[0].onclick=function(){window.showDeckLoadHub(t.code,t.date,t.name,t.image,t.owner.username)}}))}():underscript.onPage("Crafting")?r.sktimacraft.value()&&e.events.on("PrettyCards:onPageLoad",(function(){var t=$('<td><input type="text" class="form-control" placeholder=". . ."></input></td>'),n=$("#dust").closest("td");n.css("width","unset").after(t),n.closest("tr").css({display:"flex","flex-wrap":"nowrap","justify-content":"space-between",width:"100%"}),n.closest("table").css("width","100%"),t.find("input").keyup((function(){!function(e){var t=e.value;if(!(t.length<=50||Es&&Es.opened)){var n;try{n=JSON.parse(atob(t))}catch(e){return void console.warn("DECK CODE ERROR",e)}"string"!=typeof n.soul||"object"!=typeof n.cardIds||25!=n.cardIds.length||"object"!=typeof n.artifactIds||n.artifactIds.length>2||(e.value="",Es=window.BootstrapDialog.show({title:window.$.i18n("pc-masscraft-title"),message:Rs(n),size:window.BootstrapDialog.SIZE_WIDE,onshown:function(e){Ls()},buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]}))}}(this)})),e.events.on("PrettyCards:TranslationExtReady",(function(){t.find("input").attr("placeholder",window.$.i18n("pc-masscraft-inserthere"))}))})):underscript.onPage("Settings")?Fs.value()&&e.events.on("PrettyCards:onPageLoad",(function(){var e=document.querySelector("input[name=toggleSpectator]");if(e){Ms=!e.className.includes("btn-success"),e.parentElement.className="PrettyCards_Hidden";var t=document.createElement("P");t.innerHTML=`\n                    <span>${$.i18n("settings-spectator-enable")}</span> \n                    <input id="toggleSpectatorON" type="radio" name="toggleSpectator" value="true" class="toggleSpectator"> \n                    <label for="toggleSpectatorON">${$.i18n("settings-on")}</label> \n                    <input id="toggleSpectatorOFF" type="radio" name="toggleSpectator" value="false" class="toggleSpectator"> \n                    <label for="toggleSpectatorOFF">${$.i18n("settings-off")}</label>\n                `,Os=t.querySelector("#toggleSpectatorON"),Bs=t.querySelector("#toggleSpectatorOFF"),(Ms?Os:Bs).setAttribute("checked","true"),Os.addEventListener("change",Hs),Bs.addEventListener("change",Hs),e.parentElement.parentElement.insertBefore(t,e.parentElement)}})):underscript.onPage("CustomCardSkins")?(e.events.on(":GuestMode",(function(){window.location.href="/SignIn"})),A("PrettyCards:onPageLoad PC_Chat:getSelfInfos",(function(){window.$("title").html("PrettyCards - Custom Card Skins"),window.$(".mainContent").html('\n\t\t\t<div id="PrettyCards_CardSkinsTab" style="font-size: 2em; margin-bottom: 0.1em;">\n\t\t\t\t<button id="PrettyCards_CreateCustomCardSkinButton" class="brn btn-success">Create New</button>\n\t\t\t\t<button id="PrettyCards_DeleteCustomCardSkinButton" class="brn btn-danger">Delete</button>\n\t\t\t</div>\n\t\t\t<div class="gray" style="margin-bottom: 1em;">NOTE: These card skins cannot be used on cards themselves, but they can be used for deck images in my custom deck system.</div>\n\t\t\t<div id="PrettyCards_CardListContainer"></div>\n\t\t'),window.$("#PrettyCards_CreateCustomCardSkinButton").click(Ys),window.$("#PrettyCards_DeleteCustomCardSkinButton").click(qs),zs=function(){for(var e=[],t=0,n=eo(0);n;)n.storageId=t,e[t]=n,n=eo(++t);return e}(),window.allCards&&window.allCards.length>0?js():window.document.addEventListener("allCardsReady",(function(){js()}))}))):underscript.onPage("CustomCards")?(e.events.on(":GuestMode",(function(){window.location.href="/SignIn"})),A("PrettyCards:onPageLoad PrettyCards:onArtifacts",(function(){window.$("title").html("PrettyCards - Custom Cards"),window.$(".mainContent").html('\n\t\t\t<div id="PrettyCards_CustomCardCategories">Loading All Cards . . .</div>\n\t\t\t<div id="PrettyCards_CustomCardShowcase"></div>\n\t\t'),$("#PrettyCards_CustomCardShowcase").css("display","none"),window.allCards&&window.allCards.length>0?uo():window.document.addEventListener("allCardsReady",(function(){uo()}))}))):underscript.onPage("Friendship")?po.value()&&(Qo=window.applyFilters,(Zo=window.$("table").first()).find("td:nth-child(2)").css("width","300px"),Zo.find("td:nth-child(2)").after('<td><select id="PrettyCards_FriendshipSort" class="form-control" style="color:white;" onchange="applyFilters();showPage(0);"><option value="0">Waiting . . .</option></select></td>'),e.events.on("PrettyCards:TranslationExtReady",(function(){for(var e=[window.$.i18n("pc-friendship-sort-xp"),window.$.i18n("pc-friendship-sort-rank"),window.$.i18n("pc-friendship-sort-levelup"),window.$.i18n("pc-friendship-sort-reward",window.$.i18n("item-shiny-pack"))],t="",n=0;n<e.length;n++)t+=`<option value="${n}">${e[n]}</option>`;window.$("#PrettyCards_FriendshipSort").html(t)})),window.applyFilters=function(){var e,t;Qo(),0!=(t=window.$("#PrettyCards_FriendshipSort").val())&&(1==t?e=function(e,t){return e.rank-t.rank}:2==t?e=function(e,t){return e.xpUntilNextLevel-t.xpUntilNextLevel}:3==t&&(e=function(e,t){return e.level>=200&&t.level<200||e.xpUntilNextUcpReward-t.xpUntilNextUcpReward}),pages.sort(e))},e.events.on("Friendship:loaded",(function(e){for(var t=JSON.parse(localStorage["underscript.cache.friendship"]),n=0;n<window.collection.length;n++){var r=window.collection[n];r.level=window.getLevel(r.xp),r.xpUntilNextLevel=window.xpUntilNextLevel(r.level,r.xp);var a=t[r.fixedId+";"+selfId];null!=a&&a.rank>0?r.rank=a.rank:r.rank=1e3;var i=P.getXpForLevel(25*Math.ceil((r.level+1)/25));r.xpUntilNextUcpReward=i-r.xp}}))):underscript.onPage("SmashOrPass")?A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){$("title").html("PrettyCards - Smash or Pass"),localStorage["prettycards.top_advert_closed"]=!0,window.allCards&&window.allCards.length>0||window.document.addEventListener("allCardsReady",(function(){})),document.getElementsByClassName("mainContent")[0].innerHTML=`\n            <div id="PrettyCards_SOP_Phase1">\n                <h1>${window.$.i18n("pc-sop-welcome")}</h1>\n                <h2>${window.$.i18n("pc-sop-q1")}</h2>\n                <p>${window.$.i18n("pc-sop-a1-p1")}</p>\n                <p>${window.$.i18n("pc-sop-a1-p2")}</p>\n                <p>${window.$.i18n("pc-sop-a1-p3")}</p>\n                <h2>${window.$.i18n("pc-sop-q2")}</h2>\n                <p>${window.$.i18n("pc-sop-a2-p1")}</p>\n                <p>${window.$.i18n("pc-sop-a2-p2")}</p>\n                <h2>${window.$.i18n("pc-sop-q3")}</h2>\n                <p>${window.$.i18n("pc-sop-a3-p1")}</p>\n                <br>\n                <button class="btn btn-success" id="PrettyCards_SOP_ToPhase2">${window.$.i18n("pc-sop-onwards")}</button>\n                <button class="btn btn-danger" onclick="window.location.href = '/';">${window.$.i18n("pc-sop-retreat")}</button>\n            </div>\n            <div id="PrettyCards_SOP_Phase2" class="PrettyCards_Hidden">\n                <h1>${window.$.i18n("pc-sop-settings")}</h1>\n                <h2>${window.$.i18n("pc-sop-filters")}</h2>\n                <p style="font-size: 16px;">\n                    <label>\n                        <input type="checkbox" id="baseRarityInput" checked class="rarityInput customRarityInput" rarity="BASE"> <img src="images/rarity/BASE_BASE.png">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="commonRarityInput" checked class="rarityInput" rarity="COMMON"> <img src="images/rarity/BASE_COMMON.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="rareRarityInput" checked class="rarityInput" rarity="RARE"> <img src="images/rarity/BASE_RARE.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="epicRarityInput" checked class="rarityInput" rarity="EPIC"> <img src="images/rarity/BASE_EPIC.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="legendaryRarityInput" checked class="rarityInput" rarity="LEGENDARY"> <img src="images/rarity/BASE_LEGENDARY.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="determinationRarityInput" checked class="rarityInput" rarity="DETERMINATION"> <img src="images/rarity/BASE_DETERMINATION.png" alt="">\n                    </label>\n                </p>\n                <p style="font-size: 16px;">\n                    <label>\n                        <input type="checkbox" id="monsterInput" class="typeCardInput" checked typeCard="0"> <img src="images/souls/MONSTER.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="spellInput" class="typeCardInput" typeCard="1"> <img style="height: 24px;" src="images/artifacts/Arcane_Scepter.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="undertaleInput" class="extensionInput" extension="BASE" checked> <img src="images/rarity/BASE.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="deltaruneInput" class="extensionInput" extension="DELTARUNE" checked> <img src="images/rarity/DELTARUNE.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="tokenRarityInput" checked class="rarityInput customRarityInput" rarity="TOKEN"> <img src="images/rarity/BASE_TOKEN.png">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="everyRarityInput" checked> <img style="height: 24px;" src="https://github.com/elytrafae/prettycards/raw/master/img/RarityIcons/ALL_RARITIES.png" alt="Za Filter">\n                    </label>\n                </p>\n                <h2 style="display:inline-block;">${window.$.i18n("pc-sop-answers")}</h2>\n                <button class="btn btn-success" id="PrettyCards_SOP_AddButton">${window.$.i18n("pc-sop-add")}</button>\n                <div id="PrettyCards_SOP_ButtonSettingsContainer"></div>\n                <h2>${window.$.i18n("pc-sop-other")}</h2>\n                <div style="margin-bottom: 1em;">\n                    <label><input type="checkbox" id="PrettyCards_SOP_ViewSkinsSetting" checked> <span>${window.$.i18n("pc-sop-skins")}</span></label><br>\n                    <label><input type="checkbox" id="PrettyCards_SOP_BlindModeSetting"> <span>${window.$.i18n("pc-sop-blind")}</span></label><br>\n                    <label><input type="checkbox" id="PrettyCards_SOP_RandomizeSetting"> <span>${window.$.i18n("pc-sop-random")}</span></label><br>\n                </div>\n                <button class="btn btn-success" id="PrettyCards_SOP_ToPhase3">${window.$.i18n("pc-sop-start")}</button>\n            </div>\n            <div id="PrettyCards_SOP_Phase3" class="PrettyCards_Hidden">\n                <div id="PrettyCards_SOP_Phase3_CardContainer"></div>\n                <div id="PrettyCards_SOP_Phase3_Main">\n                    <div id="PrettyCards_SOP_Phase3_CardSpace"></div>\n                    <div id="PrettyCards_SOP_Phase3_Skins"></div>\n                </div>\n                <div id="PrettyCards_SOP_Buttons"></div>\n            </div>\n            <div id="PrettyCards_SOP_Phase4" class="PrettyCards_Hidden">\n                <div id="PrettyCards_SOP_Phase4_ButtonContainer">\n                    <button class="btn btn-primary" id="PrettyCards_SOP_TakeScreenshot"><span class="glyphicon glyphicon-camera"></span></button>\n                </div>\n                <div id="PrettyCards_SOP_Phase4_ScreenshotArea"></div>\n            </div>\n        `,document.getElementById("PrettyCards_SOP_ToPhase2").onclick=function(){window.$("#PrettyCards_SOP_Phase1").addClass("PrettyCards_Hidden"),window.$("#PrettyCards_SOP_Phase2").removeClass("PrettyCards_Hidden")},document.getElementById("everyRarityInput").onchange=function(){var e=$("#everyRarityInput").prop("checked");$("#"+ho.join(", #")).prop("checked",e)},ko(window.$.i18n("pc-sop-smash"),"btn-success"),ko(window.$.i18n("pc-sop-smashobj"),"btn-warning"),ko(window.$.i18n("pc-sop-pass"),"btn-danger"),$("#PrettyCards_SOP_ButtonSettingsContainer").sortable({appendTo:parent,axis:"y",cursor:"grabbing",placeholder:"sortable-placeholder",forcePlaceholderSize:!0,handle:".handle"}),document.getElementById("PrettyCards_SOP_AddButton").onclick=function(){ko("","btn-success")},document.getElementById("PrettyCards_SOP_ToPhase3").onclick=So,document.getElementById("PrettyCards_SOP_TakeScreenshot").onclick=function(){Po||(Po=!0,$("#PrettyCards_SOP_Phase4_ScreenshotArea").addClass("PrettyCards_SOP_Screenshot"),window.html2canvas(document.getElementById("PrettyCards_SOP_Phase4_ScreenshotArea")).then((e=>{Po=!1,P.saveCanvasAsImage(e,"sop_results");var t=$("<div><p>The screenshot should have started downloading! If not, you can save it from here!</p></div>");$(e).css("height",""),$(e).css("width","100%"),t.append(e),$("#PrettyCards_SOP_Phase4_ScreenshotArea").removeClass("PrettyCards_SOP_Screenshot"),window.BootstrapDialog.show({title:"Successful Screenshot!",message:t,buttons:[{label:"Close",cssClass:"btn-primary",action:function(e){e.close()}}]})})))}})):underscript.onPage("CustomTranslations")&&e.events.on("PrettyCards:onPageLoad",(function(){o()(".mainContent").html("<h1>Please wait until you're logged into chat . . .</h1>"),e.events.on("PC_Chat:getSelfInfos",(function(){P.translatorFeaturesAccess()?(e.events.on("PrettyCards:onPageLoad",(function(){window.$("title").html("PrettyCards - Custom Translations"),o()(".mainContent").html('\n            <div id="PrettyCards_CT_Phase0">\n                <h1>Please select a source!</h1>\n                <div id="PrettyCards_CT_Phase0_SourceSelect"></div>\n            </div>\n            <div id="PrettyCards_CT_Phase1" class="PrettyCards_Hidden">\n                <h1>Please select a language!</h1>\n                <div id="PrettyCards_CT_Phase1_LangaugeSelect"></div>\n            </div>\n            <div id="PrettyCards_CT_Phase2" class="PrettyCards_Hidden">\n                <div id="PrettyCards_CT_Phase2_MainContent">\n                    <div id="PrettyCards_CT_Phase2_FilterRow">\n                        <div>\n                            <p>Search</p>\n                            <input type="text" class="form-control" id="searchInput" onkeyup="applyFilters(); showPage(0);" placeholder="Search..." style="width: 180px;" data-lpignore="true">\n                        </div>\n                        <div>\n                            <p>Category</p>\n                            <select id="selectCategory" class="form-control" style="width: 160px; color: white;" onchange="applyFilters(); showPage(0);"></select>\n                        </div>\n                        <div>\n                            <p>Status</p>\n                            <select id="selectStatus" class="form-control" style="width: 170px; color: white;" onchange="applyFilters(); showPage(0);">\n                                <option value="ALL">All Entries</option>\n                                <option value="DONE">Translated</option>\n                                <option value="NEW">New</option>\n                            </select>\n                        </div>\n                        <div>\n                            <button class="btn btn-primary" id="PrettyCards_CT_Phase2_QuickRefBtn">Quick Ref</button>\n                            <p><select id="selectPage" onchange="showPage(this.value)"></select> / <span id="maxPages"></span></p>\n                        </div>\n                        <div>\n                            <button id="btnPrevious" onclick="previousPage();" class="btn btn-lg btn-primary" disabled=""><span class="glyphicon glyphicon-chevron-left"></span></button>\n                            <button id="btnNext" onclick="nextPage();" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-chevron-right"></span></button>\n                        </div>\n                    </div>\n\n                    <p id="PrettyCards_CT_Phase2_Preview"><span id="PrettyCards_CT_Phase2_PreviewName"></span><span id="PrettyCards_CT_Phase2_Preview"></span></p>\n\n                    <p id="PrettyCards_CT_Phase2_Error" class="red"></p>\n                    <table id="PrettyCards_CT_Phase2_Table" class="translation table table-bordered">\n                        <tbody>\n                            <tr>\n                                <td id="PrettyCards_CT_Phase2_TranslationKey" colspan="2">translation-key-here</td>\n                                <td style="width:50px; text-align: center;">\n                                    <button class="btn btn-sm btn-success" onclick="PrettyCards_CT_downloadJSON()">\n                                        <span class="glyphicon glyphicon-send"></span>\n                                    </button>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan="3" id="PrettyCards_CT_Phase2_OGEnglishText">OG ENGLISH TEXT</td>\n                            </tr>\n                            <tr>\n                                <td colspan="3" id="PrettyCards_CT_Phase2_EnglishText">ENGLISH TEXT</td>\n                            </tr>\n                            <tr>\n                                <td colspan="3" id="PrettyCards_CT_Phase2_OGTranslatedText">OG TRANSLATED TEXT</td>\n                            </tr>\n                            <tr>\n                                <td colspan="3">\n                                    <textarea maxlength="500" class="form-control" id="PrettyCards_CT_Phase2_TranslationArea"></textarea>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div id="PrettyCards_CT_Phase2_QuickRef" class="PrettyCards_Hidden">\n                    <h1>Quick Reference Guide!</h1>\n                    <h3><a href="/translateManual.jsp" target="_blank">Onutrem\'s Guide</a></h3>\n                </div>\n            </div>\n        '),o().getJSON(P.asset("json/translationQuickRef.json"),{},(function(e){for(var t=o()("#PrettyCards_CT_Phase2_QuickRef"),n=0;n<e.length;n++){var r=e[n],a=o()(`\n                <div class="PrettyCards_CT_Phase2_QuickRefEntry">\n                    <h2 class="PrettyCards_CT_Phase2_QuickRefEntryTitle" onclick="$(this).parent().toggleClass('PrettyCards_CT_Phase2_QuickRefEntryOpen')">${r.title}</h2>\n                    <p>${r.description}</p>\n                    <p>Syntax: <code class="PrettyCards_DarkThemeCode">${r.syntax}</code></p>\n                    <p>Example: <code class="PrettyCards_DarkThemeCode">${r.example}</code></p>\n                </div>\n            `);t.append(a)}})),o()("#PrettyCards_CT_Phase2_QuickRefBtn").click((function(){o()(".mainContent").toggleClass("PrettyCards_WiderMainContent"),o()("#PrettyCards_CT_Phase2_QuickRef").toggleClass("PrettyCards_Hidden")})),e.events.on("PrettyCards:translationSourcesDone",(function(){t.translationManager.languageSources.forEach((e=>{var t=o()(`<div>${e.name}</div>`);t.click((function(){!function(e){mo=e,o()("#PrettyCards_CT_Phase0").addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase1").removeClass("PrettyCards_Hidden"),o().getJSON("/translation/en.json",{},(function(e){go=e,$o()})),o().getJSON(mo.urlFunc("en"),{},(function(e){yo=e,$o()}))}(e)})),o()("#PrettyCards_CT_Phase0_SourceSelect").append(t)}))})),e.events.on("translation:loaded",(function(){for(var e=1;e<window.availableLanguages.length;e++){const n=window.availableLanguages[e];var t=o()(`<div>${window.$.i18n("chat-"+n)}</div>`);t.click((function(){To(n)})),o()("#PrettyCards_CT_Phase1_LangaugeSelect").append(t)}}))})),window.applyFilters=Lo,window.showPage=Oo,window.nextPage=Ro,window.previousPage=Mo,window.PrettyCards_CT_downloadJSON=Fo):o()(".mainContent").html("<h1 class='red'>You don't have access to this page!</h1>")}))})),r.override_decks.value()&&(underscript.onPage("Decks")?(Ai||(Ai=!0,A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){$.get("/CardSkinsConfig?action=shop",{},(function(e){gi=JSON.parse(e.cardSkins),function(){for(var e=0;e<gi.length;e++){var t=gi[e];t.owned?yi.push(t):wi.push(t)}ki[2]=yi}()})),A("Chat:Connected",(function(){!function(){for(var e=window.localStorage["prettycards.custom_card_skin."+window.selfId+".0"],t=0;"string"==typeof e;)vi.push(JSON.parse(e)),t++,e=window.localStorage["prettycards.custom_card_skin."+window.selfId+"."+t];ki[0]=vi}()})),Si.forEach((e=>{$.getJSON(P.asset(`json/aprilFools${e.year}.json`),{},(function(t){!function(e,t,n,r,a){for(var i=0;i<e.length;i++){a=e[i];var s=window.getCard(a);t.push({active:!1,authorName:"???",cardId:s.id,cardName:s.name,id:a,image:P.asset(`img/Cards/April_Fools_${n}/${s.image}.png`),name:window.$.i18n("pc-skinselect-skinname-april",n,window.$.i18n(`card-name-${s.id}`,1)),owned:!0,typeSkin:0,ucpCost:r,unavailable:!1,isCustom:!0})}}(t,e.list,e.year,e.ucpCost,e.id)}))})),xi.forEach(((e,t)=>{xi[t]="string"==typeof e?window.$.i18n(e):window.$.i18n(e[0],e[1],e[2])}))})),e.events.on("allCardsReady",Ei)),A("SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts",(function(){Ni.callback=function(e){Ui(),Gi(e)},Ni.canEditDecks=!0,Ni.hideInvalidDecks=!1,Ni.AppendTo(Oi)})),Fi.style.display="none",document.querySelectorAll(".mainContent > br").forEach((function(e){e.remove()})),document.getElementsByClassName("mainContent")[0].appendChild(Oi),window.addCard=function(e,t,n){var r=window.soul,a=Ji(window.deckCollections[r],e,t);Xi(a,window.decks[window.soul])&&(updateQuantity(r,a,-1),addDeckCardSlot(r,a),refreshDeckList(),applyFilters(),showPage(currentPage),n||es(),Bi.isBase&&_e.AddCard(e,t,Bi.soul,(function(){})))},window.removeCard=function(e,t){var n=Ji(window.deckCollections[window.soul],e,t),r=window.soul;updateQuantity(r,n,1),removeDeckCardSlot(r,n),refreshDeckList(),applyFilters(),showPage(currentPage),removeCardHover(),es(),Bi.isBase&&_e.RemoveCard(e,t,Bi.soul,(function(){}))},window.removeAllCards=Zi,window.addArtifact=Qi,window.clearArtifacts=function(){var e=window.soul;decksArtifacts[e]=[],updateArtifactSlots(),checkCompletion(),dontUpdateDeck||es(),Bi.isBase&&_e.RemoveArtifacts(Bi.soul,(function(){}))},window.showDeckLoad=function(e){var t=e.classe||e.soul;t==Bi.soul?ts(e):BootstrapDialog.show({title:"Unable to Import!",type:window.BootstrapDialog.TYPE_DANGER,message:'The deck you are trying to import is of a different soul. Please open or create a new <span class="'+t+'">'+t+"</span> deck to import this deck!",buttons:[{label:$i.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})},A("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){var e=$i(".btn-storage").first().parent();e.css("display","none"),document.getElementById("selectSouls").style.display="none";var t=$i("<div style='margin-bottom: 5px;' class='PrettyCards_DeckButtons'></div>");t.insertBefore(e);var n=document.createElement("BUTTON");t.append(n),n.style="width: 50%; margin: 0; text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;",n.className="btn btn-primary",n.innerHTML=window.$.i18n("pc-decks-change"),n.onclick=Hi.bind(this),t.append(Mi),Mi.style="width: 50%; margin: 0; text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;",Mi.className="btn btn-primary",Mi.innerHTML=window.$.i18n("pc-decks-edit"),Mi.onclick=qi.bind(this)}))):underscript.onPage("Play")?function(){if(document.querySelector('span[data-i18n="[html]play-incomplete"]'))return console.log("NO DECKS!"),void A("PrettyCards:onArtifacts",(function(){for(var e=Ae(),t=0;t<e.length;t++){var n=e[t];if(ss.IsValidDeck(n)){rs=!1,is=n,gs("reload");break}}}));ls("#phase1 > table").css("display","none"),ls("#game-modes").css("display","none"),ls("#phase1").append('\n\t\t<div class="PrettyCards_GamemodeContainer">\n\t\t\t<div class="PrettyCards_GamemodeDeck">\n\t\t\t\t<div id="PrettyCards_DeckContainer"></div>\n\t\t\t\t<div id="PrettyCards_DeckArtifacts"></div>\n\t\t\t\t<div id="PrettyCards_SeasonRewards">\n\t\t\t\t\t<a style="color: gray; border: 1px dotted gray; padding: 5px; background-color: black;" href="rewards.jsp" class="pointer" data-i18n="[html]play-rewards"></a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="PrettyCards_Gamemodes">\n\t\t\t\t<div id="standardContainer"></div>\n\t\t\t\t<div id="rankedContainer"></div>\n\t\t\t\t<div id="customContainer"></div>\n\t\t\t\t<div id="tornamentContainer">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'),ls(".mainContent").append('<div id="deckSelectContainer" hidden></div>'),ls(".playSoulArtifacts").css({opacity:"0",position:"absolute"}),ls("#standardContainer").append(ls("#standard-mode").addClass("game-mode")),ls("#rankedContainer").append(ls("#ranked-mode").addClass("game-mode")),ls("#customContainer").append(ls("#custom-mode").addClass("game-mode")),ls("#standard-mode")[0].onclick=function(){gs("standard")},ls("#ranked-mode")[0].onclick=function(){gs("ranked")},A("SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts PrettyCards:TranslationExtReady",(function(){window.$("#PrettyCards_SeasonRewards a").html(window.$.i18n("play-rewards")),ss.closable=!0,ss.closeCallback=hs,ss.callback=fs,ss.AppendTo(ls("#deckSelectContainer")[0]);var e=Number(window.localStorage["prettycards."+window.selfId+".selectedPlayDeckId"]),t=window.localStorage["prettycards."+window.selfId+".selectedPlayDeckSoul"];if("number"==typeof e&&"string"==typeof t){var n=ss.getDeckBySoulAndId(t,e);null==n?(ms({soul:"DETERMINATION",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:Se,description:window.$.i18n("pc-play-deckerror")}),rs=!0):ms(n)}else ms({soul:"UNIVERSAL",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:xe,description:window.$.i18n("pc-play-nodeck")}),rs=!0;as=!1})),ls("#PrettyCards_DeckContainer").click(ps)}():underscript.onPage("GamesList")&&($("#state1 > table").css("display","none"),$("#state1 br").css("display","none"),$(".mainContent > br").css("display","none"),$("#game-modes").css("display","none"),$("#state1").append('\n\t\t<div class="PrettyCards_GamemodeContainer">\n\t\t\t<div class="PrettyCards_GamemodeDeck">\n\t\t\t\t<div id="PrettyCards_DeckContainer"></div>\n\t\t\t\t<div id="PrettyCards_DeckArtifacts"></div>\n\t\t\t\t<div id="PrettyCards_JoinCreate"></div>\n\t\t\t</div>\n\t\t\t<div class="PrettyCards_GamesList">\n\t\t\t\t<table id="PrettyCards_Games" class="table table-bordered">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-name"></td>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-owner"></td>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-slots"></td>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-password"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t'),$(".mainContent").append('<div id="deckSelectContainer" hidden></div>'),$(".playSoulArtifacts").css({opacity:"0",position:"absolute"}),$("#PrettyCards_JoinCreate").append($("#state1 button")),$("#PrettyCards_JoinCreate button")[0].onclick=function(){window.PrettyCards_StartJoiningQueue(null,"create")},A("SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts PrettyCards:TranslationExtReady",(function(){vs.closable=!0,vs.closeCallback=_s,vs.callback=Ps,vs.AppendTo($("#deckSelectContainer")[0]);var e=Number(window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]),t=window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"];if("number"==typeof e&&"string"==typeof t){var n=vs.getDeckBySoulAndId(t,e);null==n?(ks({soul:"DETERMINATION",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:Se,description:window.$.i18n("pc-play-deckerror")}),ys=!0):ks(n)}else ks({soul:"UNIVERSAL",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:xe,description:window.$.i18n("pc-play-nodeck")}),ys=!0;ws=!1})),$("#PrettyCards_DeckContainer").click((function(){ws||($("#state1").attr("hidden",!0).css("display","none"),$("#deckSelectContainer").attr("hidden",!1))})),window.regenerateTable=function(e){$("#PrettyCards_Games").find("tr:gt(0)").remove();for(var t=0;t<e.length;t++){var n;n=void 0!==e[t].player?"2/2":"1/2",e[t].gameType,e[t].isPrivate?$("#PrettyCards_Games tr:last").after('<tr class="pointer" onclick="PrettyCards_StartJoiningQueue('+e[t].id+", 'password')\"><td>"+e[t].name+"</td><td>"+e[t].owner.username+"</td><td>"+n+"</td><td>"+$.i18n("lobby-yes")+"</td></tr>"):$("#PrettyCards_Games tr:last").after('<tr class="pointer" onclick="PrettyCards_StartJoiningQueue('+e[t].id+", 'normal')\"><td>"+e[t].name+"</td><td>"+e[t].owner.username+"</td><td>"+n+"</td><td>"+$.i18n("lobby-no")+"</td></tr>")}}))})()})();