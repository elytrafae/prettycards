// ==UserScript==
// @name        PrettyCards
// @version     2.15.4
// @author      elytrafae
// @description Make (parts of) Undercards look fabulous!
// @homepage    https://github.com/elytrafae/prettycards
// @supportURL  https://github.com/elytrafae/prettycards
// @match       https://*.undercards.net/*
// @exclude     https://*.undercards.net/*/*
// @updateURL   https://github.com/elytrafae/prettycards/releases/latest/download/prettycards.user.js
// @downloadURL https://github.com/elytrafae/prettycards/releases/latest/download/prettycards.user.js
// @grant       none
// @run-at      document-idle
// ==/UserScript==

/*! For license information please see prettycards_lite.user.js.LICENSE.txt */
(()=>{var e={4810:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.PrettyCards_ArtBG_Legendary {\n    box-shadow: inset 0 0 10px 1px rgb(255, 255, 0);\n    animation: LegendaryShadow 3s infinite ease-in-out alternate;\n}\n\n@keyframes LegendaryShadow {\n    0% {\n        box-shadow: inset 0 0 10px 1px rgb(255, 255, 0);\n    }\n    100% {\n        box-shadow: inset 0 0 20px 2px rgb(255, 255, 0);\n    }\n}\n\n.PrettyCards_ArtifactListBackground {\n    box-shadow: inset 0 0 10px 5px #000000;\n}\n\n.PrettyCards_ArtBG_Genocide {\n    background-image: url($asset$img/ArtifactBackgrounds/Genocide.png);\n    background-size: auto;\n    background-position: top left;\n    background-repeat: repeat;\n}\n\n.PrettyCards_ArtBG_DarkFountain {\n    background-image: url($asset$img/ArtifactBackgrounds/Dark_Fountain.png);\n    background-size: cover;\n    background-position: center center;\n}\n\n.PrettyCards_ArtBG_UltimateFusion {\n    background-image: url($asset$img/ArtifactBackgrounds/Ultimate_Fusion.png);\n    background-size: cover;\n    background-repeat: repeat;\n    background-position: top left;\n}\n\n.PrettyCards_ArtBG_FreeKromer {\n    background-image: url($asset$img/ArtifactBackgrounds/FREE_KROMER.png);\n    background-size: cover;\n    background-repeat: repeat;\n    background-position: bottom left;\n}\n\n.PrettyCards_ArtBG_WornDagger {\n    background-image: url($asset$img/ArtifactBackgrounds/Worn_Dagger.png);\n    background-size: cover;\n    background-position: center center;\n}\n\n.PrettyCards_ArtBG_ToughGlove {\n    background-image: url($asset$img/ArtifactBackgrounds/Tough_Glove.png);\n    background-size: cover;\n    background-position: center right;\n}\n\n.PrettyCards_ArtBG_EmptyGun {\n    background-image: url($asset$img/ArtifactBackgrounds/Empty_Gun.png);\n    background-size: cover;\n    background-position: top left;\n}\n\n.PrettyCards_ArtBG_BurntPan {\n    background-image: url($asset$img/ArtifactBackgrounds/Burnt_Pan.png);\n    background-size: cover;\n    background-position: center left;\n}\n\n.PrettyCards_ArtBG_ToyKnife {\n    background-image: url($asset$img/ArtifactBackgrounds/Toy_Knife.png);\n    background-size: cover;\n    background-position: bottom left;\n}\n\n.PrettyCards_ArtBG_BalletShoes {\n    background-image: url($asset$img/ArtifactBackgrounds/Ballet_Shoes.png);\n    background-size: cover;\n    background-position: center center;\n}\n\n.PrettyCards_ArtBG_TornNotebook {\n    background-image: url($asset$img/ArtifactBackgrounds/Torn_Notebook.png);\n    background-size: cover;\n    background-position: top left;\n}\n\n.PrettyCards_ArtBG_MagicWand {\n\n    background-image: url($asset$img/ArtifactBackgrounds/Magic_Wand.png);\n    background-size: cover;\n    background-position: top center;\n}\n\n",""]);const o=s},4145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,'\n@keyframes LegendaryArtifact {\n\tfrom { filter: drop-shadow(0.1em 0.08em 0.2em #ff0); }\n\tto { filter: drop-shadow(0.1em 0.08em 0.4em #ff0); }\n}\n\n@keyframes DTArtifact {\n\tfrom { filter: drop-shadow(0.1em 0.08em 0.05em #f00); }\n\tto { filter: drop-shadow(0.1em 0.08em 0.4em #f00); }\n}\n\n/*\nimg[legendary="true"] {\n\tanimation: LegendaryArtifact 2s alternate infinite ease-in-out;\n}*/\n\n.PrettyCards_Artifact_LEGENDARY {\n\tanimation: LegendaryArtifact 2s alternate infinite ease-in-out;\n}\n\n/*\nimg[name="Cloudy Glasses"],\nimg[name="Crab Apple"],\nimg[name="Economics"],\nimg[name="Save"],\nimg[name="Sea Tea"],\nimg[name="Seap"],\nimg[name="Torn Notebook"],\nimg[name="True Justice"],\nimg[name="IQ"],\nimg[name="Hail"] {\n\tfilter: drop-shadow(0.1em 0.08em 0.4em #00ca78);\n}*/\n\n.PrettyCards_Artifact_TOKEN {\n\tfilter: drop-shadow(0.1em 0.08em 0.4em #00ca78);\n}\n\n\n/*\nimg[name="Genocide"],img[name="Outbreak"],img[name="Ultimate Fusion"] {\n\tanimation: DTArtifact 1.5s alternate infinite ease-in-out;\n}*/\n\n.PrettyCards_Artifact_DETERMINATION {\n\tanimation: DTArtifact 1.5s alternate infinite ease-in-out;\n}\n\n.PrettyCards_Artifact_Soul_DETERMINATION {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em red);\n}\n\n.PrettyCards_Artifact_Soul_BRAVERY {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #fca500);\n}\n\n.PrettyCards_Artifact_Soul_JUSTICE {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #FFFF00);\n}\n\n.PrettyCards_Artifact_Soul_KINDNESS {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #00c000);\n}\n\n.PrettyCards_Artifact_Soul_PATIENCE {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #41fcff);\n}\n\n.PrettyCards_Artifact_Soul_INTEGRITY {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #0064ff);\n}\n\n.PrettyCards_Artifact_Soul_PERSEVERANCE {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #d535d9);\n}\n\n.PrettyCards_Artifact_Soul_MONSTER {\n\tfilter: drop-shadow(0.1em 0.08em 0.05em #ffffff);\n}\n\n.PrettyCards_Artifact {\n\twidth: 4em;\n\theight: 4em;\n\tmargin: 0.5em;\n\tcursor: pointer;\n}\n\n.PrettyCards_AverageSizedArtifact {\n\theight: 24px;\n}\n\n/*\n.PrettyCards_ScreenCover {\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tborder: 0px;\n\tmargin: 0px;\n\tpadding: 0px;\n\tz-index: 1040;\n}\n\n.PrettyCards_HalfTransparentBG {\n\tbackground-color: rgba(0, 0, 0, 0.5);\n}\n*/\n\n.PrettyCards_ArtifactDisplayBox {\n\t/*position: absolute;*/\n\tposition: relative;\n\tmargin-top: 150px;\n\tborder: 5px solid white;\n\tbackground-color: black;\n\tpadding: 12px;\n\tpadding-top: 60px;\n\tbackground-position: center;\n\tbackground-size: cover;\n}\n\n.PrettyCards_ArtifactCircle {\n\tborder-radius: 50%;\n\twidth: 192px;\n\theight: 192px;\n\tborder: 5px solid white;\n\tbackground-color: black;\n\tposition: absolute;\n\tleft: calc(50% - (192px / 2));\n\ttop: -140px;\n\toverflow: hidden;\n}\n\n.PrettyCards_ArtifactImage {\n\tposition: relative;\n\twidth: 128px;\n\theight: 128px;\n\ttop: 28px;\n\tleft: 28px;\n\tperspective: 1px;\n}\n\n.PrettyCards_ArtifactDisplayName {\n\tfont-size: 25px;\n\ttext-align: center;\n}\n\n.PrettyCards_ArtifactDisplayRarity {\n\tfont-size: 16px;\n\ttext-align: center;\n}\n\n.PrettyCards_ArtifactDisplayDescription {\n\tmargin-top: 25px;\n\tfont-size: 16px;\n}\n\n.PrettyCards_ArtifactDisplayNoteTitle {\n\tmargin-top: 30px;\n\tfont-size: 2em;\n}\n\n.PrettyCards_SoulDisplay_SpellsHeader {\n\tmargin-top: 20px;\n\ttext-align: center;\n\tfont-size: 18px;\n}\n\n.PrettyCards_SoulDisplay_Spells {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tmargin: 0 61px;\n}\n\n.PrettyCards_SoulDisplay_Spells .card {\n\tmargin: 5px;\n}\n\n.PrettyCards_ArtifactListRow {\n\tmargin: 15px 0px;\n\tmargin-left: 20px;\n\tmin-height: 100px;\n\tposition: relative;\n}\n\n.PrettyCards_ArtifactListBackground {\n\t\t/* background-color: #990000; */\n\t\tposition: absolute;\n\t\ttop: -7.5px;\n\t\tleft: -35px;\n\t\tbottom: -7.5px;\n\t\tright: -15px;\n\t\tbackground-position: center;\n\t\tbackground-size: cover;\n}\n\n.PrettyCards_ArtifactListCircle {\n\tborder-radius: 50%;\n\twidth: 96px;\n\theight: 96px;\n\tborder: 5px solid white;\n\tbackground-color: black;\n\tposition: absolute;\n\tleft: -110px;\n\ttop: 0px;\n\toverflow: hidden;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactListImage,.PrettyCards_ArtifactListImage.PrettyCards_SplitSoul_Container {\n\tposition: relative;\n    width: 96px;\n    height: 96px;\n    top: -5px;\n    left: -5px;\n\tperspective: 1px;\n}\n\n.PrettyCards_ArtifactListName {\n\tfont-size: 20px;\n\tpadding-top: 5px;\n\tposition: relative;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactDisplayCounter {\n\tposition: absolute;\n\tleft: 330px;\n\ttop: -20px;\n\tfont-size: 3em;\n\tbackground-color: black;\n\tborder: 5px solid white;\n\twidth: 1.6em;\n\theight: 1.6em;\n\tborder-radius: 50%;\n\ttext-align: center;\n\tvertical-align: middle;\n\tline-height: 1.35;\n}\n\n.PrettyCards_ArtifactListCounter {\n\tposition: absolute;\n\tleft: -50px;\n\ttop: 55px;\n\tfont-size: 1.5em;\n\tbackground-color: black;\n\tborder: 5px solid white;\n\twidth: 2em;\n\theight: 2em;\n\tborder-radius: 50%;\n\ttext-align: center;\n\tvertical-align: middle;\n\tline-height: 1.55;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactDisplayDisabled {\n\tfont-size: 20px;\n\ttext-align: center;\n}\n\n.PrettyCards_ArtifactListDescription {\n\tposition: relative;\n\tz-index: 2;\n}\n\n.PrettyCards_ArtifactDisplay_TOKEN {\n\tfilter: drop-shadow(0px 0px 10px #00c800);\n}\n\n.PrettyCards_ArtifactDisplay_RARE {\n\tfilter: drop-shadow(0px 0px 10px rgb(0, 26, 255));\n}\n\n.PrettyCards_ArtifactDisplay_EPIC {\n\tfilter: drop-shadow(0px 0px 12px purple);\n\tanimation: EpicArtifactGlow 3s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_LEGENDARY {\n\tfilter: drop-shadow(0px 0px 15px gold);\n\tanimation: ArtifactFloat 2s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_Floating {\n\tanimation: ArtifactFloat 2s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_DETERMINATION {\n\tanimation: ArtifactFloat 2s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_DETERMINATION img {\n\tanimation: DTArtifactGlow 3s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_MYTHIC {\n\tanimation: ArtifactFloat 3s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_MYTHIC img {\n\tanimation: MYTHICArtifactGlow 7s alternate infinite ease-in-out;\n}\n\n.PrettyCards_ArtifactDisplay_FloatingForSoul {\n\tanimation: ArtifactFloat 3s alternate infinite ease-in-out;\n}\n\n@keyframes ArtifactFloat {\n\tfrom { transform: translatey(12px);}\n\tto { transform: translatey(-12px);}\n}\n\n@keyframes EpicArtifactGlow {\n\tfrom {filter: drop-shadow(0px 0px 8px rgb(66, 0, 66));}\n\tto {filter: drop-shadow(0px 0px 12px rgb(194, 0, 194));}\n}\n\n@keyframes DTArtifactGlow {\n\tfrom {filter: drop-shadow(0px 0px 8px #660000);}\n\tto {filter: drop-shadow(0px 0px 20px #EE0000);}\n}\n\n@keyframes MYTHICArtifactGlow {\n    0% {\n        filter: drop-shadow(0px 0px 20px red)\n    }\n\n    17% {\n        filter: drop-shadow(0px 0px 20px #ff0)\n    }\n\n    33% {\n        filter: drop-shadow(0px 0px 20px #0f0)\n    }\n\n    50% {\n        filter: drop-shadow(0px 0px 20px #0ff)\n    }\n\n    67% {\n        filter: drop-shadow(0px 0px 20px #00f)\n    }\n\n    84% {\n        filter: drop-shadow(0px 0px 20px #f0f)\n    }\n\n    100% {\n        filter: drop-shadow(0px 0px 20px red)\n    }\n}\n\n.PrettyCards_ArtifactDisplayShop {\n\tfont-size: 1.4em;\n    margin-top: 1.5em;\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_DETERMINATION {\n\tfilter: drop-shadow(0px 0px 20px red);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_BRAVERY {\n\tfilter: drop-shadow(0px 0px 20px #fca500);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_JUSTICE {\n\tfilter: drop-shadow(0px 0px 20px #FFFF00);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_KINDNESS {\n\tfilter: drop-shadow(0px 0px 20px #00c000);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_PATIENCE {\n\tfilter: drop-shadow(0px 0px 20px #41fcff);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_INTEGRITY {\n\tfilter: drop-shadow(0px 0px 20px #0064ff);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_PERSEVERANCE {\n\tfilter: drop-shadow(0px 0px 20px #d535d9);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_MONSTER {\n\tfilter: drop-shadow(0px 0px 20px #ffffff);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_SWITCH .PrettyCards_SplitSoul_Left img {\n\tfilter: drop-shadow(0px 0px 20px #41FCFF);\n}\n\n.PrettyCards_ArtifactDisplay_SoulArt_SWITCH .PrettyCards_SplitSoul_Right img {\n\tfilter: drop-shadow(0px 0px 20px #FF0000);\n}',""]);const o=s},2760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.PrettyCards_CardBottomLeftInfo {\n    height: 16px;\n    position: absolute;\n    left: 13px;\n    top: 106px;\n    z-index: 8;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n}\n\n.PrettyCards_CardBottomLeftInfo > img {\n    height: 16px;\n    cursor: help;\n    margin-right: 4px;\n}",""]);const o=s},9225:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.PrettyCards_SkinHeader {\n\tfont-size: 25px;\n\tpadding: 5px;\n}\n\n.PrettyCards_SkinDiv {\n\tposition: relative;\n\twidth: 160px; \n\theight: 90px; \n\tmargin: 4px; \n\tdisplay: inline-block;\n\tborder: 1px white solid;\n}\n\n.PrettyCards_SkinText {\n\tdisplay:table-cell;\n\tvertical-align: middle;\n\twidth: 160px;\n\theight: 90px;\n\ttext-align: center; \n\tbackground-color: rgba(100, 100, 100, 0.3);\n\ttext-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;\n}\n\n.PrettyCards_SkinsContainer {\n\twidth: 100%;\n\theight: 500px;\n\toverflow-y: auto;\n}\n\n.PrettyCards_SkinDiv:hover .PrettyCards_SkinText {\n\tdisplay: none;\n}\n\n.PrettyCards_FullSkinPreview {\n\tdisplay: none;\n    position: absolute;\n    top: -1px;\n    left: -1px;\n    border: 1px white solid;\n    background-color: black;\n    width: 160px;\n    z-index: 2;\n}\n\n.PrettyCards_SkinDiv:hover .PrettyCards_FullSkinPreview {\n\tdisplay: block;\n}\n\n.PrettyCards_FullSkinPreview img {\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0;\n}",""]);const o=s},1252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n/*\n.mainContent .avatarGroup {\n    display: inline;\n    position: relative;\n    top: 15px;\n}\n*/\n\n.PrettyCards_FadeUCP {\n    color: #5ca890;\n    text-shadow: 0 0 10px #5ca890;\n}\n\n.PrettyCards_CosmeticsStar {\n    display: none;\n    position: absolute;\n    text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;\n    font-size: 1.5em;\n}\n\n.avatarGroup .PrettyCards_CosmeticsStar {\n    right: -42px;\n    top: -62px;\n}\n\n*:hover > .PrettyCards_CosmeticsStar {\n    display: block;\n}\n\n.PrettyCards_CosmeticsStar:hover {\n    color: yellow;\n}\n\n.emoteGroup {\n    position: relative;\n    width: fit-content;\n}\n\n.PrettyCards_EmoteSoundPlayer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    font-size: 3em;\n    display: none;\n    line-height: 1.5;\n    text-align: center;\n}\n\n.emoteGroup:hover .PrettyCards_EmoteSoundPlayer {\n    display: block;\n}\n\n.PrettyCards_EmoteSoundPlayer:active {\n    color: rgb(175, 175, 175);\n}",""]);const o=s},5727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n#PrettyCards_CustomCardSkins_EditContainer {\n\t\n}\n\n#PrettyCards_CardListContainer {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tflex-direction: row;\n}\n\n.PrettyCards_RowFlex {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n}\n\n.PrettyCards_CustomCardSkins_EditColumn {\n\twidth: 50%;\n}\n\n.PrettyCards_InvertedP {\n\tmargin: 10px 0 0;\n}",""]);const o=s},4811:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.cardImage {\n\tbackground-size:contain!important;\n\tbackground-position: center!important;\n}\n\n.cardRarity {\n\tbackground-size:contain!important; \n\tbackground-position: center!important;\n}\n\n/*\n.monster.ext_DDLC .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/DDLC/frame_monster.png');\n}\n\n.spell.ext_DDLC .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/DDLC/frame_spell.png');\n}\n*/\n\n.monster.ext_LUNA .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/LUNA/frame_monster.png');\n}\n\n.spell.ext_LUNA .cardFrame {\n\tbackground-image: url('$asset$img/CardFrames/LUNA/frame_spell.png');\n}\n\n.card.ext_DDLC .cardBackground {\n\tbackground-image: url('$asset$img/CardFrames/DDLC/frame_background.png'); \n\ttop: 7px; \n\theight: 231px;\n}\n\n/*\n@font-face {\n\tfont-family: Aller;\n\tsrc: url($asset$fonts/Aller_Rg.ttf);\n}\n*/\n\n.card.ext_DDLC {\n\t/*font-family: Aller;*/\n}\n\n.ext_DDLC .cardHeader, .ext_DDLC .cardFooter {\n\tbackground-color: rgb(0, 0, 0, 0); \n}\n\n.card .breakingSkinBackground {\n\tpointer-events: none;\n    width: 176px;\n    height: 246px;\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 1;\n}\n\n.cardName.SWITCH div {\n\tdisplay: inline-block;\n}\n\n.cardName.SWITCH div,.SWITCH {\n\tbackground: linear-gradient(to right, #42FCFF 50%, #FF0000 50%);\n\ttext-shadow: none;\n\t-webkit-background-clip: text;\n\t-webkit-text-fill-color: transparent;\n\t/*display: inline-block;*/\n}\n\n.HATE {\n\tcolor: black;\n\ttext-shadow: -1px -1px white, 1px 1px white, -1px 1px white, 1px -1px white;\n}\n\n.card:hover .glyphicon.PrettyCards_CardThemeSongPlayer {\n\tdisplay: block;\n}\n\n.glyphicon.PrettyCards_CardThemeSongPlayer {\n\tdisplay: none;\n\tfont-size: 30px;\n\tposition: absolute;\n\ttop: 40px;\n\tleft: 14px;\n\tcursor: pointer;\n\tz-index: 10;\n}\n\n.glyphicon.PrettyCards_CardThemeSongPlayer:hover {\n\tcolor:#41fcff;\n}\n\n.PrettyCards_CardThemeSongList {\n\tline-height: normal;\n\tbackground-color: rgb(230, 230, 230, 0.7);\n\tfont-family: DTM-Mono;\n\tdisplay: none;\n\tposition: absolute;\n    max-width: 118px;\n\twidth: max-content;\n\ttop: 0;\n    left: 32px;\n\tflex-wrap: wrap;\n\tflex-direction: row;\n}\n\n.PrettyCards_CardThemeSongList .btn {\n\tpadding: 4px 8px;\n\tmargin: 0.5px;\n\n}\n\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(1),\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(1) ~  .btn,\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(2),\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(2) ~ .btn,\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(3),\n.PrettyCards_CardThemeSongList .btn:first-child:nth-last-child(3) ~ .btn {\n\tpadding: 6px 12px;\n\tmargin: 1px;\n}\n\n.PrettyCards_CardThemeSongPlayer:hover .PrettyCards_CardThemeSongList,.PrettyCards_CardThemeSongList:hover {\n\tdisplay: flex;\n}\n\n.PrettyCards_TransparentText {\n\tcolor: rgba(1, 1, 1, 0);\n\ttext-shadow: none;\n}\n\n#PrettyCards_CustomCardCategories {\n\t/*display: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;*/\n}\n\n.PrettyCards_CardCollection {\n\tbackground-color: #111111;\n\t/*width: calc(50% - 0.5em);*/\n\tmargin: 0.25em;\n\tpadding: 0.4em 0.6em;\n\tcursor: pointer;\n}\n\n.PrettyCards_CollectionName {\n\tfont-size: 2em;\n}\n\n.PrettyCards_CollectionAuthor {\n\tfont-size: 1.5em;\n}\n\n.PrettyCards_CollectionDetails {\n\tfont-size: 1.2em;\n\t/*float: right;*/\n}\n\n.PrettyCards_BigCollectionName {\n\twidth: 100%;\n\tfont-size: 3em;\n\ttext-align: center;\n}\n\n.PrettyCards_BigCollectionAuthor {\n\twidth: 100%;\n\tfont-size: 2em;\n\ttext-align: right;\n}\n\n.PrettyCards_Soul {\n\twidth: 4em;\n\theight: 4em;\n\tmargin: 0.5em;\n\tcursor: pointer;\n}\n\n.PrettyCards_CollectionBackButton {\n\tfont-size: 1.5em;\n\tcursor: pointer;\n}\n\n.PrettyCards_CollectionBackButton:hover {\n\tcolor: #41fcff;\n}\n\n#PrettyCards_CardsShowcase,#PrettyCards_ArtifactsShowcase,#PrettyCards_SoulsShowcase {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n\n#PrettyCards_CardsShowcase .card {\n\tmargin: 2px;\n}\n\n#PrettyCards_CollectionHeaderTop {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n}\n\n.PrettyCards_CollectionNew_Soultifact {\n\tdisplay: flex;\n\tflex-wrap: nowrap;\n\tflex-direction: row;\n}\n\n.PrettyCards_CollectionNew_SoultifactImage {\n\twidth: 7em;\n\theight: 7em;\n\tmargin-right: 1em;\n\tcursor: pointer;\n\ttop: 0px;\n\tleft: 0px;\n\ttransform: scale(1.5);\n}\n\n.PrettyCards_CollectionNew_SoultifactName {\n\tfont-size: 2.5em;\n\twidth: fit-content;\n}\n\n.PrettyCards_CollectionNew_SoultifactRarity {\n\tfont-size: 1.2em;\n\twidth: fit-content;\n}\n\n.PrettyCards_CustomCardsShowcaseScreenshot {\n\tbackground-color: black;\n    padding: 1em;\n    border: 5px solid white;\n}",""]);const o=s},7288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n/*\n.PrettyCards_Contributor {\n    text-shadow: none;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background: linear-gradient(90deg, rgba(102,0,255,1) 0%, rgba(102,0,255,1) 50%, rgba(254,255,0,1) 50%, rgba(254,255,0,1) 100%);\n}\n*/\n\n.PrettyCards_Staff {\n    color: rgb(113, 0, 205);\n}\n\n.PrettyCards_MiniStaff {\n    color: rgb(143, 0, 245);\n}\n\n.PrettyCards_Owner {\n    color: rgb(137, 0, 164);\n}\n\n.Overachiever {\n    color: #690000;\n}\n\n.Cutie {\n    color: #FF67DC;\n}\n\n.Grassless {\n    color: #92df4f;\n}",""]);const o=s},9157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,'\n.friendship-level {\n    color: #fff;\n    position: absolute;\n    left: 62px;\n    top: 102px;\n    z-index: 8;\n    background-color: rgba(0,0,0,.7);\n    width: 50px;\n    height: 50px;\n    border: 3px solid #fff;\n    border-radius: 50%;\n    font-size: 22px;\n    text-align: center;\n    display: inline-block;\n    line-height: 42px\n}\n\n.friendship-xp {\n    color: #fff;\n    position: absolute;\n    left: 8px;\n    top: 174px;\n    z-index: 8;\n    width: 160px;\n    font-size: 16px;\n    text-align: center;\n    display: inline-block\n}\n\n.friendship-bar progress {\n    width: 130px;\n    position: absolute;\n    left: 24px;\n    top: 142px;\n    z-index: 7\n}\n\n.PrettyCards_FriendshipTop {\n\tright: 117px;\n\tbottom: 130px;\n    z-index: 9;\n    position: absolute;\n    background-color: darkmagenta;\n    border-radius: 1em;\n    padding: 0.5em;\n    width: 3.5em;\n    text-align: center;\n\tborder-bottom-right-radius: 0px;\n\tfont-size: 0.8em;\n}\n\n.PrettyCards_FriendshipTop.PrettyCards_FriendshipTop_Right {\n\tleft: 115px;\n\tborder-bottom-right-radius: 1em;\n\tborder-bottom-left-radius: 0px;\n}\n\n/* Taken Directly from Underscript */\n.PrettyCards_FriendshipRank {\n\tposition: relative;\n\tz-index: 9;\n\twidth: 32px;\n\theight: 32px;\n\tleft: 95px;\n\ttop: 95px;\n\topacity: 0.9;\n\tbackground-image: url(https://undercards.net/images/friendship.png);\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n}\n\n.PrettyCards_FriendshipRank:not([top])[val]::after {\n\tcontent: attr(val);\n\tfont-size: 17px;\n\ttext-align: center;\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\ttext-shadow: -1px -1px 0 #000, 1px 1px 0 #000, -1px 1px 0 #000, 1px -1px 0 #000;\n}\n\n.PrettyCards_FriendshipRank[top]::after {\n\tcontent: \' \';\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.PrettyCards_FriendshipRank[val="1"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_DETERMINATION.png); }\n.PrettyCards_FriendshipRank[val="2"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_LEGENDARY.png); }\n.PrettyCards_FriendshipRank[val="3"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_EPIC.png); }\n.PrettyCards_FriendshipRank[val="4"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_RARE.png); }\n.PrettyCards_FriendshipRank[val="5"]::after { background-image: url(https://undercards.net/images/rarity/DELTARUNE_COMMON.png); }',""]);const o=s},4578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,'\n.PrettyCards_GameEnd_Backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: -100%;\n    left: 0;\n    background-color: black;\n    overflow: auto;\n    z-index: 14;\n}\n\n.PrettyCards_GameEnd_Content {\n    width: 900px;\n    min-height: 100%;\n    padding: 15px 0;\n    margin: auto;\n}\n\n.PrettyCards_GameEnd_Title {\n    font-size: 10em;\n    text-align: center;\n    line-height: 1.2;\n    /*margin-bottom: 0.3em;*/\n}\n\n.PrettyCards_GameEnd_Subtitle {\n    font-size: 2em;\n    text-align: center;\n    line-height: 0.8;\n    margin-bottom: 1em;\n}\n\n.DTFragment {\n    color: #990000;\n    text-shadow: 0 0 10px #FF0000;\n}\n\n.PrettyCards_GameEnd_RewardSourceContainer::before {\n    content: " ";\n}\n\n.PrettyCards_GameEnd_RewardRow {\n    font-size: 1.5em;\n    text-align: center;\n    vertical-align: middle;\n}\n\n.PrettyCards_GameEnd_RewardRow img {\n    height: 32px;\n}\n\n.PrettyCards_GameEnd_BarRow {\n    display: flex;\n    flex-wrap: nowrap;\n    flex-direction: row;\n    /* align-content: center; */\n    justify-content: center;\n    align-items: center;\n}\n\n.PrettyCards_GameEnd_Content .glyphicon {\n    position: relative;\n}\n\n.PrettyCards_GameEnd_Tooltip {\n    position: absolute;\n    bottom: 100%;\n    translate: -50% 0;\n    left: 50%;\n    display: none;\n    white-space: nowrap;\n}\n\n*:hover > .PrettyCards_GameEnd_Tooltip {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    align-items: center;\n}\n\n* > .PrettyCards_GameEnd_Tooltip:hover {\n    display: none;\n}\n\n.PrettyCards_GameEnd_TooltipText {\n    background-color: #303030;\n    font-family: DTM-Mono;\n    padding: 0.3em 0.4em;\n    border-radius: 0.3em;\n    color: white;\n    font-size: 0.8em;\n    text-shadow: none;\n}\n\n.PrettyCards_GameEnd_TooltipArrow {\n    background-color: #303030;\n    width: 0.5em;\n    height: 0.5em;\n    transform: rotate(45deg);\n    translate: 0 -50%;\n    z-index: -1;\n}\n\n.PrettyCards_GameEnd_BarText {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    vertical-align: middle;\n    opacity: 0.6;\n    top: 0;\n    left: 0;\n}\n\n.PrettyCards_XPBarText {\n    color: #000000;\n}\n\n.PrettyCards_GameEnd_LeaveRow {\n    text-align: center;\n    margin-top: 20px;\n    scale: 1.2;\n}\n\n.PrettyCards_GameEnd_FriendshipCards {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n}\n\n.PrettyCards_GameEnd_FriendshipHeader {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-content: center;\n    align-items: center;\n    padding: 0 15px;\n}\n\n.PrettyCards_GameEnd_Backdrop .friendship-not-claimed .cardFrame {\n    -webkit-filter: grayscale(100%) brightness(50%) sepia(100%) hue-rotate(100deg) saturate(500%) contrast(1.5);\n    filter: grayscale(100%) brightness(50%) sepia(100%) hue-rotate(100deg) saturate(500%) contrast(1.5)\n}\n\n.PrettyCards_GameEnd_Backdrop .friendship-not-claimed .cardBackground {\n    box-shadow: 0 0 10px 5px #4fff00\n}\n\n.PrettyCards_GameEnd_Backdrop .friendship-not-claimed:hover {\n    opacity: 0.8;\n}\n\n.PrettyCards_GameEnd_QuestRow {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: center;\n    height: 60px;\n    border-top: 1px solid #ddd;\n}\n\n.PrettyCards_GameEnd_QuestRow img {\n    height: 32px;\n}\n\n.PrettyCards_GameEnd_QuestRow .avatar {\n    height: 48px;\n}\n\n.PrettyCards_GameEnd_QuestText {\n    padding: 0.5em;\n    width: 100%;\n}\n\n.PrettyCards_GameEnd_QuestProgress {\n    min-width: 190px;\n}\n\n.PrettyCards_GameEnd_QuestReward {\n    min-width: 100px;\n    text-align: center;\n}\n\n.PrettyCards_GameEnd_QuestClaim {\n    min-width: 100px;\n    text-align: center;\n}\n\n.PrettyCards_BarelyVisibleHallucinationMachine {\n    opacity: 0.01;\n    animation: PrettyCards_BarelyVisibleHallucinationMachine linear 22s infinite;\n    user-select: none;\n    pointer-events: none;\n}\n\n.PrettyCards_Transparent {\n    opacity: 0;\n}\n\n@keyframes PrettyCards_BarelyVisibleHallucinationMachine {\n    from {\n        opacity: 0;\n    }\n\n    20% {\n        opacity: 0.022;\n    }\n\n    25% {\n        opacity: 0.05;\n    }\n\n    28% {\n        opacity: 0;\n    }\n\n    70% {\n        opacity: 0.01;\n    }\n\n    75% {\n        opacity: 0.05;\n    }\n\n    77% {\n        opacity: 0;\n    }\n\n    90% {\n        opacity: 0.01;\n    }\n\n    92% {\n        opacity: 0.05;\n    }\n\n    93% {\n        opacity: 0;\n    }\n  \n    100% {\n        opacity: 0;\n    }\n  }',""]);const o=s},1315:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n#PrettyCards_CT_Phase0_SourceSelect > div {\n    font-size: 2em;\n    margin: 0.5em;\n    cursor: pointer;\n}\n\n#PrettyCards_CT_Phase0_SourceSelect > div:hover {\n    color: yellow;\n}\n\n#PrettyCards_CT_Phase1_LangaugeSelect {\n\n}\n\n#PrettyCards_CT_Phase1_LangaugeSelect > div {\n    font-size: 2em;\n    margin: 0.5em;\n    cursor: pointer;\n}\n\n#PrettyCards_CT_Phase1_LangaugeSelect > div:hover {\n    color: green;\n}\n\n#PrettyCards_CT_Phase2 {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n}\n\n#PrettyCards_CT_Phase2_MainContent {\n    max-width: 900px;\n    min-width: 900px;\n}\n\n#PrettyCards_CT_Phase2_FilterRow {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    margin-bottom: 1em;\n}\n\n.mainContent.PrettyCards_FullWidthMainContent {\n    width: 100%;\n}\n\n.mainContent.PrettyCards_WiderMainContent {\n    width: 1500;\n}\n\n#PrettyCards_CT_Phase2_QuickRef {\n    width: 600px;\n    border: 5px solid white;\n    background-color: black;\n    padding: 0px 8px;\n}\n\n#PrettyCards_CT_Phase2_Table {\n    margin-top: 1em;\n}\n\n.PrettyCards_CT_Phase2_ListEntryRow > td {\n    width: 50%;\n}\n\n.PrettyCards_CT_Phase2_ListEntryRow textarea {\n    max-width: 430px;\n    min-width: 430px;\n}\n\n@font-face {\n    font-family: UniSansHeavy;\n    src: url(fonts/Uni\\ Sans\\ Heavy.otf);\n}\n\n@font-face {\n    font-family: WhitneyMedium;\n    src: url(fonts/Whitney-Medium.ttf);\n}\n\n.PrettyCards_DiscordMention {\n    background-color: #5B6DED;\n    color: white;\n    font-family: WhitneyMedium;\n    border-radius: 3px;\n    font-size: 1.1em;\n    padding: 1px 2px;\n}\n\n.PrettyCards_BlockCode {\n    display: block;\n    padding: 4px 8px;\n}\n\n.PrettyCards_DarkThemeCode {\n    user-select: all;\n    color: #CCCCCC;\n    background-color: #222222;\n}\n\n#PrettyCards_CT_Phase2_Table tr {\n    user-select: text;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntry > *:not(.PrettyCards_CT_Phase2_QuickRefEntryTitle) {\n    display: none;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntry.PrettyCards_CT_Phase2_QuickRefEntryOpen > * {\n    display: block;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntryTitle {\n    cursor: pointer;\n}\n\n.PrettyCards_CT_Phase2_QuickRefEntryTitle:hover {\n    color: #BBBBBB;\n}",""]);const o=s},1700:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.PrettyCards_DeckImageImport_Parent {\n    color: #dddddd;\n}\n\n.PrettyCards_DeckImageImport_FileBtnFancy {\n    margin-top: 15px;\n    display: flex;\n    width: 100%;\n    height: 100px;\n    border: 3px dashed #dddddd;\n    color: #dddddd;\n    border-style: dashed;\n    font-size: 2em;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n}",""]);const o=s},9008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,'\n/* From: https://www.w3schools.com/howto/howto_css_switch.asp */\n\n/* The form_switch - the box around the slider */\n.form_switch {\n    position: relative;\n    display: inline-block;\n    width: 60px;\n    height: 34px;\n}\n\n/* Hide default HTML checkbox */\n.form_switch input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n}\n\n/* The slider */\n.slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    -webkit-transition: .4s;\n    transition: .4s;\n}\n\n.slider:before {\n    position: absolute;\n    content: "";\n    height: 26px;\n    width: 26px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    -webkit-transition: .4s;\n    transition: .4s;\n}\n\ninput:checked + .slider {\n    background-color: #2196F3;\n}\n\ninput:focus + .slider {\n    box-shadow: 0 0 1px #2196F3;\n}\n\ninput:checked + .slider:before {\n    -webkit-transform: translateX(26px);\n    -ms-transform: translateX(26px);\n    transform: translateX(26px);\n}\n\n/* Rounded sliders */\n.slider.round {\n    border-radius: 34px;\n}\n\n.slider.round:before {\n    border-radius: 50%;\n}\n\n.form_switch.friendshipSortSwitch .slider {\n    background-color: #0003ff;\n}\n\n.form_switch.friendshipSortSwitch input:checked + .slider {\n    background-color: #FF49EF;\n}\n\n/* Seems like a good place to put this? */\nfooter .glyphicon:hover {\n    opacity: .5;\n}',""]);const o=s},525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.PrettyCards_LookAt_NoScroll {\n\toverflow: hidden;\n}\n\n.PrettyCards_LookAt_Background {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0px;\n\toverflow-y: auto;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tz-index: 222;\n}\n\n.PrettyCards_LookAt_Container {\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.PrettyCards_LookAt_Title {\n\tfont-size: 3em;\n\theight: 3em;\n\tcolor: white;\n\tflex: 0 1 auto;\n\ttext-align: center;\n}\n\n.PrettyCards_LookAt_CardContainer {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 80%;\n\tmin-width:  900px;\n\tmargin: 1em auto;\n\tflex: 0 1 auto;\n\theight: 100%;\n}\n\n.PrettyCards_LookAt_CardContainer .card:hover .cardBackground{\n    box-shadow: 0 0 10px 5px fuchsia;\n    transform: translate3d(0, 0, 0);\n}\n\n.PrettyCards_LookAt_CardContainer .card:hover .cardFrame {\n\t-webkit-filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(250deg) saturate(500%) contrast(1.5);\n    filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(250deg) saturate(500%) contrast(1.5);\n}",""]);const o=s},1298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n#PrettyCards_MassCraft_SoulDeckRow {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n}\n\n#PrettyCards_MassCraft_SoulDeckRow img {\n    width: 32px;\n}\n\n#PrettyCards_MassCraft_Artifacts {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    align-content: center;\n}\n\n.PrettyCards_MassCraft_ArtifactSlot {\n    margin-left: 10px;\n}\n\n@keyframes PrettyCards_MassCraft_MissingArtifact {\n    to {\n        color: red;\n        border-color: red;\n    }\n}\n\n.PrettyCards_MassCraft_MissingArtifact {\n    animation: PrettyCards_MassCraft_MissingArtifact alternate 2s infinite;\n    animation-timing-function: ease-in-out;\n}\n\n#PrettyCards_MassCraft_ModeSelectRow {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n    margin-top: 0.5em;\n}\n\n.PrettyCards_MassCraft_ModeSelectBtn {\n    border: 1px solid #222222;\n    padding: 0.5em 0.6em;\n    text-align: center;\n    width: 50%;\n    height: 100%;\n}\n\n.PrettyCards_MassCraft_ModeSelectBtn:hover {\n    background-color: #333333;\n}\n\n.PrettyCards_MassCraft_ModeSelected {\n    background-color: #434343;\n}\n\n.PrettyCards_MassCraft_NotHave .cardFrame {\n    -webkit-filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(310deg) saturate(500%) contrast(1.5);\n    filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(310deg) saturate(500%) contrast(1.5);\n}\n\n#PrettyCards_MassCraft_CardContainer {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: space-between;\n    max-height: 600px;\n    overflow-y: auto;\n    padding: 20px;\n}\n\n#PrettyCards_MassCraft_BuyRow {\n    margin-top: 1em;\n    font-size: 1.2em;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n}\n\n.normalArtifact {\n    border-color: white;\n}\n\n.baseArtifact {\n    border: 1px solid rgb(68, 68, 68);\n}\n\n.tokenArtifact {\n    border: 1px solid rgb(11, 135, 0);\n}\n\n.determinationArtifact,.dtArtifact {\n    border: 1px solid rgb(207, 0, 0);\n}\n\n.rareArtifact {\n    border: 1px solid rgb(20, 0, 204);\n}\n\n.epicArtifact {\n    border: 1px solid rgb(115, 0, 186);\n}\n\n.mythicArtifact {\n    animation: mythicBorder 2s infinite;\n}\n\n@keyframes mythicBorder {\n    0% {\n        border: 1px solid red\n    }\n\n    17% {\n        border: 1px solid #ff0\n    }\n\n    33% {\n        border: 1px solid #0f0\n    }\n\n    50% {\n        border: 1px solid #0ff\n    }\n\n    67% {\n        border: 1px solid #00f\n    }\n\n    84% {\n        border: 1px solid #f0f\n    }\n\n    100% {\n        border: 1px solid red\n    }\n}",""]);const o=s},8586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n#PrettyCards_MainMenu {\n    position: absolute; \n    top: 0px; \n    right: 38px; \n    display: none; /*Manipulated by code*/\n    z-index: 12;\n}\n\n#PrettyCards_TopAdvert {\n    width: 100%;\n    text-align: center;\n    background-color: #3192e7;\n    padding: 0.3em;\n    font-size: 1.2em;\n    position: relative;\n    height: 36px;\n}\n\n#PrettyCards_TopAdvert_CloseButtons {\n    top: 0.3em;\n    right: 0.5em;\n    display:flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    position: absolute;\n    color: white;\n    user-select: none;\n}\n\n#PrettyCards_TopAdvert_CloseButtons > div {\n    margin: 0 0.4em;\n    cursor: pointer;\n}\n\n#PrettyCards_TopAdvert_CloseButtons > div:hover {\n    color: #888888;\n}\n\n.PrettyCards_HiddenUntilLogin {\n    display: none;\n}",""]);const o=s},4386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.PrettyCards_Mobile_HeaderButton {\n\tfont-size: 30px;\n\tpadding: 5px;\n\theight: 50px;\n\twidth: 50px;\n\tcolor: black;\n}\n\n.PrettyCards_HeaderFlex {\n\tdisplay: flex;\n}\n\n#PrettyCards_HeaderMid {\n\twidth: 100%;\n}\n\n#PrettyCards_Mobile_NavBar {\n\tbackground-color: black;\n\tborder: 3px solid white;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 50%;\n\theight: 100%;\n\toverflow-y: auto;\n\tz-index: 100;\n}\n\n.PrettyCards_NavBarItem {\n\tfont-size: 40px;\n\tmargin-left: 20px;\n\tuser-select: none;\n}\n\n.PrettyCards_NavBarItem > span {\n\tcolor: white;\n\tcursor: pointer;\n}\n\n.PrettyCards_NavBarItem > span:hover {\n\ttext-decoration: underline;\n}\n\n.PrettyCards_NavBarItem a {\n\tcolor: white;\n}\n\n.PrettyCards_NavBarItem img {\n\theight: 40px;\n}\n\n.PrettyCards_Hidden {\n\tdisplay: none!important;\n}\n\n#PrettyCards_Mobile_NavBarBG {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 99;\n\topacity: 0.5;\n\tbackground-color: black;\n}\n\n.PrettyCards_NavBarProfile {\n\tfont-size: 25px;\n\tmargin: 5px;\n}\n\n.PrettyCards_NavBarProfile td {\n\tpadding: 0px 5px;\n}\n\n.PrettyCards_Divider {\n\tmargin: 20px;\n\tborder: 1px solid white;\n}\n\n.PrettyCards_NavBarInline {\n\tdisplay: inline-block;\n\tmargin: 10px;\n}\n\n.PrettyCards_NavBarCopyright {\n\tfont-size: 25px;\n\ttext-align: center;\n}",""]);const o=s},1905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.PrettyCards_MainContainer {\n\twidth: 100%;\n\tmargin: 0px;\n}\n\n.PrettyCards_PacksRow {\n\ttext-align: center;\n\twidth: 100%;\n}\n\n.PrettyCards_PackCell {\n\tdisplay: inline-block;\n\twidth: 32%;\n\ttext-align: center;\n\tposition: relative;\n}\n\n.PrettyCards_PackBuyCount, .PrettyCards_PackOpenCount {\n\twidth: 4em;\n\tbackground-color: black;\n\tborder: 2px solid white;\n}\n\n.PrettyCards_PackName {\n\tfont-size: 2.2em;\n}\n\n.PrettyCards_PackDescription {\n\tfont-size: 1.1em;\n}\n\n.PrettyCards_PackText div {\n\tmargin-bottom: 8px;\n}\n\n.PrettyCards_PackText {\n\toverflow-y: hidden;\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.PrettyCards_FloatingPack {\n\twidth: 100%;\n\tmargin: 0px;\n\tposition: relative;\n\ttop: 0px;\n\tanimation: upDown 1.5s alternate infinite ease-in-out;\n}\n\n.PrettyCards_FloatingPackImage {\n\twidth: 60%;\n\tmargin: 0px;\n\tmask-image: url($asset$img/Packs/Pack.svg);\n\tmask-position: center;\n\tmask-size: cover;\n\t-webkit-mask-image: url($asset$img/Packs/Pack.svg);\n\t-webkit-mask-position: center;\n\t-webkit-mask-size: cover;\n\tdisplay: inline-block;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\tbackground-position: center;\n}\n\n.PrettyCards_PackAmount {\n\tposition: absolute;\n\tbottom: 0px;\n\twidth: 100%;\n\tright: 0px;\n\ttext-align: center;\n\tfont-size: 4em;\n\tcolor: gold;\n\tbackground-color: rgba(0, 0, 0, 0.6);\n}\n\n.PrettyCards_InvisiblePack { /*Since the element does not stretch for the background, we are gonna force it to take up the right shape with an invisible version of the image!*/\n\twidth:100%;\n\topacity: 0;\n}\n\n.PrettyCards_PackSpacer {\n\theight: 15em;\n}\n\n.PrettyCards_HalfPackSpacer {\n\theight: 7.5em;\n}\n\n.PrettyCards_ThirdPackSpacer {\n\theight: 5em;\n}\n\n.PrettyCards_Floating {\n\tanimation: upDown 1.5s alternate infinite ease-in-out;\n}\n\n@keyframes upDown {\n  to { transform: translatey(-2em);}\n}\n\n.PrettyCards_PacksRow.PrettyCards_WideTemplate {\n\tposition: absolute;\n\twidth: 100%;\n\tleft: 0px;\n}\n\n.PrettyCards_PacksRow.PrettyCards_WideTemplate .PrettyCards_PackCell {\n\twidth: 19%;\n}\n\n.PrettyCards_AnimationPack {\n\tposition: absolute;\n}\n\n#PrettyCards_PackOpenContent {\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0px;\n\tbackground-color: rgba(0, 0, 0, 0);\n\tdisplay: none;\n\tz-index: 222;\n}\n\n.PrettyCards_CardBack {\n\twidth: 170px;\n\theight: 242px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n}\n\n.PrettyCards_FlippableCardContainer {\n\tposition: absolute;\n\ttransform: translate(-50%, -50%);\n\ttransition: transform 0s;\n\tperspective: 1000px;\n}\n\n.PrettyCards_FlipContainer {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: transform 0s;\n\ttransform-style: preserve-3d;\n}\n\n.PrettyCards_CardBack, .PrettyCards_CardFront {\n\t-webkit-backface-visibility: hidden;\n\tbackface-visibility: hidden;\n}\n\n.PrettyCards_CardFront {\n\t\n}\n\n.PrettyCards_CardBack {\n\twidth: 100%;\n\theight:100%;\n\tposition: absolute;\n\ttop: 0px;\n    background-repeat: no-repeat;\n    background-position: center;\n\tbackground-color: black;\n\ttransform: rotateY(180deg);\n}\n\n.PrettyCards_CardSummary {\n\twidth: 100%;\n\tpadding-left: 10%;\n\tpadding-right: 10%;\n\toverflow-y: auto;\n\ttext-align: center;\n\theight: 100%;\n\tmax-height: 100%; /* To make sure the overflow works on EVERY browser */\n\ttop: 100%;\n\tposition: absolute;\n}\n\n.card .cardName {\n\ttext-align: left;\n}\n\n.PrettyCards_CardSummaryTitle {\n\twidth: 100%;\n\ttext-align: center;\n\tfont-size: 4em;\n}\n\n.PrettyCards_RippedPack {\n\tposition: absolute;\n\tmargin: 0px;\n\tmask-position: center;\n\tmask-size: cover;\n\t-webkit-mask-position: center;\n\t-webkit-mask-size: cover;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\tbackground-position: center;\n}\n\n.PrettyCards_PacksSkipButton {\n\tposition: absolute;\n\tbottom: 0.5em;\n\tright: 0.5em;\n\tfont-size: 4em;\n}\n\n.PrettyCards_RippedPack_Up {\n\tmask-image: url($asset$img/Packs/Pack_HorizontalRip_Top.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_HorizontalRip_Top.svg);\n}\n\n.PrettyCards_RippedPack_Down {\n\tmask-image: url($asset$img/Packs/Pack_HorizontalRip_Bottom.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_HorizontalRip_Bottom.svg);\n}\n\n.PrettyCards_RippedPack_Left {\n\tmask-image: url($asset$img/Packs/Pack_VerticalRip_Left.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_VerticalRip_Left.svg);\n}\n\n.PrettyCards_RippedPack_Right {\n\tmask-image: url($asset$img/Packs/Pack_VerticalRip_Right.svg);\n\t-webkit-mask-image: url($asset$img/Packs/Pack_VerticalRip_Right.svg);\n}",""]);const o=s},5092:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.game-mode:not(.closed):hover {\n\topacity: .7;\n\tcursor: pointer;\n}\n\n.game-mode {\n\ttext-align: center;\n\tmargin: 5px;\n\twidth: 280px;\n\theight: 230px;\n}\n\n.PrettyCards_GamemodeContainer {\n\tdisplay: flex;\n\twidth: 1000px;\n}\n\n.PrettyCards_GamemodeDeck {\n\twidth: 280px;\n\tmargin: 5px;\n\theight: 240px;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.PrettyCards_Gamemodes {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 580px;\n}\n\n.PrettyCards_GamesList {\n\twidth: 580px;\n}\n\n#PrettyCards_DeckContainer {\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n}\n\n#PrettyCards_DeckArtifacts {\n\tmargin-top: 20px;\n\ttext-align: center;\n}\n\n#PrettyCards_SeasonRewards {\n\tmargin-top: 40px;\n\ttext-align: center;\n}\n\n#PrettyCards_JoinCreate {\n\tmargin-top: 40px;\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n\talign-items: center;\n\tflex-direction: column;\n}\n\n#PrettyCards_JoinCreate button {\n\tdisplay: block;\n\tmargin: 5px;\n}\n",""]);const o=s},3410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.PrettyCards_DecklistSoulsContainer,.PrettyCards_DecklistButtonContainer {\n\ttext-align:center;\n\twidth: 100%;\n}\n\n.PrettyCards_DeckListContainer {\n\twidth: 100%;\n\theight: 640px;\n\toverflow-y: auto;\n}\n\n.PrettyCards_DeckHeader {\n\tfont-size: 30px;\n\tpadding-left: 50px;\n\tpadding-bottom: 4px;\n\tpadding-top: 4px;\n}\n\n.PrettyCards_DeckHeader.DETERMINATION {\n\tcolor: black;\n\tbackground-color: #FF0000;\n}\n\n.PrettyCards_DeckHeader.BRAVERY {\n\tcolor: black;\n\tbackground-color: #FCA500;\n}\n\n.PrettyCards_DeckHeader.JUSTICE {\n\tcolor: black;\n\tbackground-color: #FFFF00;\n}\n\n.PrettyCards_DeckHeader.KINDNESS {\n\tcolor: black;\n\tbackground-color: #00C000;\n}\n\n.PrettyCards_DeckHeader.PATIENCE {\n\tcolor: black;\n\tbackground-color: #41FCFF;\n}\n\n.PrettyCards_DeckHeader.INTEGRITY {\n\tcolor: black;\n\tbackground-color: #0064FF;\n}\n\n.PrettyCards_DeckHeader.PERSEVERANCE {\n\tcolor: black;\n\tbackground-color: #D535D9;\n}\n\n.PrettyCards_DeckHeader.MONSTER {\n\tcolor: black;\n\tbackground-color: #FFFFFF;\n}\n\n.PrettyCards_DeckHeader.SWITCH {\n\tcolor: black;\n\tbackground: linear-gradient(to right, #ff0000 50%, #42FCFF 50%);\n}\n\n.PrettyCards_DeckListContainer .card {\n\tdisplay: inline-block;\n\tmargin: 5px 0px;\n}\n\n.card.PrettyCards_DeckCard .cardCost {\n\tdisplay: none;\n}\n\n.card.PrettyCards_DeckCard .cardName {\n\twidth: 160px;\n}\n\n.card.PrettyCards_DeckCard .cardRarity {\n\tdisplay: none;\n}\n\n.PrettyCards_DeckCardErase {\n\theight: 25px;\n\twidth: 160px;\n\tposition: absolute;\n\tpadding-left: 5px;\n\tpadding-right: 5px;\n\tleft: 8px;\n\ttop: 212px;\n\ttext-align: center;\n\tcolor: red;\n    font-size: 25px;\n    line-height: 25px;\n\tz-index: 8;\n}\n\n.PrettyCards_DeckCardErase:hover {\n\tcolor: #880000;\n}\n\n.PrettyCards_ChooseDeckScreenContainer {\n\tposition: relative;\n}\n\n.PrettyCards_DeckListHeaderButton {\n\tfont-size: 25px;\n\tmargin: 8px 5px;\n}\n\n.card.PrettyCards_BaseDeckCard .cardBackground {\n\tbox-shadow: gold 0px 0px 5px 5px;\n}\n\n.PrettyCards_DeckListHeader {\n\tdisplay: flex;\n    flex-direction: row;\n    justify-content: space-between;\n}\n\n/* A failed attempt at an animated menu. */\n/*\n.PrettyCards_DeckHeader_Inactive {\n\tanimation: PrettyCards_DeckHeader_Inactive 1s;\n\twidth: 0px;\n}\n\n@keyframes PrettyCards_DeckHeader_Inactive {\n\tto { width: 0px;}\n}\n\n.PrettyCards_DeckHeader_Active {\n\tanimation: PrettyCards_DeckHeader_Active 1s;\n\twidth: 100%;\n}\n\n@keyframes PrettyCards_DeckHeader_Active {\n\tto { width: 100%;}\n}\n\n.PrettyCards_DeckHeader_Active,.PrettyCards_DeckHeader_Inactive {\n\toverflow-x: hidden;\n}\n*/",""]);const o=s},2486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n#PrettyCards_SOP_Buttons {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    z-index: 10;\n    position: relative;\n}\n\n#PrettyCards_SOP_Buttons button {\n    margin: 0.5em;\n}\n\n#PrettyCards_SOP_Phase3_Main {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    height: 300px;\n}\n\n#PrettyCards_SOP_Phase3_CardSpace {\n    width: 100%;\n    height: 100%;\n}\n\n#PrettyCards_SOP_Phase3_Skins {\n    overflow-y: auto;\n    height: 100%;\n    width: 230px;\n    position: relative;\n    z-index: 10;\n}\n\n.PrettyCards_SOP_CardResults {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n}\n\n.PrettyCards_SOP_CardResults .card {\n    margin: 2px;\n}\n\n#PrettyCards_SOP_Phase4_ButtonContainer {\n    position: relative;\n}\n\n#PrettyCards_SOP_TakeScreenshot {\n    aspect-ratio: 1;\n    position: absolute;\n    left: -42px;\n}\n\n.PrettyCards_SOP_Screenshot {\n    border: 5px solid white;\n    background-color: black;\n    padding: 5px;\n    width: 910px;\n}\n\n.PrettyCards_SOP_SkinDisplay {\n    width: 162px;\n    height: 92px;\n    border: 1px solid white;\n    margin: 3px;\n    overflow: hidden;\n}\n\n.PrettyCards_SOP_SkinDisplay:hover {\n    border-color: cyan;\n}\n\n.PrettyCards_SOP_SkinDisplay.selected {\n    border-color: crimson;\n}\n\n#PrettyCards_SOP_Phase3_CardContainer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    margin: 0px;\n    padding: 0px;\n    z-index: 1;\n    overflow: hidden;\n}",""]);const o=s},3620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"\n.PrettyCards_SmallSoul {\n\theight: 32px;\n\tmargin: 1.5px;\n}\n\n.PrettyCards_NormalSoul {\n\theight: 64px;\n\tmargin: 2px;\n}\n\n.MYTHIC {\n\tanimation-name: rainbow;\n    animation-duration: 5s;\n    animation-timing-function: linear;\n    animation-iteration-count: infinite;\n}\n\n.PrettyCards_Soul_DETERMINATION.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_DETERMINATION {\n\tfilter: drop-shadow(0px 0px 15px #ff0000);\n}\n\n.PrettyCards_Soul_BRAVERY.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_BRAVERY {\n\tfilter: drop-shadow(0px 0px 15px #fca500);\n}\n\n.PrettyCards_Soul_JUSTICE.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_JUSTICE {\n\tfilter: drop-shadow(0px 0px 15px #ffff00);\n}\n\n.PrettyCards_Soul_KINDNESS.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_KINDNESS {\n\tfilter: drop-shadow(0px 0px 15px #00c000);\n}\n\n.PrettyCards_Soul_PATIENCE.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_PATIENCE {\n\tfilter: drop-shadow(0px 0px 15px #41fcff);\n}\n\n.PrettyCards_Soul_INTEGRITY.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_INTEGRITY {\n\tfilter: drop-shadow(0px 0px 15px #0064ff);\n}\n\n.PrettyCards_Soul_PERSEVERANCE.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_PERSEVERANCE {\n\tfilter: drop-shadow(0px 0px 15px #d535d9);\n}\n\n.PrettyCards_Soul_MONSTER.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_MONSTER {\n\tfilter: drop-shadow(0px 0px 15px #ffffff);\n}\n\n/*\n.PrettyCards_Soul_SWITCH.PrettyCards_SelectedSoul,.PrettyCards_DisplaySoul_SWITCH {\n\tfilter: drop-shadow(0px 0px 15px #D400FF);\n}\n*/\n\n.PrettyCards_DisplaySoul_SWITCH .PrettyCards_SplitSoul_Left img {\n\tfilter: drop-shadow(0px 0px 15px #41FCFF);\n}\n\n.PrettyCards_DisplaySoul_SWITCH .PrettyCards_SplitSoul_Right img {\n\tfilter: drop-shadow(0px 0px 15px #FF0000);\n}\n\n.PrettyCards_SelectedSoul.PrettyCards_NormalSoul {\n\tanimation: SoulFloatNormal 1.5s alternate infinite ease-in-out;\n}\n\n.PrettyCards_SoulSelect_Soul {\n\tbackground-position: center;\n\tbackground-size: contain;\n\theight: 64px;\n\twidth: 64px;\n\tmin-width: 64px;\n\tmargin: 2px;\n}\n\n.PrettyCards_SoulSelect_Rainbow {\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0;\n\tbackground: linear-gradient(rgba(255,0,0,1) 0%, rgba(255,154,0,1) 10%, rgba(208,222,33,1) 20%, rgba(79,220,74,1) 30%, rgba(63,218,216,1) 40%, rgba(47,201,226,1) 50%, rgba(28,127,238,1) 60%, rgba(95,21,242,1) 70%, rgba(186,12,248,1) 80%, rgba(251,7,217,1) 90%, rgba(255,0,0,1) 100%) 0 0/100% 200%;\n\t/*\n\tbackground: linear-gradient(145deg, rgba(255,0,0,1) 0%, rgba(252,165,0,1) 14.2857142857%, rgba(255,255,0,1) 28.5714285714%, rgba(0,192,0,1) 42.8571428571%, rgba(65,252,255,1) 57.1428571428%, rgba(0,100,255,1) 71.4285714285%, rgba(213,53,217,1) 85.7142857142%, rgba(255,0,0,1) 100%);\n\t*/\n\tanimation: PrettyCards_SoulSelect_Rainbow 2s linear infinite;\n\tpointer-events: none;\n\topacity: 0.7;\n\tmix-blend-mode: multiply;\n}\n\n@keyframes PrettyCards_SoulSelect_Rainbow {\n\tto {background-position: 0 -200%}\n}\n\n@keyframes SoulFloatNormal {\n\tto { transform: translatey(-15px);}\n}\n\n.PrettyCards_SelectedSoul.PrettyCards_SmallSoul {\n\tanimation: SoulFloatSmall 1.5s alternate infinite ease-in-out;\n}\n\n@keyframes SoulFloatSmall {\n\tto { transform: translatey(-8px);}\n}\n\n.tippy-box[data-inertia][data-state='visible'] {\n\ttransition-timing-function: cubic-bezier(1,1,0,0);\n}\n\n.PrettyCards_DeckTooltip {\n\ttext-align: left;\n}\n\n.PrettyCards_ArtifactContainer {\n\tmargin-bottom: 8px;\n}\n\n.PrettyCards_ChallengeMessageButton {\n\tmargin-left: 10px;\n}\n\n.PrettyCards_SplitSoul_Container {\n\tposition: relative;\n\twidth: 256px;\n\theight: 256px;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\ttop: -38px;\n\tleft: -36px;\n}\n\n.PrettyCards_SplitSoul_Left,.PrettyCards_SplitSoul_Right {\n\twidth: 50%;\n    height: 100%;\n\tposition: relative;\n\toverflow-x: hidden;\n}\n\n.PrettyCards_SplitSoul_Container img {\n\theight: 50%;\n\ttransform: translate(-50%, -50%);\n\ttop: 50%;\n\tposition: absolute;\n}\n\n.PrettyCards_SplitSoul_Container.PrettyCards_SplitSoul_Big img {\n\theight: 75%;\n}\n\n.PrettyCards_SplitSoul_Left img {\n\tleft: 100%;\n}\n\n.PrettyCards_SplitSoul_Right img {\n\tleft: 0px;\n}",""]);const o=s},4095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,'\n.bootstrap-dialog.type-primary .modal-header.PrettyCards_UserHeader {\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\tbackground-position-x: center;\n\tpadding: 3px 15px 3px 47px;\n\tbackground-color: black;\n}\n\n.bootstrap-dialog .bootstrap-dialog-title.PrettyCards_UserTitle {\n\tfont-size: 24px;\n\ttext-shadow: rgb(51 51 51) 3px 2px;\n}\n\n.PrettyCards_UserProfilePic {\n\tposition: absolute;\n\twidth: 64px;\n\theight: 64px;\n\ttop: -25px;\n\tleft: -25px;\n}\n\n* {\n\tbox-sizing: border-box;\n}\n\n.column {\n\tfloat: left;\n\twidth: 50%;\n\tpadding: 10px;\n}\n\n.double_column {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 10px;\n}\n\n.row:after {\n\tcontent: "";\n\tdisplay: table;\n\tclear: both;\n}\n\n.PrettyCards_UserColumn {\n\tpadding: 15px;\n\tfont-size: 18px;\n}\n\n.PrettyCards_UserLV {\n\tcolor: #00b8ff;\n}\n\n.Old_Legend {\n\tcolor: #d6a6e6;\n}\n\n.Old_Master {\n\tcolor: #e6e5a6;\n}\n\n.rainbowAvatar {\n\tposition: absolute;\n\tmix-blend-mode: multiply;\n\topacity: .6;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 2;\n\tpointer-events: none;\n}\n\n.PrettyCards_UserHeader .rainbowAvatar {\n\twidth: 64px;\n\theight: 64px;\n\ttop: -25px;\n\tleft: -25px;\n}\n\n.PrettyCards_UserGroupContainer {\n\twhite-space: nowrap;\n}\n\n.PrettyCards_ChatFriendshipContainer {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-content: center;\n}\n\n.PrettyCards_ChatFriendshipContainer .card {\n\tmargin: 0px 2px;\n}\n\n#PrettyCards_UserInfo_FriendshipTitleContainer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-direction: row;\n}\n\n#PrettyCards_UserInfo_SwapSortArea {\n\tdisplay: flex;\n    margin-top: 20px;\n    margin-bottom: 10px;\n    align-items: center;\n}\n\n#PrettyCards_UserInfo_SwapSortArea label {\n\tmargin: 3px;\n}\n\n.PrettyCards_UserInfo_FriendshipTitleText {\n\tcursor: pointer;\n}\n\n.PrettyCards_UserInfo_FriendshipTitleText:hover {\n\tcolor: #999999;\n}',""]);const o=s},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(a)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(s[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);a&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},9134:e=>{e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",d=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),o=new I(a||[]);return r(s,"_invoke",{value:S(e,n,o)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",g={};function y(){}function w(){}function C(){}var v={};c(v,s,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_($([])));b&&b!==n&&a.call(b,s)&&(v=b);var P=C.prototype=y.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(r,i,s,o){var d=u(e[r],e,i);if("throw"!==d.type){var c=d.arg,l=c.value;return l&&"object"==typeof l&&a.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,o)}))}o(d.arg)}var i;r(this,"_invoke",{value:function(e,a){function r(){return new t((function(t,r){n(e,a,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var a=p;return function(r,i){if(a===f)throw new Error("Generator is already running");if(a===m){if("throw"===r)throw i;return D()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var o=A(s,n);if(o){if(o===g)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=f;var d=u(e,t,n);if("normal"===d.type){if(a=n.done?m:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(a=m,n.method="throw",n.arg=d.arg)}}}function A(e,n){var a=n.method,r=e.iterator[a];if(r===t)return n.delegate=null,"throw"===a&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:D}}function D(){return{value:t,done:!0}}return w.prototype=C,r(P,"constructor",{value:C,configurable:!0}),r(C,"constructor",{value:w,configurable:!0}),w.displayName=c(C,d,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c(e,d,"GeneratorFunction")),e.prototype=Object.create(P),e},e.awrap=function(e){return{__await:e}},k(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,i){void 0===i&&(i=Promise);var s=new x(l(t,n,a,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(P),c(P,d,"Generator"),c(P,s,(function(){return this})),c(P,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=$,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(a,r){return o.type="throw",o.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var d=a.call(s,"catchLoc"),c=a.call(s,"finallyLoc");if(d&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(d){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:$(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},181:(e,t,n)=>{const a=n(1158);e.exports={recognize:async(e,t,n)=>{const r=await a(n);return await r.loadLanguage(t),await r.initialize(t),r.recognize(e).finally((async()=>{await r.terminate()}))},detect:async(e,t)=>{const n=await a(t);return await n.loadLanguage("osd"),await n.initialize("osd"),n.detect(e).finally((async()=>{await n.terminate()}))}}},6308:e=>{e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},7895:e=>{e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},9154:(e,t,n)=>{const a=n(6308);e.exports={defaultOEM:a.DEFAULT}},8720:e=>{e.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}},9520:e=>{e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},1949:(e,t,n)=>{const a=n(5504);let r=0;e.exports=({id:e,action:t,payload:n={}})=>{let i=e;return void 0===i&&(i=a("Job",r),r+=1),{id:i,action:t,payload:n}}},7877:function(e,t,n){const a=n(1949),{log:r}=n(3486),i=n(5504);let s=0;e.exports=()=>{const e=i("Scheduler",s),t={},n={};let o=[];s+=1;const d=()=>Object.keys(t).length,c=()=>{if(0!==o.length){const e=Object.keys(t);for(let a=0;a<e.length;a+=1)if(void 0===n[e[a]]){o[0](t[e[a]]);break}}},l=(t,i)=>new Promise(((s,d)=>{const l=a({action:t,payload:i});o.push((async e=>{o.shift(),n[e.id]=l;try{s(await e[t].apply(this,[...i,l.id]))}catch(e){d(e)}finally{delete n[e.id],c()}})),r(`[${e}]: Add ${l.id} to JobQueue`),r(`[${e}]: JobQueue length=${o.length}`),c()}));return{addWorker:n=>(t[n.id]=n,r(`[${e}]: Add ${n.id}`),r(`[${e}]: Number of workers=${d()}`),c(),n.id),addJob:async(t,...n)=>{if(0===d())throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return l(t,n)},terminate:async()=>{Object.keys(t).forEach((async e=>{await t[e].terminate()})),o=[]},getQueueLen:()=>o.length,getNumWorkers:d}}},1158:(e,t,n)=>{const a=n(1937),r=n(3634),i=n(1949),{log:s}=n(3486),o=n(5504),{defaultOEM:d}=n(9154),{defaultOptions:c,spawnWorker:l,terminateWorker:u,onMessage:p,loadImage:h,send:f}=n(3791);let m=0;e.exports=async(e={})=>{const t=o("Worker",m),{logger:n,errorHandler:g,...y}=a({...c,...e}),w={},C={};let v,_;const b=new Promise(((e,t)=>{_=e,v=t}));let P=l(y);P.onerror=e=>{v(e.message)},m+=1;const k=(e,t)=>{w[e]=t},x=(e,t)=>{C[e]=t},S=({id:e,action:n,payload:a})=>new Promise(((r,i)=>{s(`[${t}]: Start ${e}, action=${n}`),k(n,r),x(n,i),f(P,{workerId:t,jobId:e,action:n,payload:a})}));p(P,(({workerId:e,jobId:t,status:a,action:i,data:o})=>{if("resolve"===a){s(`[${e}]: Complete ${t}`);let n=o;"recognize"===i?n=r(o):"getPDF"===i&&(n=Array.from({...o,length:Object.keys(o).length})),w[i]({jobId:t,data:n})}else if("reject"===a){if(C[i](o),"load"===i&&v(o),!g)throw Error(o);g(o)}else"progress"===a&&n({...o,userJobId:t})}));const A={id:t,worker:P,setResolve:k,setReject:x,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,n)=>S(i({id:n,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>S(i({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>S(i({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,n)=>S(i({id:n,action:"FS",payload:{method:e,args:t}})),loadLanguage:(e="eng",t)=>S(i({id:t,action:"loadLanguage",payload:{langs:e,options:y}})),initialize:(e="eng",t=d,n,a)=>S(i({id:a,action:"initialize",payload:{langs:e,oem:t,config:n}})),setParameters:(e={},t)=>S(i({id:t,action:"setParameters",payload:{params:e}})),recognize:async(e,t={},n={blocks:!0,text:!0,hocr:!0,tsv:!0},a)=>S(i({id:a,action:"recognize",payload:{image:await h(e),options:t,output:n}})),getPDF:(e="Tesseract OCR Result",t=!1,n)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),S(i({id:n,action:"getPDF",payload:{title:e,textonly:t}}))),detect:async(e,t)=>S(i({id:t,action:"detect",payload:{image:await h(e)}})),terminate:async()=>(null!==P&&(u(P),P=null),Promise.resolve())};return S(i({id:undefined,action:"load",payload:{options:y}})).then((()=>_(A))).catch((()=>{})),b}},7320:(e,t,n)=>{n(5666);const a=n(7877),r=n(1158),i=n(181),s=n(9520),o=n(6308),d=n(7895),{setLogging:c}=n(3486);e.exports={languages:s,OEM:o,PSM:d,createScheduler:a,createWorker:r,setLogging:c,...i}},3634:e=>{e.exports=e=>{const t=[],n=[],a=[],r=[],i=[];return e.blocks&&e.blocks.forEach((s=>{s.paragraphs.forEach((t=>{t.lines.forEach((n=>{n.words.forEach((a=>{a.symbols.forEach((r=>{i.push({...r,page:e,block:s,paragraph:t,line:n,word:a})})),r.push({...a,page:e,block:s,paragraph:t,line:n})})),a.push({...n,page:e,block:s,paragraph:t})})),n.push({...t,page:e,block:s})})),t.push({...s,page:e})})),{...e,blocks:t,paragraphs:n,lines:a,words:r,symbols:i}}},6376:(e,t,n)=>{const a=n(9134);e.exports=e=>{const t={};return"undefined"!=typeof WorkerGlobalScope?t.type="webworker":a()?t.type="electron":"object"==typeof window?t.type="browser":"object"==typeof process&&(t.type="node"),void 0===e?t:t[e]}},5504:e=>{e.exports=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`},3486:function(e,t){let n=!1;t.logging=n,t.setLogging=e=>{n=e},t.log=(...e)=>n?console.log.apply(this,e):null},1937:(e,t,n)=>{const a="browser"===n(6376)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach((n=>{e[n]&&(t[n]=a(t[n]))})),t}},4040:(e,t,n)=>{const{version:a}=n(4547),r=n(8720);var i;e.exports={...r,workerPath:"undefined"!=typeof process&&"development"===process.env.TESS_ENV?(i=`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`,new URL(i,window.location.href).href):`https://cdn.jsdelivr.net/npm/tesseract.js@v${a}/dist/worker.min.js`,corePath:null}},3791:(e,t,n)=>{const a=n(4040),r=n(1005),i=n(25),s=n(9804),o=n(7247),d=n(1196);e.exports={defaultOptions:a,spawnWorker:r,terminateWorker:i,onMessage:s,send:o,loadImage:d}},1196:e=>{const t=e=>new Promise(((t,n)=>{const a=new FileReader;a.onload=()=>{t(a.result)},a.onerror=({target:{error:{code:e}}})=>{n(Error(`File could not be read! Code=${e}`))},a.readAsArrayBuffer(e)})),n=async e=>{let a=e;if(void 0===e)return"undefined";if("string"==typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))a=atob(e.split(",")[1]).split("").map((e=>e.charCodeAt(0)));else{const t=await fetch(e);a=await t.arrayBuffer()}else if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(a=await n(e.src)),"VIDEO"===e.tagName&&(a=await n(e.poster)),"CANVAS"===e.tagName&&await new Promise((n=>{e.toBlob((async e=>{a=await t(e),n()}))}));else if("undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();a=await t(n)}else(e instanceof File||e instanceof Blob)&&(a=await t(e));return new Uint8Array(a)};e.exports=n},9804:e=>{e.exports=(e,t)=>{e.onmessage=({data:e})=>{t(e)}}},7247:e=>{e.exports=async(e,t)=>{e.postMessage(t)}},1005:e=>{e.exports=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const t=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(t))}else n=new Worker(e);return n}},25:e=>{e.exports=e=>{e.terminate()}},8452:()=>{prettycards.concepts.appendSuperposCard=function(e,t,n=3,a=1){var r=n>0||a>0,i=270;r||(i=246),console.log(n,a,r);var s="height: 100%; width: 50%; overflow-x: hidden;",o=$(`\n        <div style="display: flex; width: 176px; height: ${i}px;">\n            <div class="PrettyCards_SuperposCard_Left" style="${s}"></div>\n            <div class="PrettyCards_SuperposCard_Right" style="${s}"></div>\n        </div>\n    `),d=e.shiny;e.shiny=!1;var c=window.appendCard(e,o.find(".PrettyCards_SuperposCard_Left"));e.shiny=!0;var l=window.appendCard(e,o.find(".PrettyCards_SuperposCard_Right"));return l.css("position","relative"),l.css("left","-100%"),e.shiny=d,r&&(c.append('<div class="cardQuantity" style="text-align:left; padding-left: 0.8em;">x <span class="nb">'+n+"</span></div>"),l.append('<div class="cardQuantity rainbowText" style="text-align:right; padding-right: 0.8em;">x <span class="nb">'+a+"</span></div>")),t.append(o),o}},4701:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(a,r){"use strict";var i=[],s=Object.getPrototypeOf,o=i.slice,d=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,l=i.indexOf,u={},p=u.toString,h=u.hasOwnProperty,f=h.toString,m=f.call(Object),g={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},w=function(e){return null!=e&&e===e.window},C=a.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function _(e,t,n){var a,r,i=(n=n||C).createElement("script");if(i.text=e,t)for(a in v)(r=t[a]||t.getAttribute&&t.getAttribute(a))&&i.setAttribute(a,r);n.head.appendChild(i).parentNode.removeChild(i)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[p.call(e)]||"object":typeof e}var P="3.6.0",k=function(e,t){return new k.fn.init(e,t)};function x(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!y(e)&&!w(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:P,constructor:k,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},k.extend=k.fn.extend=function(){var e,t,n,a,r,i,s=arguments[0]||{},o=1,d=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[o]||{},o++),"object"==typeof s||y(s)||(s={}),o===d&&(s=this,o--);o<d;o++)if(null!=(e=arguments[o]))for(t in e)a=e[t],"__proto__"!==t&&s!==a&&(c&&a&&(k.isPlainObject(a)||(r=Array.isArray(a)))?(n=s[t],i=r&&!Array.isArray(n)?[]:r||k.isPlainObject(n)?n:{},r=!1,s[t]=k.extend(c,i,a)):void 0!==a&&(s[t]=a));return s},k.extend({expando:"jQuery"+(P+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=s(e))&&("function"!=typeof(n=h.call(t,"constructor")&&t.constructor)||f.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){_(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,a=0;if(x(e))for(n=e.length;a<n&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,a=0,r=e.length;a<n;a++)e[r++]=t[a];return e.length=r,e},grep:function(e,t,n){for(var a=[],r=0,i=e.length,s=!n;r<i;r++)!t(e[r],r)!==s&&a.push(e[r]);return a},map:function(e,t,n){var a,r,i=0,s=[];if(x(e))for(a=e.length;i<a;i++)null!=(r=t(e[i],i,n))&&s.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&s.push(r);return d(s)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=i[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var S=function(e){var t,n,a,r,i,s,o,d,c,l,u,p,h,f,m,g,y,w,C,v="sizzle"+1*new Date,_=e.document,b=0,P=0,k=de(),x=de(),S=de(),A=de(),E=function(e,t){return e===t&&(u=!0),0},T={}.hasOwnProperty,I=[],$=I.pop,D=I.push,N=I.push,L=I.slice,R=function(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+O+"*("+B+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+O+"*\\]",H=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",G=new RegExp(O+"+","g"),U=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),j=new RegExp("^"+O+"*,"+O+"*"),z=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),W=new RegExp(O+"|>"),K=new RegExp(H),V=new RegExp("^"+B+"$"),q={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ae=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){p()},se=ve((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(I=L.call(_.childNodes),_.childNodes),I[_.childNodes.length].nodeType}catch(t){N={apply:I.length?function(e,t){D.apply(e,L.call(t))}:function(e,t){for(var n=e.length,a=0;e[n++]=t[a++];);e.length=n-1}}}function oe(e,t,a,r){var i,o,c,l,u,f,y,w=t&&t.ownerDocument,_=t?t.nodeType:9;if(a=a||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return a;if(!r&&(p(t),t=t||h,m)){if(11!==_&&(u=Z.exec(e)))if(i=u[1]){if(9===_){if(!(c=t.getElementById(i)))return a;if(c.id===i)return a.push(c),a}else if(w&&(c=w.getElementById(i))&&C(t,c)&&c.id===i)return a.push(c),a}else{if(u[2])return N.apply(a,t.getElementsByTagName(e)),a;if((i=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(a,t.getElementsByClassName(i)),a}if(n.qsa&&!A[e+" "]&&(!g||!g.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(y=e,w=t,1===_&&(W.test(e)||z.test(e))){for((w=ee.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(ae,re):t.setAttribute("id",l=v)),o=(f=s(e)).length;o--;)f[o]=(l?"#"+l:":scope")+" "+Ce(f[o]);y=f.join(",")}try{return N.apply(a,w.querySelectorAll(y)),a}catch(t){A(e,!0)}finally{l===v&&t.removeAttribute("id")}}}return d(e.replace(U,"$1"),t,a,r)}function de(){var e=[];return function t(n,r){return e.push(n+" ")>a.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[v]=!0,e}function le(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=n.length;r--;)a.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,a=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(a)return a;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,a){for(var r,i=e([],n.length,t),s=i.length;s--;)n[r=i[s]]&&(n[r]=!(a[r]=n[r]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},i=oe.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},p=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:_;return s!=h&&9===s.nodeType&&s.documentElement&&(f=(h=s).documentElement,m=!i(h),_!=h&&(r=h.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.scope=le((function(e){return f.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=le((function(e){return f.appendChild(e).id=v,!h.getElementsByName||!h.getElementsByName(v).length})),n.getById?(a.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},a.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(a.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},a.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,a,r,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(r=t.getElementsByName(e),a=0;i=r[a++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),a.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,a=[],r=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[r++];)1===n.nodeType&&a.push(n);return a}return i},a.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(n.qsa=Q.test(h.querySelectorAll))&&(le((function(e){var t;f.appendChild(e).innerHTML="<a id='"+v+"'></a><select id='"+v+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+O+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+v+"-]").length||g.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+O+"*name"+O+"*="+O+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+v+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+O+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(w=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le((function(e){n.disconnectedMatch=w.call(e,"*"),w.call(e,"[s!='']:x"),y.push("!=",H)})),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=Q.test(f.compareDocumentPosition),C=t||Q.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!(!a||1!==a.nodeType||!(n.contains?n.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return u=!0,0;var a=!e.compareDocumentPosition-!t.compareDocumentPosition;return a||(1&(a=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===a?e==h||e.ownerDocument==_&&C(_,e)?-1:t==h||t.ownerDocument==_&&C(_,t)?1:l?R(l,e)-R(l,t):0:4&a?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,a=0,r=e.parentNode,i=t.parentNode,s=[e],o=[t];if(!r||!i)return e==h?-1:t==h?1:r?-1:i?1:l?R(l,e)-R(l,t):0;if(r===i)return pe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;s[a]===o[a];)a++;return a?pe(s[a],o[a]):s[a]==_?-1:o[a]==_?1:0}),h},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&m&&!A[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var a=w.call(e,t);if(a||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(e){A(t,!0)}return 0<oe(t,h,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!=h&&p(e),C(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!=h&&p(e);var r=a.attrHandle[t.toLowerCase()],i=r&&T.call(a.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==i?i:n.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},oe.escape=function(e){return(e+"").replace(ae,re)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,a=[],r=0,i=0;if(u=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(E),u){for(;t=e[i++];)t===e[i]&&(r=a.push(i));for(;r--;)e.splice(a[r],1)}return l=null,e},r=oe.getText=function(e){var t,n="",a=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[a++];)n+=r(t);return n},(a=oe.selectors={cacheLength:50,createPseudo:ce,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&K.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(a){var r=oe.attr(a,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r.replace(G," ")+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,a,r){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===a&&0===r?function(e){return!!e.parentNode}:function(t,n,d){var c,l,u,p,h,f,m=i!==s?"nextSibling":"previousSibling",g=t.parentNode,y=o&&t.nodeName.toLowerCase(),w=!d&&!o,C=!1;if(g){if(i){for(;m;){for(p=t;p=p[m];)if(o?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&w){for(C=(h=(c=(l=(u=(p=g)[v]||(p[v]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===b&&c[1])&&c[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(C=h=0)||f.pop();)if(1===p.nodeType&&++C&&p===t){l[e]=[b,h,C];break}}else if(w&&(C=h=(c=(l=(u=(p=t)[v]||(p[v]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===b&&c[1]),!1===C)for(;(p=++h&&p&&p[m]||(C=h=0)||f.pop())&&((o?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++C||(w&&((l=(u=p[v]||(p[v]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]=[b,C]),p!==t)););return(C-=r)===a||C%a==0&&0<=C/a}}},PSEUDO:function(e,t){var n,r=a.pseudos[e]||a.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[v]?r(t):1<r.length?(n=[e,e,"",t],a.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var a,i=r(e,t),s=i.length;s--;)e[a=R(e,i[s])]=!(n[a]=i[s])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ce((function(e){var t=[],n=[],a=o(e.replace(U,"$1"));return a[v]?ce((function(e,t,n,r){for(var i,s=a(e,null,r,[]),o=e.length;o--;)(i=s[o])&&(e[o]=!(t[o]=i))})):function(e,r,i){return t[0]=e,a(t,null,i,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return 0<oe(e,t).length}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||r(t)).indexOf(e)}})),lang:ce((function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!a.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var a=n<0?n+t:t<n?t:n;0<=--a;)e.push(a);return e})),gt:ge((function(e,t,n){for(var a=n<0?n+t:n;++a<t;)e.push(a);return e}))}}).pseudos.nth=a.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})a.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})a.pseudos[t]=fe(t);function we(){}function Ce(e){for(var t=0,n=e.length,a="";t<n;t++)a+=e[t].value;return a}function ve(e,t,n){var a=t.dir,r=t.next,i=r||a,s=n&&"parentNode"===i,o=P++;return t.first?function(t,n,r){for(;t=t[a];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,d){var c,l,u,p=[b,o];if(d){for(;t=t[a];)if((1===t.nodeType||s)&&e(t,n,d))return!0}else for(;t=t[a];)if(1===t.nodeType||s)if(l=(u=t[v]||(t[v]={}))[t.uniqueID]||(u[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[a]||t;else{if((c=l[i])&&c[0]===b&&c[1]===o)return p[2]=c[2];if((l[i]=p)[2]=e(t,n,d))return!0}return!1}}function _e(e){return 1<e.length?function(t,n,a){for(var r=e.length;r--;)if(!e[r](t,n,a))return!1;return!0}:e[0]}function be(e,t,n,a,r){for(var i,s=[],o=0,d=e.length,c=null!=t;o<d;o++)(i=e[o])&&(n&&!n(i,a,r)||(s.push(i),c&&t.push(o)));return s}function Pe(e,t,n,a,r,i){return a&&!a[v]&&(a=Pe(a)),r&&!r[v]&&(r=Pe(r,i)),ce((function(i,s,o,d){var c,l,u,p=[],h=[],f=s.length,m=i||function(e,t,n){for(var a=0,r=t.length;a<r;a++)oe(e,t[a],n);return n}(t||"*",o.nodeType?[o]:o,[]),g=!e||!i&&t?m:be(m,p,e,o,d),y=n?r||(i?e:f||a)?[]:s:g;if(n&&n(g,y,o,d),a)for(c=be(y,h),a(c,[],o,d),l=c.length;l--;)(u=c[l])&&(y[h[l]]=!(g[h[l]]=u));if(i){if(r||e){if(r){for(c=[],l=y.length;l--;)(u=y[l])&&c.push(g[l]=u);r(null,y=[],c,d)}for(l=y.length;l--;)(u=y[l])&&-1<(c=r?R(i,u):p[l])&&(i[c]=!(s[c]=u))}}else y=be(y===s?y.splice(f,y.length):y),r?r(null,s,y,d):N.apply(s,y)}))}function ke(e){for(var t,n,r,i=e.length,s=a.relative[e[0].type],o=s||a.relative[" "],d=s?1:0,l=ve((function(e){return e===t}),o,!0),u=ve((function(e){return-1<R(t,e)}),o,!0),p=[function(e,n,a){var r=!s&&(a||n!==c)||((t=n).nodeType?l(e,n,a):u(e,n,a));return t=null,r}];d<i;d++)if(n=a.relative[e[d].type])p=[ve(_e(p),n)];else{if((n=a.filter[e[d].type].apply(null,e[d].matches))[v]){for(r=++d;r<i&&!a.relative[e[r].type];r++);return Pe(1<d&&_e(p),1<d&&Ce(e.slice(0,d-1).concat({value:" "===e[d-2].type?"*":""})).replace(U,"$1"),n,d<r&&ke(e.slice(d,r)),r<i&&ke(e=e.slice(r)),r<i&&Ce(e))}p.push(n)}return _e(p)}return we.prototype=a.filters=a.pseudos,a.setFilters=new we,s=oe.tokenize=function(e,t){var n,r,i,s,o,d,c,l=x[e+" "];if(l)return t?0:l.slice(0);for(o=e,d=[],c=a.preFilter;o;){for(s in n&&!(r=j.exec(o))||(r&&(o=o.slice(r[0].length)||o),d.push(i=[])),n=!1,(r=z.exec(o))&&(n=r.shift(),i.push({value:n,type:r[0].replace(U," ")}),o=o.slice(n.length)),a.filter)!(r=q[s].exec(o))||c[s]&&!(r=c[s](r))||(n=r.shift(),i.push({value:n,type:s,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?oe.error(e):x(e,d).slice(0)},o=oe.compile=function(e,t){var n,r,i,o,d,l,u=[],f=[],g=S[e+" "];if(!g){for(t||(t=s(e)),n=t.length;n--;)(g=ke(t[n]))[v]?u.push(g):f.push(g);(g=S(e,(r=f,o=0<(i=u).length,d=0<r.length,l=function(e,t,n,s,l){var u,f,g,y=0,w="0",C=e&&[],v=[],_=c,P=e||d&&a.find.TAG("*",l),k=b+=null==_?1:Math.random()||.1,x=P.length;for(l&&(c=t==h||t||l);w!==x&&null!=(u=P[w]);w++){if(d&&u){for(f=0,t||u.ownerDocument==h||(p(u),n=!m);g=r[f++];)if(g(u,t||h,n)){s.push(u);break}l&&(b=k)}o&&((u=!g&&u)&&y--,e&&C.push(u))}if(y+=w,o&&w!==y){for(f=0;g=i[f++];)g(C,v,t,n);if(e){if(0<y)for(;w--;)C[w]||v[w]||(v[w]=$.call(s));v=be(v)}N.apply(s,v),l&&!e&&0<v.length&&1<y+i.length&&oe.uniqueSort(s)}return l&&(b=k,c=_),C},o?ce(l):l))).selector=e}return g},d=oe.select=function(e,t,n,r){var i,d,c,l,u,p="function"==typeof e&&e,h=!r&&s(e=p.selector||e);if(n=n||[],1===h.length){if(2<(d=h[0]=h[0].slice(0)).length&&"ID"===(c=d[0]).type&&9===t.nodeType&&m&&a.relative[d[1].type]){if(!(t=(a.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(d.shift().value.length)}for(i=q.needsContext.test(e)?0:d.length;i--&&(c=d[i],!a.relative[l=c.type]);)if((u=a.find[l])&&(r=u(c.matches[0].replace(te,ne),ee.test(d[0].type)&&ye(t.parentNode)||t))){if(d.splice(i,1),!(e=r.length&&Ce(d)))return N.apply(n,r),n;break}}return(p||o(e,h))(r,t,!m,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=v.split("").sort(E).join("")===v,n.detectDuplicates=!!u,p(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ue(M,(function(e,t,n){var a;if(!n)return!0===e[t]?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null})),oe}(a);k.find=S,k.expr=S.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=S.uniqueSort,k.text=S.getText,k.isXMLDoc=S.isXML,k.contains=S.contains,k.escapeSelector=S.escape;var A=function(e,t,n){for(var a=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&k(e).is(n))break;a.push(e)}return a},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=k.expr.match.needsContext;function I(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var $=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return y(t)?k.grep(e,(function(e,a){return!!t.call(e,a,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return-1<l.call(t,e)!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?k.find.matchesSelector(a,e)?[a]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,a=this.length,r=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<a;t++)if(k.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<a;t++)k.find(e,r[t],n);return 1<a?k.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&T.test(e)?k(e):e||[],!1).length}});var N,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var a,r;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(a="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!a[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(a[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),$.test(a[1])&&k.isPlainObject(t))for(a in t)y(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}return(r=C.getElementById(a[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,N=k(C);var R=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,a=0,r=this.length,i=[],s="string"!=typeof e&&k(e);if(!T.test(e))for(;a<r;a++)for(n=this[a];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?k.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?l.call(k(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return A(e,"parentNode")},parentsUntil:function(e,t,n){return A(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return A(e,"nextSibling")},prevAll:function(e){return A(e,"previousSibling")},nextUntil:function(e,t,n){return A(e,"nextSibling",n)},prevUntil:function(e,t,n){return A(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(I(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,a){var r=k.map(this,t,n);return"Until"!==e.slice(-5)&&(a=n),a&&"string"==typeof a&&(r=k.filter(a,r)),1<this.length&&(M[e]||k.uniqueSort(r),R.test(e)&&r.reverse()),this.pushStack(r)}}));var B=/[^\x20\t\r\n\f]+/g;function F(e){return e}function H(e){throw e}function G(e,t,n,a){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(a))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},k.each(t.match(B)||[],(function(e,t){n[t]=!0})),n):k.extend({},e);var a,r,i,s,o=[],d=[],c=-1,l=function(){for(s=s||e.once,i=a=!0;d.length;c=-1)for(r=d.shift();++c<o.length;)!1===o[c].apply(r[0],r[1])&&e.stopOnFalse&&(c=o.length,r=!1);e.memory||(r=!1),a=!1,s&&(o=r?[]:"")},u={add:function(){return o&&(r&&!a&&(c=o.length-1,d.push(r)),function t(n){k.each(n,(function(n,a){y(a)?e.unique&&u.has(a)||o.push(a):a&&a.length&&"string"!==b(a)&&t(a)}))}(arguments),r&&!a&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;-1<(n=k.inArray(t,o,n));)o.splice(n,1),n<=c&&c--})),this},has:function(e){return e?-1<k.inArray(e,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return s=d=[],o=r="",this},disabled:function(){return!o},lock:function(){return s=d=[],r||a||(o=r=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],d.push(t),a||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,a){var r=y(e[a[4]])&&e[a[4]];i[a[1]]((function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var i=0;function s(e,t,n,r){return function(){var o=this,d=arguments,c=function(){var a,c;if(!(e<i)){if((a=n.apply(o,d))===t.promise())throw new TypeError("Thenable self-resolution");c=a&&("object"==typeof a||"function"==typeof a)&&a.then,y(c)?r?c.call(a,s(i,t,F,r),s(i,t,H,r)):(i++,c.call(a,s(i,t,F,r),s(i,t,H,r),s(i,t,F,t.notifyWith))):(n!==F&&(o=void 0,d=[a]),(r||t.resolveWith)(o,d))}},l=r?c:function(){try{c()}catch(a){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(a,l.stackTrace),i<=e+1&&(n!==H&&(o=void 0,d=[a]),t.rejectWith(o,d))}};e?l():(k.Deferred.getStackHook&&(l.stackTrace=k.Deferred.getStackHook()),a.setTimeout(l))}}return k.Deferred((function(a){t[0][3].add(s(0,a,y(r)?r:F,a.notifyWith)),t[1][3].add(s(0,a,y(e)?e:F)),t[2][3].add(s(0,a,y(n)?n:H))})).promise()},promise:function(e){return null!=e?k.extend(e,r):r}},i={};return k.each(t,(function(e,a){var s=a[2],o=a[5];r[a[1]]=s.add,o&&s.add((function(){n=o}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(a[3].fire),i[a[0]]=function(){return i[a[0]+"With"](this===i?void 0:this,arguments),this},i[a[0]+"With"]=s.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,a=Array(n),r=o.call(arguments),i=k.Deferred(),s=function(e){return function(n){a[e]=this,r[e]=1<arguments.length?o.call(arguments):n,--t||i.resolveWith(a,r)}};if(t<=1&&(G(e,i.done(s(n)).resolve,i.reject,!t),"pending"===i.state()||y(r[n]&&r[n].then)))return i.then();for(;n--;)G(r[n],s(n),i.reject);return i.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){a.console&&a.console.warn&&e&&U.test(e.name)&&a.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){a.setTimeout((function(){throw e}))};var j=k.Deferred();function z(){C.removeEventListener("DOMContentLoaded",z),a.removeEventListener("load",z),k.ready()}k.fn.ready=function(e){return j.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||j.resolveWith(C,[k])}}),k.ready.then=j.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?a.setTimeout(k.ready):(C.addEventListener("DOMContentLoaded",z),a.addEventListener("load",z));var W=function(e,t,n,a,r,i,s){var o=0,d=e.length,c=null==n;if("object"===b(n))for(o in r=!0,n)W(e,t,o,n[o],!0,i,s);else if(void 0!==a&&(r=!0,y(a)||(s=!0),c&&(s?(t.call(e,a),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;o<d;o++)t(e[o],n,s?a:a.call(e[o],o,t(e[o],n)));return r?e:c?t.call(e):d?t(e[0],n):i},K=/^-ms-/,V=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function Y(e){return e.replace(K,"ms-").replace(V,q)}var J=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=k.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},J(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var a,r=this.cache(e);if("string"==typeof t)r[Y(t)]=n;else for(a in t)r[Y(a)]=t[a];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,a=e[this.expando];if(void 0!==a){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in a?[t]:t.match(B)||[]).length;for(;n--;)delete a[t[n]]}(void 0===t||k.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Q=new X,Z=new X,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var a,r;if(void 0===n&&1===e.nodeType)if(a="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(a))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:ee.test(r)?JSON.parse(r):r)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return Z.hasData(e)||Q.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,a,r,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(r=Z.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(a=s[n].name).indexOf("data-")&&(a=Y(a.slice(5)),ne(i,a,r[a]));Q.set(i,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){Z.set(this,e)})):W(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=Z.get(i,e))||void 0!==(n=ne(i,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var a;if(e)return t=(t||"fx")+"queue",a=Q.get(e,t),n&&(!a||Array.isArray(n)?a=Q.access(e,t,k.makeArray(n)):a.push(n)),a||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),a=n.length,r=n.shift(),i=k._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),a--),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,(function(){k.dequeue(e,t)}),i)),!a&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:k.Callbacks("once memory").add((function(){Q.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,a=1,r=k.Deferred(),i=this,s=this.length,o=function(){--a||r.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Q.get(i[s],e+"queueHooks"))&&n.empty&&(a++,n.empty.add(o));return o(),r.promise(t)}});var ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],se=C.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},de={composed:!0};se.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(de)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===k.css(e,"display")};function le(e,t,n,a){var r,i,s=20,o=a?function(){return a.cur()}:function(){return k.css(e,t,"")},d=o(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),l=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+d)&&re.exec(k.css(e,t));if(l&&l[3]!==c){for(d/=2,c=c||l[3],l=+d||1;s--;)k.style(e,t,l+c),(1-i)*(1-(i=o()/d||.5))<=0&&(s=0),l/=i;l*=2,k.style(e,t,l+c),n=n||[]}return n&&(l=+l||+d||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],a&&(a.unit=c,a.start=l,a.end=r)),r}var ue={};function pe(e,t){for(var n,a,r,i,s,o,d,c=[],l=0,u=e.length;l<u;l++)(a=e[l]).style&&(n=a.style.display,t?("none"===n&&(c[l]=Q.get(a,"display")||null,c[l]||(a.style.display="")),""===a.style.display&&ce(a)&&(c[l]=(d=s=i=void 0,s=(r=a).ownerDocument,o=r.nodeName,(d=ue[o])||(i=s.body.appendChild(s.createElement(o)),d=k.css(i,"display"),i.parentNode.removeChild(i),"none"===d&&(d="block"),ue[o]=d)))):"none"!==n&&(c[l]="none",Q.set(a,"display",n)));for(l=0;l<u;l++)null!=c[l]&&(e[l].style.display=c[l]);return e}k.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?k(this).show():k(this).hide()}))}});var he,fe,me=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;he=C.createDocumentFragment().appendChild(C.createElement("div")),(fe=C.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),he.appendChild(fe),g.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue,he.innerHTML="<option></option>",g.option=!!he.lastChild;var we={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ce(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&I(e,t)?k.merge([e],n):n}function ve(e,t){for(var n=0,a=e.length;n<a;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}we.tbody=we.tfoot=we.colgroup=we.caption=we.thead,we.th=we.td,g.option||(we.optgroup=we.option=[1,"<select multiple='multiple'>","</select>"]);var _e=/<|&#?\w+;/;function be(e,t,n,a,r){for(var i,s,o,d,c,l,u=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if((i=e[h])||0===i)if("object"===b(i))k.merge(p,i.nodeType?[i]:i);else if(_e.test(i)){for(s=s||u.appendChild(t.createElement("div")),o=(ge.exec(i)||["",""])[1].toLowerCase(),d=we[o]||we._default,s.innerHTML=d[1]+k.htmlPrefilter(i)+d[2],l=d[0];l--;)s=s.lastChild;k.merge(p,s.childNodes),(s=u.firstChild).textContent=""}else p.push(t.createTextNode(i));for(u.textContent="",h=0;i=p[h++];)if(a&&-1<k.inArray(i,a))r&&r.push(i);else if(c=oe(i),s=Ce(u.appendChild(i),"script"),c&&ve(s),n)for(l=0;i=s[l++];)ye.test(i.type||"")&&n.push(i);return u}var Pe=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function xe(){return!1}function Se(e,t){return e===function(){try{return C.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,a,r,i){var s,o;if("object"==typeof t){for(o in"string"!=typeof n&&(a=a||n,n=void 0),t)Ae(e,o,n,a,t[o],i);return e}if(null==a&&null==r?(r=n,a=n=void 0):null==r&&("string"==typeof n?(r=a,a=void 0):(r=a,a=n,n=void 0)),!1===r)r=xe;else if(!r)return e;return 1===i&&(s=r,(r=function(e){return k().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=k.guid++)),e.each((function(){k.event.add(this,t,r,a,n)}))}function Ee(e,t,n){n?(Q.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var a,r,i=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=o.call(arguments),Q.set(this,t,i),a=n(this,t),this[t](),i!==(r=Q.get(this,t))||a?Q.set(this,t,!1):r={},i!==r)return e.stopImmediatePropagation(),e.preventDefault(),r&&r.value}else i.length&&(Q.set(this,t,{value:k.event.trigger(k.extend(i[0],k.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&k.event.add(e,t,ke)}k.event={global:{},add:function(e,t,n,a,r){var i,s,o,d,c,l,u,p,h,f,m,g=Q.get(e);if(J(e))for(n.handler&&(n=(i=n).handler,r=i.selector),r&&k.find.matchesSelector(se,r),n.guid||(n.guid=k.guid++),(d=g.events)||(d=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(B)||[""]).length;c--;)h=m=(o=Pe.exec(t[c])||[])[1],f=(o[2]||"").split(".").sort(),h&&(u=k.event.special[h]||{},h=(r?u.delegateType:u.bindType)||h,u=k.event.special[h]||{},l=k.extend({type:h,origType:m,data:a,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:f.join(".")},i),(p=d[h])||((p=d[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,a,f,s)||e.addEventListener&&e.addEventListener(h,s)),u.add&&(u.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,l):p.push(l),k.event.global[h]=!0)},remove:function(e,t,n,a,r){var i,s,o,d,c,l,u,p,h,f,m,g=Q.hasData(e)&&Q.get(e);if(g&&(d=g.events)){for(c=(t=(t||"").match(B)||[""]).length;c--;)if(h=m=(o=Pe.exec(t[c])||[])[1],f=(o[2]||"").split(".").sort(),h){for(u=k.event.special[h]||{},p=d[h=(a?u.delegateType:u.bindType)||h]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=p.length;i--;)l=p[i],!r&&m!==l.origType||n&&n.guid!==l.guid||o&&!o.test(l.namespace)||a&&a!==l.selector&&("**"!==a||!l.selector)||(p.splice(i,1),l.selector&&p.delegateCount--,u.remove&&u.remove.call(e,l));s&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||k.removeEvent(e,h,g.handle),delete d[h])}else for(h in d)k.event.remove(e,h+t[c],n,a,!0);k.isEmptyObject(d)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,a,r,i,s,o=new Array(arguments.length),d=k.event.fix(e),c=(Q.get(this,"events")||Object.create(null))[d.type]||[],l=k.event.special[d.type]||{};for(o[0]=d,t=1;t<arguments.length;t++)o[t]=arguments[t];if(d.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,d)){for(s=k.event.handlers.call(this,d,c),t=0;(r=s[t++])&&!d.isPropagationStopped();)for(d.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!d.isImmediatePropagationStopped();)d.rnamespace&&!1!==i.namespace&&!d.rnamespace.test(i.namespace)||(d.handleObj=i,d.data=i.data,void 0!==(a=((k.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,o))&&!1===(d.result=a)&&(d.preventDefault(),d.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,d),d.result}},handlers:function(e,t){var n,a,r,i,s,o=[],d=t.delegateCount,c=e.target;if(d&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],s={},n=0;n<d;n++)void 0===s[r=(a=t[n]).selector+" "]&&(s[r]=a.needsContext?-1<k(r,this).index(c):k.find(r,this,null,[c]).length),s[r]&&i.push(a);i.length&&o.push({elem:c,handlers:i})}return c=this,d<t.length&&o.push({elem:c,handlers:t.slice(d)}),o},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&I(t,"input")&&Ee(t,"click",ke),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&I(t,"input")&&Ee(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&I(t,"input")&&Q.get(t,"click")||I(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:xe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:xe,isPropagationStopped:xe,isImmediatePropagationStopped:xe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Ee(this,e,Se),!1},trigger:function(){return Ee(this,e),!0},_default:function(){return!0},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,a=e.relatedTarget,r=e.handleObj;return a&&(a===this||k.contains(this,a))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,a){return Ae(this,e,t,n,a)},one:function(e,t,n,a){return Ae(this,e,t,n,a,1)},off:function(e,t,n){var a,r;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,k(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=xe),this.each((function(){k.event.remove(this,e,n,t)}))}});var Te=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return I(e,"table")&&I(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,a,r,i,s,o;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.get(e).events))for(r in Q.remove(t,"handle events"),o)for(n=0,a=o[r].length;n<a;n++)k.event.add(t,r,o[r][n]);Z.hasData(e)&&(i=Z.access(e),s=k.extend({},i),Z.set(t,s))}}function Me(e,t,n,a){t=d(t);var r,i,s,o,c,l,u=0,p=e.length,h=p-1,f=t[0],m=y(f);if(m||1<p&&"string"==typeof f&&!g.checkClone&&Ie.test(f))return e.each((function(r){var i=e.eq(r);m&&(t[0]=f.call(this,r,i.html())),Me(i,t,n,a)}));if(p&&(i=(r=be(t,e[0].ownerDocument,!1,e,a)).firstChild,1===r.childNodes.length&&(r=i),i||a)){for(o=(s=k.map(Ce(r,"script"),Ne)).length;u<p;u++)c=r,u!==h&&(c=k.clone(c,!0,!0),o&&k.merge(s,Ce(c,"script"))),n.call(e[u],c,u);if(o)for(l=s[s.length-1].ownerDocument,k.map(s,Le),u=0;u<o;u++)c=s[u],ye.test(c.type||"")&&!Q.access(c,"globalEval")&&k.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):_(c.textContent.replace($e,""),c,l))}return e}function Oe(e,t,n){for(var a,r=t?k.filter(t,e):e,i=0;null!=(a=r[i]);i++)n||1!==a.nodeType||k.cleanData(Ce(a)),a.parentNode&&(n&&oe(a)&&ve(Ce(a,"script")),a.parentNode.removeChild(a));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var a,r,i,s,o,d,c,l=e.cloneNode(!0),u=oe(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(s=Ce(l),a=0,r=(i=Ce(e)).length;a<r;a++)o=i[a],"input"===(c=(d=s[a]).nodeName.toLowerCase())&&me.test(o.type)?d.checked=o.checked:"input"!==c&&"textarea"!==c||(d.defaultValue=o.defaultValue);if(t)if(n)for(i=i||Ce(e),s=s||Ce(l),a=0,r=i.length;a<r;a++)Re(i[a],s[a]);else Re(e,l);return 0<(s=Ce(l,"script")).length&&ve(s,!u&&Ce(e,"script")),l},cleanData:function(e){for(var t,n,a,r=k.event.special,i=0;void 0!==(n=e[i]);i++)if(J(n)){if(t=n[Q.expando]){if(t.events)for(a in t.events)r[a]?k.event.remove(n,a):k.removeEvent(n,a,t.handle);n[Q.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return W(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Me(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Me(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(Ce(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},n=0,a=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!we[(ge.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<a;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(Ce(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(Ce(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,a=[],r=k(e),i=r.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),k(r[s])[t](n),c.apply(a,n.get());return this.pushStack(a)}}));var Be=new RegExp("^("+ae+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=a),t.getComputedStyle(e)},He=function(e,t,n){var a,r,i={};for(r in t)i[r]=e.style[r],e.style[r]=t[r];for(r in a=n.call(e),t)e.style[r]=i[r];return a},Ge=new RegExp(ie.join("|"),"i");function Ue(e,t,n){var a,r,i,s,o=e.style;return(n=n||Fe(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||oe(e)||(s=k.style(e,t)),!g.pixelBoxStyles()&&Be.test(s)&&Ge.test(t)&&(a=o.width,r=o.minWidth,i=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=a,o.minWidth=r,o.maxWidth=i)),void 0!==s?s+"":s}function je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(c).appendChild(l);var e=a.getComputedStyle(l);n="1%"!==e.top,d=12===t(e.marginLeft),l.style.right="60%",s=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),se.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,s,o,d,c=C.createElement("div"),l=C.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===l.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),d},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==o&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",se.appendChild(e).appendChild(t).appendChild(n),r=a.getComputedStyle(t),o=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),o}}))}();var ze=["Webkit","Moz","ms"],We=C.createElement("div").style,Ke={};function Ve(e){return k.cssProps[e]||Ke[e]||(e in We?e:Ke[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in We)return e}(e)||e)}var qe=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"};function Qe(e,t,n){var a=re.exec(t);return a?Math.max(0,a[2]-(n||0))+(a[3]||"px"):t}function Ze(e,t,n,a,r,i){var s="width"===t?1:0,o=0,d=0;if(n===(a?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(d+=k.css(e,n+ie[s],!0,r)),a?("content"===n&&(d-=k.css(e,"padding"+ie[s],!0,r)),"margin"!==n&&(d-=k.css(e,"border"+ie[s]+"Width",!0,r))):(d+=k.css(e,"padding"+ie[s],!0,r),"padding"!==n?d+=k.css(e,"border"+ie[s]+"Width",!0,r):o+=k.css(e,"border"+ie[s]+"Width",!0,r));return!a&&0<=i&&(d+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-d-o-.5))||0),d}function et(e,t,n){var a=Fe(e),r=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,a),i=r,s=Ue(e,t,a),o="offset"+t[0].toUpperCase()+t.slice(1);if(Be.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&I(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===k.css(e,"display",!1,a))&&e.getClientRects().length&&(r="border-box"===k.css(e,"boxSizing",!1,a),(i=o in e)&&(s=e[o])),(s=parseFloat(s)||0)+Ze(e,t,n||(r?"border":"content"),i,a,s)+"px"}function tt(e,t,n,a,r){return new tt.prototype.init(e,t,n,a,r)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,s,o=Y(t),d=Ye.test(t),c=e.style;if(d||(t=Ve(o)),s=k.cssHooks[t]||k.cssHooks[o],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,a))?r:c[t];"string"==(i=typeof n)&&(r=re.exec(n))&&r[1]&&(n=le(e,t,r),i="number"),null!=n&&n==n&&("number"!==i||d||(n+=r&&r[3]||(k.cssNumber[o]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,a))||(d?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,a){var r,i,s,o=Y(t);return Ye.test(t)||(t=Ve(o)),(s=k.cssHooks[t]||k.cssHooks[o])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Ue(e,t,a)),"normal"===r&&t in Xe&&(r=Xe[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,a){if(n)return!qe.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,a):He(e,Je,(function(){return et(e,t,a)}))},set:function(e,n,a){var r,i=Fe(e),s=!g.scrollboxSize()&&"absolute"===i.position,o=(s||a)&&"border-box"===k.css(e,"boxSizing",!1,i),d=a?Ze(e,t,a,o,i):0;return o&&s&&(d-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Ze(e,t,"border",!1,i)-.5)),d&&(r=re.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),Qe(0,n,d)}}})),k.cssHooks.marginLeft=je(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ue(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var a=0,r={},i="string"==typeof n?n.split(" "):[n];a<4;a++)r[e+ie[a]+t]=i[a]||i[a-2]||i[0];return r}},"margin"!==e&&(k.cssHooks[e+t].set=Qe)})),k.fn.extend({css:function(e,t){return W(this,(function(e,t,n){var a,r,i={},s=0;if(Array.isArray(t)){for(a=Fe(e),r=t.length;s<r;s++)i[t[s]]=k.css(e,t[s],!1,a);return i}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,1<arguments.length)}}),((k.Tween=tt).prototype={constructor:tt,init:function(e,t,n,a,r,i){this.elem=e,this.prop=n,this.easing=r||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}}).init.prototype=tt.prototype,(tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=tt.prototype.init,k.fx.step={};var nt,at,rt,it,st=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function dt(){at&&(!1===C.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(dt):a.setTimeout(dt,k.fx.interval),k.fx.tick())}function ct(){return a.setTimeout((function(){nt=void 0})),nt=Date.now()}function lt(e,t){var n,a=0,r={height:e};for(t=t?1:0;a<4;a+=2-t)r["margin"+(n=ie[a])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ut(e,t,n){for(var a,r=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),i=0,s=r.length;i<s;i++)if(a=r[i].call(n,t,e))return a}function pt(e,t,n){var a,r,i=0,s=pt.prefilters.length,o=k.Deferred().always((function(){delete d.elem})),d=function(){if(r)return!1;for(var t=nt||ct(),n=Math.max(0,c.startTime+c.duration-t),a=1-(n/c.duration||0),i=0,s=c.tweens.length;i<s;i++)c.tweens[i].run(a);return o.notifyWith(e,[c,a,n]),a<1&&s?n:(s||o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var a=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(a),a},stop:function(t){var n=0,a=t?c.tweens.length:0;if(r)return this;for(r=!0;n<a;n++)c.tweens[n].run(1);return t?(o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c,t])):o.rejectWith(e,[c,t]),this}}),l=c.props;for(function(e,t){var n,a,r,i,s;for(n in e)if(r=t[a=Y(n)],i=e[n],Array.isArray(i)&&(r=i[1],i=e[n]=i[0]),n!==a&&(e[a]=i,delete e[n]),(s=k.cssHooks[a])&&"expand"in s)for(n in i=s.expand(i),delete e[a],i)n in e||(e[n]=i[n],t[n]=r);else t[a]=r}(l,c.opts.specialEasing);i<s;i++)if(a=pt.prefilters[i].call(c,e,l,c.opts))return y(a.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=a.stop.bind(a)),a;return k.map(l,ut,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(d,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(B);for(var n,a=0,r=e.length;a<r;a++)n=e[a],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var a,r,i,s,o,d,c,l,u="width"in t||"height"in t,p=this,h={},f=e.style,m=e.nodeType&&ce(e),g=Q.get(e,"fxshow");for(a in n.queue||(null==(s=k._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,p.always((function(){p.always((function(){s.unqueued--,k.queue(e,"fx").length||s.empty.fire()}))}))),t)if(r=t[a],st.test(r)){if(delete t[a],i=i||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[a])continue;m=!0}h[a]=g&&g[a]||k.style(e,a)}if((d=!k.isEmptyObject(t))||!k.isEmptyObject(h))for(a in u&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Q.get(e,"display")),"none"===(l=k.css(e,"display"))&&(c?l=c:(pe([e],!0),c=e.style.display||c,l=k.css(e,"display"),pe([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===k.css(e,"float")&&(d||(p.done((function(){f.display=c})),null==c&&(l=f.display,c="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),d=!1,h)d||(g?"hidden"in g&&(m=g.hidden):g=Q.access(e,"fxshow",{display:c}),i&&(g.hidden=!m),m&&pe([e],!0),p.done((function(){for(a in m||pe([e]),Q.remove(e,"fxshow"),h)k.style(e,a,h[a])}))),d=ut(m?g[a]:0,a,p),a in g||(g[a]=d.start,m&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),k.speed=function(e,t,n){var a=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return k.fx.off?a.duration=0:"number"!=typeof a.duration&&(a.duration in k.fx.speeds?a.duration=k.fx.speeds[a.duration]:a.duration=k.fx.speeds._default),null!=a.queue&&!0!==a.queue||(a.queue="fx"),a.old=a.complete,a.complete=function(){y(a.old)&&a.old.call(this),a.queue&&k.dequeue(this,a.queue)},a},k.fn.extend({fadeTo:function(e,t,n,a){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function(e,t,n,a){var r=k.isEmptyObject(e),i=k.speed(t,n,a),s=function(){var t=pt(this,k.extend({},e),i);(r||Q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var a=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",i=k.timers,s=Q.get(this);if(r)s[r]&&s[r].stop&&a(s[r]);else for(r in s)s[r]&&s[r].stop&&ot.test(r)&&a(s[r]);for(r=i.length;r--;)i[r].elem!==this||null!=e&&i[r].queue!==e||(i[r].anim.stop(n),t=!1,i.splice(r,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Q.get(this),a=n[e+"queue"],r=n[e+"queueHooks"],i=k.timers,s=a?a.length:0;for(n.finish=!0,k.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,a,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,a,r)}})),k.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,a){return this.animate(t,e,n,a)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),nt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){at||(at=!0,dt())},k.fx.stop=function(){at=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=a.setTimeout(t,e);n.stop=function(){a.clearTimeout(r)}}))},rt=C.createElement("input"),it=C.createElement("select").appendChild(C.createElement("option")),rt.type="checkbox",g.checkOn=""!==rt.value,g.optSelected=it.selected,(rt=C.createElement("input")).value="t",rt.type="radio",g.radioValue="t"===rt.value;var ht,ft=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return W(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var a,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?k.prop(e,t,n):(1===i&&k.isXMLDoc(e)||(r=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):r&&"set"in r&&void 0!==(a=r.set(e,n,t))?a:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(a=r.get(e,t))?a:null==(a=k.find.attr(e,t))?void 0:a)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&I(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,a=0,r=t&&t.match(B);if(r&&1===e.nodeType)for(;n=r[a++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ft[t]||k.find.attr;ft[t]=function(e,t,a){var r,i,s=t.toLowerCase();return a||(i=ft[s],ft[s]=r,r=null!=n(e,t,a)?s:null,ft[s]=i),r}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(B)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}k.fn.extend({prop:function(e,t){return W(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var a,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(e)||(t=k.propFix[t]||t,r=k.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(a=r.set(e,n,t))?a:e[t]=n:r&&"get"in r&&null!==(a=r.get(e,t))?a:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,a,r,i,s,o,d=0;if(y(e))return this.each((function(t){k(this).addClass(e.call(this,t,wt(this)))}));if((t=Ct(e)).length)for(;n=this[d++];)if(r=wt(n),a=1===n.nodeType&&" "+yt(r)+" "){for(s=0;i=t[s++];)a.indexOf(" "+i+" ")<0&&(a+=i+" ");r!==(o=yt(a))&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,a,r,i,s,o,d=0;if(y(e))return this.each((function(t){k(this).removeClass(e.call(this,t,wt(this)))}));if(!arguments.length)return this.attr("class","");if((t=Ct(e)).length)for(;n=this[d++];)if(r=wt(n),a=1===n.nodeType&&" "+yt(r)+" "){for(s=0;i=t[s++];)for(;-1<a.indexOf(" "+i+" ");)a=a.replace(" "+i+" "," ");r!==(o=yt(a))&&n.setAttribute("class",o)}return this},toggleClass:function(e,t){var n=typeof e,a="string"===n||Array.isArray(e);return"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,wt(this),t),t)})):this.each((function(){var t,r,i,s;if(a)for(r=0,i=k(this),s=Ct(e);t=s[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=wt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,a=0;for(t=" "+e+" ";n=this[a++];)if(1===n.nodeType&&-1<(" "+yt(wt(n))+" ").indexOf(t))return!0;return!1}});var vt=/\r/g;k.fn.extend({val:function(e){var t,n,a,r=this[0];return arguments.length?(a=y(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=a?e.call(this,n,k(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=k.map(r,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(vt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:yt(k.text(e))}},select:{get:function(e){var t,n,a,r=e.options,i=e.selectedIndex,s="select-one"===e.type,o=s?null:[],d=s?i+1:r.length;for(a=i<0?d:s?i:0;a<d;a++)if(((n=r[a]).selected||a===i)&&!n.disabled&&(!n.parentNode.disabled||!I(n.parentNode,"optgroup"))){if(t=k(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,a,r=e.options,i=k.makeArray(t),s=r.length;s--;)((a=r[s]).selected=-1<k.inArray(k.valHooks.option.get(a),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in a;var _t=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var i,s,o,d,c,l,u,p,f=[n||C],m=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(s=p=o=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!_t.test(m+k.event.triggered)&&(-1<m.indexOf(".")&&(m=(g=m.split(".")).shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),u=k.event.special[m]||{},r||!u.trigger||!1!==u.trigger.apply(n,t))){if(!r&&!u.noBubble&&!w(n)){for(d=u.delegateType||m,_t.test(d+m)||(s=s.parentNode);s;s=s.parentNode)f.push(s),o=s;o===(n.ownerDocument||C)&&f.push(o.defaultView||o.parentWindow||a)}for(i=0;(s=f[i++])&&!e.isPropagationStopped();)p=s,e.type=1<i?d:u.bindType||m,(l=(Q.get(s,"events")||Object.create(null))[e.type]&&Q.get(s,"handle"))&&l.apply(s,t),(l=c&&s[c])&&l.apply&&J(s)&&(e.result=l.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),t)||!J(n)||c&&y(n[m])&&!w(n)&&((o=n[c])&&(n[c]=null),k.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,bt),n[m](),e.isPropagationStopped()&&p.removeEventListener(m,bt),k.event.triggered=void 0,o&&(n[c]=o)),e.result}},simulate:function(e,t,n){var a=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(a,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var a=this.ownerDocument||this.document||this,r=Q.access(a,t);r||a.addEventListener(e,n,!0),Q.access(a,t,(r||0)+1)},teardown:function(){var a=this.ownerDocument||this.document||this,r=Q.access(a,t)-1;r?Q.access(a,t,r):(a.removeEventListener(e,n,!0),Q.remove(a,t))}}}));var Pt=a.location,kt={guid:Date.now()},xt=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new a.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var St=/\[\]$/,At=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function It(e,t,n,a){var r;if(Array.isArray(t))k.each(t,(function(t,r){n||St.test(e)?a(e,r):It(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,a)}));else if(n||"object"!==b(t))a(e,t);else for(r in t)It(e+"["+r+"]",t[r],n,a)}k.param=function(e,t){var n,a=[],r=function(e,t){var n=y(t)?t():t;a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){r(this.name,this.value)}));else for(n in e)It(n,e[n],t,r);return a.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Tt.test(this.nodeName)&&!Et.test(e)&&(this.checked||!me.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(At,"\r\n")}})):{name:t.name,value:n.replace(At,"\r\n")}})).get()}});var $t=/%20/g,Dt=/#.*$/,Nt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Mt=/^\/\//,Ot={},Bt={},Ft="*/".concat("*"),Ht=C.createElement("a");function Gt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var a,r=0,i=t.toLowerCase().match(B)||[];if(y(n))for(;a=i[r++];)"+"===a[0]?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(n)):(e[a]=e[a]||[]).push(n)}}function Ut(e,t,n,a){var r={},i=e===Bt;function s(o){var d;return r[o]=!0,k.each(e[o]||[],(function(e,o){var c=o(t,n,a);return"string"!=typeof c||i||r[c]?i?!(d=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),d}return s(t.dataTypes[0])||!r["*"]&&s("*")}function jt(e,t){var n,a,r=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:a||(a={}))[n]=t[n]);return a&&k.extend(!0,e,a),e}Ht.href=Pt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,k.ajaxSettings),t):jt(k.ajaxSettings,e)},ajaxPrefilter:Gt(Ot),ajaxTransport:Gt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,s,o,d,c,l,u,p,h=k.ajaxSetup({},t),f=h.context||h,m=h.context&&(f.nodeType||f.jquery)?k(f):k.event,g=k.Deferred(),y=k.Callbacks("once memory"),w=h.statusCode||{},v={},_={},b="canceled",P={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Lt.exec(i);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,v[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)P.always(e[P.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||b;return n&&n.abort(t),x(0,t),this}};if(g.promise(P),h.url=((e||h.url||Pt.href)+"").replace(Mt,Pt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(B)||[""],null==h.crossDomain){d=C.createElement("a");try{d.href=h.url,d.href=d.href,h.crossDomain=Ht.protocol+"//"+Ht.host!=d.protocol+"//"+d.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=k.param(h.data,h.traditional)),Ut(Ot,h,t,P),c)return P;for(u in(l=k.event&&h.global)&&0==k.active++&&k.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Rt.test(h.type),r=h.url.replace(Dt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace($t,"+")):(p=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(xt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Nt,"$1"),p=(xt.test(r)?"&":"?")+"_="+kt.guid+++p),h.url=r+p),h.ifModified&&(k.lastModified[r]&&P.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&P.setRequestHeader("If-None-Match",k.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&P.setRequestHeader("Content-Type",h.contentType),P.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ft+"; q=0.01":""):h.accepts["*"]),h.headers)P.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(!1===h.beforeSend.call(f,P,h)||c))return P.abort();if(b="abort",y.add(h.complete),P.done(h.success),P.fail(h.error),n=Ut(Bt,h,t,P)){if(P.readyState=1,l&&m.trigger("ajaxSend",[P,h]),c)return P;h.async&&0<h.timeout&&(o=a.setTimeout((function(){P.abort("timeout")}),h.timeout));try{c=!1,n.send(v,x)}catch(e){if(c)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,s,d){var u,p,C,v,_,b=t;c||(c=!0,o&&a.clearTimeout(o),n=void 0,i=d||"",P.readyState=0<e?4:0,u=200<=e&&e<300||304===e,s&&(v=function(e,t,n){for(var a,r,i,s,o=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(r in o)if(o[r]&&o[r].test(a)){d.unshift(r);break}if(d[0]in n)i=d[0];else{for(r in n){if(!d[0]||e.converters[r+" "+d[0]]){i=r;break}s||(s=r)}i=i||s}if(i)return i!==d[0]&&d.unshift(i),n[i]}(h,P,s)),!u&&-1<k.inArray("script",h.dataTypes)&&k.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),v=function(e,t,n,a){var r,i,s,o,d,c={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!d&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=i,i=l.shift())if("*"===i)i=d;else if("*"!==d&&d!==i){if(!(s=c[d+" "+i]||c["* "+i]))for(r in c)if((o=r.split(" "))[1]===i&&(s=c[d+" "+o[0]]||c["* "+o[0]])){!0===s?s=c[r]:!0!==c[r]&&(i=o[0],l.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+d+" to "+i}}}return{state:"success",data:t}}(h,v,P,u),u?(h.ifModified&&((_=P.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=_),(_=P.getResponseHeader("etag"))&&(k.etag[r]=_)),204===e||"HEAD"===h.type?b="nocontent":304===e?b="notmodified":(b=v.state,p=v.data,u=!(C=v.error))):(C=b,!e&&b||(b="error",e<0&&(e=0))),P.status=e,P.statusText=(t||b)+"",u?g.resolveWith(f,[p,b,P]):g.rejectWith(f,[P,b,C]),P.statusCode(w),w=void 0,l&&m.trigger(u?"ajaxSuccess":"ajaxError",[P,h,u?p:C]),y.fireWith(f,[P,b]),l&&(m.trigger("ajaxComplete",[P,h]),--k.active||k.event.trigger("ajaxStop")))}return P},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,a,r){return y(n)&&(r=r||a,a=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:r,data:n,success:a},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Wt=k.ajaxSettings.xhr();g.cors=!!Wt&&"withCredentials"in Wt,g.ajax=Wt=!!Wt,k.ajaxTransport((function(e){var t,n;if(g.cors||Wt&&!e.crossDomain)return{send:function(r,i){var s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];for(s in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)o.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?i(0,"error"):i(o.status,o.statusText):i(zt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),n=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&a.setTimeout((function(){t&&n()}))},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(r){if(t)throw r}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(a,r){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),C.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Kt,Vt=[],qt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||k.expando+"_"+kt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var r,i,s,o=!1!==e.jsonp&&(qt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&qt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(qt,"$1"+r):!1!==e.jsonp&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||k.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=a[r],a[r]=function(){s=arguments},n.always((function(){void 0===i?k(a).removeProp(r):a[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Vt.push(r)),s&&y(i)&&i(s[0]),s=i=void 0})),"script"})),g.createHTMLDocument=((Kt=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Kt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((a=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(a)):t=C),i=!n&&[],(r=$.exec(e))?[t.createElement(r[1])]:(r=be([e],t,i),i&&i.length&&k(i).remove(),k.merge([],r.childNodes)));var a,r,i},k.fn.load=function(e,t,n){var a,r,i,s=this,o=e.indexOf(" ");return-1<o&&(a=yt(e.slice(o)),e=e.slice(0,o)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<s.length&&k.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){i=arguments,s.html(a?k("<div>").append(k.parseHTML(e)).find(a):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var a,r,i,s,o,d,c=k.css(e,"position"),l=k(e),u={};"static"===c&&(e.style.position="relative"),o=l.offset(),i=k.css(e,"top"),d=k.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(i+d).indexOf("auto")?(s=(a=l.position()).top,r=a.left):(s=parseFloat(i)||0,r=parseFloat(d)||0),y(t)&&(t=t.call(e,n,k.extend({},o))),null!=t.top&&(u.top=t.top-o.top+s),null!=t.left&&(u.left=t.left-o.left+r),"using"in t?t.using.call(e,u):l.css(u)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,a=this[0];return a?a.getClientRects().length?(t=a.getBoundingClientRect(),n=a.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,a=this[0],r={top:0,left:0};if("fixed"===k.css(a,"position"))t=a.getBoundingClientRect();else{for(t=this.offset(),n=a.ownerDocument,e=a.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==a&&1===e.nodeType&&((r=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),r.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-k.css(a,"marginTop",!0),left:t.left-r.left-k.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||se}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(a){return W(this,(function(e,a,r){var i;if(w(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===r)return i?i[t]:e[a];i?i.scrollTo(n?i.pageXOffset:r,n?r:i.pageYOffset):e[a]=r}),e,a,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=je(g.pixelPosition,(function(e,n){if(n)return n=Ue(e,t),Be.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,a){k.fn[a]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(!0===r||!0===i?"margin":"border");return W(this,(function(t,n,r){var i;return w(t)?0===a.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?k.css(t,n,o):k.style(t,n,r,o)}),t,s?r:void 0,s)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,a){return this.on(t,e,n,a)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}));var Yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,a,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return a=o.call(arguments,2),(r=function(){return e.apply(t||this,a.concat(o.call(arguments)))}).guid=e.guid=e.guid||k.guid++,r},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=I,k.isFunction=y,k.isWindow=w,k.camelCase=Y,k.type=b,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(Yt,"")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var Jt=a.jQuery,Xt=a.$;return k.noConflict=function(e){return a.$===k&&(a.$=Xt),e&&a.jQuery===k&&(a.jQuery=Jt),k},void 0===r&&(a.jQuery=a.$=k),k}))},4547:e=>{"use strict";e.exports=JSON.parse('{"_from":"tesseract.js@^4.1.0","_id":"tesseract.js@4.1.0","_inBundle":false,"_integrity":"sha512-sCfWJtei6Ykc7uLiWs5H4IKDAhwsMauEVDwUiSkEpzMo4kH+7n8QDBPPNRtGJoZ4NJBf1WSlcbU+Puf64GjOfw==","_location":"/tesseract.js","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"tesseract.js@^4.1.0","name":"tesseract.js","escapedName":"tesseract.js","rawSpec":"^4.1.0","saveSpec":null,"fetchSpec":"^4.1.0"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/tesseract.js/-/tesseract.js-4.1.0.tgz","_shasum":"6246aeb35f8eb7c94551554270c8c0d1c19f49eb","_spec":"tesseract.js@^4.1.0","_where":"D:\\\\Undercards\\\\PrettCards_Git\\\\prettycards\\\\Smart_Attempt","author":"","browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"bundleDependencies":false,"collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"},"contributors":[{"name":"jeromewu"}],"dependencies":{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^4.0.4","wasm-feature-detect":"^1.2.11","zlibjs":"^0.3.1"},"deprecated":false,"description":"Pure Javascript Multilingual OCR","devDependencies":{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0","acorn":"^8.8.2","babel-loader":"^9.1.2","buffer":"^6.0.3","cors":"^2.8.5","eslint":"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1","express":"^4.18.2","mocha":"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5","nyc":"^15.1.0","rimraf":"^5.0.0","rollup":"^3.20.7","rollup-plugin-sourcemaps":"^0.6.3","wait-on":"^7.0.1","webpack":"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2"},"homepage":"https://github.com/naptha/tesseract.js","jsdelivr":"dist/tesseract.min.js","license":"Apache-2.0","main":"src/index.js","name":"tesseract.js","overrides":{"@rollup/pluginutils":"^5.0.2"},"repository":{"type":"git","url":"git+https://github.com/naptha/tesseract.js.git"},"scripts":{"build":"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","lint":"eslint src","lint:fix":"eslint --fix src","postinstall":"opencollective-postinstall || true","prepublishOnly":"npm run build","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","start":"node scripts/server.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js"},"types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","version":"4.1.0"}')}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={id:a,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";void 0===window.underscript?(window.localStorage.getItem("PrettyCards_DependencyErrorMessageShown")&&"false"!=window.localStorage.getItem("PrettyCards_DependencyErrorMessageShown")||(window.BootstrapDialog.show({title:"Oh no!",type:window.BootstrapDialog.TYPE_WARNING,message:"Looks like you don't have Underscript installed, or you deactivated it! In order for PrettyCards to work, you need to have it up and running. Until then, the features of this userscript will simply not work. Thank you for your understanding.",buttons:[{label:"Proceed",cssClass:"btn-primary",action:function(e){e.close()}}]}),window.localStorage.setItem("PrettyCards_DependencyErrorMessageShown",!0)),console.error("PrettyCards Error: Underscript is not installed!")):window.localStorage.setItem("PrettyCards_DependencyErrorMessageShown",!1);var e=window.underscript.plugin("PrettyCards"),t={};window.prettycards=t,window.PrettyCards_plugin=e;var a={};window.PrettyCards_settings=a;var r={misc:"Miscellaneous",card:"Card Related",controversial:"<span class='red'>Controversial</span>",background:"Background",packs:"Packs",artifact:"Artifact Related",noob_help:"Mid-Match Help",april:"<span class='ranbowText'>April Fools</span>"};function i(t){t.note&&"function"!=typeof t.note&&(t.note=`<div style="max-width: 600px;">${t.note}</div>`),t.category=r[t.category||"misc"];var n=e.settings().add(t);return a[t.key]=n,n}if(i({key:"turn_off",name:"Turn Off PrettyCards",type:"boolean",refresh:!0,default:!1,category:"controversial"}),a.turn_off.value())throw"PrettyCards is stopped!";i({key:"packs_page",name:"Enable Fancy Packs Page",type:"boolean",refresh:!0,default:!0,category:"packs"}),i({key:"breaking_skin_fix",name:"Breaking Skin Fix",note:"Whenever you hover over a breaking skin card, the name, description, cost, ATK and HP will go over the skin.",type:"boolean",refresh:!0,default:!0,category:"card"}),i({key:"breaking_skin_stats_fix",name:"Breaking Skin Stats Fix",note:"Hides stats and tribes behind breaking skin to not break immersion. Hovering over a card will show them. Only works in non-Game settings if Breaking Skin Fix is also enabled.",type:"boolean",refresh:!0,default:!0,category:"card"}),i({key:"hd_artifacts",name:"HD Artifact Images",note:"Most places will now display Artifacts in HD. (still a WIP, feedback is appreciated)",type:"boolean",refresh:!0,default:!0,category:"artifact"}),i({key:"override_decks",name:"Override Deck System",note:"Overrides the current deck system locally with a more flexible one. This inludes the Decks page, Play page, Custom page and the Custom Challenge system.",type:"boolean",refresh:!0,default:!0,category:"controversial"}),i({key:"override_decks_autogen",name:"Create Autogen Decks",note:'While using my Custom Deck System, if the system cannot find an exact replica of the deck on Onu\'s server, it will create an "Autogen" deck. Unfortunately, this, for some reason, can malfunction in some cases. This is why I added this setting, with which you can turn off this behavior.<br><span class="red">If turned off, decks from other devices uploaded to the server may be lost forever without a backup. Use at own risk, or turn off the Custom Deck system entirely!</span>',type:"boolean",refresh:!0,default:!0,category:"controversial"}),i({key:"my_own_custom_cards",name:"My Own Custom Cards",note:"A Hidden setting that lets me see my own custom card sets, while not letting others see it.",type:"boolean",disabled:!0,hidden:!0,refresh:!0,default:!1}),i({key:"asset_directory",name:"Asset Directory",note:"If you don't know what this does or how to change it, don't touch it!",type:"text",refresh:!0,hidden:!0,default:"https://raw.githubusercontent.com/MysteryHD/prettycards-assets/master/"}),e.events.emit.singleton("PrettyCards:init");var s=n(4701),o=n.n(s);o().fn.animateRotate=function(e,t,n,a,r,i){const s=r||o().noop;return this.each((function(){var r=o()(this);o()({deg:e}).animate({deg:t},{duration:n,easing:a,step:function(e){r.css({"-moz-transform":"rotateY("+e+"deg)","-webkit-transform":"rotateY("+e+"deg)","-o-transform":"rotateY("+e+"deg)","-ms-transform":"rotateY("+e+"deg)",transform:"rotateY("+e+"deg)"}),s(e)},complete:i||o().noop})}))};var d=document.createElement("DIV");function c(e=""){"string"!=typeof e&&(e=e.toString());var t=document.createElement("STYLE");t.innerHTML=e.replace(/\$asset\$/gm,a.asset_directory.value()),d.appendChild(t)}d.id="PrettyCards_StyleContainer",e.events.on("PrettyCards:onPageLoad",(()=>{window.document.head.appendChild(d)})),t.loadCSS=c,e.events.emit.singleton("PrettyCards:cssLoaderReady"),c(n(2760).Z);const l="PrettyCards_CardBottomLeftInfo";function u(e){e[0]&&(e=e[0]);var t=e.querySelector("."+l);return t||((t=document.createElement("DIV")).className=l,e.appendChild(t)),t}e.events.on("func:appendCard PC_appendCard",(function(e,t){u(t)}));class p{static GOLD=new p("yellow",(()=>window.$('<img src="images/icons/gold.png">')[0]),p.speedFunction(75,5,500));static UCP=new p("ucp",(()=>window.$(`<span>${window.$.i18n("reward-ucp")}</span>`)[0]),p.speedFunction(100,10,200));static DUST=new p("gray",(()=>window.$('<img src="images/icons/dust.png">')[0]),p.speedFunction(50,5,500));static DTFRAG=new p("DTFragment",(()=>window.$('<img src="images/dtFragment.png">')[0]),p.speedFunction(500,100,10));static XP=new p("PrettyCards_UserLV",(()=>window.$("<span>XP</span>")[0]),p.speedFunction(30,5,3e3),"0.8em").setCountPerTick(5);static ELO=new p("Contributor",(()=>window.$("<span>ELO</span>")[0]),p.speedFunction(50,5,25),"0.8em");static UT_PACK=new p("",(()=>window.$('<img src="images/icons/pack.png">')[0]),p.speedFunction(250,100,50));static DR_PACK=new p("",(()=>window.$('<img src="images/icons/drPack.png">')[0]),p.speedFunction(250,100,50));static SHINY_PACK=new p("rainbowText",(()=>window.$('<img src="images/icons/shinyPack.png">')[0]),p.speedFunction(200,100,25));static SUPER_PACK=new p("yellow",(()=>window.$('<img src="images/icons/superPack.png">')[0]),p.speedFunction(500,200,25));static FINAL_PACK=new p("DTFragment",(()=>window.$('<img src="images/icons/finalPack.png">')[0]),p.speedFunction(500,200,25));static CARD_SKIN=new p("",(()=>window.$(`<span>${window.$.i18n("reward-card-skin")}</span>`)[0]),p.speedFunction(500,200,25));static PROFILE_SKIN=new p("",(()=>window.$(`<span>${window.$.i18n("reward-profile-skin")}</span>`)[0]),p.speedFunction(500,200,25));static AVATAR=new p("",(()=>window.$(`<span>${window.$.i18n("reward-avatar")}</span>`)[0]),p.speedFunction(500,200,25));static EMOTE=new p("",(()=>window.$(`<span>${window.$.i18n("reward-emote")}</span>`)[0]),p.speedFunction(500,200,25));static CARD_CURRENCIES=new Map;constructor(e,t,n,a="0"){this.textClass=e,this.icon=t,this.speed=n,this.countPerTick=1,this.padding=a}static getOrCreateCardCurrency(e){if(!p.CARD_CURRENCIES.has(e)){var t=new h(e);p.CARD_CURRENCIES.set(e,t)}return p.CARD_CURRENCIES.get(e)}getCurrencyIcon(){return this.icon()}applyTextClass(e){""!=this.textClass&&e.classList.add(this.textClass)}getSpeedForAmount(e){return this.speed(e)}setCountPerTick(e){return this.countPerTick=e,this}static speedFunction(e,t,n){return a=>Math.ceil(t+(e-t)*(1-Math.min(a,n)/n))}}class h extends p{constructor(e){super("",(()=>{}),(()=>500)),this.cardId=e}getCurrencyIcon(){var e=document.createElement("SPAN");return e.innerHTML=window.$.i18n(`{{CARD:${this.cardId}|1}}`),e}}var f=document.getElementById("collection");f||((f=document.createElement("DIV")).id="collection",f.className="PrettyCards_Hidden",document.body.appendChild(f));var m=-1;const g=["elytrafae","Jazmin290"];e.events.on("translation:loaded",(function(t){for(var n=$.i18n.messageStore.messages.en,a=Object.keys(n),r=a.length-1;r>=0;r--){var i=a[r];if(i.startsWith("quest-s")&&i.endsWith("-start-1")){var s=i.substring(7,i.length-8);m=Number(s);break}}e.events.emit.singleton("PrettyCards:seasonNumber",m)}));class y{constructor(e=(e=>e)){this.arr=[],this.mapFunc=e}insert(e){for(var t=0,n=this.arr.length-1;t<=n;){var a=t+n>>>1,r=this.arr[a],i=this.mapFunc(r),s=this.mapFunc(e);if(i===s)return!1;s>i?t=a+1:n=a-1}return this.arr.splice(t,0,e),!0}getPos(e){return C.binarySearch(this.arr,e,this.mapFunc)}includes(e){return null!==C.binarySearch(this.arr,e,this.mapFunc)}}void 0===String.prototype.splice&&(String.prototype.splice=function(e,t,n=0){let a=e<0?this.length+e:e;return this.substring(0,a)+t+this.substring(a+n)});class w{constructor(e,t){this.left=e,this.right=t}getLeft(){return this.left}getRight(){return this.right}setLeft(e){this.left=e}setRight(e){this.right=e}}var C=new class{constructor(){this.SortedUniqueEntryHolder=y}loadCSSFromLink(e){return new Promise(((t,n)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=e,a.onload=t,a.onerror=n,document.head.appendChild(a)}))}asset(e){return a.asset_directory.value()+e}copyCSS(e,t){const n=window.getComputedStyle(e);if(""!==n.cssText)t.style.cssText=n.cssText;else{window.getComputedStyle(t);const e=Object.values(n).reduce(((e,t)=>`${e}${t}:${n.getPropertyValue(t)};`));t.style.cssText=e}}completeCopyArray(e){if(!Array.isArray(e))return this.completeCopy(e);for(var t=[],n=0;n<e.length;n++)"object"==typeof e[n]?t[n]=this.completeCopy(e[n]):t[n]=e[n];return t}completeCopy(e){if(Array.isArray(e))return this.completeCopyArray(e);var t={};for(var n in e)"object"==typeof e[n]?t[n]=this.completeCopy(e[n]):t[n]=e[n];return t}deleteByValue(e,t){var n=e.indexOf(t);return-1!==n&&(e.splice(n,1),!0)}addFriend(e,t){$.post("Friends",{username:e,addFriend:"Add friend"},t)}appendCardFriendship(e,t,n,a,r){var i=window.appendCardFriendship(e,n,a,r);return i.find(".cardDesc").empty(),t.append(i),i}getFriendshipInfo(e,t){return $.get("https://raw.githubusercontent.com/PrettyCards/friendship-server/main/data/"+e+".json",{},(function(e){t(JSON.parse(e))}))}getXpForLevel(e){return window.U0*e+e*(e-1)/2*window.R}onTestServer(){return!["www","undercards"].includes(window.location.hostname.split(".")[0])}saveCanvasAsImage(e,t){var n=document.createElement("A");n.setAttribute("download",t+".png"),n.setAttribute("href",e.toDataURL("image/png").replace("image/png","image/octet-stream")),n.click()}downloadFile(e,t,n="text/plain"){var a=document.createElement("a"),r=new Blob([e],{type:n});a.href=URL.createObjectURL(r),a.download=t,a.click()}randomInt(e=0,t=1){return e+Math.floor(Math.random()*(t-e))}getRandomFromArray(e){if(!(e.length<=0))return 1==e.length?e[0]:e[this.randomInt(0,e.length)]}getSeasonMonth(){return(m-66)%12}getSeasonNumber(){return m}getCardImageLink(e){return 3==this.getSeasonMonth()?`/afi/cards/${e}.png`:`/images/cards/${e}.png`}getFallbackedImage(e,t){var n=new Image;return n.onerror=function(){this.src=t,n.onerror=function(){}},n.src=e,n}getArtifactImageLink(e,t=!1){return 3==this.getSeasonMonth()?`/afi/artifacts/${e}.png`:a.hd_artifacts.value()&&!t?this.asset(`img/HDArtifacts/${e}.png`):`/images/artifacts/${e}.png`}getArtifactImage(e){var t=`/images/artifacts/${e}.png`,n=t;return 3==this.getSeasonMonth()?n=`/afi/artifacts/${e}.png`:a.hd_artifacts.value()&&(n=this.asset(`img/HDArtifacts/${e}.png`)),this.getFallbackedImage(n,t)}getSoulImageLink(e,t=!1){return t?`/images/souls/${e}.png`:this.asset(`img/Souls/${e}.png`)}getSoulImage(e){return this.getFallbackedImage(this.asset(`img/Souls/${e}.png`),`/images/souls/${e}.png`)}getCardJingleLink(e=""){return e=e.replaceAll(" ","_"),3==this.getSeasonMonth()?`/afm/cards/${e}.ogg`:`/musics/cards/${e}.ogg`}preloadAudio(e){return new Promise(((t,n)=>{var a=new Audio;a.onload=function(){t(a)},a.onerror=n,a.src=e}))}preloadImage(e){return new Promise(((t,n)=>{var a=new Image;a.onload=function(){t(a)},a.onerror=n,a.src=e}))}resizePixelArt(e,t=1){console.log(e,t);var n=document.createElement("CANVAS").getContext("2d");n.height=e.height,n.width=e.width,n.drawImage(e,0,0);var a=n.getImageData(0,0,e.width,e.height).data,r=document.createElement("CANVAS");r.height=e.height*t,r.width=e.width*t;for(var i=r.getContext("2d"),s=0;s<e.width;++s)for(var o=0;o<e.height;++o){var d=4*(o*e.width+s),c=a[d],l=a[d+1],u=a[d+2],p=a[d+3];i.fillStyle="rgba("+c+","+l+","+u+","+p/255+")",i.fillRect(s*t,o*t,t,t)}return document.body.appendChild(r),r}featuresAccessForGroupOnly(e){if(g.includes(window.selfUsername))return!0;"string"==typeof e&&(e=[e]);for(var t=0;t<window.selfGroups.length;t++){var n=window.selfGroups[t];if(e.includes(n.name))return!0}return!1}translatorFeaturesAccess(){return this.featuresAccessForGroupOnly("Translator")}toLocale(e,t,n=[]){const a=window.$.i18n().locale;let r;window.$.i18n().locale=t;try{r=window.$.i18n(e,...n)}catch(e){r="ERROR"}return window.$.i18n().locale=a,r}constructURL(e,t,n,a=!1){return a?e+t+"."+n:(e.length>0&&!e.endsWith("/")&&(e+="/"),t.split(".").length<2&&(t=t+"."+n),e+t)}hideUglyPage(){for(var e=[...document.querySelector(".mainContent").children],t=0;t<e.length;t++){var n=e[t];"NAV"!=n.nodeName&&"FOOTER"!=n.nodeName&&"SCRIPT"!=n.nodeName&&(n.style.setProperty("display","none","important"),n.className+=" PrettyCards_Hidden")}}binarySearch(e,t,n=(e=>e)){for(var a=0,r=e.length-1;a<=r;){var i=a+r>>>1,s=n(e[i]);if(s===t)return e[i];t>s?a=i+1:r=i-1}return null}getCoordsRelativeToDocument(e){var t=e.getBoundingClientRect(),n=document.body,a=document.documentElement,r=window.pageYOffset||a.scrollTop||n.scrollTop,i=window.pageXOffset||a.scrollLeft||n.scrollLeft,s=a.clientTop||n.clientTop||0,o=a.clientLeft||n.clientLeft||0,d=t.top+r-s,c=t.left+i-o;return{top:Math.round(d),left:Math.round(c),width:t.width,height:t.height}}addCustomSimpleTextIconToCard(e,t,n,a=window.$.i18n("dialog-information")){this.addCustomSimpleTextIconToCard2(e,t,n,n,a)}addCustomSimpleTextIconToCard2(e,t,n,a=n,r=window.$.i18n("dialog-information")){var i=document.createElement("IMG");i.src=t,e[0]&&(e=e[0]),u(e).appendChild(i),window.tippy(i,{content:n,allowHTML:!0,arrow:!0,inertia:!0,placement:"top",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect}),i.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation(),BootstrapDialog.show({title:r,message:a,buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}}getResizedFontSizeHorizontal(e,t,n,a=10,r=.5){var i=document.createElement("SPAN");i.innerHTML=e,i.style.fontSize=t+"px";var s=t;for(document.body.appendChild(i);s>a&&i.getBoundingClientRect().width>n;)console.log(e,i.getBoundingClientRect().width,n),s-=r,i.style.fontSize=s+"px";return i.remove(),s}isImgUrl(e){return new Promise(((t,n)=>{fetch(e,{method:"HEAD"}).then((e=>{var a=e.headers.get("Content-Type");console.log("CONTENTTYPE",a),a.startsWith("image")?(console.log("RESOLVING!"),t()):(console.log("REJECTING!"),n())})).catch((()=>{n()}))}))}feildItemsToMyCurrencies(e){const t=window.underscript.constants;switch(e){case t.GOLD:return p.GOLD;case t.UCP:return p.UCP;case t.DUST:return p.DUST;case t.DT_FRAGMENT:return p.DTFRAG;case t.UT_PACK:return p.UT_PACK;case t.DR_PACK:return p.DR_PACK;case t.SHINY_PACK:return p.SHINY_PACK;case t.SUPER_PACK:return p.SUPER_PACK;case t.FINAL_PACK:return p.FINAL_PACK;case t.SKIN:return p.CARD_SKIN;case t.PROFILE:return p.PROFILE_SKIN;case t.AVATAR:return p.AVATAR;case t.EMOTE:return p.EMOTE;case t.EXP:return p.XP;case t.ELO:return p.ELO;default:return null}}};t.utility=C;var v=["PrettyCards:onLoad","PrettyCards:onPageLoad","SoulSelector:decksLoaded","Chat:Connected","PrettyCards:onArtifacts","translation:loaded","PC_Chat:getSelfInfos","allCardsReady","PrettyCards:baseThemeSongDataReady","PrettyCards:TranslationExtReady"],_={},b={},P=[];function k(e,t){"string"==typeof e&&(e=e.split(" "));for(var n={eventsToWaitFor:[],callback:t},a=0;a<e.length;a++){var r=e[a];v.find((e=>e===r))||console.log("! ExecuteWhen WARNING ! The event ",r," is not being tracked!"),_[r]||n.eventsToWaitFor.push(r)}S(n)||P.push(n)}function x(e){for(var t=0;t<P.length;t++){var n=P[t];C.deleteByValue(n.eventsToWaitFor,e)&&S(n)&&(P.splice(t,1),t--)}}function S(e){return e.eventsToWaitFor.length<=0&&(e.callback(),!0)}!function(){for(var t=0;t<v.length;t++){const n=v[t];_[n]=!1,e.events.on(n,(function(e){_[n]=!0,b[n]=e,x(n)}))}}(),"loading"==document.readyState?document.addEventListener("load",(function(){e.events.emit("PrettyCards:onLoad")})):e.events.emit("PrettyCards:onLoad"),k("PrettyCards:onPageLoad",(function(){window.fetchAllCards||(window.$("body").append('<script src="js/card.js" type="text/javascript"><\/script>'),window.$("head").append('<link href="css/cards.css" rel="stylesheet" type="text/css">'),window.$("head").append('<link href="css/frames.css" rel="stylesheet" type="text/css">')),window.underscript.onPage("Friendship")||window.$("body").append('<script src="js/friendshipUtils.js" type="text/javascript"><\/script>')}));var A=["CustomCardSkins","CustomCards","SmashOrPass","CustomTranslations"],E=!1;function T(){window.$&&!E&&(console.log(e.events.emit.singleton(":loaded").ran),console.log(e.events.emit.singleton(":load").ran),e.events.emit.singleton("PrettyCards:onPageLoad"),e.events.on("PrettyCards:TranslationExtReady",(function(){o()("#PrettyCards_GoBack").html(window.$.i18n("pc-navigate-goback"))})),E=!0)}o()(document).ready((function(){T()})),function(){for(var e=0;e<A.length;e++)if(window.underscript.onPage(A[e]))return!0;return!1}()&&(o().ajax({url:C.asset("html_templates/undercards.html"),success:function(e){document.open(),document.write(e),document.close(),o().cache={},document.body.onload=function(){T()}}}),k("PrettyCards:onPageLoad",(function(){window.socketChat.onmessage=function(t){window.onMessageChat(t);var n=JSON.parse(t.data);"getSelfInfos"===n.action?e.events.emit.singleton("PC_Chat:"+n.action,n):e.events.emit("PC_Chat:"+n.action,n)}}))),e.events.on("PrettyCards:onPageLoad",(function(){window.$(document).ajaxComplete(((t,n,a)=>{"CardSkinsConfig?action=shop"!==a.url?"CardSkinsConfig"===a.url&&e.events.emit("PrettyCards:onCardSkinBought"):e.events.emit.singleton("PrettyCards:onCardSkinShopConfig")}))}));var I=["Auto","Cover","Contain"],D=["Left","Center","Right"],N=["Top","Center","Bottom"];function L(){document.documentElement.style.height="100%",document.body.style.minHeight="100%",document.body.style.backgroundSize=a.background_size.value().toLowerCase(),document.body.style.backgroundPositionX=a.background_position_x.value().toLowerCase(),document.body.style.backgroundPositionY=a.background_position_y.value().toLowerCase()}i({key:"background_size",name:"Background Size",note:"Change the size of the background based on your preferred logic.",type:"select",refresh:!1,disabled:!1,options:I,default:()=>I[1],onChange:L,category:"background"}),i({key:"background_position_x",name:"Background Position X",note:"Change the horizontal position of the background.",type:"select",refresh:!1,disabled:!1,options:D,default:()=>D[1],onChange:L,category:"background"}),i({key:"background_position_y",name:"Background Position Y",note:"Change the vertical position of the background.",type:"select",refresh:!1,disabled:!1,options:N,default:()=>N[1],onChange:L,category:"background"}),L(),e.events.on("connect",L),i({key:"kromer_test",name:"Kromer Test",note:"Changes every instance of UCP to KROMER.",type:"boolean",refresh:!0,disabled:!1,default:!1,category:"controversial"});var R=["item-ucp","header-free-ucp","shop-title","quests-ucp","settings-username-ucp","packs-error-add","reward-ucp","cardskins-shop-confirm"];function M(e){for(var t={},n=0;n<R.length;n++){var a=R[n];t[a]=C.toLocale(a,e).replaceAll("UCP","KROMER")}window.$.i18n().load(t,e)}a.kromer_test.value()&&e.events.on("translation:loaded",(e=>{M("en");var t=window.localStorage.getItem("language");t||(t=window.getLanguage()),"en"!=t&&M(t),$("body").i18n(),$("[data-i18n-custom],[data-i18n-value],[data-i18n-title],[data-i18n-placeholder]").each((function(){translateElement($(this))})),window.underscript.onPage("CosmeticsShop")&&$(".ucp").parent().each((function(){[...this.childNodes].filter((e=>3===e.nodeType)).each((e=>e.textContent=e.textContent.replace(ucp,kromer)))}))})),c(n(4386).Z),k("translation:loaded",(function(){window.$}));var O,B,F,H={"pc-navbar-home":"/","header-sign-in":"SignIn","header-register":"SignUp"},G={"pc-navbar-home":"/","header-play":"Play","header-cards":{"header-decks":"Decks","header-crafting":"Crafting","header-friendship":"Friendship","header-hub":"Hub"},"header-shops":{"header-packs ({packs})":"Packs","header-artifacts":"Artifacts","header-card-skins":"CardSkinsShop","header-your-shop":"/CardSkinsShop?&discount","header-cosmetics":"CosmeticsShop","item-ucp":"Shop"},"{quests}":"Quests"},U={"header-profile":"Profile","header-history":"History","header-avatars":"Avatars","header-card-skins":"CardSkins","header-profile-skins":"ProfileSkins","header-frame-skins":"FrameSkins","header-settings":"Settings","pc-navbar-pcsettings":"js:prettycards.openSettings()","header-translate":"Translate","pc-navbar-dc":"Disconnect"},j={"{friends}":"Friends",'<span class="glyphicon glyphicon-comment blue"></span>':"js:openChatsList()",'<img src="/images/leaderboard.png">':"/leaderboard.jsp",'<img src="/images/friendship.png">':"/friendshipLeaderboard.jsp",'<img src="/images/social/discord.png">':"https://discord.gg/wVmCQk6",'<img src="/images/social/twitter.png">':"https://twitter.com/undercardsgame",'<img src="/images/social/facebook.png">':"https://www.facebook.com/undercards",'<img src="/images/social/reddit.png">':"https://www.reddit.com/r/UnderCards",'<img src="/images/social/wiki.png">':"http://undercards.wikia.com/",'<img src="./images/cardBacks/BASECardDETERMINATION.png">':"https://undercard.feildmaster.com"},z={"footer-about":{"footer-staff":"Staff","footer-legal":"legal.jsp",'<img alt="mail" src="/images/social/gmail.png"> footer-mail':"mailto:undercardsgame@gmail.com"}};function W(e,t){e.click((function(){t.toggleClass("PrettyCards_Hidden")}))}function K(e){for(var t=e.split(" "),n=0;n<t.length;n++)t[n]=$.i18n(t[n]);var a=t.join(" ");return(a=(a=a.replace("{packs}",O)).replace("{quests}",B)).replace("{friends}",F)}function V(e){var t=!1;return"string"==typeof e&&(t=e.startsWith("js:"),e=e.replace("js:","")),{link:e,isfunc:t}}function q(e,t="#000000",n=!1){var a=$("<div></div>");a.css("background-color",t);var r="PrettyCards_NavBarItem";for(var i in n&&(r+=" PrettyCards_NavBarInline"),e){var s,{link:o,isfunc:d}=V(e[i]),c=K(i);if(c.length>0){if("string"==typeof o){var l='<a href="'+o+'">'+c+"</a>";d&&(l='<span onclick="'+o+'">'+c+"</span>"),s=$('<div class="'+r+'">'+l+"</div>")}else{s=$('<div class="'+r+'"><span>'+c+"</span></div>");var u=q(o);u.addClass("PrettyCards_Hidden"),W(s.find("span"),u),s.append(u)}a.append(s)}}return a}function Y(){F=window.selfId?'<span class="glyphicon glyphicon-user green"></span>':"",$("#PrettyCards_Mobile_NavBar").remove();var e=$('<div id="PrettyCards_Mobile_NavBar" class="PrettyCards_Hidden"></div>');if(e.append(q(window.selfId?G:H)),$("body").append(e),window.selfId){var t=q(U,"#333333");t.addClass("PrettyCards_Hidden"),e.prepend(t);var n=$("nav .avatar")[0],a=$("#golds").text(),r=$("#ucp").text(),i=$("<div>DATA_PULL_ERROR</div>");n&&a&&r&&(i=$(`\n\t\t\t<table class="PrettyCards_NavBarProfile">\n\t\t\t\t<tr>\n\t\t\t\t\t<td rowspan="2"><img class="${n.className}" src="${n.src}"></td>\n\t\t\t\t\t<td>${selfUsername}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>(<span class="yellow">${a}</span> <img src="images/icons/gold.png" class="height-32"> / <span class="ucp">${r}</span> ${$.i18n("item-ucp")})</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t`)),i.click((function(){t.toggleClass("PrettyCards_Hidden")})),e.prepend(i)}e.append('<div class="PrettyCards_Divider"></div>'),e.append(q(j,"#000000",!0)),e.append(q(z)),e.append('<div class="PrettyCards_NavBarCopyright">Undercards  2021<br>'+$.i18n("footer-copyright")+"</div>")}i({key:"mobile_mode",name:"Mobile Mode",note:"Experimental feature to make the game more mobile-friendly.",type:"boolean",refresh:!0,hidden:!0,default:()=>window.mobile}),t.openSettings=function(){e.settings().open()},!underscript.onPage("Game")&&a.mobile_mode.value()&&k("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){O=$(".nbPacksHeader").text(),B=$("a[href=Quests]").text(),function(){$("nav").css("display","none"),$("footer").addClass("PrettyCards_Hidden");var e=$("header").contents();$("header").html('<div class="PrettyCards_HeaderFlex"><div id="PrettyCards_HeaderLeft"></div><div id="PrettyCards_HeaderMid"></div><div id="PrettyCards_HeaderRight"></div></div>'),$("#PrettyCards_HeaderMid").append(e);var t=$('<button class="btn btn-outline-secondary PrettyCards_Mobile_HeaderButton"><i class="glyphicon glyphicon-menu-hamburger"></i></button>');t.click((function(){$("#PrettyCards_Mobile_NavBar").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_Mobile_NavBarBG").toggleClass("PrettyCards_Hidden")})),$("#PrettyCards_HeaderLeft").prepend(t);var n=$('<div id="PrettyCards_Mobile_NavBarBG" class="PrettyCards_Hidden"></div>');n.click((function(){$("#PrettyCards_Mobile_NavBarBG").addClass("PrettyCards_Hidden"),$("#PrettyCards_Mobile_NavBar").addClass("PrettyCards_Hidden")})),$("body").append(n)}(),Y(),k("Chat:Connected",(function(){Y()}))}));var J=i({key:"no_turn_end_while_select",name:"Prevent Ending Turn while Selecting a Target",type:"boolean",refresh:!1,default:!0,category:"noob_help"});window.underscript.onPage("Game")&&e.events.on("player:endTurn",(function(){this.canceled=J.value()&&!!document.querySelector(".target")||!1})),prettycards.sendDealWarning=function(){window.BootstrapDialog.show({title:window.$.i18n("pc-matchwarn"),type:"type-danger",message:window.$.i18n("pc-matchwarn-sneo"),buttons:[{label:window.$.i18n("pc-navigate-noturnend"),cssClass:"btn-primary us-normal",action(e){e.close()}},{label:window.$.i18n("pc-navigate-suicide"),cssClass:"btn-danger us-normal",action(e){e.close(),window.endTurn()}},{label:window.$.i18n("pc-navigate-disablewarn"),cssClass:"btn-danger us-normal",action(e){e.close(),dealSetting.set(!1),window.endTurn()}}]})};var X={},Q=["BASE","COMMON","RARE","EPIC","LEGENDARY","DETERMINATION","TOKEN"],Z=["BASE","DELTARUNE","UTY"];function ee(e,t){return`<img src="${function(e,t){return`/images/rarity/${e}_${t}.png`}(e,t)}" title="${t}">`}for(var te=0;te<Z.length;te++){var ne=Z[te];X[ne]={};for(var ae=0;ae<Q.length;ae++){var re=Q[ae];X[ne][re]=ee(ne,re)}}X.DELTARUNE.BASE='<img src="/images/rarity/DELTARUNE.png" title="BASE">',X.UTY.BASE='<img src="/images/rarity/UTY.png" title="BASE">',function(){var e=document.createElement("DIV");for(var t in e.style="display: none;",document.body.appendChild(e),X){var n=X[t];for(var a in n){var r=o()(n[a]);e.appendChild(r[0])}}setTimeout((function(){e.remove()}),1e3)}();class ie{static get gold(){return Number(document.getElementById("golds").innerHTML)}static set gold(e){document.getElementById("golds").innerHTML=Number(e)}static get ucp(){return Number(document.getElementById("ucp").innerHTML)}static GetNumberOfPacks(e){return underscript.onPage("Packs")?Number(document.getElementById("nb"+e+"s").innerHTML):-1}static get dust(){return Number(o()("#dust").html())}static GetActiveMatchesData(e){const t=e||function(){};o().get("/",{},(function(e){var n=o()(e).find("#liste").find("tr"),a=[];n.each((function(e,t){var n={},r=t.children[0],i={},s=r.onclick.toString();i.spectateLink=s.split("'")[1],i.id=Number(i.spectateLink.split("playerId=")[1]),i.profileSkinUrl=r.style.backgroundImage,i.profilePictureUrl=o()(r).find(".avatar").attr("src"),i.soul=o()(r).find("> .playerInfo > span").attr("class"),i.name=o()(r).find("> .playerInfo > span").clone().children().remove().end().text().trim(),i.level=Number(o()(r).find("> .playerInfo > span > span").text().replace(/^\D+/g,""));var d=t.children[1],c={},l=d.onclick.toString();c.spectateLink=l.split("'")[1],c.id=Number(c.spectateLink.split("playerId=")[1]),c.profileSkinUrl=d.style.backgroundImage,c.profilePictureUrl=o()(d).find(".avatar").attr("src"),c.soul=o()(d).find("> .playerInfo > span").attr("class"),c.name=o()(d).find("> .playerInfo > span").clone().children().remove().end().text().trim(),c.level=Number(o()(d).find("> .playerInfo > span > span").text().replace(/^\D+/g,"")),n.gameId=Number(i.spectateLink.split("&playerId=")[0].split("gameId=")[1]),n.player1=i,n.player2=c,a.push(n)})),t(a)}))}static GetActiveMatchForId(e,t){const n=t||function(){};this.GetActiveMatchesData((function(t){for(var a=0;a<t.length;a++)if(e===t[a].gameId){var r=t[a];n(r)}}))}static IsSelfMod(){return window.selfMainGroup.priority<=4}static IsMyself(e){return window.selfId===e}static IsMyFriend(e){for(var t=0;t<window.selfFriends.length;t++)if(window.selfFriends[t].id==e)return!0;return!1}static GetDecks(e){o().get("/DecksConfig",{},(function(t){var n=JSON.parse(t.decks);e(n)}))}}t.pagegetters=ie;var se=n(3620);c(se.Z);var oe=!1,de={};function ce(){if(underscript.onPage("Decks")){var t=window.decks;for(var n in de={},t)de[n]={},de[n].cards=t[n],de[n].artifacts=decksArtifacts[n];oe||(oe=!0,e.events.emit("SoulSelector:decksLoaded"))}else o().isEmptyObject(de)&&ie.GetDecks((function(t){for(var n=0;n<t.length;n++){var a=t[n];de[a.soul.name]={},de[a.soul.name].cards=a.cardsList,de[a.soul.name].artifacts=a.artifacts}oe||(oe=!0,e.events.emit("SoulSelector:decksLoaded"))}))}class le{constructor(){this.selectedSoul="KINDNESS",this.idPrefix="PrettyCards_ChallengeSoul_",this.highlightSelectedSoul=!0,this.changeSoulCallback=function(){},this.soulsToDisplay=[]}GetPlayableDecks(){ce();var e={};for(var t in de){var n=de[t];n.cards.length>=25&&(n.artifacts.length>=2||1===n.artifacts.length&&n.artifacts[0].legendary)&&(e[t]=n)}return e}GenerateArtifacts(e){var t=document.createElement("DIV");t.className="PrettyCards_ArtifactContainer";for(var n=0;n<e.length;n++){var a=e[n];n>0&&t.appendChild(document.createElement("BR"));var r=document.createElement("SPAN");r.className=a.legendary?"yellow":"";var i=C.getArtifactImage(a.image);i.style="height: 16px;",r.appendChild(i),r.appendChild(document.createTextNode(" "+a.name)),t.appendChild(r)}return t}GenerateCards(e){for(var t=document.createElement("DIV"),n="",a=0;a<e.length;a++){var r=e[a];n+=`${r.shiny?'<span class="rainbowText">S</span> ':""}<span class="${r.rarity}">${r.name}</span><br>`}return t.innerHTML=n,t}ChangeDeck(e){this.highlightSelectedSoul&&o()(document.getElementById(this.idPrefix+this.selectedSoul)).removeClass("PrettyCards_SelectedSoul"),this.selectedSoul=e,this.highlightSelectedSoul&&o()(document.getElementById(this.idPrefix+this.selectedSoul)).addClass("PrettyCards_SelectedSoul"),this.changeSoulCallback(this.selectedSoul)}SetUp(e,t){this.idPrefix=e;var n=this.GetPlayableDecks();this.soulsToDisplay.length<=0&&(this.soulsToDisplay=Object.keys(n));var a=document.createElement("DIV"),r="";window["PrettyCards_ChangeDeck_"+this.idPrefix]=this.ChangeDeck.bind(this);for(var i=0;i<this.soulsToDisplay.length;i++){var s=this.soulsToDisplay[i];""===r&&(r=s);var o=C.getSoulImage(s);o.id=this.idPrefix+s,o.className=`PrettyCards_Soul_${s} PrettyCards_${t}Soul ${s===r&&this.highlightSelectedSoul?"PrettyCards_SelectedSoul":""}`,o.onclick=new Function("event",`PrettyCards_ChangeDeck_${this.idPrefix}("${s}");`),a.appendChild(o)}return this.selectedSoul=r,a}AddDeckTooltips(){var e=this.GetPlayableDecks();for(var t in e){document.querySelector("#"+this.idPrefix+t);var n=document.createElement("DIV");n.className="PrettyCards_DeckTooltip",n.appendChild(this.GenerateArtifacts(e[t].artifacts)),n.appendChild(this.GenerateCards(e[t].cards)),window.tippy("#"+this.idPrefix+t,{content:n,allowHTML:!0,arrow:!0,inertia:!0,placement:"auto",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect,onShow(e){}})}}static ExecuteOnDeckLoad(t){oe?t():e.events.on("SoulSelector:decksLoaded",t)}static GetDecks(){return de}}underscript.onPage("Decks")?e.events.on("Deck:Loaded",(function(e){ce()})):ce();var ue=[];function pe(e,t=!1){return ue.includes(e)?C.asset(`img/HDCardSkins/${e}.png`):t?`/images/cards/${e}.png`:C.getCardImageLink(e)}i({key:"hd_card_skins",name:"HD Card Skins",note:"Enables HD Card Skins. Only applies to registered card skins.<br>I would recommend turning this off if:<br>- You are using a low resolution device.<br>- You have slow internet access.<br>- You pay for your internet based on consumption (ex. Mobile data).",type:"boolean",refresh:!0,default:!0,category:"controversial"}),e.events.on("PrettyCards:onPageLoad",(function(){var t=window.appendCardCardSkinShop;window.appendCardCardSkinShop=function(n,a){var r=t(n,a);return e.events.emit("appendCardCardSkinShop()",{cardSkin:n,frameName:a,element:r}),r}})),a.hd_card_skins.value()&&(o().getJSON(C.asset("json/hdCardSkins.json"),{},(function(t){ue=t,e.events.emit.singleton("PrettyCards:hdSkinsFetched",{skins:t})})),e.events.on("func:appendCard",(function(t,n){e.events.on("PrettyCards:hdSkinsFetched",(function(){ue.includes(t.image)&&n.find(".cardImage").css("backgroundImage",`url("${pe(t.image)}")`)}))})),e.events.on("appendCardCardSkinShop()",(function(t){var n=t.cardSkin,a=t.element,r=n.image;e.events.on("PrettyCards:hdSkinsFetched",(function(){ue.includes(r)&&a.find(".cardImage").css("backgroundImage",`url("${pe(r)}")`)}))})),e.events.on("appendHubDeck()",(function(t){var n=t.deck,a=t.element,r=n.image;e.events.on("PrettyCards:hdSkinsFetched",(function(){ue.includes(r)&&a.find(".hubDeckImage img").attr("src",pe(r))}))})));var he=[],fe="Undertale";k("PrettyCards:onPageLoad",(function(){$.get("/CardSkinsConfig",{action:"profile"},(function(e){he=JSON.parse(e.cardSkins),fe=e.frameName}))})),c(n(4145).Z);var me=i({key:"old_artifact_rarity",name:"Disable Post-2023 Artifact Rarity System",type:"boolean",refresh:!1,default:!1,category:"artifact"});i({key:"no_artifact_background",name:"Disable Artifact Backgrounds",type:"boolean",refresh:!1,default:!1,category:"artifact"});var ge=new class{constructor(){this.artifacts=[],this.buyableArtifactIds={}}AddCustomArtifact(e){this.artifacts[e.id]=e}GetArtifactById(e){return this.artifacts[e]||null}GetArtifactByName(e){for(var t=0;t<this.artifacts.length;t++){var n=this.artifacts[t];if(n&&n.name===e)return n}return null}ReturnArtifactIcon(e){var t=this.GetArtifactById(e),n=C.getArtifactImage(t.image);return n.style="height: 24px;",n.className=`pointer PrettyCards_AverageSizedArtifact PrettyCards_Artifact_${t.rarity||"COMMON"}`,n.setAttribute("name",t.name),n.setAttribute("image",t.image),n.setAttribute("legendary","LEGENDARY"===t.rarity),n.setAttribute("artifactid",t.id),n.onclick=function(){window.artifactInfo(parseInt(this.getAttribute("artifactid")))},n}GetAllArtifacts(){$.getJSON("https://raw.githubusercontent.com/PrettyCards/daily-collector/main/allArtifactsProcessed.json",{},function(t){this.artifacts=[];for(var n=0;n<t.length;n++){var a=t[n];this.artifacts[a.id]=a}e.events.emit("PrettyCards:onArtifacts",this.artifacts)}.bind(this))}GetPage(e=-1){return new Promise(((t,n)=>{if(-1===e&&window.underscript.onPage("Artifacts"))t(document.getElementsByClassName("mainContent")[0]);else{var a={};e>=0&&(a={idArtifact:e,unlock:"Unlock"}),$.post("/Artifacts",a,(function(e){for(var a=$(e),r=0;r<a.length;r++){var i=a[r];if(i&&i.className&&i.classList.contains("mainContent"))return void t(i)}n("ELEMENT_NOT_FOUND_ERROR")}))}}))}GetPurchasableArtifacts(e=-1){return new Promise(((t,n)=>{this.GetPage(e).catch(n).then((e=>{var a=e.querySelector("nav.navbar div .navbar-right .dropdown .dropdown-toggle #golds");a&&(ie.gold=parseInt(a.innerText));var r=e.querySelector("table.table");r||n("NO_TABLE");var i,s=r.querySelector("tbody");this.buyableArtifactIds=[];for(var o=0;o<s.children.length;o++){var d=s.children[o],c=d.children[1].getAttribute("data-i18n"),l=parseInt(d.children[4].firstChild.innerText),u=parseInt((i=c.split("-")).length<=0?null:i[i.length-1]);this.buyableArtifactIds[u]=l}t(this.buyableArtifactIds)}))}))}IsArtifactPurchasable(e){return this.BuyPriceForArtifact(e)>-1}BuyPriceForArtifact(e){return e in this.buyableArtifactIds?this.buyableArtifactIds[e]:-1}BuyArtifact(t){this.GetPurchasableArtifacts(t).catch((t=>{console.error(t),e.events.emit("PrettyCards:artBuyError")})).then((n=>{if(this.IsArtifactPurchasable(t))return console.warn("Server error when buying artifact"),void e.events.emit("PrettyCards:artBuyError");e.events.emit("PrettyCards:artBuySuccess",{idArtifact:t,artifact:this.GetArtifactById(t)})}))}GetRarityDataFor(e){var t=e.soul,n=e.rarity,a=e.ownerId&&!!window.getCard(e.ownerId),r="";me.value()||!a&&!t?r=window.$.i18n("pc-fd-artifactwithrarity",window.$.i18n("rarity-"+n.toLowerCase())):a&&t?r=window.$.i18n("pc-fd-artifactwithownerandsoul",window.$.i18n("card-name-"+e.ownerId,1),window.$.i18n("soul-"+t.toLowerCase())):a?r=window.$.i18n("pc-fd-artifactwithowner",window.$.i18n("card-name-"+e.ownerId,1)):t&&(r=window.$.i18n("pc-fd-artifactwithsoul",window.$.i18n("soul-"+t.toLowerCase())));var i="PrettyCards_ArtifactDisplay_"+n;return e.customImgClass?i=e.customImgClass:t&&(i="PrettyCards_ArtifactDisplay_SoulArt_"+t,"LEGENDARY"!=n&&"DETERMINATION"!=n&&"MYTHIC"!=n||(i+=" PrettyCards_ArtifactDisplay_FloatingForSoul")),{text:r,txtClass:e.customTxtClass||e.soul||e.rarity,imgClass:i}}};t.artifactDisplay=ge,window.artifactDisplay=ge,k("PrettyCards:onPageLoad",(function(){ge.GetAllArtifacts(),ge.GetPurchasableArtifacts()})),e.events.on("connect getPlayersStats",(function(e){var t=[];if("getPlayersStats"==e.action){var n=JSON.parse(e.artifacts);for(var a in n)t=t.concat(n[a])}else t=JSON.parse(e.enemyArtifacts).concat(JSON.parse(e.yourArtifacts));for(var r=0;r<t.length;r++){var i=ge.GetArtifactById(t[r].id),s="PrettyCards_Artifact_"+i.rarity;i.soul&&(s="PrettyCards_Artifact_Soul_"+i.soul),window.$(".artifact-img[artifactId="+i.id+"]").addClass(s)}}));var ye="/DecksConfig";class we{static OptimalImportDeck(e,t){var n=0,a=function(e,a){"success"==a?0==--n&&t("success"):(console.log("ERROR WHILE IMPORTING DECK!",e),t("error",e))};we.RemoveEverything(e.soul,(function(r,i){if("success"==i){for(var s=0;s<e.cards.length;s++){var o=e.cards[s];n++,we.AddCard(o.id,o.shiny,e.soul,a)}for(s=0;s<e.artifacts.length;s++){var d=e.artifacts[s];n++,we.AddArtifact(d,e.soul,a)}}else t("error")}))}static ImportDeck(e,t){$.get("/Decks",{},(function(){$.get("/DecksConfig",{},(function(){we.OptimalImportDeck(e,(function(e,n){"success"==e?$.get(window.location.pathname,{},(function(){setTimeout((function(){t("success")}),500)})):t(e,n)}))}))}))}static AddCard(e,t,n,a){$.ajax({url:ye,type:"POST",dataType:"json",data:JSON.stringify({action:"addCard",idCard:e,isShiny:!!t,soul:n}),contentType:"application/json",success:function(e){"error"!==e.status?a(e,"success"):a(e,"error")}})}static AddArtifact(e,t,n){$.ajax({url:ye,type:"POST",dataType:"json",data:JSON.stringify({action:"addArtifact",idArtifact:e,soul:t}),contentType:"application/json",success:function(e){"getArtifactAdded"===e.action?n(e,"success"):n(e,"error")}})}static RemoveEverything(e,t){$.ajax({url:ye,type:"POST",dataType:"json",data:JSON.stringify({action:"removeAllCards",soul:e}),contentType:"application/json",success:function(e){void 0===e.status?t(e,"success"):t(e,"error")}})}static RemoveArtifacts(e,t){$.ajax({url:ye,type:"POST",dataType:"json",data:JSON.stringify({action:"clearArtifacts",soul:e}),contentType:"application/json",success:function(e){"getArtifactsCleared"===e.action?t(e,"success"):t(e,"error")}})}static RemoveCard(e,t,n,a){$.ajax({url:ye,type:"POST",dataType:"json",data:JSON.stringify({action:"removeCard",idCard:e,isShiny:t,soul:n}),contentType:"application/json",complete:function(){canRemove=!0},success:function(e){void 0===e.status?a(e,"success"):a(e,"error")}})}}c(n(3410).Z);var Ce="underscript.deck."+window.selfId+".",ve=Math.random()<=.022;const _e={active:!0,authorName:"",cardId:1,cardName:"Dummy",id:-1,image:"Dummy",name:"Default",owned:!0,typeSkin:0,ucpCost:0,unavailable:!1},be={active:!0,authorName:"",cardId:-1,cardName:"Onutrem",id:-1,image:"Onutrem",name:"Default",owned:!0,typeSkin:0,ucpCost:0,unavailable:!1},Pe={id:-22,fixedId:-22,typeCard:1,name:"PLACEHOLDER",image:"Big_Mine",baseImage:"Big_Mine",cost:0,rarity:"TOKEN",originalCost:0,shiny:!1,quantity:1,extension:"BASE",tribes:[],selectCards:[],typeSkin:0,playedTurn:0,ownerId:0,loop:0,program:0};function ke(){var e=[];Ce="underscript.deck."+window.selfId+".";for(var t=0;t<window.localStorage.length;t++){var n=window.localStorage.key(t);if(n.includes(Ce)){var a=window.localStorage.getItem(n),r=n.substring(Ce.length,n.length).split(".");if("name"===r[2])continue;var i=JSON.parse(a),s="prettycards.deck."+selfId+"."+r[0]+"."+r[1]+".image",o="prettycards.deck."+selfId+"."+r[0]+"."+r[1]+".description",d=window.localStorage[s];d=d?JSON.parse(d):ve?be:_e;var c=r[0],l={soul:c,id:Number(r[1]),name:window.localStorage[n+".name"]||window.$.i18n("pc-decks-unnamed",window.$.i18n("soul-"+c.toLowerCase())),cards:i.cards,artifacts:i.artifacts,image:d,description:window.localStorage[o]||"",key:n};e.push(l)}}return e}function xe(e,t){if(e.cards.length!=t.cards.length||e.artifacts.length!=t.artifacts.length)return!1;for(var n=0;n<e.artifacts.length;n++)if(!t.artifacts.includes(e.artifacts[n].id))return!1;var a=[...e.cards],r=[...t.cards];for(a.sort(((e,t)=>e.id-t.id||e.shiny-t.shiny)),r.sort((({id:e,shiny:t=!1},{id:n,shiny:a=!1})=>e-n||t-a)),n=0;n<a.length;n++){var i=a[n],{id:s,shiny:o=!1}=r[n];if(i.id!==s||i.shiny!==o)return!1}return!0}function Se(){var e=ke(),t={DETERMINATION:[],BRAVERY:[],JUSTICE:[],KINDNESS:[],PATIENCE:[],INTEGRITY:[],PERSEVERANCE:[]};C.onTestServer()&&(t.MONSTER=[]);for(var n=0;n<e.length;n++){var a=e[n];t[a.soul]?t[a.soul].push(a):console.warn("NEW DECK TYPE DISCOVERED ON CLIENT! "+a.soul)}for(var r in t)t[r].sort((function(e,t){return e.id-t.id}));return t}function Ae(e,t){for(var n=e[t],a=0;a<n.length&&a==n[a].id;)a++;return a}class Ee{constructor(){this.callback=function(){},this.closeCallback=function(){},this.closable=!1,this.deckSouls={},this.decks=[],this.canEditDecks=!1,this.hideInvalidDecks=!0}IsValidDeck(e){if(25!=e.cards.length)return!1;if(0==e.artifacts.length||e.artifacts.length>=3)return!1;var t=ge.GetArtifactById(e.artifacts[0]);if(!t)return console.log("ARTIFACT WITH ID"+e.artifacts[0]+" NOT FOUND!"),!1;if(1==e.artifacts.length)return"LEGENDARY"===t.rarity;var n=ge.GetArtifactById(e.artifacts[1]);return n?"LEGENDARY"!==t.rarity&&"LEGENDARY"!==n.rarity:(console.log("ARTIFACT WITH ID"+e.artifacts[1]+" NOT FOUND!"),!1)}SetUpButtons(e){var t=document.createElement("BUTTON");t.className="btn btn-danger PrettyCards_DeckListHeaderButton",t.innerHTML="Purge Autogens",e.appendChild(t)}GetHTML(e){var t=document.createElement("DIV");t.className="PrettyCards_ChooseDeckScreenContainer";var n=document.createElement("DIV");n.className="PrettyCards_DeckListHeader",t.appendChild(n);var a=document.createElement("DIV");for(var r in a.className="PrettyCards_DecklistSoulsContainer",n.appendChild(a),this.soulSelector=new le,this.soulSelector.changeSoulCallback=function(e){this.deckSouls[e][0].scrollIntoView({behavior:"smooth",block:"start"})}.bind(this),this.soulSelector.highlightSelectedSoul=!1,this.soulSelector.soulsToDisplay=[],e)this.soulSelector.soulsToDisplay.push(r);a.appendChild(this.soulSelector.SetUp("PrettyCards_SavedDeckSelectSoul_","Normal"));var i=document.createElement("DIV");if(i.className="PrettyCards_DeckListContainer",t.appendChild(i),this.closable){var s=document.createElement("DIV"),o=document.createElement("BUTTON");o.className="btn btn-primary PrettyCards_DeckListHeaderButton",o.innerHTML=ve?"<span class='red'>"+window.$.i18n("pc-navigate-later")+"</span>":window.$.i18n("pc-navigate-nevermind"),o.onclick=this.closeCallback,s.appendChild(o),n.appendChild(s)}for(var r in this.deckSouls={},e){for(var d=$('<div><div class="PrettyCards_DeckHeader '+r+'">'+window.$.i18n("soul-"+r.toLowerCase())+"</div></div>"),c=0;c<e[r].length;c++){const t=e[r][c];if(!this.hideInvalidDecks||this.IsValidDeck(t)){var l=this.appendCardDeck(d,t);this.canEditDecks&&(l.append('<div class="PrettyCards_DeckCardErase">'+(ve?window.$.i18n("pc-decks-delete-mystery"):window.$.i18n("pc-decks-delete"))+"</div>"),l.find(".PrettyCards_DeckCardErase").click(function(e){this.DeleteDeckDialogue(t),e.stopPropagation()}.bind(this)),l.find(".cardFooter").css("display","none")),l.click(function(){this.callback(t)}.bind(this))}}if(this.canEditDecks){var u=Ae(e,r);const t={image:ve?be:_e,soul:r,name:window.$.i18n("pc-decks-new",window.$.i18n("soul-"+r.toLowerCase())),description:"",cards:[],artifacts:[],id:u,key:Ce+r+"."+u};this.appendCardDeck(d,t).click(function(){this.callback(t)}.bind(this))}this.deckSouls[r]=d,$(i).append(d)}return t}AppendTo(e){this.decks=Se(),function(e){var t=le.GetDecks();for(var n in t){var r=!1,i=t[n];if(e[n]&&!(i.cards.length<=0)){for(var s=0;s<e[n].length;s++){var o=e[n][s];o.isBase=xe(i,o),o.isBase&&(r=!0)}if(!r&&a.override_decks_autogen.value()){var d=Ae(e,n),c=[],l=[],u=Ce+n+"."+d,p=window.$.i18n("pc-decks-autogen",window.$.i18n("soul-"+n.toLowerCase()));for(s=0;s<i.cards.length;s++){var h={id:i.cards[s].id};i.cards[s].shiny&&(h.shiny=!0),c.push(h)}for(s=0;s<i.artifacts.length;s++)l.push(i.artifacts[s].id);window.localStorage[u]=JSON.stringify({cards:c,artifacts:l}),window.localStorage[u+".name"]=p,e[n].push({image:ve?be:_e,soul:n,name:p,cards:c,artifacts:l,id:d,key:u,isBase:!0})}}}}(this.decks);var t=this.GetHTML(this.decks);return e.appendChild(t),this.parent=e,t}Reload(){this.parent.innerHTML="",this.AppendTo(this.parent)}DeleteDeckDialogue(e){var t=ve?window.$.i18n("pc-decks-askdelete-title-mystery"):window.$.i18n("pc-decks-askdelete-title"),n=ve?`<span class='red'>${window.$.i18n("pc-decks-askdelete-text-mystery")}</span>`:window.$.i18n("pc-decks-askdelete-text"),a=ve?window.$.i18n("pc-decks-askdelete-yes-mystery"):window.$.i18n("pc-decks-askdelete-yes"),r=ve?window.$.i18n("pc-decks-askdelete-no-mystery"):window.$.i18n("pc-decks-askdelete-no");const i=this;BootstrapDialog.show({title:t,message:n,buttons:[{label:r,cssClass:"btn-primary us-normal",action(e){e.close()}},{label:a,cssClass:"btn-danger us-normal",action(t){i.DeleteDeck(e),t.close()}}]})}DeleteDeck(e){window.localStorage.removeItem(e.key),window.localStorage.removeItem(e.key+".name"),window.localStorage.removeItem("prettycards.deck."+selfId+"."+e.soul+"."+e.id+".image"),window.localStorage.removeItem("prettycards.deck."+selfId+"."+e.soul+"."+e.id+".description"),e.isBase?we.RemoveEverything(e.soul,function(){le.GetDecks()[e.soul]={cards:[],artifacts:[]},this.Reload()}.bind(this)):this.Reload()}appendCardDeck(e,t,n){var a=window.appendCard(Pe,e);a.addClass("PrettyCards_DeckCard");var r=a.find(".cardName div");a.find(".cardName").css("width","160px"),r.html(t.name),a.find(".cardName").addClass(t.soul),a.find(".cardDesc div").html('<span class="'+t.soul+'">'+(t.description||"").replaceAll("\n","<br>")+"</span>"+(!n&&t.isBase?'<p style="color:grey; margin:0px;">(Loaded)</p>':"")),a.find(".cardFrame").css("background-image","url("+(!n&&t.isBase?C.asset("img/CardFrames/frame_deck_gold.png"):C.asset("img/CardFrames/frame_deck.png"))+")"),function(e,t){var n=pe(t.image,!0);t.isCustom&&(n=t.image),e.find(".cardImage").css("background-image","url("+n+")");var a="standard-skin";1==t.typeSkin?a="full-skin":2==t.typeSkin&&(a="breaking-skin"),e.removeClass("standard-skin").addClass(a)}(a,t.image),r.css("font-size","");var i=window.getResizedFontSize(r,25);return r.css("font-size",i+"px"),!n&&t.isBase&&a.addClass("PrettyCards_BaseDeckCard"),a}getDeckBySoulAndId(e,t){this.decks=Se();var n=this.decks[e];if(!n)return null;for(var a=0;a<n.length;a++){var r=n[a];if(r.id===t)return r}return null}}c(se.Z);var Te,Ie=a.override_decks.value(),$e=!1,De=new le,Ne=new Ee,Le=!1;function Re(){o()("#PrettyCards_PrivateGameChallengeForm").attr("hidden",!0),o()("#PrettyCards_PrivateGameChallengeDeckSelector").attr("hidden",!1),Ge.$modalDialog.addClass("modal-lg"),Le=!0}function Me(){o()("#PrettyCards_PrivateGameChallengeForm").attr("hidden",!1),o()("#PrettyCards_PrivateGameChallengeDeckSelector").attr("hidden",!0),Ge.$modalDialog.removeClass("modal-lg"),Le=!1}function Oe(e){Be(e),Me()}function Be(e){Te=e,window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]=e.id,window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"]=e.soul,Le=!1;var t=o()("#PrettyCards_PrivateGameChallengeDeckCard");t.html(""),Ne.appendCardDeck(t,e,!1)}function Fe(e){var t=o()(`\n\t\t<div id="PrettyCards_PrivateGameChallengeForm">\n\t\t\t<p>${window.$.i18n("pc-customgame-options-name")}: </p><input id="PrettyCards_PrivateGameName" type="text" class="form-control" value="${"PrettyCardsCustom"+Math.floor(100*Math.random())}"></input>\n\t\t\t<p>${window.$.i18n("pc-customgame-options-recipients")}: </p><input id="PrettyCards_PrivateGameRecipients" type="text" class="form-control" value="${e?e.username:""}"></input>\n\t\t\t<br>\n\t\t\t<label class="form-check-label"><input id="PrettyCards_PrivateGameEveryone" type="checkbox" class="form-check-input" ${e?"":"checked"}></input> ${window.$.i18n("pc-customgame-options-everyone")}</label>\n\t\t\t<p ${Ie?"hidden":""} className="PrettyCards_PrivateGameChallengeForm_Souls">${window.$.i18n("pc-customgame-options-soul")}: </p>\n\t\t\t<div id="PrettyCards_PrivateGameChallengeDeckCard"></div>\n\t\t</div>\n\t\t<div id="PrettyCards_PrivateGameChallengeDeckSelector" hidden></div>\n\t`);return t.find("#PrettyCards_PrivateGameChallengeForm .PrettyCards_PrivateGameChallengeForm_Souls").append(De.SetUp("PrettyCards_ChallengeSoul_","Normal")),Ie&&t.find("#PrettyCards_PrivateGameChallengeDeckCard").click(Re),t}function He(e){Ie?(function(){var e=Number(window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]),t=window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"];if("number"==typeof e&&"string"==typeof t){var n=Ne.getDeckBySoulAndId(t,e);null==n?(Be({soul:"DETERMINATION",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:be,description:window.$.i18n("pc-play-deckerror")}),Le=!0):Be(n)}else Be({soul:"UNIVERSAL",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:_e,description:window.$.i18n("pc-play-nodeck")}),Le=!0}(),Ne.closable=!0,Ne.closeCallback=Me,Ne.callback=Oe,Ne.AppendTo(o()("#PrettyCards_PrivateGameChallengeDeckSelector")[0])):De.AddDeckTooltips()}var Ge,Ue={};function je(e,t,n){sessionStorage.setItem("PrettyCards_PrivateGameIsHost",!0),sessionStorage.setItem("PrettyCards_PrivateGameName",e),sessionStorage.setItem("PrettyCards_PrivateGameSoul",n),sessionStorage.setItem("PrettyCards_PrivateGameRecipients",JSON.stringify(t));var a="I challenge "+t.join(", ")+" to a CUSTOM game! via PrettyCards";Ue.idRoom>0?window.sendMessage(a,String(Ue.idRoom)):window.sendPrivateMessage(a,String(Ue.user.id)),$e=!0}function ze(e){$e&&JSON.parse(e.chatMessage).user.id===window.selfId&&(window.location="/GamesList")}e.events.on("Chat:getPrivateMessage",ze),e.events.on("Chat:getMessage",ze);var We=new class{constructor(){this.allValuesLists={},this.languageSources=[],this.previewTypes=[],this.addPreviewType("default",/.*/,(e=>`<span>${e}</span>`),0)}addLanguageSource(e="DEFAULT_NAME",t=(e=>e)){this.languageSources.push({name:e,urlFunc:t})}addPreviewType(e="DEFAULT_MAME",t=/.*/,n=(()=>{}),a=0,r=(()=>{})){for(var i={name:e,regex:t,eleFunc:n,priority:a,onremove:r},s=0;s<this.previewTypes.length&&this.previewTypes[s].priority>a;)s++;return this.previewTypes.splice(s,0,i),i}getStringOrList(e){return this.allValuesLists[e]?this.getTranslatedValueList(e):window.$.i18n(e)}getTranslatedValueList(e){for(var t=[],n=0;n<this.allValuesLists[e];n++)t.push(this.getFromValueList(e,n));return t}getFromValueList(e,t){return window.$.i18n(this.getListKeyIndex(e,t))}getRandomFromValueList(e){return this.getFromValueList(e,C.randomInt(0,this.allValuesLists[e]))}getListKeyIndex(e,t){return e+"-"+t}getWithFallback(e,t,n){var a=window.$.i18n(e,n);return a==e?t:a}},Ke=i({key:"april_fools_wording",name:"Uglycards Wording",type:"boolean",refresh:!0,default:!0,note:"This will ONLY work during the month of April, and may be removed in the future!",hidden:function(){return C.getSeasonNumber()<81},category:"april"});e.events.on("PrettyCards:registerTranslationSources",(function(){console.log("MONTH",C.getSeasonNumber()),Ke.value()&&3==C.getSeasonMonth()&&We.addLanguageSource("PrettyCards:UglyWording",(e=>C.asset(`json/translation/april/${e}.json`))),We.addLanguageSource("PrettyCards:Core",(e=>C.asset(`json/translation/${e}.json`)))}));var Ve,qe=0;function Ye(){--qe<=0&&e.events.emit.singleton("PrettyCards:TranslationExtReady")}function Je(e="en"){We.languageSources.forEach((t=>{o().getJSON(t.urlFunc(e),{},(function(t){!function(e,t){for(var n in t){var a=t[n];if("string"==typeof t[n])window.$.i18n.messageStore.set(e,{[n]:a});else{if(a.ifEqual&&window.$.i18n.messageStore.get(e,n)!=a.ifEqual)continue;if(a.values){We.allValuesLists[n]=a.values.length;for(var r=0;r<a.values.length;r++)window.$.i18n.messageStore.set(e,{[We.getListKeyIndex(n,r)]:a.values[r]})}else window.$.i18n.messageStore.set(e,{[n]:a.value})}}Ye()}(e,t)})).fail((function(){console.warn(`Language file from source "${t.name}" for language "${e}", from address "${t.urlFunc(e)}" could not be loaded!`),Ye()}))}))}function Xe(e,t){var n=Number(e[0]);isNaN(n)&&(n=1);var r=`class="PrettyCards_SwitchHighlight_${t}" `;return a.switch_highlight.value()||(r=""),`<span ${r}style="opacity:${n}; ${n<=0?"display:none;":""}">${e[1]}</span>`}(Ve=window.localStorage.getItem("language"))||(Ve=window.getLanguage()),e.events.on("translation:loaded",(()=>{window.$.extend(window.$.i18n.parser.emitter,{pc_artifacts:function(e){for(var t=e[0],n=[],a=1;a<e.length;a++)n.push(Number(e[a]));return`<span class="helpPointer underlined" oncontextmenu="prettycards.viewArtifactsInfoForIdArray([${n.join(",")}]);">${t}</span>`},pc_switch_cyan:function(e){return Xe(e,"Cyan")},pc_switch_red:function(e){return Xe(e,"Red")},pc_raricon:function(e){var t=e[0],n=e[1];return X[t][n]},pc_shiny:function(e){return`<span class="rainbowText">${e[0]}</span>`},pc_tc:function(e){var t=e[0].toLowerCase();return 1==e.length?"["+t+"]":(e.splice(0,1),"["+t+":"+e.join("|")+"]")},pc_en_poss:function(e){return e[0].endsWith("s")?e[0]+"'":e[0]+"'s"}}),e.events.emit.singleton("PrettyCards:registerTranslationSources"),e.events.emit.singleton("PrettyCards:translationSourcesDone"),"en"!=Ve?(qe=2*We.languageSources.length,Je("en"),Je(Ve)):(qe=We.languageSources.length,Je("en"))})),t.translationManager=We,c(n(7288).Z);const Qe={id:220,priority:10,name:"PrettyCards_Staff",icon:"PC_Staff"},Ze={id:221,priority:10,name:"PrettyCards_MiniStaff",icon:"PC_MiniStaff"},et={id:222,priority:10,name:"PrettyCards_Owner",icon:"PC_Owner"},tt={id:999,priority:15,name:"Overachiever",icon:"Overachiever"},nt={id:9999,priority:15,name:"Grassless",icon:"Grassless"},at={id:277,priority:16,name:"Cutie",icon:"Cutie"};class rt{#e;chatRoleUserData={};#t=[Qe,Ze,et,tt,nt,at];static#n=new rt;constructor(){this.#a()}static getInstance(){return rt.#n}#a(){o().getJSON(C.asset("json/customChatRoles.json"),{},(t=>{this.chatRoleUserData=t,e.events.emit.singleton("PrettyCards:customChatRolesData",this.chatRoleUserData)})),e.events.on("PrettyCards:onPageLoad",(()=>{this.#e=window.appendMessage,window.appendMessage=(e,t,n)=>{this.#r(e),this.#e(e,t,n),this.#i(e,t,n)}}))}#r(e){var t=e.user;if(!t.pc_touched){t.pc_touched=!0;var n,a=null;if(this.#s(t.id,"pc_staff")?(a=Qe,n=t.mainGroup.priority>=8):this.#s(t.id,"pc_ministaff")?(a=Ze,n=!1):this.#s(t.id,"pc_owner")&&(a=et,n=!0),a&&(t.groups.push(a),n)){var r=t.groups.find((e=>e.id===t.mainGroup.id));r&&(r.priority=10),t.mainGroup=a}t.level>=9999?t.groups.push(nt):t.level>=999&&t.groups.push(tt),this.#s(t.id,"cutie")&&t.groups.push(at),t.groups.sort(((e,t)=>e.priority-t.priority))}}#i(e,t,n){for(var a=n?"chat-private-"+t:"chat-public-"+t,r=o()("#"+a).find("#message-"+e.id).find(".groupIcon"),i=0;i<r.length;i++){var s=r[i],d=s.getAttribute("title"),c=this.#t.find((e=>e.name==d));c&&(s.src=this.#o(c.icon))}}#o(e){return C.asset(`img/ChatBadges/${e}.png`)}#s(e,t){return this.chatRoleUserData[t]?this.chatRoleUserData[t].find((t=>t.id===e)):(console.warn("List name",t,"in",this.chatRoleUserData,"does not exist!"),!1)}getChatBadgeIcon(e){return this.#t.find((t=>t.icon==e))?this.#o(e):`images/${e}.png`}#d(e){var t=this.#s(e,"cutie");return t?t.face:null}#c(e){return this.#s(e,"pc_staff")||this.#s(e,"pc_ministaff")||this.#s(e,"pc_owner")}#l(e){var t=this.#c(e);return t?t.credit:null}getStatusStringForId(e){var t=this.#d(e),n=this.#l(e),a="";return n&&(a+=` <span class="PrettyCards_Staff">(${n})</span>`),t&&(a+=` <span class="Cutie">(${t})</span>`),a}isStaffMember(t){return new Promise(((n,a)=>{try{e.events.on("PrettyCards:customChatRolesData",(()=>{var e=this.#c(t);e?n(e):a("NO_PERMS")}))}catch(e){console.error(e),a("ERROR_INSIDE")}}))}}var it=n(4095),st=n(9157),ot=n(9008);c(it.Z),c(st.Z),c(ot.Z),window.PrettyCards_plugin=e;var dt,ct=window.$,lt=[];i({key:"user_info",name:"Better User Info",type:"boolean",refresh:!1,default:!0});var ut=i({key:"user_info_special_bg_opacity",name:"BUI: Background Opacity",note:"Certain profile skins have special backgrounds while in battle. Better User Info displays these backgrounds as its background if there are any, or black if there is not. This setting lets you control the opacity of these special backgrounds, with lower numbers making them darker, and higher numbers making them brighter.",type:"slider",refresh:!1,default:60,min:0,max:100,step:1});function pt(e,t,n=ct(".PrettyCards_UserInfo_FriendshipHideable")){e?n.removeClass("PrettyCards_Hidden"):n.addClass("PrettyCards_Hidden")}var ht=i({key:"user_info_friendship_show",name:"Show Friendship Data On User Info",note:'Requires "Better User Info" to have any effect!',type:"boolean",refresh:!1,default:!0,onChange:pt,hidden:!0});function ft(t){var n=ct(t).data("infos");console.log(n);var a=n.user;if(!e.events.emit("preChat:getInfo",{infos:n,user:a},!0).canceled){dt(t);var r=window.BootstrapDialog.dialogs[Object.keys(BootstrapDialog.dialogs)[0]];e.events.emit("Chat:getInfo",{popupElement:r.$modalDialog[0],infos:n,user:a})}}k("PrettyCards:onPageLoad",(function(){window.$.get("Leaderboard?action=ranked",(function(e){lt=JSON.parse(e.leaderboard)}))})),k("PrettyCards:onPageLoad",(function(){dt=window.getInfo,window.getInfo=ft,ct=window.$,C.loadCSSFromLink("/css/meters.css")})),e.events.on("Chat:getInfo",(function(t){if(!a.user_info.value())return;console.log("Chat:getInfo ",t);var n=t.user,r=t.popupElement.querySelector(".modal-header"),i=window.localStorage["prettycards.profile_skin_text_color."+window.selfId+"."+n.profileSkin.id]||"#FFFFFF";t.popupElement.className="modal-dialog modal-lg",r.className+=" PrettyCards_UserHeader",r.style["background-image"]=`url(/images/profiles/${n.profileSkin.image}.png)`;var s=t.popupElement.querySelector(".modal-content");s.style["background-image"]=`url(/images/backgrounds/${n.profileSkin.image}.png)`,s.style["background-color"]="black",s.style["background-size"]="cover",s.style["background-position"]="center";var o=(100-ut.value())/100;t.popupElement.querySelector(".modal-body").style.background=`rgba(0, 0, 0, ${o})`,t.popupElement.querySelector(".modal-footer").style.background=`rgba(0, 0, 0, ${o})`;var d=rt.getInstance().getStatusStringForId(n.id),c=r.querySelector(".bootstrap-dialog-title");c.innerHTML+=d,c.className+=" PrettyCards_UserTitle",c.style.color=i;var l=t.popupElement.querySelector(".bootstrap-dialog-footer-buttons");l.style="display: flex; justify-content: flex-end; align-items: center;";var u=document.createElement("INPUT");u.setAttribute("type","color"),u.value=i,u.style="height: 32px; margin: 0px 4px;",u.oninput=function(e){c.style.color=u.value,window.localStorage["prettycards.profile_skin_text_color."+window.selfId+"."+n.profileSkin.id]=u.value},l.prepend(u);var p=t.popupElement.querySelector(".avatar");p.className+=" PrettyCards_UserProfilePic",r.appendChild(p),n.shinyAvatar&&r.appendChild(t.popupElement.querySelector(".rainbowAvatar"));var h=t.popupElement.querySelector(".bootstrap-dialog-message");h.innerHTML="";var f=document.createElement("DIV");f.className="row";var m=document.createElement("DIV");m.className="column PrettyCards_UserColumn",f.appendChild(m);var g=document.createElement("DIV");g.className="column PrettyCards_UserColumn",f.appendChild(g),h.appendChild(f);var y=Math.random()<=.022,w=document.createElement("DIV");w.className="PrettyCards_UserGroups",w.innerHTML="Groups: ";for(var v=0;v<n.groups.length;v++){var _=n.groups[v],b=document.createElement("SPAN");if(b.className="PrettyCards_UserGroupContainer",w.appendChild(b),_.icon){var P=document.createElement("IMG");P.src=rt.getInstance().getChatBadgeIcon(_.icon),P.onerror=function(e){e.target.style.display="none"},P.title=_.name,b.appendChild(P)}var k=document.createElement("SPAN");k.innerHTML=We.getWithFallback("group-"+_.name.replace(" ","_").toLowerCase(),_.name),k.className=_.name.replace(" ","_"),k.style.paddingRight="15px",b.appendChild(k)}m.appendChild(w);var x=document.createElement("DIV");x.innerHTML=window.$.i18n("stat-lv")+" "+n.level,x.className="PrettyCards_UserLV",m.appendChild(x);var S=document.createElement("DIV");function A(){S.innerHTML='<span class="glyphicon glyphicon-user green"></span> '+window.$.i18n("pc-chat-friend-add"),S.style.cursor="pointer",S.onclick=function(){ct.post("/Friends",{username:n.username,addFriend:"Add friend"},E)}}function E(){S.innerHTML='<span class="glyphicon glyphicon-user red"></span> '+window.$.i18n("pc-chat-friend-remove"),S.style.cursor="pointer",S.onclick=T}function T(){BootstrapDialog.show({title:window.$.i18n("pc-chat-unfriend-confirm-title",n.username),message:window.$.i18n("pc-chat-unfriend-confirm",n.username),buttons:[{label:window.$.i18n("pc-navigate-no"),cssClass:"btn-primary us-normal",action(e){e.close()}},{label:window.$.i18n("pc-navigate-yes"),cssClass:"btn-danger us-normal",action(e){ct.get("/Friends?delete="+n.id,{},A()),e.close()}}]})}m.appendChild(S),ie.IsMyself(n.id)||ie.IsMyFriend(n.id)?ie.IsMyself(n.id)?S.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-user"></span> '+We.getRandomFromValueList("pc-chat-friend-mystery")+"</span>":'<span class="glyphicon glyphicon-user gray"></span> '+window.$.i18n("pc-chat-friend-you"):E():A();var I=document.createElement("DIV");function $(){I.innerHTML='<span class="glyphicon glyphicon-volume-off red"></span> '+(underscript.user.isIgnored(n)?window.$.i18n("pc-chat-ignore-remove"):window.$.i18n("pc-chat-ignore-add"))}m.appendChild(I),ie.IsMyself(n.id)?I.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-volume-off"></span> '+We.getRandomFromValueList("pc-chat-ignore-mystery")+"</span>":'<span class="glyphicon glyphicon-volume-off gray"></span> '+window.$.i18n("pc-chat-ignore-self"):($(),I.style.cursor="pointer",I.onclick=function(){underscript.user.isIgnored(n)?underscript.user.unIgnore(n):underscript.user.ignore(n),$()});var D=document.createElement("DIV");m.appendChild(D),ie.IsMyself(n.id)||!ie.IsSelfMod()&&!ie.IsMyFriend(n.id)?ie.IsMyself(n.id)?D.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-envelope"></span> '+We.getRandomFromValueList("pc-chat-pm-mystery")+"</span>":'<span class="glyphicon glyphicon-envelope gray"></span> '+window.$.i18n("pc-chat-pm-self"):D.innerHTML='<span class="glyphicon glyphicon-envelope gray"></span> '+window.$.i18n("pc-chat-pm-denied"):(D.innerHTML='<span class="glyphicon glyphicon-envelope yellow"></span> '+window.$.i18n("pc-chat-pm-allowed"),D.style.cursor="pointer",D.onclick=function(){openPrivateRoom(n.id,n.username)});const N=document.createElement("DIV");if(m.appendChild(N),!ie.IsMyself(n.id)&&n.gameId>-1?ie.GetActiveMatchForId(n.gameId,(function(e){if(e.player2.id===n.id){var t=e.player1;e.player1=e.player2,e.player2=t}N.innerHTML=`<span class="glyphicon glyphicon-eye-open green"></span> ${window.$.i18n("pc-chat-spectate-match")}<br><a href="${e.player1.spectateLink}"><img src="images/souls/${e.player1.soul}.png"></img><span class="${e.player1.soul}"> ${e.player1.name}</span></a> ${window.$.i18n("pc-chat-spectate-separator")} \n<a href="${e.player2.spectateLink}"><img src="images/souls/${e.player2.soul}.png"></img><span class="${e.player2.soul}"> ${e.player2.name}</span></a>`})):ie.IsMyself(n.id)&&n.gameId>-1?N.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-eye-open"></span> '+We.getRandomFromValueList("pc-chat-spectate-mystery-match")+"</span>":'<span class="glyphicon glyphicon-eye-open gray"></span> '+window.$.i18n("pc-chat-spectate-self"):ie.IsMyself(n.id)?N.innerHTML=y?'<span style="color:red"><span class="glyphicon glyphicon-eye-open"></span> '+We.getRandomFromValueList("pc-chat-spectate-mystery-idle")+"</span>":'<span class="glyphicon glyphicon-eye-open gray"></span> '+window.$.i18n("pc-chat-spectate-self"):N.innerHTML='<span class="glyphicon glyphicon-eye-open gray"></span> '+window.$.i18n("pc-chat-spectate-idle"),!ie.IsMyself(n.id)&&n.gameId<=-1){var L=document.createElement("DIV");L.innerHTML='<span class="glyphicon glyphicon-flash red"></span> '+window.$.i18n("pc-chat-challenge-create"),L.style.cursor="pointer",L.onclick=function(){!function(t,n){Ue=n,Ge=BootstrapDialog.show({title:"Custom Challenge!",message:Fe(t),onshown:He.bind(this),buttons:[{label:window.$.i18n("pc-navigate-cancel"),cssClass:"btn-primary us-normal",action(e){e.close()}},{label:window.$.i18n("pc-navigate-send"),cssClass:"btn-primary us-normal",action(t){if(!Le){for(var n=document.getElementById("PrettyCards_PrivateGameName").value,a=document.getElementById("PrettyCards_PrivateGameEveryone").checked?["everyone"]:document.getElementById("PrettyCards_PrivateGameRecipients").value.split(","),r=0;r<a.length;r++)a[r]=a[r].trim();a.length<=0&&(a=["everyone"]);var i,s,o=Ie?Te.soul:De.selectedSoul;Ie?(i=function(){je(n,a,o)},s=e.toast({title:"Please wait!",text:"Setting up the deck on the server . . ."}),Le=!0,we.OptimalImportDeck(Te,(function(e){Le=!1,s.exists()&&s.close(),"success"==e&&i()}))):je(n,a,o)}}}]})}(n,t.infos)},m.appendChild(L)}var R=document.createElement("DIV");if(ie.IsSelfMod()&&!ie.IsMyself(n.id)){var M={1:"1 "+window.$.i18n("pc-smalltime-sec",1),30:"30 "+window.$.i18n("pc-smalltime-sec",2),60:"1 "+window.$.i18n("pc-smalltime-min",1),600:"10 "+window.$.i18n("pc-smalltime-min",2),3600:"1 "+window.$.i18n("pc-smalltime-hour",1),21600:"6 "+window.$.i18n("pc-smalltime-hour",2),43200:"12 "+window.$.i18n("pc-smalltime-hour",2),43200:"1 day"+window.$.i18n("pc-smalltime-day",1)};R.innerHTML='<span class="glyphicon glyphicon-volume-off gray"></span> '+window.$.i18n("chat-time-out-user")+" ";var O=document.createElement("INPUT");O.setAttribute("type","text"),O.id="PrettyCards_Timeout",O.style="display:inline; width: 110px; margin-right: 15px;",O.setAttribute("list","PrettyCards_TimeoutList"),O.onchange=function(){for(var e in M)if(M[e]==this.value){this.value=e;break}};var B=document.createElement("DATALIST");for(var F in B.id="PrettyCards_TimeoutList",M)B.innerHTML+='<option value="'+M[F]+'"></option>';var H=document.createElement("BUTTON");H.className="btn btn-primary",H.innerHTML=window.$.i18n("pc-chat-mod-timeout"),H.onclick=function(){var e=ct("#PrettyCards_Timeout").val();for(var t in M)if(M[t]==e){e=t;break}window.timeout(String(n.id),e)},R.appendChild(O),R.appendChild(H),R.appendChild(B)}m.appendChild(R),g.innerHTML+=window.$.i18n("{{DIVISION:"+n.division+"}}");var G,U='<span style="font-size: 20px;" class="rainbowText">'+n.eloRanked+"</span>";"LEGEND"!==n.division&&(U='  <progress max="25" value="'+n.eloRanked%25+'" class="'+(G=n.division).substring(0,G.indexOf("_"))+'Bar" style="width: 150px;"></progress> <span>('+n.eloRanked+")</span>"),g.innerHTML+=U;var j=function(e){if(lt.length<=0)return-1;for(var t=0;t<lt.length;t++)if(e.id===lt[t].id)return t+1;return-1}(n),z="";j>-1&&(z="<div>"+window.$.i18n("pc-chat-ranked-rank")+": "+function(e){return 1==e?X.DELTARUNE.DETERMINATION+" "+window.$.i18n("pc-chat-ranked-first"):2==e?X.DELTARUNE.LEGENDARY+" "+window.$.i18n("pc-chat-ranked-second"):3==e?X.DELTARUNE.EPIC+" "+window.$.i18n("pc-chat-ranked-third"):4==e?X.DELTARUNE.RARE+" "+window.$.i18n("pc-chat-ranked-fourth"):5==e?X.DELTARUNE.COMMON+" "+window.$.i18n("pc-chat-ranked-fifth"):e}(j)+"</div>");var W="<div>"+window.$.i18n("pc-chat-ranked-wins")+": "+n.winsRanked+"</div>",K="<div>"+window.$.i18n("pc-chat-ranked-losses")+": "+n.lossesRanked+"</div>",V="<div>"+window.$.i18n("pc-chat-ranked-winrate")+": "+Math.floor(n.winsRanked/(n.winsRanked+n.lossesRanked)*1e4)/100+"%</div>",q="<div>"+window.$.i18n("pc-chat-ranked-winstreak")+": "+n.winStreak+"</div>";g.innerHTML+=z+W+K+V+q;var Y=document.createElement("DIV");Y.className="row";var J=document.createElement("DIV");J.className="double_column PrettyCards_UserColumn",Y.appendChild(J),h.appendChild(Y);var Q=document.createElement("DIV");Q.className="PrettyCards_ChatFriendshipContainer PrettyCards_UserInfo_FriendshipHideable",Q.innerHTML=`<h2 class='gray'>${window.$.i18n("pc-chat-friendship-fetching")}</h2>`;var Z=document.createElement("DIV");Z.id="PrettyCards_UserInfo_FriendshipTitleContainer";var ee=document.createElement("H2");ee.innerHTML=window.$.i18n("pc-chat-friendship-title"),ee.className="PrettyCards_UserInfo_FriendshipTitleText",Z.appendChild(ee),J.appendChild(Z),J.appendChild(Q),C.getFriendshipInfo(n.id,(function(e){Q.innerHTML="",ee.onclick=()=>{var e=!ht.value();ht.set(e,!e)};var t=ct(`\n\t\t<div style="display:flex;" id="PrettyCards_UserInfo_SwapSortArea" class="PrettyCards_UserInfo_FriendshipHideable">\n\t\t\t<label class="form-check-label" for="PrettyCards_UserInfo_SwapSortBtn">${window.$.i18n("pc-chat-friendship-sortxp")}</label>\n\t\t\t<label class="form_switch friendshipSortSwitch">\n\t\t\t\t<input type="checkbox" id="PrettyCards_UserInfo_SwapSortBtn">\n\t\t\t\t<span class="slider round"></span>\n\t\t\t</label>\n\t\t\t<label class="form-check-label" for="PrettyCards_UserInfo_SwapSortBtn">${window.$.i18n("pc-chat-friendship-sortrank")}</label>\n\t\t</div>`);ct(Z).append(t);var n=t.find("#PrettyCards_UserInfo_SwapSortBtn");n.change((function(){yt(e.scores,ct(Q),n)})),yt(e.scores,ct(Q),n);var a=document.createElement("P");a.className="PrettyCards_UserInfo_FriendshipHideable gray";var r=new Date(e.lastUpdated);a.innerHTML=`${window.$.i18n("pc-chat-friendship-fetchedat")}: ${r.toUTCString()}`,J.appendChild(a),pt(ht.value(),ht.value(),ct(J).find(".PrettyCards_UserInfo_FriendshipHideable"))})).fail((function(){Q.innerHTML=`<p class='red'>${window.$.i18n("pc-chat-friendship-fail")}</p>`}))}));var mt=function(e,t){return t.xp-e.xp},gt=function(e,t){return e.rank-t.rank};function yt(e,t,n){n.prop("checked")?wt(e,t,gt):wt(e,t,mt)}function wt(e,t,n){e.sort(n),t.empty();for(var a=0;a<Math.min(8,e.length);a++)Ct(e[a],t,0)}function Ct(e,t,n=1){var a;switch(n){case 1:a="TOP XP";break;case 2:a="TOP RANK";break;case 3:a="TOP XP & RANK"}var r=window.getLevel(e.xp),i=C.appendCardFriendship(window.getCard(e.cardId),t,r,e.xp-C.getXpForLevel(r-1),window.distanceNextLevel(r));return a&&i.append('<div class="PrettyCards_FriendshipTop">'+a+"</div>"),i.append(`<div class="PrettyCards_FriendshipRank"${e.rank<=5?" top":""} val="${e.rank}"></div>`),i.off("click"),i}window.sendMessageAsPositionInRanked=function(e){var t=lt[e-1];t.mainGroup={id:10,name:"User",priority:13},t.groups=[t.mainGroup],t.profileSkin={id:34,image:"Charas_Rush",name:"Charas Rush",ucpCost:400};var n={deleted:!1,id:1e5,idRoom:1,me:!1,message:"I am high on leaderboard!!!!!!",rainbow:!0,user:lt[e-1]};window.appendMessage(n,1,!1),JSON.stringify(n),window.appendMessage(n,"chat-public-1",!1)};var vt=JSON.parse(sessionStorage.getItem("PrettyCards_PrivateGameIsHost")),_t=sessionStorage.getItem("PrettyCards_PrivateGameName"),bt=sessionStorage.getItem("PrettyCards_PrivateGameCreator"),Pt=JSON.parse(sessionStorage.getItem("PrettyCards_PrivateGameRecipients")||'["everyone"]'),kt=sessionStorage.getItem("PrettyCards_PrivateGameSoul")||localStorage.getItem("customDeck");function xt(){socket.send(JSON.stringify({action:"createGame",name:_t,soul:kt})),e.events.on("preCustom:getPlayerJoined",St)}function St(e){Pt.includes("everyone")||Pt.includes(e.username)?(sessionStorage.removeItem("PrettyCards_PrivateGameName"),window.start()):(window.banUser(),this.canceled=!0)}function At(e){for(var t=JSON.parse(e.games),n=0;n<t.length;n++){var a=t[n];a.owner.usernameSafe==bt&&(sessionStorage.removeItem("PrettyCards_PrivateGameName"),socket.send(JSON.stringify({action:"joinGame",gameId:a.id,soul:kt,gamePassword:""})))}}underscript.onPage("GamesList")&&k("PrettyCards:onPageLoad",(function(){!function(){var t=window.socket;const n=t.onopen;t.onopen=function(t){_t&&(vt?xt():e.events.on("preCustom:getGamesList",At)),n(t)}}()}));var Et,Tt=a.override_decks.value(),It=new Ee;function $t(t,n){t&&n.message.startsWith("I challenge")&&n.message.endsWith("via PrettyCards")&&e.events.on("PrettyCards:TranslationExtReady",(function(){try{var a=n.message.substring(12,n.message.length-34).split(", ");if(n.user.id===window.selfId){var r=[...a],i=r.indexOf("everyone");i>-1&&(r[i]=window.$.i18n("pc-customgame-everyone"));var s=r.join(", ");$(t).find(".chat-message").html('<span class="gray">'+window.$.i18n("pc-customgame-selfinvite",s)+"</span>")}else a.includes("everyone")||a.includes(window.selfUsername)?le.ExecuteOnDeckLoad((function(){if(t.style.backgroundColor="black",$(t).find(".chat-message").html(window.$.i18n("pc-customgame-invite")),!Tt){var a=new le,r=document.createElement("SPAN");r.style="white-space: nowrap;",r.appendChild(a.SetUp("PrettyCards_ChallengeMessage_"+n.id+"_","Small")),t.appendChild(r),a.AddDeckTooltips()}var i=document.createElement("BUTTON");i.innerHTML=window.$.i18n("pc-navigate-accept"),i.className="btn btn-success PrettyCards_ChallengeMessageButton",i.onclick=Tt?function(){!function(t){It.closable=!1,It.closeCallback=Dt,It.callback=function(n){Dt(),function(t,n){var a=e.toast({title:window.$.i18n("pc-play-decksetup-title"),text:window.$.i18n("pc-play-decksetup-text")});we.OptimalImportDeck(t,(function(e){a.exists()&&a.close(),"success"==e?n():console.log("DeckEditor.ImportDeck error!")}))}(n,(function(){Nt(t,n.soul)}))},Et=window.BootstrapDialog.show({title:window.$.i18n("pc-customgame-choosedeck"),size:window.BootstrapDialog.SIZE_WIDE,message:"",onshown:function(){It.AppendTo(Et.$modalBody[0].firstChild.firstChild)}.bind(this),buttons:[{label:window.$.i18n("pc-navigate-cancel"),cssClass:"btn-primary us-normal",action(e){e.close()}}]})}(n.user.usernameSafe)}:function(){Nt(n.user.usernameSafe,a.selectedSoul)},t.appendChild(i)})):$(t).find(".chat-message").html('<span class="gray">'+window.$.i18n("pc-customgame-cuckinvite")+"</span>")}catch(e){console.log("Error! _()_/",e)}}))}function Dt(){Et.close()}function Nt(e,t){sessionStorage.setItem("PrettyCards_PrivateGameIsHost",!1),sessionStorage.setItem("PrettyCards_PrivateGameName","PLACEHOLDER_SO_CODE_STARTS"),sessionStorage.setItem("PrettyCards_PrivateGameSoul",t),sessionStorage.setItem("PrettyCards_PrivateGameCreator",e),window.location="/GamesList"}function Lt(e,t,n,a,r=!1){console.log(e,t,n,a,r);var i=document.createElement("DIV");i.className="PrettyCards_SplitSoul_Container "+(r?"PrettyCards_SplitSoul_Big ":"")+String(t);var s=document.createElement("DIV");s.className="PrettyCards_SplitSoul_Left",e.cloneNode().className+=n,s.appendChild(e.cloneNode()),i.appendChild(s);var o=document.createElement("DIV");o.className="PrettyCards_SplitSoul_Right";var d=e;return d.className+=a,o.appendChild(d),i.appendChild(o),i}e.events.on("Chat:getHistory Chat:getPrivateHistory",(function(e){for(var t=JSON.parse(e.history),n=document.querySelectorAll("#"+e.room+" .message-group"),a=0;a<t.length;a++)$t(n[a],t[a])})),e.events.on("Chat:getMessage Chat:getPrivateMessage",(function(e){$t(document.querySelector("#"+e.room+" .message-group:last-of-type"),JSON.parse(e.chatMessage))})),k("PrettyCards:onPageLoad",(function(){a.breaking_skin_fix.value()&&window.$("head").append("<style>\n\t\t\t.card.breaking-skin:hover .cardImage {\n\t\t\t\tz-index: 4;\n\t\t\t}\n\t\t</style>"),a.breaking_skin_stats_fix.value()&&window.$("head").append("\n\t\t\t<style>\n\t\t\t\t.card.breaking-skin .cardStatus {\n\t\t\t\t\tz-index: 5;\n\t\t\t\t}\n\n\t\t\t\t.card.breaking-skin .cardTribes {\n\t\t\t\t\tz-index: 5;\n\t\t\t\t}\n\n\t\t\t\t.card.breaking-skin .PrettyCards_CardBottomLeftInfo {\n\t\t\t\t\tz-index: 5;\n\t\t\t\t}\n\t\t\t</style>\n\t\t"),window.$("head").append("<style>\n\t\t.card .cardImage {\n\t\t\tbackground-size: contain;\n\t\t}\n\t</style>")}));var Rt=n(4811),Mt=n(4810);c(Rt.Z),c(Mt.Z);class Ot{constructor(){this.backgroundClass="",this.image=null,this.imageClass="",this.disabled=!1,this.isImageBig=!1,this.counter=0,this.name="",this.textClass="",this.rarityText="",this.description="",this.shopInfo=null,this.note="",this.size=window.BootstrapDialog.SIZE_NORMAL}setBackgroundClass(e){return this.backgroundClass=e,this}setImage(e){return this.image=e,this}setImageClass(e){return this.imageClass=e,this}setDisabled(e){return this.disabled=e||!1,this}setBigImage(e){return this.isImageBig=e,this}setCounter(e){return this.counter=e||0,this}setName(e){return this.name=e,this}setTextClass(e){return this.textClass=e,this}setRarityText(e){return this.rarityText=e,this}setDescription(e){return this.description=e,this}setShopInfo(e){return this.shopInfo=e,this}setNote(e){return this.note=e,this}setSize(e){return this.size=e,this}}class Bt{constructor(e,t){const n=`<span class='gray'>(${window.$.i18n("pc-fd-disabled")})</span>`;for(var r=window.$('<div class="PrettyCards_ArtifactListContainer"></div>'),i=0;i<e.length;i++){var s=e[i],o=a.no_artifact_background.value()?"":s.backgroundClass||"",d=window.$(`<div class="PrettyCards_ArtifactListRow"><div class="PrettyCards_ArtifactListBackground ${o}"></div></div>`),c=window.$('<div class="PrettyCards_ArtifactListCircle"></div>');console.log(s);var l=Lt(s.image,`PrettyCards_ArtifactListImage ${s.imageClass} ${s.disabled?"transparent":""}`,"","",s.isImageBig);if(c.append(l),d.append(c),s.counter&&s.counter>0){var u=window.$(`<div class="PrettyCards_ArtifactListCounter">${s.counter}</div>`);d.append(u)}var p=`${s.name} (${s.rarityText}) ${s.disabled?n:""}`,h=window.$(`<div class="PrettyCards_ArtifactListName ${s.textClass}">${p}</div>`);h.css("font-size",C.getResizedFontSizeHorizontal(p,25,538,10,.5));var f=window.$('<div class="PrettyCards_ArtifactListDescription"></div>');f.append(s.description),d.append(h),d.append(f),r.append(d)}window.BootstrapDialog.show({title:t||window.$.i18n("artifacts-title"),message:r,buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}}class Ft{constructor(e){this.data=e;var t=a.no_artifact_background.value()?"":e.backgroundClass||"";if(this.box=window.$(`<div class="PrettyCards_ArtifactDisplayBox ${t}"></div>`),this.box.click((function(e){e.stopPropagation()})),this.circle=window.$('<div class="PrettyCards_ArtifactCircle"></div>'),console.log(e),this.circle.append(Lt(e.image,e.imageClass,"","",e.isImageBig)),this.box.append(this.circle),this.name=window.$(`<div class="PrettyCards_ArtifactDisplayName ${e.textClass}">${e.name}</div>`),this.rarity=window.$(`<div class="PrettyCards_ArtifactDisplayRarity ${e.textClass}">${e.rarityText}</div>`),this.description=window.$('<div class="PrettyCards_ArtifactDisplayDescription"></div>'),this.description.append(e.description),e.counter&&e.counter>0&&(this.counter=window.$(`<div class="PrettyCards_ArtifactDisplayCounter">${e.counter}</div>`),this.box.append(this.counter)),this.box.append(this.name),this.box.append(this.rarity),e.disabled&&(this.disabled=window.$(`<div class="PrettyCards_ArtifactDisplayDisabled gray">(${window.$.i18n("pc-fd-disabled")})</div>`),this.box.append(this.disabled)),this.box.append(this.description),e.shopInfo){var n=`<span class="yellow">${e.shopInfo.price}</span> <img src="images/icons/gold.png" class="height-16">`,r=window.$.i18n("pc-buyart-nomuns",n);e.shopInfo.hasEnough&&(r=window.$.i18n("pc-buyart-willyoubuy",n)+` <button class="btn btn-success">${$.i18n("artifacts-unlock")}</button>`),this.shop=window.$(`<div class="PrettyCards_ArtifactDisplayShop">${e.shopInfo.topLine}<br>${r}</div>`),this.shop.find("button").click(function(){e.shopInfo.action(this)}.bind(this)),this.box.append(this.shop)}e.note&&e.note.length>0&&(this.noteTitle=window.$(`<div class="PrettyCards_ArtifactDisplayNoteTitle">${window.$.i18n("pc-fd-authornote")}</div>`),this.note=window.$(`<div class="PrettyCards_ArtifactDisplayNote">${e.note}</div>`),this.box.append(this.noteTitle),this.box.append(this.note)),window.BootstrapDialog.show({title:"You shouldn't be able to see this!",size:e.size||window.BootstrapDialog.SIZE_NORMAL,message:this.box,onshow:this.OnShow}).$modalDialog[0].className="modal-dialog modal-lg"}OnShow(e){e.$modalFooter.css("display","none"),e.$modalHeader.css("display","none"),e.$modalContent.css("background-color","transparent").css("box-shadow","initial").css("border","none").css("padding","0px"),e.$modalBody.css("border","none").css("background-color","transparent").css("padding","0px").css("box-shadow","initial")}static ViewArtifactInfo(t){var n,a,r=ge.GetArtifactById(t);if(e.events.emit("pre:viewArtifact()",r),r.collection){var i=r.collection,s=3==C.getSeasonMonth()&&r.aprilImage,o=s?i.aprilArtifactImagePrefix:i.artifactImagePrefix,d=s?r.aprilImage:r.image;(n=document.createElement("IMG")).src=C.constructURL(o,d,"png",i.oldPrefixBehavior)}else n=C.getArtifactImage(r.image);if(ge.IsArtifactPurchasable(t)&&!underscript.onPage("Game")&&!underscript.onPage("Spectate")){const n=t;var c=ge.BuyPriceForArtifact(t);a={price:c,topLine:window.$.i18n("pc-buyart-youdonthave"),hasEnough:c<=ie.gold,action:function(t){e.events.on("PrettyCards:artBuySuccess",(function(){t.shop.addClass("PrettyCards_Hidden")})),ge.BuyArtifact(n)}}}var l=ge.GetRarityDataFor(r),u=(new Ot).setName($.i18n("artifact-name-"+r.id)).setImage(n).setTextClass(l.txtClass).setRarityText(l.text).setDescription(window.$.i18n("artifact-"+r.id)).setImageClass(l.imgClass).setNote(window.$.i18n(r.note||"")).setDisabled(r.disabled).setCounter(r.counter).setShopInfo(a).setBackgroundClass(r.backgroundClass).setBigImage(r.isImageBig||!1),p=new Ft(u);e.events.emit("viewArtifact()",{artifact:r,helper:p})}static ViewSoulInfo(t){e.events.emit("pre:viewSoul",t);for(var n,a=null,r=0;r<Ft.customSouls.length;r++){var i=Ft.customSouls[r];if(i.name===t){a=i;break}}if(a){var s=a.collection,o=3==C.getSeasonMonth()&&a.aprilImage,d=o?s.aprilSoulImagePrefix:s.soulImagePrefix,c=o?a.aprilImage:a.image;(n=document.createElement("IMG")).src=C.constructURL(d,c,"png",s.oldPrefixBehavior)}else n=C.getSoulImage(t);var l=window.$.i18n("soul-"+t.toLowerCase()+"-desc"),u=window.$.i18n("soul-"+t.toLowerCase()),p=window.$(`<div><div>${l}</div><div class="PrettyCards_SoulDisplay_SpellsHeader">${window.$.i18n("pc-fd-soulspells",u)}:</div></div>`),h=window.$('<div class="PrettyCards_SoulDisplay_Spells"></div>');for(r=0;r<window.allCards.length;r++){var f=window.allCards[r];f.soul&&f.soul.name===t&&window.appendCard(f,h)}p.append(h);var m=(new Ot).setName(u).setImage(n).setTextClass(t).setRarityText(window.$.i18n("pc-fd-soul")).setDescription(p).setImageClass("PrettyCards_ArtifactDisplay_Floating PrettyCards_DisplaySoul_"+t).setNote(a?window.$.i18n(a.note||""):"").setSize(BootstrapDialog.SIZE_LARGE),g=new Ft(m);e.events.emit("viewSoul()",{id:t,helper:g})}static ViewArtifactsInfoBox(e){if(window.$(e).find(".artifact-img").length>0){var t=[];$(e).find(".artifact-img").each((function(){var e=Number($(this).attr("artifactId")),n=Number($(this).next(".artifact-custom").html()),a=$(this).hasClass("artifact-disabled");t.push({id:e,counter:n,disabled:a})})),Ft.ViewArtifactsInfo(t)}}static ViewArtifactsInfoForIdArray(e,t){var n=[];e.forEach((e=>{n.push({id:e})})),Ft.ViewArtifactsInfo(n,t)}static ViewArtifactsInfo(t,n){if(e.events.emit("pre:viewArtifacts",t),t.length>0){var a=[];t.forEach((e=>{var t,n=e.id,r=e.counter,i=e.disabled,s=ge.GetArtifactById(n),o=ge.GetRarityDataFor(s);if(s.collection){var d=s.collection,c=3==C.getSeasonMonth()&&s.aprilImage,l=c?d.aprilArtifactImagePrefix:d.artifactImagePrefix,u=c?s.aprilImage:s.image;(t=document.createElement("IMG")).src=C.constructURL(l,u,"png",d.oldPrefixBehavior)}else t=C.getArtifactImage(s.image);a.push((new Ot).setName($.i18n("artifact-name-"+s.id)).setImage(t).setTextClass(o.txtClass).setRarityText(o.text).setDescription(window.$.i18n("artifact-"+s.id)).setImageClass(o.imgClass).setNote(window.$.i18n(s.note||"")).setDisabled(i).setCounter(r).setBackgroundClass(s.backgroundClass).setBigImage(s.isImageBig||!1))}));var r=new Bt(a,n);e.events.emit("viewArtifacts()",{artDatas:t,helper:r})}}static TestArtifactsInfo(){e.events.emit("pre:viewArtifacts",t);for(var t=window.$("<div></div>"),n=0;n<ge.artifacts.length;n++){var a=ge.artifacts[n];t.append(`<img class="artifact-img" artifactId="${a.id}">`)}window.artifactsInfo(t),e.events.emit("viewArtifacts()",{})}}Ft.customSouls=[],k("PrettyCards:onPageLoad",(function(){window.artifactInfo=Ft.ViewArtifactInfo.bind(this),window.showArtifactDescBox=Ft.ViewArtifactInfo.bind(this),window.soulInfo=Ft.ViewSoulInfo.bind(this),window.artifactsInfo=Ft.ViewArtifactsInfoBox.bind(this),t.viewArtifactsInfoForIdArray=Ft.ViewArtifactsInfoForIdArray.bind(this),t.testArtifactsInfo=Ft.TestArtifactsInfo.bind(this)})),t.FancyDisplay=Ft;var Ht={};function Gt(e,t=0){var n=e;return t>0&&(n=e+t),Ht[n]?Gt(e,t+1):n}function Ut(e,t){var n=Gt(e),a=new FontFace(n,"url("+t+")");return Ht[n]=a,a.load().then((function(e){window.document.fonts.add(e)})).catch((function(e){console.error('Error loading font "'+n+'": ',e)})),n}i({key:"multi_theme_songs",name:"Enable Multiple Card Jingles",note:"Also adds some sound effects to certaion token cards.",type:"boolean",refresh:!0,default:!0,category:"card"});class jt{constructor(e){this.cardId=e.fixedId||e.id,this.originalUrl=`musics/cards/${e.name.replaceAll(" ","_")}.ogg`,this.replacements=[],this.playedBefore=0,this.playAsJingle=!0}getNextReplacement(){return this.playedBefore++,this.replacements[(this.playedBefore-1)%this.replacements.length]}getRandomReplacement(){return this.replacements[Math.floor(Math.random()*this.replacements.length)]}getReplacementOnCardData(e){return null}addFile(e){(underscript.onPage("Game")||underscript.onPage("Spectate"))&&C.preloadAudio(e).catch((e=>{})),this.replacements.push(e)}}var zt,Wt=[],Kt={};function Vt(e){for(var t=0;t<Wt.length;t++){var n=Wt[t];if(n.cardId==e)return n}return null}function qt(e){var t=Vt(e.fixedId||e.id);return t||(t=new jt(e),Wt.push(t),t)}k("allCardsReady PrettyCards:baseThemeSongDataReady PrettyCards:TranslationExtReady",(function(){var t=function(){if(!Kt._Disabled_Themes)return[];for(var e=0;e<Kt._Disabled_Themes.length;e++){var t=Kt._Disabled_Themes[e];if(t.season_nr==C.getSeasonNumber())return t.cards}return[]}();for(var n in Kt)if("_Disabled_Themes"!=n&&!t.includes(n)){var a=window.getCardWithName(n);if(a){var r=qt(a);r.playAsJingle="LEGENDARY"==a.rarity||"DETERMINATION"==a.rarity||a.tribes.includes("ROYAL_INVENTION");for(var i=1;i<=Kt[n];i++)r.addFile(C.asset(`audio/cards/${a.name.replaceAll(" ","_")}/intro_${i}.ogg`))}}!function(){var e=Vt(710);e&&(e.getReplacementOnCardData=function(e){return e.originalAttack<1?null:this.replacements[(e.originalAttack-2)/1]});var t=Vt(54);t&&(t.getReplacementOnCardData=function(e){return e.originalAttack<1?null:this.replacements[(4-e.originalAttack)%this.replacements.length]});var n=Vt(106);n&&(n.getReplacementOnCardData=function(e){return e.originalAttack<1?null:this.replacements[(7-e.originalAttack)/1]});var a=Vt(110);a&&(a.getReplacementOnCardData=function(e){return this.playedBefore++,this.replacements[Math.min(this.playedBefore-1,this.replacements.length-1)]})}(),e.events.emit.singleton("PrettyCards:customCardsSongsAppend"),e.events.emit.singleton("PrettyCards:themeSongsReady")})),a.multi_theme_songs.value()?e.events.on("PrettyCards:onPageLoad",(function(){if(o().getJSON(C.asset("json/baseThemeSongData.json"),{},(function(t){Kt=t,e.events.emit.singleton("PrettyCards:baseThemeSongDataReady",t)})),window.underscript.onPage("Game")||window.underscript.onPage("Spectate"))zt=new Audio,e.events.on("getMonsterPlayed getSpellPlayed",(function(e){var t=JSON.parse(e.card);if(0!=t.typeCard||"getSpellPlayed"!=e.action){var n=Vt(t.fixedId||t.id);if(n){var a=n.getReplacementOnCardData(t)||n.getNextReplacement();n.playAsJingle?(window.playJingle("NON EXISTENT CARD"),window.jingle.src=a,window.jingle.play()):((zt=new Audio(a)).volume=.2,zt.play())}}}));else{window.Audio;class e extends Audio{constructor(e){var t=function(e){if(!e)return null;for(var t=0;t<Wt.length;t++){var n=Wt[t];if(e.includes(n.originalUrl))return n}return null}(e);t&&(e=t.getRandomReplacement()),super(e)}}window.Audio=e}var t=[];e.events.on("func:appendCard PC_appendCard",(function(n,a){e.events.on("PrettyCards:themeSongsReady",(function(){var e=n.fixedId||n.id;if(!t.includes(e)){t.push(e);var a=Vt(e);a&&a.replacements.forEach((e=>{C.preloadAudio(e).catch((()=>{}))}))}}))}))})):e.events.emit.singleton("PrettyCards:themeSongsReady");var Yt=2e3,Jt=200,Xt=20,Qt=[];function Zt(e,t,n=0){var a=e+t.toLowerCase();if(n>0&&(a+=n),window.$.i18n(a)!=a)return Zt(e,t,n+1);var r=t;return n>0&&(r+=n),r}class en{constructor(e){this.cards=[],this.tribes=[],this.artifacts=[],this.souls=[],this.keywords=[],this.frames=[],this.cardImagePrefix=e.cardImagePrefix||"",this.cardSongPrefix=e.cardSongPrefix||"",this.rarityImagePrefix=e.rarityImagePrefix||e.rarityIconPrefix||"images/rarity/",this.tribeImagePrefix=e.tribeImagePrefix||"",this.artifactImagePrefix=e.artifactImagePrefix||"",this.soulImagePrefix=e.soulImagePrefix||"",this.aprilCardImagePrefix=e.aprilCardImagePrefix||"",this.aprilArtifactImagePrefix=e.aprilArtifactImagePrefix||"",this.aprilSoulImagePrefix=e.aprilSoulImagePrefix||"",this.name=e.name||"UNNAMED CATEGORY",this.author=e.author||"",this.note=e.note||"",this.universalCustomFont=e.universalCustomFont||"",this.oldPrefixBehavior=!1}newCard(e){var t=new tn(e,this);return t.collection=this,this.cards.push(t),t}newTribe(e){var t=new nn(e);return this.tribes.push(t),t}newArtifact(e){var t=new an(e);return t.collection=this,this.artifacts.push(t),t}newSoul(e){var t=new rn(e);return t.collection=this,this.souls.push(t),t}newKeyword(e){var t=new sn(e);return this.keywords.push(t),t}newFrame(e){var t=new on(e);return this.frames.push(t),t}reloadFrames(){for(var e="",t=0;t<this.frames.length;t++)e+=this.frames[t].returnCSSStyles();$("#collectionCustomCSS").html(e)}loadFont(e,t){return Ut(e,t)}getTribeById(e){for(var t=0;t<this.tribes.length;t++){var n=this.tribes[t];if(n.id==e)return n}return null}toJSON(){return this.id}}class tn{constructor(e,t){for(var n in this.armor=!1,this.burn=0,this.candy=!1,this.cantAttack=!1,this.charge=!1,this.cost=0,this.dodge=0,this.extension="BASE",this.fixedId=196,this.frameSkinName="Undertale",this.haste=!1,this.image="Tiny_Froggit",this.invulnerable=!1,this.kr=!1,this.name="Tiny Froggit",this.ownerId=0,this.paralyzed=0,this.playedTurn=0,this.quantity=99999,this.rarity="COMMON",this.selectCards=[],this.shiny=!1,this.silence=!1,this.taunt=!1,this.transparency=!1,this.tribes=[],this.typeCard=1,this.typeSkin=0,this.shockEnabled=!1,this.supportEnabled=!1,this.loop=0,this.program=0,this.customFont="",this.note="",e)this[n]=e[n];if((this.attack||this.hp)&&(this.typeCard=0),this.id=Yt,this.fixedId=Yt,Yt++,this.maxHp=this.hp,this.originalHp=this.hp,this.originalAttack=this.attack,this.originalCost=this.cost,this.baseImage=this.image,this.isCustom=!0,window.$.i18n().load({en:{["card-name-"+this.id]:this.name,["card-"+this.id]:this.description||this.desc}}),this.tribes=this.tribes.map((e=>e.toString())),this.name=window.$.i18n("card-name-"+this.id,1),this.description=void 0,this.themeSongs)for(var a=qt(this),r=0;r<this.themeSongs.length;r++)a.addFile(C.constructURL(t.cardSongPrefix,this.themeSongs[r],"ogg",t.oldPrefixBehavior));window.allCards.push(this)}mention(e="1"){return"{{CARD:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["card-name-"+this.id]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("card-name-"+this.id,e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["card-"+this.id]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("card-"+this.id)}}class nn{constructor(e){this.name=e.name||"{{PLURAL:$1|Unnamed Tribe|Unnamed_Tribes}}",Object.defineProperty(this,"id",{value:Zt("tribe-",e.id||"unnamed_tribe"),writable:!1}),this.image=e.image||"NO_IMAGE",this.setName(this.name),this.name=window.$.i18n("tribe-"+this.id,1)}toString(){return this.id.toString()}setName(e,t="en"){var n={};n[t]={},n[t]["tribe-"+this.id.toLowerCase()]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("tribe-"+this.id.toLowerCase(),e)}mention(e=1){return"{{TRIBE:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}}class an{constructor(e){this.name=e.name||"UNNAMED ARTIFACT",this.description=e.description||"NO EFFECT",this.image=e.image||"NO_IMAGE",this.aprilImage=e.aprilImage,this.rarity=e.rarity||"COMMON",this.note=e.note||"",this.soul=e.soul,this.soul&&this.soul.name&&(this.soul=this.soul.name),this.ownerId=e.ownerId,this.backgroundClass=e.backgroundClass||"",this.isImageBig=e.isImageBig||!1,Object.defineProperty(this,"id",{value:Jt,writable:!1}),Jt++,window.$.i18n().load({en:{["artifact-name-"+this.id]:this.name,["artifact-"+this.id]:this.description}}),this.name=window.$.i18n("artifact-name-"+this.id,1),ge.AddCustomArtifact(this)}mention(e=1){return"{{ARTIFACT:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["artifact-name-"+this.id]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("artifact-name-"+this.id,e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["artifact-"+this.id]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("artifact-"+this.id)}}class rn{constructor(e){Object.defineProperty(this,"id",{value:Xt,writable:!1}),Xt++,Object.defineProperty(this,"name",{value:Zt("soul-name-",e.name||"NONAME"),writable:!1}),this.displayName=e.displayName||"NoName",this.image=e.image||"NO_IMAGE",this.aprilImage=e.aprilImage,this.description=e.description||"No description",this.note=e.note||"",window.$.i18n().load({en:{["soul-"+this.name.toLowerCase()]:this.displayName,["soul-"+this.name.toLowerCase()+"-desc"]:this.description}}),this.displayName=window.$.i18n("soul-"+this.name.toLowerCase(),1),Ft.customSouls.push(this)}mention(e="1"){return"{{SOUL:"+this.name+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["soul-"+this.name.toLowerCase()]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("soul-"+this.name.toLowerCase(),e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["soul-"+this.name.toLowerCase()+"-desc"]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("soul-"+this.name.toLowerCase()+"-desc")}}class sn{constructor(e){Object.defineProperty(this,"id",{value:Zt("kw-",e.id||"NOID"),writable:!1}),this.name=e.name||"NoName",this.description=e.description||"No description",window.$.i18n().load({en:{["kw-"+this.id.toLowerCase()]:this.name,["kw-"+this.id.toLowerCase()+"-desc"]:this.description}}),this.name=window.$.i18n("kw-"+this.id.toLowerCase(),1)}mention(e="1"){return"{{KW:"+this.id+"|"+e+"}}"}me(e="1"){return this.mention(e)}setName(e,t="en"){var n={};n[t]={},n[t]["kw-"+this.id.toLowerCase()]=e,window.$.i18n().load(n)}getName(e=1){return window.$.i18n("kw-"+this.id.toLowerCase(),e)}setDescription(e,t="en"){var n={};n[t]={},n[t]["kw-"+this.id.toLowerCase()+"-desc"]=e,window.$.i18n().load(n)}getDescription(){return window.$.i18n("kw-"+this.id.toLowerCase()+"-desc")}}class on{constructor(e){this.id=e.id.toLowerCase()||"unnamed",this.monsterImage=e.monsterImage,this.spellImage=e.spellImage,this.shinyImage=e.shinyImage||"/images/frameSkins/Undertale/frame_shiny.png",this.animatedShinyImage=e.animatedShinyImage||"/images/frameSkins/Undertale/frame_shiny_animated.png",this.nameTop=this.makeIntoCSSMeasurement(e.nameTop,"9px"),this.descTop=this.makeIntoCSSMeasurement(e.descTop,"129px"),this.rarityTop=this.makeIntoCSSMeasurement(e.rarityTop,"213px"),this.quantityTop=this.makeIntoCSSMeasurement(e.quantityTop,"240px")}makeIntoCSSMeasurement(e,t){return"number"==typeof e?e+"px":e||t}returnCSSStyles(){return`\n\t\t.${this.id}-frame .shinySlot {\n\t\t\tbackground-image: url(${this.shinyImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame .shinySlot.animated {\n\t\t\tbackground-image: url(${this.animatedShinyImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame.spell .cardFrame {\n\t\t\tbackground-image: url(${this.spellImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame.monster .cardFrame {\n\t\t\tbackground-image: url(${this.monsterImage})\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardName,.${this.id}-frame .cardCost {\n\t\t\ttop: ${this.nameTop}\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardDesc,.${this.id}-frame .cardSilence {\n\t\t\ttop: ${this.descTop}\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardATK,.${this.id}-frame .cardHP,.${this.id}-frame .cardRarity {\n\t\t\ttop: ${this.rarityTop}\n\t\t}\n\t\t\n\t\t.${this.id}-frame .cardQuantity,.${this.id}-frame .cardUCPCost {\n\t\t\ttop: ${this.quantityTop}\n\t\t}\n\n\t\t`}toString(){return this.id}replace(e,t){return this.id.replace(e,t)}toJSON(){return this.id}}t.newCollection=function(e){var t=new en(e);return t.id=Qt.length,Qt.push(t),t},i({key:"theme_song_preview",name:"Card Theme Song Preview",note:"Outside of games, if this is on, a button will appear on cards if they are hovered in the top-left corner of the card image. Pressing it will play that card's theme song (if it has one)!",type:"boolean",refresh:!0,default:!1,category:"card"});var dn={358:"/sounds/load.wav",351:"/sounds/gasterBlaster.wav"};const cn=new Audio;function ln(e){return'<span class="glyphicon glyphicon-volume-up PrettyCards_CardThemeSongPlayer" onclick="prettycards.playThemeSongPreviewEvent(\''+e+"', event)\"></span>"}t.playThemeSongPreviewEvent=function(t,n){e.events.emit("PrettyCards:pauseBGM"),cn.src=t,cn.play(),cn.onended=cn.onerror=function(){e.events.emit("PrettyCards:resumeBGM")},n.stopPropagation()},!a.theme_song_preview.value()||underscript.onPage("Game")||underscript.onPage("Spectate")||e.events.on("func:appendCard PC_appendCard",(function(t,n){e.events.on("PrettyCards:themeSongsReady",(function(){var e,a=Vt(t.fixedId||t.id),r="LEGENDARY"===t.rarity||"DETERMINATION"===t.rarity;t.id in dn?r=!0:"hasThemeSong"in t?r=t.hasThemeSong:a&&(r=!0),r&&(e=a?function(e){if(0==e.replacements.length)return"";if(1==e.replacements.length)return ln(e.replacements[0]);var t="";return e.replacements.forEach(((e,n)=>{t=`${t}<button class="btn btn-primary" onclick="prettycards.playThemeSongPreviewEvent('${e}', event)">${n+1}</button>`})),$(`\n\t<span class="glyphicon glyphicon-volume-up PrettyCards_CardThemeSongPlayer" onclick="event.stopPropagation();">\n\t\t<span class="PrettyCards_TransparentText">S</span>\n\t\t<span class="PrettyCards_CardThemeSongList">\n\t\t\t${t}\n\t\t</span>\n\t</span>`)}(a):function(e){var t=e.collection;"number"==typeof t&&(t=Qt[t],e.collection=t);var n;return n=e.isCustom?t.cardSongPrefix+e.name.split(" ").join("_")+".ogg":e.id in dn?dn[e.id]:C.getCardJingleLink(e.name),$(ln(n))}(t),n.append(e))}))}));var un=["Text","Adapt","Undertale","Deltarune"];function pn(e){var t="WHY DOES THIS KEEP HAPPENING!?";switch(e){case un[0]:t="TEXT";break;case un[1]:t="ADAPT";break;case un[2]:t="BASE";break;case un[3]:t="DELTARUNE"}return t}i({key:"rarity_text_change",name:"Change Rarity Text",note:function(){return"Change every mention of a rarity into their respective icons."},type:"select",options:un,refresh:!0,default:un[0],category:"card"});var hn="TEXT";e.events.on("translation:loaded",(function(){$.extend($.i18n.parser.emitter,{rarity:function(e){if(e.length>=1){var t=e[0],n="rarity-"+t.replace(/_/g,"-").toLowerCase(),a=checkOverride(e)||$.i18n(n);if("TEXT"==hn)return'<span class="'+t+'">'+a+"</span>";var r=X[hn][t];return $(r).css({height:"1.5em"})[0].outerHTML}}})})),e.events.on("pre:func:appendCard pre:viewArtifacts() pre:viewArtifact() pre:viewSoul()",(e=>{if(window.underscript.onPage("CustomCards"))return void(hn="TEXT");const t=a.rarity_text_change.value();"Text"!==t&&(hn=e.extension?"Adapt"===t?e.extension:pn(t):"Adapt"===t?"TEXT":pn(t))})),e.events.on("func:appendCard viewArtifacts() viewArtifact() viewSoul()",(()=>{hn="TEXT"}));const fn=C.asset("img/RarityIcons/ALL_RARITIES.png"),mn=["baseRarityInput","commonRarityInput","rareRarityInput","epicRarityInput","legendaryRarityInput","determinationRarityInput","tokenRarityInput","baseGenInput:not(:disabled)"];if(i({key:"za_filter",name:'Enable "Toggle All Rarities" button',note:'Also known as the "Za Filter".',type:"boolean",refresh:!1,default:!0}),["Crafting","Decks","Friendship","CardSkins"].includes(window.location.pathname.substring(1))&&a.za_filter.value()){var gn=$('<label><input type="checkbox" id="everyRarityInput"> <img style="height: 24px;" src="'+fn+'" alt="Check all rarities"></label>');gn.find("input").change((function(e){var t=$("#everyRarityInput").prop("checked");$("#"+mn.join(", #")).prop("checked",t),window.applyFilters(),window.showPage(0)})),$("#deltaruneInput").parent().parent().append(gn)}var yn;i({key:"hd_game_animations",name:"HD Game Animations",note:"As per the request of the original animator of the game's visual effects, now you can use their new and improved version of the visual effects!",type:"boolean",refresh:!0,default:!0,category:"controversial"}),a.hd_game_animations.value()&&(window.underscript.onPage("Game")||window.underscript.onPage("Spectate")),e.events.on("func:appendCardDeck func:appendCardCraft",(function(t,n){e.events.on("PrettyCards:friendshipFetched",(function(a){e.events.on("PrettyCards:selfFriendshipLeaderboardFetched",(function(e){var r,i=-1;Array.isArray(a)&&(a=a[0]);var s=JSON.parse(a.friendshipItems),o=C.binarySearch(s,t.id,(e=>e.idCard));if(o&&!(o.xp<=0)){if(r=o.xp,e=e[0]){var d=C.binarySearch(e.scores,t.id,(e=>e.cardId));d&&(i=d.rank)}var c=window.getLevel(r),l=r-C.getXpForLevel(c-1),u=window.distanceNextLevel(c);C.addCustomSimpleTextIconToCard(n,"/images/friendship.png",`<span>Level: ${c}</span><br><span>XP: ${l}/${u}</span>${-1!=i?`<br><span>Rank: ${i}</span>`:""}`)}}))}))})),i({key:"friendship_info_on_cards",name:"Display Friendship Info on Cards",note:"When on, a heart will appear on the bottom-left corner of a card's image. Hovering over it will display information about your friendship status for that card.",type:"boolean",refresh:!0,default:!0,category:"card"}),a.friendship_info_on_cards.value()&&(window.underscript.onPage("Decks")||window.underscript.onPage("Crafting"))&&(o().getJSON("/FriendshipConfig",{},(function(t){yn=t,e.events.emit.singleton("PrettyCards:friendshipFetched",yn)})),e.events.on("Chat:Connected",(function(){C.getFriendshipInfo(window.selfId,(function(t){t.scores=t.scores.sort(((e,t)=>e.cardId-t.cardId)),e.events.emit.singleton("PrettyCards:selfFriendshipLeaderboardFetched",t)})).fail((function(){e.events.emit.singleton("PrettyCards:selfFriendshipLeaderboardFetched",null)}))}))),i({key:"uco_badge",name:"Display UC:O Badge on Cards",note:"When on, an icon will appear on the bottom-left corner of a card's image, indicating that it is an Undercards Original card. Clicking on it will let you read more about it.",type:"boolean",refresh:!0,default:!0,category:"card"}).value()&&(o().getJSON(C.asset("json/ucoCardIds.json"),{},(function(t){var n=new Set(t);e.events.emit.singleton("PrettyCards:ucoCardListFetched",n)})).fail((function(t){console.error("ERROR FETCHING UCO CARD LIST! ",t),e.events.emit.singleton("PrettyCards:ucoCardListFetched",new Set)})),e.events.on("func:appendCard",(function(t,n){e.events.on("PrettyCards:ucoCardListFetched",(function(a){a.has(t.fixedId||t.id)&&e.events.on("PrettyCards:TranslationExtReady",(function(){C.addCustomSimpleTextIconToCard2(n,C.asset("img/CardPowers/uco.png"),window.$.i18n("pc-cardbadge-uco-short"),window.$.i18n("pc-cardbadge-uco-desc"),window.$.i18n("pc-cardbadge-uco-title"))}))}))})));var wn=new C.SortedUniqueEntryHolder;e.events.on("PrettyCards:onCardSkinShopConfig",(function(){window.cardSkins.forEach((e=>{e.owned&&wn.insert(e.cardId)})),e.events.emit.singleton("PrettyCards:cardSkinShop:idsWithOwnedCardSkins")})),e.events.on("appendCardCardSkinShop()",(function(t){var n=t.cardSkin,a=t.element;e.events.on("PrettyCards:cardSkinShop:idsWithOwnedCardSkins",(function(){wn.includes(n.cardId)&&C.addCustomSimpleTextIconToCard(a,C.asset("img/CardPowers/already_have.png"),`You already own a card skin for <span style="white-space: nowrap;">${window.$.i18n(`card-name-${n.cardId}`,1)}</span>!`)}))})),t.ids_with_owned_card_skins=wn;var Cn,vn=i({key:"interactive_card_hover",name:"Interactive card Hover Helper",note:"Hovering over a card's name to see what it is is not moved over to an interractive tippy hover, which lets you click on things on that card as well. Useful for nested TOKEN references.",type:"boolean",refresh:!1,default:!1,hidden:!0,category:"card"}),_n=!1;function bn(){!_n&&window.displayCardHelp&&(_n=!0,Cn=window.displayCardHelp,window.displayCardHelp=function(e,t,n=!1){if(!vn.value())return Cn(...arguments);if(window.cardHoverEnabled){var a=window.getCard(t);if(a){var r=window.$("<div></div>"),i=a.shiny;a.shiny=n,window.appendCard(a,r),a.shiny=i,window.tippy(e,{content:r[0],arrow:!1,animation:!1,interactive:!0,placement:"left-end",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect})}else console.warn("No card is registered with the ID of ",t)}})}bn(),e.events.on("PrettyCards:onPageLoad",(function(){bn()}));var Pn=i({key:"shiny_hover_fix",name:"Card Hover Helper Shiny Fix",note:"Hovering over a card's name to see what it is SHOULD now have proper shiny status based on the parent card.",type:"boolean",refresh:!0,default:!0,category:"card"}),kn=!1;Pn.value()&&(e.events.on("translation:loaded",(function(){$.extend($.i18n.parser.emitter,{card:function(e){if(!(e.length<=0)){var t=parseInt(e[0]),n=checkOverride(e);if(null===n){var a=1;if(e.length>1){var r=e[1];isNaN(r)||(a=parseInt(r))}n=$.i18n("card-name-"+t,a)}return'<span onmouseover="displayCardHelp(this, '+t+", "+kn.toString()+');" onmouseleave="removeCardHover();" class="PATIENCE">'+n+"</span>"}}})})),e.events.on("pre:func:appendCard",(function(e){kn=e.shiny})),e.events.on("func:appendCard",(function(e){kn=!1}))),i({key:"card_skin_text_fix",name:"Card Skin Preview Text Fix",note:"Viewing card skins now always resizes text based on the skin's name's length instead of the original card's description!",type:"boolean",refresh:!0,default:!0,category:"card"}).value()&&e.events.on("func:appendCardCardSkinShop func:appendCardCardSkinProfile",((e,t)=>{var n=t.find(".cardDesc div");n.css("font-size","");var a=window.getResizedFontSize(n,81);n.css("font-size",a+"px")}));var xn=new class{constructor(){}zoomElement(e,t,n){n[0],n.css("transform",`scale(${e}, ${t})`)}zoomScreen(e,t){this.zoomElement(e,t,$("body"))}};t.zoomManager=xn,c(n(525).Z);var Sn,An=null,En={close:function(){An.remove(),$("body").removeClass("PrettyCards_LookAt_NoScroll")}};function Tn(e){window.selectCardDialog=En,document.body.className+=" PrettyCards_LookAt_NoScroll",(An=document.createElement("DIV")).className="PrettyCards_LookAt_Background";var t=document.createElement("DIV");t.className="PrettyCards_LookAt_Container",An.appendChild(t);var n=document.createElement("DIV");n.className="PrettyCards_LookAt_Title",n.innerHTML=window.$.i18n("game-select-card"),t.appendChild(n);var a=document.createElement("DIV");a.className="PrettyCards_LookAt_CardContainer";for(var r=0;r<e.length;r++){var i=window.appendCard(e[r],$(a));i.css("margin","6px"),i.click((function(e){if(0===e.button){var t=$(this).attr("id");sendEffectTarget(t)}}))}t.appendChild(a),document.body.appendChild(An)}i({key:"fancy_card_select",name:'Enable Fancy "Choose a card" screen in games.',type:"boolean",refresh:!1,default:!0,onChange:function(e){window.showSelectCards=e?Tn:Sn}}),e.events.on("PrettyCards:onPageLoad",(function(){Sn=window.showSelectCards,a.fancy_card_select.value()&&(window.showSelectCards=Tn)})),c(n(1252).Z),i({key:"emote_sounds",name:"Enable Emote Sounds",type:"boolean",refresh:!0,default:!0});var In=new Audio;function $n(t,n=function(){},a=!1){a&&e.events.emit("PrettyCards:pauseBGM"),In.pause(),In.src=C.asset(`audio/emotes/${t}.ogg`),In.onerror=function(){n(),e.events.emit("PrettyCards:resumeBGM")},In.onended=function(){e.events.emit("PrettyCards:resumeBGM")},In.play()}In.volume=.7,(window.underscript.onPage("Game")||window.underscript.onPage("Spectate"))&&e.events.on("getEmote:before",(function(e){if(a.emote_sounds.value()){var t=window.userId==e.idUser,n=e.emoteImage;window.gameEmotesEnabled&&(t&&!window.youDoingEmote?$n(n):t||window.enemyDoingEmote||window.enemyMute||$n(n))}})),a.emote_sounds.value()&&window.underscript.onPage("CosmeticsShop")&&e.events.on("PrettyCards:onPageLoad",(function(){document.querySelectorAll(".emote-bordered").forEach((function(e){var t=new URL(e.src).pathname;const n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf(".")),a=$('<div class="glyphicon glyphicon-volume-up PrettyCards_EmoteSoundPlayer"></div>')[0];a.onclick=function(){$n(n,(function(){a.style.color="red",a.onclick=function(){}}),!0)},e.parentElement.appendChild(a)}))})),t.playEmoteSound=$n;prettycards.showCredits=function(){var e=document.createElement("DIV");e.innerHTML='\n\t<span style="font-size: 2em;">General</span>\n\t<span>Uses Underscript\'s API.</span>\n\t<span>Feildmaster has been a MASSIVE help over the years and I cannot thank him enough! ^^</span>\n\t<span>Also huge thanks to the <span class="Translator">Translator</span> and <span class="Artist">Artist</span> teams for helping me out with certain features, including our team of English Translators!</span>\n\n\t<span style="font-size: 2em;">Card Theme Songs</span>\n\t<span>MysteryHD is the one who makes the audio files, I just paste them in and run a script. <img style="height:3em;" src="images/emotes/Hue.png"></span>\n\t<span>I could not have pulled this off without the help of HeavenlyFlower, who suggested a genious solution for non-Game pages.</span>\n\n    <span style="font-size: 2em;">PrettyCards Staff</span><span style="color:gray"> (in no particular order)</span>\n    <ul class="PrettyCards_Credits_GeneratedStaff"></ul>\n\t<span style="font-size: 2em;">Custom Cards</span>\n\t<span>Doki Doki Literature Club by <a href="http://teamsalvato.com/" target="_blank">Team Salvato</a></span>\n\t<span>Chibi MC sprite by <a href="https://www.deviantart.com/gyletotherescue/art/DDLC-MC-Chibi-Sprites-711310032" target="_blank">GyleToTheRescue on Deviantart</a></span>\n\t<span>MC SpriteSheet by <a href="https://www.deviantart.com/childish-n/art/DDLC-Protagonist-Sprite-715239172" target="_blank">Childish-N on Deviantart</a></span>\n\t<span>Amy Sprite Sheet by <a href="https://www.reddit.com/r/DDLC/comments/7qlzao/amy_sprite_sheet_for_those_who_wanted_it/" target="_blank">Meddy-sin on Reddit</a></span>\n\t<span>File Explorer/Character Folder artifact transparency fixed by @bantikat#6321 on Discord.</span>\n\t<br>\n\t<span>Battle Mew Mew theme by <a href="https://www.youtube.com/channel/UChAHYPBvyaQIpjyTSdQhOMQ" target="_blank">FalKKonE</a>. <a href="https://www.youtube.com/watch?v=jSozDtrESQE" target="_blank">Listen to the full remix here</a>.\n'.replaceAll("\n","<br>");var t=e.querySelector(".PrettyCards_Credits_GeneratedStaff"),n=rt.getInstance().chatRoleUserData;for(var a in n)["pc_owner","pc_staff","pc_ministaff"].includes(a)&&(console.log(n[a]),n[a].forEach((e=>{if(!e.creditHidden){var n=document.createElement("LI");n.innerHTML=e.username+" "+rt.getInstance().getStatusStringForId(e.id),t.appendChild(n)}})));BootstrapDialog.show({title:"PrettyCards Credits!",message:e,buttons:[{label:"Ok!",cssClass:"btn-primary us-normal",action(e){e.close()}}]})},c(n(8586).Z);function Dn(){window.$("footer").css("display",a.remove_footer.value()?"none":"block")}function Nn(){BootstrapDialog.show({title:window.$.i18n("pc-footerremove-ask-title"),message:window.$.i18n("pc-footerremove-ask"),buttons:[{label:$.i18n("pc-navigate-nevermind"),cssClass:"btn-danger",action:function(e){e.close()}},{label:$.i18n("pc-navigate-yes"),cssClass:"btn-primary",action:function(e){a.remove_footer.set(!0),e.close()}}]})}function Ln(){var t=window.$("footer");if(0!=t.length){var n=t[0].querySelector(".navbar-right");if(n){var a=document.createElement("LI");a.style="border-left: 1px solid white;";var r=document.createElement("A");r.style="padding: 8px 10px 10px 10px;";var i=document.createElement("SPAN");i.style.fontSize="18px",i.className="glyphicon glyphicon-chevron-down white",r.appendChild(i),a.appendChild(r),r.onclick=Nn,n.appendChild(a),e.events.on("PrettyCards:TranslationExtReady",(function(){window.tippy(r,{content:window.$.i18n("pc-footerremove-hover"),arrow:!0,inertia:!0,placement:"auto",appendTo:window.document.body,boundary:"window",getReferenceClientRect:window.document.body.getBoundingClientRect})}))}}}k("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){var t=$(document).width()-450,n=window.$(`<div class="dropdown" id="PrettyCards_MainMenu">\n\t\t\t<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">${window.$.i18n("pc-menu-title")}</button>\n\t\t\t<div class="dropdown-menu" aria-labelledby="dropdownMenuButton" style="padding: 3px 5px;">\n\t\t\t\t<a><p style="cursor: pointer;" onclick="prettycards.openSettings()">${window.$.i18n("pc-menu-settings")}</p></a>\n\t\t\t\t<a><p style="cursor: pointer;" onclick="prettycards.showCredits()">${window.$.i18n("pc-menu-credits")}</p></a>\n\t\t\t\t<a class="PrettyCards_HiddenUntilLogin" href="/CustomCardSkins"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customcardskins")}</p></a>\n\t\t\t\t<a class="PrettyCards_HiddenUntilLogin" href="/CustomCards"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customcards")}</p></a>\n\t\t\t\t${3==C.getSeasonMonth()?'<a href="/SmashOrPass"><p style="cursor: pointer; color: yellow;">'+window.$.i18n("pc-menu-sop")+"</p></a>":""}\n\t\t\t\t<a href="/CustomTranslations" class="PrettyCards_Hidden Translator PrettyCards_Staff"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customtranslate")}</p></a>\n\t\t\t\t<a class="PrettyCards_Hidden PrettyCards_Staff"><p style="cursor: pointer;" onclick="prettycards.downloadEmotesFile()">${window.$.i18n("pc-menu-emotefile")}</p></a>\n\t\t\t\t<a href="https://elytrafae.github.io/prettycards/artistConsole.html" class="PrettyCards_Hidden Artist"><p style="cursor: pointer;">${window.$.i18n("pc-menu-customartistconsole")}</p></a>\n\t\t\t\t<a href="https://github.com/elytrafae/prettycards/wiki"><p style="cursor: pointer;">${window.$.i18n("pc-menu-apidocs")}</p></a>\n\t\t\t</div>\n\t\t</div>`);e.events.on("PC_Chat:getSelfInfos Chat:Connected",(function(){$(".PrettyCards_HiddenUntilLogin").css("display","initial"),C.translatorFeaturesAccess()&&$("#PrettyCards_MainMenu .Translator").removeClass("PrettyCards_Hidden"),C.featuresAccessForGroupOnly("Artist")&&$("#PrettyCards_MainMenu .Artist").removeClass("PrettyCards_Hidden"),rt.getInstance().isStaffMember(window.selfId).then((()=>{$("#PrettyCards_MainMenu .PrettyCards_Staff").removeClass("PrettyCards_Hidden")})).catch((e=>{}))}));var a=!1;$("body").mousemove((function(e){e.pageX>=t&&e.pageY<=300?a||(n.stop().fadeIn(),a=!0):a&&(n.stop().fadeOut(),a=!1)})),$("body").append(n)})),e.events.on("PrettyCards:onPageLoad",(function(){var t;function n(e=!1){$("#PrettyCards_TopAdvert").remove(),$("#PrettyCards_MainMenu").css("top","0px"),e&&(localStorage["prettycards.top_advert_closed"]=!0)}"true"===localStorage["prettycards.top_advert_closed"]||3!=(t=new Date).getMonth()||1!=t.getDate()||window.underscript.onPage("Game")||window.underscript.onPage("SmashOrPass")||(window.$("#PrettyCards_MainMenu").css("top","36px"),e.events.on("PrettyCards:onPageLoad",(function(){window.$("body").prepend('\n\t\t\t\t<div id="PrettyCards_TopAdvert">\n\t\t\t\t\t<span>New! Undercards Smash or Pass Game!</span> <a href="/SmashOrPass">Are you brave enough~?</a>\n\t\t\t\t\t<div id="PrettyCards_TopAdvert_CloseButtons">\n\t\t\t\t\t\t<div id="PrettyCards_TopAdvert_CloseForever">Don\'t Remind Me!</div>\n\t\t\t\t\t\t<div id="PrettyCards_TopAdvert_Close">X</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),window.$("#PrettyCards_TopAdvert_Close").click((function(){n(!1)})),window.$("#PrettyCards_TopAdvert_CloseForever").click((function(){n(!0)}))})))})),t.downloadEmotesFile=()=>{C.downloadFile(JSON.stringify(window.chatEmotes),"every_undercards_emote.json")},i({key:"remove_footer",name:"Remove Footer",note:"Sayonara, ugly!",type:"boolean",refresh:!0,default:!1,onChange:Dn}),window.$?(Dn(),Ln()):e.events.on("PrettyCards:onPageLoad",(function(){Dn(),Ln()}));var Rn=n(4578);class Mn{constructor(e){this.cards=[];for(var t=0;t<e.length;t++){var n=e[t];this.cards[n.fixedId||n.id]={...n}}}getCard(e){return this.cards[e]||null}}class On{static REWARD_LEVELS=5;static MAX_FRIENDSHIP_REWARD_LEVEL=200;constructor(e){this.cardId=e.idCard,this.xp=e.xp,this.claim=e.claim}getCollectableRewardCount(){return Math.floor(Math.min(this.getLevel(),On.MAX_FRIENDSHIP_REWARD_LEVEL)/On.REWARD_LEVELS)-this.claim}getLevel(){return window.getLevel(this.xp)}render(e,t,n=((e,t)=>{})){var a=this.getLevel();n(C.appendCardFriendship(e,window.$(t),a,this.xp-C.getXpForLevel(a-1),window.distanceNextLevel(a)),this)}claimOnce(){return new Promise(((e,t)=>{window.$.post("/FriendshipConfig",JSON.stringify({action:"claim",idCard:this.cardId}),(n=>{if("success"===n.status){this.claim=n.claim;var a=function(e){switch(e){case"GOLD":return p.GOLD;case"DUST":return p.DUST;case"UCP":return p.UCP;case"PACK":return p.UT_PACK;case"DR_PACK":return p.DR_PACK;case"SHINY_PACK":return p.SHINY_PACK;default:return null}}(n.reward);a||(console.warn("UNKNOWN CURRENCY: "+n.reward),t("UNKNOWN CURRENCY: "+n.reward)),e(new w(a,n.quantity))}else t(n)})).error((e=>{t(e)}))}))}}class Bn{constructor(e){this.collection=new Mn(JSON.parse(e.collection)),this.friendshipItems=[];for(var t=JSON.parse(e.friendshipItems),n=0;n<t.length;n++){var a=t[n];this.friendshipItems[a.idCard]=new On(a)}}#u(e=(e=>!0)){for(var t=[],n=0;n<this.friendshipItems.length;n++){var a=this.friendshipItems[n];a&&e(a)&&t.push(a)}return t}renderAll(e,t=(e=>!0),n=((e,t)=>{})){var a=this.#u(t);a.sort(((e,t)=>t.xp-e.xp)),a.forEach((t=>{t.render(this.collection.getCard(t.cardId),e,n)}))}claimAll(e=((e,t)=>{}),t=(()=>{})){var n=this.#u((e=>e.getCollectableRewardCount())),a=0;n.forEach((e=>{a+=e.getCollectableRewardCount()})),0!=a?n.forEach((n=>{for(var r=0;r<n.getCollectableRewardCount();r++)n.claimOnce().then((t=>{e(n,t)})).finally((()=>{--a<=0&&t()}))})):t()}}c(Rn.Z);const Fn=["COPPER_IV","COPPER_III","COPPER_II","COPPER_I","IRON_IV","IRON_III","IRON_II","IRON_I","GOLD_IV","GOLD_III","GOLD_II","GOLD_I","EMERALD_IV","EMERALD_III","EMERALD_II","EMERALD_I","SAPPHIRE_IV","SAPPHIRE_III","SAPPHIRE_II","SAPPHIRE_I","AMETHYST_IV","AMETHYST_III","AMETHYST_II","AMETHYST_I","RUBY_IV","RUBY_III","RUBY_II","RUBY_I","DIAMOND_IV","DIAMOND_III","DIAMOND_II","DIAMOND_I","ONYX_IV","ONYX_III","ONYX_II","ONYX_I","MASTER_IV","MASTER_III","MASTER_II","MASTER_I","LEGEND"];function Hn(e){var t=p.CARD_CURRENCIES.has(e),n=p.getOrCreateCardCurrency(e);return t||qn.addCardCurrencyToOrder(n),n}class Gn{constructor(e,t,n,a,r){this.firstSize=e,this.secondSize=t,this.startValue=n,this.firstClass=a,this.secondClass=r,this.firstTextClass="PrettyCards_Hidden",this.secondTextClass="PrettyCards_Hidden",this.container=document.createElement("DIV"),this.container.style.position="relative",this.bar=document.createElement("PROGRESS"),this.bar.classList.add(this.firstClass),this.bar.setAttribute("min",0),this.bar.setAttribute("max",this.firstSize),this.bar.setAttribute("value",this.startValue),this.barText=document.createElement("DIV"),this.barText.classList.add(this.firstTextClass),this.barText.className="PrettyCards_GameEnd_BarText",this.container.appendChild(this.bar),this.container.appendChild(this.barText),this.didTipOver=!1,this.tipOverFunction=()=>{},this.customRow=!1,this.customRowElement=document.createElement("DIV"),this.customRowFunction=()=>{}}setTextClasses(e,t){return this.barText.classList.remove(this.firstTextClass),this.barText.classList.add(e),this.firstTextClass=e,this.secondTextClass=t,this}hasCustomRow(){return this.customRow}updateCustomRow(e){this.customRowFunction(e)}updateBar(e){var t=this.startValue+e,n=!1;t>=this.firstSize&&(t-=this.firstSize,n=!0),t<0&&(t+=this.secondSize,n=!0),n&&!this.didTipOver&&(this.didTipOver=!0,this.bar.classList.remove(this.firstClass),this.bar.classList.add(this.secondClass),this.barText.classList.remove(this.firstTextClass),this.barText.classList.add(this.secondTextClass),this.bar.setAttribute("max",this.secondSize),this.onTipOver()),this.barText.innerHTML=t+"/"+this.bar.getAttribute("max"),this.bar.setAttribute("value",t)}onTipOver(){this.tipOverFunction()}static returnEmpty(){return new Gn(0,0,0,"PrettyCards_Hidden","PrettyCards_Hidden")}static returnXPData(e,t,n,a,r,i){var s=new Gn(e,t,n,"xpBar","xpBar");s.setTextClasses("PrettyCards_XPBarText","PrettyCards_XPBarText");var o=document.createElement("SPAN");s.tipOverFunction=()=>{ea("/sounds/levelUp.wav"),i++,o.innerHTML=window.$.i18n("pc-game-levelup"),o.className="GOLD_NEON",a&&r.addReward(a.getLeft(),a.getRight())},s.customRow=!0;var d=document.createElement("SPAN");s.customRowElement.appendChild(d),o.style.width="180px",o.style.display="inline-block",s.customRowElement.appendChild(o);var c=document.createElement("SPAN");return s.customRowElement.appendChild(c),s.customRowFunction=e=>{d.innerHTML="LV "+i,c.innerHTML="+ "+e+" XP"},s}static returnEloData(e,t,n,a,r){var i=a.split("_")[0],s=r.split("_")[0],o=new Gn(25,25,e,"LEGEND"===i?"PrettyCards_Hidden":i+"Bar","LEGEND"===s?"PrettyCards_Hidden":s+"Bar");o.setTextClasses("LEGEND"===i?"PrettyCards_Hidden":i+"_NEON","LEGEND"===s?"PrettyCards_Hidden":s+"_NEON");var d=new Audio;d.volume=ca("sfx"),d.src=`https://github.com/elytrafae/prettycards/raw/master/audio/sfx/Rank${t<n?"Up":"Down"}.ogg`;var c=document.createElement("SPAN");o.tipOverFunction=()=>{a!==r&&(d.play(),c.innerHTML=window.$.i18n("{{DIVISION:"+r+"}}"))},o.customRow=!0,c.style.fontSize="1.4em",c.innerHTML=window.$.i18n("{{DIVISION:"+a+"}}"),o.customRowElement.appendChild(c);var l=document.createElement("SPAN");return l.className="LEGEND_NEON",o.customRowElement.appendChild(l),o.customRowFunction=e=>{var n=o.didTipOver?s:i;l.innerHTML="LEGEND"===n?" ("+(t+e)+")":""},o}}class Un{static WIN=new Un("game-game-victory","","/musics/uty_victory.ogg");static LEAVE_WIN=new Un("game-game-victory","","/musics/dogsong.ogg").setSubtitleFunction(jn).setChangeTitleFunction((e=>'"'+e+'"'));static LOSE=new Un("game-game-over","","/musics/uty_gameover.ogg");static DRAW=new Un("pc-game-draw","","https://github.com/elytrafae/prettycards/raw/master/audio/bgms/mus_star.ogg").setSubtitleFunction(zn);static CHARA=new Un("game-died","red","/musics/toomuch.ogg");constructor(e,t,n){this.textKey=e,this.textClass=t,this.songSrc=n,this.subtitleFunction=()=>document.createElement("DIV"),this.changeTitleFunction=e=>e}setSubtitleFunction(e){return this.subtitleFunction=e,this}setChangeTitleFunction(e){return this.changeTitleFunction=e,this}getSubtitle(){return this.subtitleFunction()}}function jn(){var e=document.createElement("DIV"),t=document.createElement("IMG");t.src="images/annoyingDog.gif",e.appendChild(t.cloneNode());var n=document.createElement("SPAN");return n.innerHTML=" "+window.$.i18n("game-opponent-left")+" ",e.appendChild(n),e.appendChild(t),e}function zn(){var e=document.createElement("SPAN");return e.className="PrettyCards_BarelyVisibleHallucinationMachine gray",e.innerHTML=We.getRandomFromValueList("pc-game-draw-messages"),setTimeout((()=>{e.className="PrettyCards_Transparent",e.innerHTML="Too slow~"}),22e3),e}class Wn{static MATCH=new Wn("match","piggy-bank");static SPECIAL=new Wn("special","star");static CONTRIBUTOR=new Wn("contributor","euro");static QUEUE=new Wn("queue","time");static LEVELUP=new Wn("levelup","arrow-up");static QUEST=new Wn("quest","calendar");static FRIENDSHIP=new Wn("friendship","heart");constructor(e,t){this.id=e,this.iconName=t}}class Kn{constructor(e,t){this.source=e,this.amount=t,this.passedAmount=0,this.container=document.createElement("SPAN"),this.amountElement=document.createElement("SPAN"),this.iconElement=document.createElement("SPAN"),this.container.className="PrettyCards_GameEnd_RewardSourceContainer PrettyCards_Hidden",this.iconElement.className=`glyphicon glyphicon-${this.source.iconName}`,this.iconElement.appendChild(function(e){var t=document.createElement("DIV"),n=document.createElement("DIV"),a=document.createElement("DIV");return n.innerHTML=e,t.className="PrettyCards_GameEnd_Tooltip",n.className="PrettyCards_GameEnd_TooltipText",a.className="PrettyCards_GameEnd_TooltipArrow",t.appendChild(n),t.appendChild(a),t}(window.$.i18n(`pc-rewardsource-${e.id}`))),this.container.appendChild(this.amountElement),this.container.appendChild(document.createTextNode(" ")),this.container.appendChild(this.iconElement)}attemptMerge(e){return e.source==this.source&&(this.amount+=e.amount,this.passedAmount+=e.passedAmount,!0)}finishedTicking(){return this.amount<0?this.passedAmount<=this.amount:this.passedAmount>=this.amount}tick(e){this.amount>0?this.passedAmount=Math.min(this.passedAmount+e,this.amount):this.passedAmount=Math.max(this.passedAmount-e,this.amount),this.amountElement.innerHTML="+"+this.passedAmount,this.container.classList.remove("PrettyCards_Hidden")}}class Vn{constructor(e){this.currency=e,this.sources=[],this.displaySources=!0,this.totalAmount=0,this.tickSpeed=1e3,this.container=document.createElement("DIV"),e.applyTextClass(this.container),this.container.style.padding=this.currency.padding,this.breakdownContainer=document.createElement("DIV"),this.customContainer=document.createElement("DIV"),this.customContainer.className="PrettyCards_GameEnd_RewardRow PrettyCards_Hidden",this.breakdownContainer.classList.add("PrettyCards_Hidden"),this.breakdownContainer.classList.add("PrettyCards_GameEnd_RewardRow"),this.totalAmountElement=document.createElement("SPAN"),this.instanceContainer=document.createElement("SPAN"),this.barContainer=document.createElement("DIV"),this.barContainer.className="PrettyCards_GameEnd_BarRow PrettyCards_Hidden",this.barData,this.setBarData(Gn.returnEmpty()),this.breakdownContainer.innerHTML="+ ",this.breakdownContainer.appendChild(this.totalAmountElement),this.breakdownContainer.appendChild(document.createTextNode(" ")),this.breakdownContainer.appendChild(this.currency.getCurrencyIcon()),this.breakdownContainer.appendChild(document.createTextNode(" (")),this.breakdownContainer.appendChild(this.instanceContainer),this.breakdownContainer.appendChild(document.createTextNode(" )")),this.container.appendChild(this.breakdownContainer),this.container.appendChild(this.customContainer),this.container.appendChild(this.barContainer)}setBarData(e){this.barData&&(this.barContainer.removeChild(this.barData.container),this.customContainer.removeChild(this.barData.customRowElement)),this.barData=e,this.barContainer.appendChild(this.barData.container),this.customContainer.appendChild(this.barData.customRowElement)}addInstance(e,t=!1){this.totalAmount+=e.amount,this.tickSpeed=this.currency.getSpeedForAmount(this.totalAmount);for(var n=0;n<this.sources.length;n++)if(this.sources[n].attemptMerge(e))return;t?(this.sources.unshift(e),this.instanceContainer.prepend(e.container)):(this.sources.push(e),this.instanceContainer.appendChild(e.container))}tick(){for(var e=!0,t=0,n=0;n<this.sources.length;n++){var a=this.sources[n];e&&!a.finishedTicking()&&(e=!1,a.tick(this.currency.countPerTick)),t+=a.passedAmount}e||(this.totalAmountElement.innerHTML=t,this.barContainer.classList.remove("PrettyCards_Hidden"),this.barData.updateBar(t),this.barData.customRow?(this.barData.updateCustomRow(t),this.customContainer.classList.remove("PrettyCards_Hidden")):this.breakdownContainer.classList.remove("PrettyCards_Hidden")),setTimeout(this.tick.bind(this),this.tickSpeed)}}class qn{static#p=[p.GOLD,p.DUST,p.UCP,p.DTFRAG,p.UT_PACK,p.DR_PACK,p.SHINY_PACK,p.SUPER_PACK,p.FINAL_PACK,p.CARD_SKIN,p.PROFILE_SKIN,p.AVATAR,p.EMOTE,p.ELO,p.XP];constructor(){this.rows=new Map,this.container=document.createElement("DIV"),this.alreadyStartedTicking=!1}static getCurrencyOrder(){return qn.#p}addReward(e,t,n=!1){var a=!this.rows.has(e);if(a){var r=new Vn(e);this.#h(r),this.rows.set(e,r)}(r=this.rows.get(e)).addInstance(t,n),a&&this.alreadyStartedTicking&&r.tick()}#h(e){this.rows.size<=0&&this.container.appendChild(e.container);for(var t=0,n=0;n<qn.#p.length&&qn.#p[n]!=e.currency;)this.rows.has(qn.#p[n])&&t++,n++;this.rows.size!=t?this.container.insertBefore(e.container,this.container.children[t]):this.container.appendChild(e.container)}startTicking(e=(()=>{})){this.alreadyStartedTicking=!0;for(var t=0,n=0;n<qn.#p.length;n++){var a=qn.#p[n];if(this.rows.has(a)){var r=this.rows.get(a);setTimeout(r.tick.bind(r),800*t),t++}}setTimeout(e,800*t)}addBarForCurrency(e,t){this.rows.has(e)&&this.rows.get(e).setBarData(t)}static addCardCurrencyToOrder(e){qn.#p.splice(4,0,e)}}function Yn(e,t,n,a){if(!e)return null;if("CARD"===e){var r=Hn(t);return new w(r,new Kn(a,1))}return r=function(e){var t=e.split("-");switch(t.shift(),t=t.join("-")){case"dust":return p.DUST;case"pack":return p.UT_PACK;case"gold":return p.GOLD;case"xp":return p.XP;case"super-pack":return p.SUPER_PACK;case"shiny-pack":return p.SHINY_PACK;case"final-pack":return p.FINAL_PACK;case"ucp":return p.UCP;case"dt-fragment":return p.DTFRAG;case"dr-pack":return p.DR_PACK;case"avatar":return p.AVATAR;case"card-skin":return p.CARD_SKIN;case"profile-skin":return p.PROFILE_SKIN;case"emote":return p.EMOTE;default:return null}}(e),r?new w(r,new Kn(a,t)):(console.warn("Could not find Currency type for string ",e),null)}function Jn(e){var t={endType:"getVictory"===e.action?e.disconnected?Un.LEAVE_WIN:Un.WIN:"getGameRemoved"==e.action?Un.DRAW:Un.LOSE,oldGold:e.oldGold,rewardManager:new qn,oldLevelBarSize:e.oldJaugeSize,newLevelBarSize:e.jaugeSize};e.oldGold&&function(e,t){var n=e.golds-e.oldGold;e.isDonator&&(t.addReward(p.GOLD,new Kn(Wn.CONTRIBUTOR,10)),n-=10),e.queueGoldBonus&&(t.addReward(p.GOLD,new Kn(Wn.QUEUE,e.queueGoldBonus)),n-=e.queueGoldBonus),t.addReward(p.GOLD,new Kn(Wn.MATCH,n),!0)}(e,t.rewardManager);var n,a=Yn("CARD"===e.rewardType?e.rewardType:e.rewardStringKey,e.rewardQuantity,t.rewardManager,Wn.LEVELUP),r=Yn("CARD"===e.bonusRewardType?e.bonusRewardType:e.bonusRewardStringKey,e.bonusRewardQuantity,t.rewardManager,Wn.SPECIAL);if(e.newXp&&e.oldXp&&(t.rewardManager.addReward(p.XP,new Kn(Wn.MATCH,e.newXp-e.oldXp)),t.rewardManager.addBarForCurrency(p.XP,Gn.returnXPData(e.oldJaugeSize,e.jaugeSize,e.oldJaugeSize-e.xpUntilNextLevel,a,t.rewardManager,parseInt($(".level").html())))),e.oldElo&&e.newElo){t.rewardManager.addReward(p.ELO,new Kn(Wn.MATCH,e.newElo-e.oldElo));var i=(n=e.oldElo,25*Math.floor(n/25));t.rewardManager.addBarForCurrency(p.ELO,Gn.returnEloData(e.oldElo-i,e.oldElo,e.newElo,e.oldDivision,e.newDivision))}return r&&t.rewardManager.addReward(r.getLeft(),r.getRight()),t}var Xn=new Audio,Qn=new Audio;function Zn(t){var n,a=new Promise(((e,t)=>{window.$.getJSON("/FriendshipConfig",{},(t=>{e(new Bn(t))})).error((e=>{t(e)}))})),r=(n=e.quests.getQuests())&&n.length>0?Promise.resolve(n):e.quests.update().then((e=>e.quests)),i=new Audio;i.volume=ca("result"),i.src=t.endType.songSrc,Qn.volume=ca("sfx"),Qn.src="https://github.com/elytrafae/prettycards/raw/master/audio/sfx/RewardCollect.ogg";var s=document.createElement("DIV"),o=document.createElement("DIV");window.document.body.appendChild(o),o.className="PrettyCards_GameEnd_Backdrop",window.$(o).css("top",-window.innerHeight+"px").animate({top:"0px"},1e3,"easeInQuad",(()=>{Xn.volume=ca("sfx"),Xn.play(),setTimeout((()=>{i.loop=!0,i.volume=.7,i.play(),t.rewardManager.startTicking((()=>{s.classList.remove("PrettyCards_Hidden"),ra.forEach((e=>{e.classList.remove("PrettyCards_Hidden")}))}))}),1e3)}));var d=document.createElement("DIV");d.className="PrettyCards_GameEnd_Content";var c=document.createElement("DIV");c.className="PrettyCards_GameEnd_Title "+t.endType.textClass,c.innerHTML=t.endType.changeTitleFunction(window.$.i18n(t.endType.textKey)),d.appendChild(c);var l=document.createElement("DIV");l.className="PrettyCards_GameEnd_Subtitle",l.appendChild(t.endType.getSubtitle()),d.appendChild(l),d.appendChild(t.rewardManager.container),s.className="PrettyCards_Hidden PrettyCards_GameEnd_LeaveRow";var u=document.createElement("BUTTON");u.className="btn btn-success",u.innerHTML=window.$.i18n("pc-game-leave"),u.onclick=()=>{window.location="/Play"},s.appendChild(u),d.appendChild(s),d.appendChild(ia("pc-game-friendship-header","pc-game-collect-all","PrettyCards_GameEnd_FriendshipCards",((e,t,n,a)=>{e.renderAll(t,(e=>e.getCollectableRewardCount()),((e,r)=>{e.addClass("friendship-not-claimed"),e.off("click").click((()=>{r.claimOnce().then((i=>{Qn.currentTime=0,Qn.play(),a.addReward(i.getLeft(),new Kn(Wn.FRIENDSHIP,i.getRight())),r.getCollectableRewardCount()<=0&&(e.remove(),n.style.display=t.children.length>0?"block":"none")}))}))}))}),((e,n,a)=>{e.claimAll(((e,n)=>{Qn.currentTime=0,Qn.play(),t.rewardManager.addReward(n.getLeft(),new Kn(Wn.FRIENDSHIP,n.getRight()))}),(()=>{a(e),n.removeAttribute("disabled")}))}),a,t.rewardManager)),d.appendChild(ia("pc-game-quest-header","pc-game-collect-all","",((e,t,n,a)=>{e.forEach((e=>{if(e.claimable){var r=document.createElement("DIV");r.className="PrettyCards_GameEnd_QuestRow";var i=e.progress;r.innerHTML=`\n                    <div class="PrettyCards_GameEnd_QuestText ${e.claimable?"green":""}">${e.name}</div>\n                    <div class="PrettyCards_GameEnd_QuestProgress"><progress class="${i.complete?"EMERALDBar":"xpBar"}" value="${i.value}" max="${i.max}" style="width: 100px;"></progress> ${i.value} / ${i.max}</div>`;var s=document.createElement("DIV");r.appendChild(s);var o=function(e,t){var n=C.feildItemsToMyCurrencies(t.type);if(n===p.UCP)return e.innerHTML=window.$.i18n("quests-ucp",t.reward),new w(p.UCP,parseInt(t.reward));if(n&&sa.includes(n))return e.innerHTML=n.getCurrencyIcon().outerHTML+'<span class="white">x'+t.reward+"</span>",n.applyTextClass(e),new w(n,parseInt(t.reward));if(t.type===window.underscript.constants.CARD||n===p.CARD_SKIN){var a=t.reward;"string"==typeof a&&(a={card:a});var r=document.createElement("SPAN");r.innerHTML=a.name?a.name:window.$.i18n(`card-name-${a.card}`),r.dataset.rewardHoverData=JSON.stringify(a),r.className="cyan",e.appendChild(r);var i=p.CARD_SKIN;return t.type===window.underscript.constants.CARD&&(i=Hn(parseInt(a.card))),new w(i,1)}return n===p.PROFILE_SKIN?(e.parentElement.style.backgroundImage="url("+t.reward+")",e.parentElement.style.backgroundPosition="center center",e.parentElement.style.backgroundSize="cover",new w(p.PROFILE_SKIN,1)):n===p.AVATAR?(e.innerHTML=`<img class="avatar ${t.reward.rarity}" src="${t.reward.image}">`,new w(p.AVATAR,1)):(console.warn("Unhandled reward type: ",t.type,t),e.innerHTML="???",null)}(s,e.reward);s.classList.add("PrettyCards_GameEnd_QuestReward");var d=document.createElement("DIV");d.className="PrettyCards_GameEnd_QuestClaim";var c=document.createElement("BUTTON");c.className="btn btn-success",c.innerHTML=window.$.i18n("quests-claim");var l=parseInt(e.id);isNaN(l)||(c.onclick=()=>{c.setAttribute("disabled","true"),da(l).then((e=>{a.addReward(o.getLeft(),new Kn(Wn.QUEST,o.getRight())),r.remove(),n.style.display=t.children.length>0?"block":"none",Qn.currentTime=0,Qn.play()})).catch((()=>{c.removeAttribute("disabled"),n.style.display=t.children.length>0?"block":"none"}))}),d.appendChild(c),r.appendChild(d),t.appendChild(r)}}))}),((e,t,n)=>{for(var a=t.parentElement.parentElement.querySelectorAll("button.btn.btn-success"),r=0;r<a.length;r++)a[r].click()}),r,t.rewardManager)),o.appendChild(d)}function ea(e){var t=new Audio;t.volume=ca("sfx"),t.src=e,t.play()}Xn.src="https://github.com/elytrafae/prettycards/raw/master/audio/sfx/mus_intronoise.ogg",t.GameEndTypes=Un,t.displayMatchResults=Zn,t.testMatchResults=()=>{Zn(Jn({action:"getVictory",gameType:"RANKED",disconnected:!0,golds:5944,isDonator:!1,oldGold:5919,oldXp:5709561,newXp:5713123,nbLevelPassed:0,oldJaugeSize:6e3,jaugeSize:6e3,xpUntilNextLevel:3189,queueGoldBonus:10,oldDivision:"AMETHYST_I",newDivision:"AMETHYST_I",oldDivision:"LEGEND",newDivision:"LEGEND",oldElo:1888,newElo:1900,rewardStringKey:"reward-dt-fragment",rewardType:"DTFRAGMENT",rewardQuantity:4,bonusRewardStringKey:"card",bonusRewardType:"CARD",bonusRewardQuantity:518}))},t.testMatchResultsDraw=()=>{Zn({endType:Un.DRAW,rewardManager:new qn})};var ta=i({key:"custom_game_end",name:"Custom Game End Screen",type:"boolean",refresh:!1,default:!0}),na=i({key:"custom_game_end_death_anim",name:"Custom Game End Screen: Death Animation",note:"Should the death animation play with the Custom Game End Screen? I honestly do not know if this should be on or off.",type:"boolean",refresh:!1,default:!0}),aa=["getVictory","getDefeat"];e.events.on("PreGameEvent",(function(e){ta.value()&&aa.includes(e.action)&&(function(e,t){window.music.pause(),window.musicEnabled=!1,window.finish=!0,window.$(".spellPlayed").remove(),window.$("#enemyMute").remove(),window.$("#game-history").remove(),null!==window.settingsDialog&&window.settingsDialog.close(),null!==window.selectCardDialog&&window.selectCardDialog.close(),null!==window.dustpileDialog&&window.dustpileDialog.close();var n=[window.$("#user"+(e?window.opponentId:window.userId)),window.$(e?"#enemyAvatar":"#yourAvatar")];window.shakeEnabled&&na.value()?(n.forEach((e=>{e.effect("shake")})),setTimeout((()=>{n.forEach((e=>{e.effect("puff")})),ea("/sounds/dust.wav"),setTimeout((()=>{t()}),750)}),750)):t()}("getVictory"===e.action,(()=>{Zn(Jn(e))})),this.canceled=!0)})),e.events.on("getError:before getGameError:before",(function(e){if(ta.value()){var t=JSON.parse(JSON.parse(e.message).args)[0];console.log(e,t),"game-turn-limit"!=t&&"game-time-limit"!=t||(this.canceled=!0,Zn({endType:Un.DRAW,rewardManager:new qn}))}}));var ra=[];function ia(e,t,n,a,r,i,s){var o=document.createElement("DIV");o.className="PrettyCards_Hidden",o.style.display="none",o.style.marginTop="30px";var d=document.createElement("DIV");d.className="PrettyCards_GameEnd_FriendshipHeader",o.appendChild(d);var c=document.createElement("DIV");c.innerHTML=window.$.i18n(e),c.style.fontSize="2.5em",d.appendChild(c);var l=document.createElement("BUTTON");l.innerHTML=window.$.i18n(t),l.className="btn btn-primary",d.appendChild(l);var u=document.createElement("DIV");function p(e){u.innerHTML="",a(e,u,o,s),o.style.display=u.children.length>0?"block":"none"}return u.className=n,o.appendChild(u),i.then((e=>{l.onclick=function(){l.setAttribute("disabled",!0),r(e,l,p)},p(e)})),ra.push(o),o}var sa=[p.GOLD,p.DUST,p.DTFRAG,p.UT_PACK,p.DR_PACK,p.SHINY_PACK,p.SUPER_PACK,p.FINAL_PACK],oa=["standard-skin","full-skin","breaking-skin"];function da(e){return new Promise(((t,n)=>{window.$.post("/Quests",{questId:e,dailyQuest:e},(e=>{t(e)})).error((e=>{n(e)}))}))}function ca(t="sfx"){return e.settings().value("underscript.audio."+t)?e.settings().value("underscript.audio."+t+".volume"):0}function la(e,t){return 0==t?"":`\n    <div>\n        <div style="height: 128px; display: flex;align-items: center;">\n            ${e}\n        </div>\n        <div style="font-size: 28px;">x ${t}</div>\n    </div>`}function ua(e,t){return la(`<img style="width:68px;" src="${e}">`,t)}window.underscript.lib.tippy(document.body,{target:"[data-reward-hover-data]",theme:"undercards",animateFill:!1,onShow(e){var t=JSON.parse(e.reference.dataset.rewardHoverData),n=window.appendCard(window.getCard(Number(t.card)),$("<DIV>"));if(t.name){var a='url("'+t.src+'")';n.find(".cardImage").css("background-image",a),n.removeClass("standard-skin").addClass(oa[parseInt(t.type)]||"");var r=t.name+'<br/><span class="Artist">'+t.author+"</span>";n.find(".cardDesc div").html(r)}e.setContent(n[0])}}),t.collectQuestReward=da;var pa={LEGEND:400,MASTER_I:200,MASTER_II:150,MASTER_III:100,MASTER_IV:50,ONYX_I:25,ONYX_II:20,ONYX_III:15,ONYX_IV:10};t.concepts={},t.concepts.viewEndOfSeasonScreen=function(e,t=!1){var n=t?"LEGEND":function(e){var t=Math.floor((e-1200)/25);return Fn[Math.min(t,Fn.length-1)]}(e),a=Math.min(Math.floor((e-1200)/25)+1,50),r=0;n.startsWith("AMETHYST")?r=1:n.startsWith("RUBY")?r=2:n.startsWith("DIAMOND")?r=3:(n.startsWith("ONYX")||n.startsWith("MASTER")||n.startsWith("LEGEND"))&&(r=4);var i=`<div style="font-size: 50px;">${window.$.i18n(`{{DIVISION:${n}}}`)}</div>`;"LEGEND"===n&&(a=50,i+=`<div style="font-size:30px;">With ${e} ELO!</div>`);var s=ua(C.asset("img/Packs/UndertalePack.png"),a)+ua(C.asset("img/Packs/DeltarunePack.png"),a)+ua("images/dtFragment.png",r)+la(`<span class="ucp" style="font-size: 3em;">${window.$.i18n("item-ucp")}</span>`,pa[n]||0),o=window.$(`\n        <div style="text-align: center;">\n            <div>Last season, you reached</div>\n            ${i}\n            <div style="margin: 10px 0;">Your rewards are:</div>\n\n            <div style="display: flex;\n            flex-direction: row;\n            flex-wrap: nowrap;\n            align-content: center;\n            justify-content: space-around;\n            align-items: center;\n            margin: 0 20px;">${s}</div>\n\n        </div>\n    `);window.BootstrapDialog.show({title:"End of season rewards!",message:o,buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})},n(8452);const ha="Arial, Helvetica, sans-serif",fa=['"Times New Roman", Times, serif','"Courier New", monospace','"Brush Script MT"','"Comic Sans MS", "Comic Sans", cursive',"Papyrus, fantasy"],ma="Arial",ga=["TimesNewRoman","CourierNew","BrushScriptMT","ComicSansMS","Papyrus"];var ya,wa=i({key:"april_fools_font",name:"April Fools Font",type:"select",options:["SEASONAL","RANDOM","OFF",ma].concat(ga),refresh:!0,default:"SEASONAL",hidden:function(){return C.getSeasonNumber()<81},category:"april"}).value();function Ca(){if("OFF"!=wa){if("RANDOM"==wa)ya=ha,underscript.utils.rand(10,1,!0)<=2&&(ya=fa[underscript.utils.rand(fa.length)]);else if(wa==ma)ya=ha;else{var t=ga.findIndex((e=>e==wa));ya=fa[t]}va(),e.events.on("PrettyCards:onPageLoad",va)}}function va(){if(!document.getElementById("PrettyCards_AprilFoolsFonts")){var e=document.createElement("STYLE");e.id="PrettyCards_AprilFoolsFonts",e.innerHTML=`\n        body {\n            font-family: ${ya}!important;\n        }\n\n        div.chat-box {\n            font-family: ${ya}!important;\n        }\n\n        .mono .modal-body { font-family: ${ya}!important; }\n\n        .underscript-dialog legend { font-family: ${ya}!important; }\n    `,document.head.appendChild(e)}}"SEASONAL"==wa?e.events.on("PrettyCards:seasonNumber",(function(){wa=3!=C.getSeasonMonth()?"OFF":"RANDOM",Ca()})):Ca();var _a=[{text:"ThiS [[Number ONE rated SalesMASCOT]] is DROWNing in [[KROMER]]!!! CLICK HERE!!!",bgImage:"https://a-z-animals.com/media/2023/01/iStock-1283011874-1024x683.jpg",bgSize:"cover",bgPosition:"center",color:"red",picSrc:"images/cards/Golden_Mascot.png",textSize:2,link:"https://www.youtube.com/watch?v=ETxmCCsMoD0"},{text:"Do you hate this [[VILE DOG]]?<br>CLICK HERE!",bgImage:"https://www.hartz.com/wp-content/uploads/2022/04/small-dog-owners-1.jpg",bgSize:"contain",bgPosition:"center",color:"darkblue",picSrc:"images/cards/Bulldogzer.png",textSize:2,link:"https://media.discordapp.net/attachments/1089991272174993519/1089991301069545492/image.png"},{text:"Does your neighbors grass look [delicious and natural]? You can have the same [delicious outdoor floor], JUST BUY NOW!",bgImage:"https://cdn.britannica.com/22/215522-050-8315BB78/green-grass-close-up.jpg",bgSize:"contain",bgPosition:"center",color:"purple",textSize:2,link:"https://store.steampowered.com/app/1944240/Touch_Some_Grass/"},{text:"K N O W L E D G E",bgColor:"yellow",bgImage:"https://images.theconversation.com/files/45159/original/rptgtpxd-1396254731.jpg?ixlib=rb-1.1.0&q=45&auto=format&w=1356&h=668&fit=crop",bgSize:"50%",bgPosition:"center",color:"#696969",textSize:3,link:"https://undercards.fandom.com/wiki/Undercards_Wikia",centerText:!0},{text:"Looking for a little fun with \\[\\[{{CARD:723|1}}\\]\\] in your area~?",bgImage:"https://t4.ftcdn.net/jpg/03/22/89/73/360_F_322897394_X2JQen9I6ECDSsQZoESOJ87dfebaGaAe.jpg",bgSize:"cover",bgPosition:"center",color:"#220000",picSrc:"images/cards/HOTSINGLE.png",textSize:2,link:"https://i.redd.it/6ztypom2wy661.jpg",centerText:!0},{text:"Club music for any<br>&gt[[MAN, WOMAN OR CHILD]]&lt!!",bgImage:"https://www.bettaeventhire.com.au/wp-content/uploads/2019/10/shutterstock_139152893.jpg",bgSize:"cover",bgPosition:"center",color:"cyan",picSrc:"images/cards/Dancer_Mettaton.png",textSize:2,link:"https://www.youtube.com/watch?v=x_QgxpTeKzM"},{text:"Hey   EVERY   !!!IT's ME!! Wan to be [[Number 1 Rated Salesman1997]]? Click HERE for the [[Specil Deal]]",bgImage:"https://media.tenor.com/FOgfl0x7RiUAAAAC/spamton-dancing.gif",bgSize:"contain",bgPosition:"unset",color:"green",picSrc:"images/cards/Spamton.png",textSize:1.5,link:"https://cdn.discordapp.com/attachments/1089991272174993519/1089996859998736414/k55m8nkfsra81.png"},{text:"are YOU [[All Alone On A Late Night?]]????? Want more [[PRIME ENTERTAINMENT!]] CLICK HERE!!!",bgImage:"https://media.discordapp.net/attachments/1089991272174993519/1090257788938240131/Sanest_libteg.jpg",bgSize:"contain",bgPosition:"unset",color:"green",picSrc:"images/cards/Sand_Dog.png",textSize:1.75,link:"https://youtu.be/4X2y5_k2zEw"}],ba=i({key:"spamton_ads",name:"Enable Spamton Ads",note:"[[NumberOneRatedSetting1997]]",type:"select",refresh:!1,options:["OFF","SEASONAL","ON"],default:"SEASONAL",category:"april",hidden:function(){return C.getSeasonNumber()<81}});e.events.on("BootstrapDialog:show",(function(e){var t="OFF"==ba.value();if("SEASONAL"==ba.value()&&(t=3!=C.getSeasonMonth()),!t&&!e.$modalContent.find(".mulligan")[0]){var n=C.getRandomFromArray(_a),a=document.createElement("DIV"),r=`background-color: ${n.bgColor||"black"};`;n.bgImage&&(r=`background-image: url(${n.bgImage}); background-size: ${n.bgSize||"auto"}; background-position: ${n.bgPosition||"unset"}`);var i=window.$.i18n(n.text.replaceAll("   "," &nbsp "));a.style=`${r};border: 5px solid white;border-width: 0 5px;margin: 0;padding: 5px; display:flex; user-select: none; justify-content: space-between;`,a.innerHTML=`<p style="font-size: ${n.textSize||2}em; color: ${n.color||white}">${i}</p>${n.picSrc?`<img src="${n.picSrc}">`:""}`,e.$modalContent.find(".PrettyCards_ArtifactDisplayName")[0]&&(a.style.borderWidth="0 5px 5px 5px"),n.link&&(a.style.cursor="pointer",a.onclick=function(){window.open(n.link,"_blank")}),n.centerText&&(a.querySelector("p").style.width="100%",a.querySelector("p").style.textAlign="center"),e.$modalContent[0].insertBefore(a,e.$modalFooter[0])}})),i({key:"crafting_in_decks",name:"Crafting in Decks Page",note:"An icon on craftable cards will appear. Clicking it will display a menu for crafting. Uncrafting in the Decks page is not supported.",type:"boolean",refresh:!0,default:!0}).value()&&window.underscript.onPage("Decks")&&(window.$.get("/Crafting",{},(function(t){var n=window.$(t).find("#dust");n[0]&&(Pa=Number(n[0].innerHTML)),console.log("DUST",Pa),Pa<underscript.utils.rarity.cost("COMMON",!1)?console.warn("Crafting in Decks page: Insufficient Dust to craft anything. Won't continue forward."):window.$.getJSON("/CraftConfig",{},(function(t){ka=function(t){var n=Ea(t,!1);return t.forEach((e=>{(!Sa.includes(e.rarity)||e.quantity>0)&&xa.push(e)})),e.events.emit.singleton("PrettyCards:DeckCollectionAppendReady"),n}(JSON.parse(t.collection))}))})),e.events.on("Deck:Loaded",(()=>{e.events.on("PrettyCards:DeckCollectionAppendReady",(()=>{for(var e in window.collection=xa,window.decks){window.deckCollections[e]=[];for(var t=0;t<window.collection.length;t++){var n=JSON.parse(JSON.stringify(window.collection[t]));(0===n.typeCard||n.hasOwnProperty("soul")&&n.soul.name===e||window.playground)&&(n.quantity=n.quantity-window.getQuantityInDeck(n,e),window.deckCollections[e].push(n))}}}))})),e.events.on("func:appendCardDeck",(function(e,t){var n=Ta(e.id,e.shiny);if(n){var a='<img style="height:1.6em;" src="/images/icons/dust.png">',r=(n.shiny?'<span class="rainbowText">S</span> ':"")+$.i18n("card-name-"+e.id,1),i=window.$(`<p style="font-size: 1.2em;">${a} ${Pa}</p>`),s=function(e){var t=underscript.utils.rarity.max(e.rarity)-e.quantity;if(t<=0)return 0;var n=underscript.utils.rarity.cost(e.rarity,e.shiny);return Pa<n*t&&(t=Math.floor(Pa/n)),t}(n);if(s<=0)return;var o=window.$(`<button class="btn btn-success">Craft One (-${underscript.utils.rarity.cost(n.rarity,n.shiny)} ${a})</button>`),d=window.$(`<button class="btn btn-success" style="margin-left: 0.6em">Craft x${s} (-${underscript.utils.rarity.cost(n.rarity,n.shiny)*s} ${a})</button>`);o.click((()=>{o.prop("disabled",!0),d.prop("disabled",!0),function(e){$a(e.id,e.shiny).then((t=>{Pa=t.dust,e.quantity++,ka=Ea(ka),Da(e.id,e.shiny),window.applyFilters(),window.showPage(window.currentPage),window.BootstrapDialog.closeAll();var n=(e.shiny?'<span class="rainbowText">S</span> ':"")+$.i18n("card-name-"+e.id,1);window.BootstrapDialog.show({type:window.BootstrapDialog.TYPE_SUCCESS,title:$.i18n("crafting-title",n),message:$.i18n("crafting-craft-success",n),buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})})).catch((e=>{e instanceof Error?console.error(e):(window.BootstrapDialog.closeAll(),window.BootstrapDialog.show({type:window.BootstrapDialog.TYPE_DANGER,title:window.$.i18n("dialog-error"),message:Na(e),buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]}))}))}(n)})),d.click((()=>{o.prop("disabled",!0),d.prop("disabled",!0),function(e,t){for(var n=[],a=t,r=0,i=0;i<t;i++)$a(e.id,e.shiny).then((t=>{r++,a--,Pa=t.dust,e.quantity++,Ia(r,n,a,e)})).catch((t=>{t instanceof Error?console.error(t):(a--,n.push(Na(t)),Ia(r,n,a,e))}))}(n,s)}));var c=$("<div></div>");c.append(i),c.append(o),s>1&&c.append(d),C.addCustomSimpleTextIconToCard2(t,"/images/icons/dust.png","Craft!",c,window.$.i18n("crafting-title",r))}})));var Pa=0,ka=[],xa=[],Sa=["TOKEN","DETERMINATION"];function Aa(e){var t=e.rarity;return!Sa.includes(t)&&e.quantity<underscript.utils.rarity.max(t)&&Pa>=underscript.utils.rarity.cost(t,e.shiny)}function Ea(e,t=!0){for(var n=[],a=0;a<e.length;a++){var r=e[a];Aa(r)&&(t?n.push(r):n.push({shiny:r.shiny,quantity:r.quantity,id:r.id,rarity:r.rarity}))}return n}function Ta(e,t=!1){for(var n=0;n<ka.length;n++){var a=ka[n];if(a.id===e&&a.shiny===t)return a}return null}function Ia(e,t=[],n=0,a){if(!(n>0)){ka=Ea(ka),Da(a.id,a.shiny,e),window.applyFilters(),window.showPage(window.currentPage),window.BootstrapDialog.closeAll();var r=e+t.length,i=e>0?window.BootstrapDialog.TYPE_SUCCESS:window.BootstrapDialog.TYPE_DANGER,s=`<p style="font-size:1.2em" class="green">${e}/${r} ${(a.shiny?'<span class="rainbowText">S</span> ':"")+$.i18n("card-name-"+a.id,r)} Crafted successfully!</p>`;t.length>0&&(s+=`<h2 class="red">Errors: </h2><ul>${"<li>"+t.join("</li><li>")+"</li>"}</ul>`),window.BootstrapDialog.show({type:i,title:"Multi Craft Results",message:s,buttons:[{label:$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}}function $a(e,t){var n=`{"action": "craft", "idCard": ${e}, "isShiny": ${t?"true":"false"}}`;return new Promise(((e,t)=>{window.$.post("/CraftConfig",n,(function(n){"success"===n.status?e(n):t(n)}))}))}function Da(e,t,n=1){var a=[window.collection];for(var r in deckCollections)a.push(deckCollections[r]);a.forEach((a=>{for(var r=0;r<a.length;r++){var i=a[r];if(i.id===e&&i.shiny===t){i.quantity+=n;break}}}))}function Na(e){return"errorMaintenance"===e.status?translateFromServerJson(e.message):"An unexpected error occurred!"}t.test_SearchInCraftableCollection=Ta;var La=n(7320),Ra=n.n(La);function Ma(e){return Array.isArray?Array.isArray(e):"[object Array]"===Ua(e)}function Oa(e){return"string"==typeof e}function Ba(e){return"number"==typeof e}function Fa(e){return"object"==typeof e}function Ha(e){return null!=e}function Ga(e){return!e.trim().length}function Ua(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const ja=e=>`Missing ${e} property in key`,za=e=>`Property 'weight' in key '${e}' must be a positive integer`,Wa=Object.prototype.hasOwnProperty;class Ka{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=Va(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Va(e){let t=null,n=null,a=null,r=1,i=null;if(Oa(e)||Ma(e))a=e,t=qa(e),n=Ya(e);else{if(!Wa.call(e,"name"))throw new Error(ja("name"));const s=e.name;if(a=s,Wa.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(za(s));t=qa(s),n=Ya(s),i=e.getFn}return{path:t,id:n,weight:r,src:a,getFn:i}}function qa(e){return Ma(e)?e:e.split(".")}function Ya(e){return Ma(e)?e.join("."):e}const Ja={useExtendedSearch:!1,getFn:function(e,t){let n=[],a=!1;const r=(e,t,i)=>{if(Ha(e))if(t[i]){const s=e[t[i]];if(!Ha(s))return;if(i===t.length-1&&(Oa(s)||Ba(s)||function(e){return!0===e||!1===e||function(e){return Fa(e)&&null!==e}(e)&&"[object Boolean]"==Ua(e)}(s)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(s));else if(Ma(s)){a=!0;for(let e=0,n=s.length;e<n;e+=1)r(s[e],t,i+1)}else t.length&&r(s,t,i+1)}else n.push(e)};return r(e,Oa(t)?t.split("."):t,0),a?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Xa={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...Ja};const Qa=/[^ ]+/g;class Za{constructor({getFn:e=Xa.getFn,fieldNormWeight:t=Xa.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,a=Math.pow(10,t);return{get(t){const r=t.match(Qa).length;if(n.has(r))return n.get(r);const i=1/Math.pow(r,.5*e),s=parseFloat(Math.round(i*a)/a);return n.set(r,s),s},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Oa(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();Oa(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Ha(e)||Ga(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,a)=>{let r=t.getFn?t.getFn(e):this.getFn(e,t.path);if(Ha(r))if(Ma(r)){let e=[];const t=[{nestedArrIndex:-1,value:r}];for(;t.length;){const{nestedArrIndex:n,value:a}=t.pop();if(Ha(a))if(Oa(a)&&!Ga(a)){let t={v:a,i:n,n:this.norm.get(a)};e.push(t)}else Ma(a)&&a.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[a]=e}else if(Oa(r)&&!Ga(r)){let e={v:r,n:this.norm.get(r)};n.$[a]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function er(e,t,{getFn:n=Xa.getFn,fieldNormWeight:a=Xa.fieldNormWeight}={}){const r=new Za({getFn:n,fieldNormWeight:a});return r.setKeys(e.map(Va)),r.setSources(t),r.create(),r}function tr(e,{errors:t=0,currentLocation:n=0,expectedLocation:a=0,distance:r=Xa.distance,ignoreLocation:i=Xa.ignoreLocation}={}){const s=t/e.length;if(i)return s;const o=Math.abs(a-n);return r?s+o/r:o?1:s}const nr=32;function ar(e){let t={};for(let n=0,a=e.length;n<a;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<a-n-1}return t}class rr{constructor(e,{location:t=Xa.location,threshold:n=Xa.threshold,distance:a=Xa.distance,includeMatches:r=Xa.includeMatches,findAllMatches:i=Xa.findAllMatches,minMatchCharLength:s=Xa.minMatchCharLength,isCaseSensitive:o=Xa.isCaseSensitive,ignoreLocation:d=Xa.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:a,includeMatches:r,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:o,ignoreLocation:d},this.pattern=o?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:ar(e),startIndex:t})},l=this.pattern.length;if(l>nr){let e=0;const t=l%nr,n=l-t;for(;e<n;)c(this.pattern.substr(e,nr),e),e+=nr;if(t){const e=l-nr;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:a,distance:r,threshold:i,findAllMatches:s,minMatchCharLength:o,ignoreLocation:d}=this.options;let c=[],l=0,u=!1;this.chunks.forEach((({pattern:t,alphabet:p,startIndex:h})=>{const{isMatch:f,score:m,indices:g}=function(e,t,n,{location:a=Xa.location,distance:r=Xa.distance,threshold:i=Xa.threshold,findAllMatches:s=Xa.findAllMatches,minMatchCharLength:o=Xa.minMatchCharLength,includeMatches:d=Xa.includeMatches,ignoreLocation:c=Xa.ignoreLocation}={}){if(t.length>nr)throw new Error("Pattern length exceeds max of 32.");const l=t.length,u=e.length,p=Math.max(0,Math.min(a,u));let h=i,f=p;const m=o>1||d,g=m?Array(u):[];let y;for(;(y=e.indexOf(t,f))>-1;){let e=tr(t,{currentLocation:y,expectedLocation:p,distance:r,ignoreLocation:c});if(h=Math.min(e,h),f=y+l,m){let e=0;for(;e<l;)g[y+e]=1,e+=1}}f=-1;let w=[],C=1,v=l+u;const _=1<<l-1;for(let a=0;a<l;a+=1){let i=0,o=v;for(;i<o;)tr(t,{errors:a,currentLocation:p+o,expectedLocation:p,distance:r,ignoreLocation:c})<=h?i=o:v=o,o=Math.floor((v-i)/2+i);v=o;let d=Math.max(1,p-o+1),y=s?u:Math.min(p+o,u)+l,b=Array(y+2);b[y+1]=(1<<a)-1;for(let i=y;i>=d;i-=1){let s=i-1,o=n[e.charAt(s)];if(m&&(g[s]=+!!o),b[i]=(b[i+1]<<1|1)&o,a&&(b[i]|=(w[i+1]|w[i])<<1|1|w[i+1]),b[i]&_&&(C=tr(t,{errors:a,currentLocation:s,expectedLocation:p,distance:r,ignoreLocation:c}),C<=h)){if(h=C,f=s,f<=p)break;d=Math.max(1,2*p-f)}}if(tr(t,{errors:a+1,currentLocation:p,expectedLocation:p,distance:r,ignoreLocation:c})>h)break;w=b}const b={isMatch:f>=0,score:Math.max(.001,C)};if(m){const e=function(e=[],t=Xa.minMatchCharLength){let n=[],a=-1,r=-1,i=0;for(let s=e.length;i<s;i+=1){let s=e[i];s&&-1===a?a=i:s||-1===a||(r=i-1,r-a+1>=t&&n.push([a,r]),a=-1)}return e[i-1]&&i-a>=t&&n.push([a,i-1]),n}(g,o);e.length?d&&(b.indices=e):b.isMatch=!1}return b}(e,t,p,{location:a+h,distance:r,threshold:i,findAllMatches:s,minMatchCharLength:o,includeMatches:n,ignoreLocation:d});f&&(u=!0),l+=m,f&&g&&(c=[...c,...g])}));let p={isMatch:u,score:u?l/this.chunks.length:1};return u&&n&&(p.indices=c),p}}class ir{constructor(e){this.pattern=e}static isMultiMatch(e){return sr(e,this.multiRegex)}static isSingleMatch(e){return sr(e,this.singleRegex)}search(){}}function sr(e,t){const n=e.match(t);return n?n[1]:null}class or extends ir{constructor(e,{location:t=Xa.location,threshold:n=Xa.threshold,distance:a=Xa.distance,includeMatches:r=Xa.includeMatches,findAllMatches:i=Xa.findAllMatches,minMatchCharLength:s=Xa.minMatchCharLength,isCaseSensitive:o=Xa.isCaseSensitive,ignoreLocation:d=Xa.ignoreLocation}={}){super(e),this._bitapSearch=new rr(e,{location:t,threshold:n,distance:a,includeMatches:r,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:o,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class dr extends ir{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const a=[],r=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+r,a.push([t,n-1]);const i=!!a.length;return{isMatch:i,score:i?0:1,indices:a}}}const cr=[class extends ir{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},dr,class extends ir{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends ir{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends ir{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends ir{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends ir{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},or],lr=cr.length,ur=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,pr=new Set([or.type,dr.type]);const hr=[];function fr(e,t){for(let n=0,a=hr.length;n<a;n+=1){let a=hr[n];if(a.condition(e,t))return new a(e,t)}return new rr(e,t)}const mr="$and",gr="$path",yr=e=>!(!e[mr]&&!e.$or),wr=e=>({[mr]:Object.keys(e).map((t=>({[t]:e[t]})))});function Cr(e,t,{auto:n=!0}={}){const a=e=>{let r=Object.keys(e);const i=(e=>!!e[gr])(e);if(!i&&r.length>1&&!yr(e))return a(wr(e));if((e=>!Ma(e)&&Fa(e)&&!yr(e))(e)){const a=i?e[gr]:r[0],s=i?e.$val:e[a];if(!Oa(s))throw new Error((e=>`Invalid value for key ${e}`)(a));const o={keyId:Ya(a),pattern:s};return n&&(o.searcher=fr(s,t)),o}let s={children:[],operator:r[0]};return r.forEach((t=>{const n=e[t];Ma(n)&&n.forEach((e=>{s.children.push(a(e))}))})),s};return yr(e)||(e=wr(e)),a(e)}function vr(e,t){const n=e.matches;t.matches=[],Ha(n)&&n.forEach((e=>{if(!Ha(e.indices)||!e.indices.length)return;const{indices:n,value:a}=e;let r={indices:n,value:a};e.key&&(r.key=e.key.src),e.idx>-1&&(r.refIndex=e.idx),t.matches.push(r)}))}function _r(e,t){t.score=e.score}class br{constructor(e,t={},n){this.options={...Xa,...t},this.options.useExtendedSearch,this._keyStore=new Ka(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Za))throw new Error("Incorrect 'index' type");this._myIndex=t||er(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ha(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,a=this._docs.length;n<a;n+=1){const r=this._docs[n];e(r,n)&&(this.removeAt(n),n-=1,a-=1,t.push(r))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:r,sortFn:i,ignoreFieldNorm:s}=this.options;let o=Oa(e)?Oa(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=Xa.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:a,score:r})=>{const i=e?e.weight:null;n*=Math.pow(0===r&&i?Number.EPSILON:r,(i||1)*(t?1:a))})),e.score=n}))}(o,{ignoreFieldNorm:s}),r&&o.sort(i),Ba(t)&&t>-1&&(o=o.slice(0,t)),function(e,t,{includeMatches:n=Xa.includeMatches,includeScore:a=Xa.includeScore}={}){const r=[];return n&&r.push(vr),a&&r.push(_r),e.map((e=>{const{idx:n}=e,a={item:t[n],refIndex:n};return r.length&&r.forEach((t=>{t(e,a)})),a}))}(o,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(e){const t=fr(e,this.options),{records:n}=this._myIndex,a=[];return n.forEach((({v:e,i:n,n:r})=>{if(!Ha(e))return;const{isMatch:i,score:s,indices:o}=t.searchIn(e);i&&a.push({item:e,idx:n,matches:[{score:s,value:e,norm:r,indices:o}]})})),a}_searchLogical(e){const t=Cr(e,this.options),n=(e,t,a)=>{if(!e.children){const{keyId:n,searcher:r}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:r});return i&&i.length?[{idx:a,item:t,matches:i}]:[]}const r=[];for(let i=0,s=e.children.length;i<s;i+=1){const s=e.children[i],o=n(s,t,a);if(o.length)r.push(...o);else if(e.operator===mr)return[]}return r},a=this._myIndex.records,r={},i=[];return a.forEach((({$:e,i:a})=>{if(Ha(e)){let s=n(t,e,a);s.length&&(r[a]||(r[a]={idx:a,item:e,matches:[]},i.push(r[a])),s.forEach((({matches:e})=>{r[a].matches.push(...e)})))}})),i}_searchObjectList(e){const t=fr(e,this.options),{keys:n,records:a}=this._myIndex,r=[];return a.forEach((({$:e,i:a})=>{if(!Ha(e))return;let i=[];n.forEach(((n,a)=>{i.push(...this._findMatches({key:n,value:e[a],searcher:t}))})),i.length&&r.push({idx:a,item:e,matches:i})})),r}_findMatches({key:e,value:t,searcher:n}){if(!Ha(t))return[];let a=[];if(Ma(t))t.forEach((({v:t,i:r,n:i})=>{if(!Ha(t))return;const{isMatch:s,score:o,indices:d}=n.searchIn(t);s&&a.push({score:o,key:e,value:t,idx:r,norm:i,indices:d})}));else{const{v:r,n:i}=t,{isMatch:s,score:o,indices:d}=n.searchIn(r);s&&a.push({score:o,key:e,value:r,norm:i,indices:d})}return a}}br.version="6.6.2",br.createIndex=er,br.parseIndex=function(e,{getFn:t=Xa.getFn,fieldNormWeight:n=Xa.fieldNormWeight}={}){const{keys:a,records:r}=e,i=new Za({getFn:t,fieldNormWeight:n});return i.setKeys(a),i.setIndexRecords(r),i},br.config=Xa,br.parseQuery=Cr,function(...e){hr.push(...e)}(class{constructor(e,{isCaseSensitive:t=Xa.isCaseSensitive,includeMatches:n=Xa.includeMatches,minMatchCharLength:a=Xa.minMatchCharLength,ignoreLocation:r=Xa.ignoreLocation,findAllMatches:i=Xa.findAllMatches,location:s=Xa.location,threshold:o=Xa.threshold,distance:d=Xa.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:a,findAllMatches:i,ignoreLocation:r,location:s,threshold:o,distance:d},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(ur).filter((e=>e&&!!e.trim())),a=[];for(let e=0,r=n.length;e<r;e+=1){const r=n[e];let i=!1,s=-1;for(;!i&&++s<lr;){const e=cr[s];let n=e.isMultiMatch(r);n&&(a.push(new e(n,t)),i=!0)}if(!i)for(s=-1;++s<lr;){const e=cr[s];let n=e.isSingleMatch(r);if(n){a.push(new e(n,t));break}}}return a}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a}=this.options;e=a?e:e.toLowerCase();let r=0,i=[],s=0;for(let a=0,o=t.length;a<o;a+=1){const o=t[a];i.length=0,r=0;for(let t=0,a=o.length;t<a;t+=1){const a=o[t],{isMatch:d,indices:c,score:l}=a.search(e);if(!d){s=0,r=0,i.length=0;break}if(r+=1,s+=l,n){const e=a.constructor.type;pr.has(e)?i=[...i,...c]:i.push(c)}}if(r){let e={isMatch:!0,score:s/r};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}),c(n(1700).Z);const Pr=["DETERMINATION","BRAVERY","JUSTICE","KINDNESS","PATIENCE","INTEGRITY","PERSEVERANCE","MONSTER"];function kr(e="https://media.discordapp.net/attachments/904110195867803669/1110045770679337030/zkVln3lpvtLAAAAAElFTkSuQmCC.png?width=225&height=740"){Ra().recognize(e,"eng",{}).then((({data:{text:e}})=>{var t;window.showDeckLoad((t=function(e){var t;console.log(e);for(var n=[],a=[],r=e.split("\n"),i=0;i<r.length;i++){var s=r[i];if(s&&!(s.length<=0)){var o;if(!t&&(o=new br(Pr).search(s)).length>0){t=o[0].item;continue}if((n.length<1||1==n.length&&"LEGENDARY"!=n[0].rarity)&&(o=new br(ge.artifacts,{keys:["name"]}).search(s)).length>0){n.push(o[0].item);continue}(o=new br(window.allCards,{keys:["name"]}).search(s)).length>0?a.push(o[0].item):console.log("Could not find any matches for line (ignoring): ",s)}}return console.log("DECK: ",t,n,a),{soul:t,artifacts:n,cards:a}}(e),{soul:t.soul,artifactIds:t.artifacts.map((e=>e.id)),cardIds:t.cards.map((e=>e.fixedId||e.id))}))}))}t.testDeckImageImport=kr,t.testDeckImageImportDialogue=function(){var e=window.$('<div class="PrettyCards_DeckImageImport_Parent">\n        <p1 class="gray">Note: The feature is far from perfect, and some things may be missing from the imported deck. I apologize for the inconvenience, but that\'s just how image recognition is sometimes.</p1>\n        <input id="PrettyCards_DeckImageImport_File" class="PrettyCards_Hidden" type="file" accept="image/*">\n        <label for="PrettyCards_DeckImageImport_File" class="PrettyCards_DeckImageImport_FileBtnFancy">Upload Image</label>\n        <p>. . . Or enter an image URL:</p><input type="text" id="PrettyCards_DeckImageImport_ImageLink" class="form-control">\n        <p class="red" id="PrettyCards_DeckImageImport_Status">\n        </div>'),t=e.find("#PrettyCards_DeckImageImport_Status")[0];function n(e,n){t.innerHTML=e,t.className=n}function a(e){n(e,"red")}e.find("#PrettyCards_DeckImageImport_File").change((function(e){var t=e.target.files,n=t[0];if(n.type.startsWith("image")){var r=new FileReader;r.onload=function(e){var t=e.target.result;C.isImgUrl(t).catch((()=>{a("The uploaded file is not an image! Please choose a deck image file and try again!")})).then((()=>{kr(t)}))},r.readAsDataURL(n),console.log("A file has been selected.",t)}else a("The uploaded file is not an image! Please choose a deck image file and try again!")})),e.find("#PrettyCards_DeckImageImport_ImageLink").keyup((function(e){var t=e.target.value;!t||t.length<=0||C.isImgUrl(t).catch((()=>{a("Not valid image URL!")})).then((()=>{n("Valid image URL!",""),kr(t)}))})),BootstrapDialog.show({title:"Deck Image Import",message:e,buttons:[{label:window.$.i18n("dialog-cancel"),cssClass:"btn-danger",action:function(e){e.close()}}]})};class xr{constructor(){this.displayName="Base",this.description="This should not be visible!",this.packs_data2={}}terribleDropRatesButtonHTML(){return`<span style="color: gray;border: 1px dotted gray;padding: 5px;background-color: black;position: absolute;top: 0em;left: 5em;font-size: 2em;" onclick="showDropRates();" class="pointer" data-i18n="[html]packs-drop-rates">${window.$.i18n("packs-drop-rates")}</span>`}pageAdditions(e){for(var t=this.terribleDropRatesButtonHTML()+'<div class="PrettyCards_PacksRow">',n=0;n<e.length;n++)t+=`<div class="PrettyCards_PackCell" data-packid="${e[n].code_id}"></div>`,n%3==2&&n!=e.length-1&&(t+='</div><div class="PrettyCards_PackSpacer"></div><div class="PrettyCards_PacksRow">');return t+'</div><div class="PrettyCards_PackSpacer"></div>'}generateBuyRow(e){return`\n\t\t\t<input type="number" class="PrettyCards_PackBuyCount" data-packid="${e.code_id}" value="1" min="1" pattern="[0-9]">\n\t\t\tx <button class="PrettyCards_PackGBuy btn-primary" data-packid="${e.code_id}">${window.$.i18n("pc-packs-buy")} (<span class="PrettyCards_PackGPrice" data-packid="${e.code_id}">${e.g_cost}</span> <img src="images/icons/gold.png" class="height-16">)</button>\n\t\t\t<button class="PrettyCards_PackUcpBuy btn-primary" data-packid="${e.code_id}">${window.$.i18n("pc-packs-buy")} (<span class="ucp PrettyCards_PackUcpPrice" data-packid="${e.code_id}">${e.ucp_cost}</span> UCP)</button>\n\t\t`}generateOpenRow(e){return`\n\t\t\t<input type="number" class="PrettyCards_PackOpenCount" data-packid="${e.code_id}" value="1" min="1" pattern="[0-9]">\n\t\t\tx <button class="PrettyCards_PackOpen btn-primary" data-packid="${e.code_id}">${window.$.i18n("pc-packs-open")} <span class="PrettyCards_PackOpenCountButton" data-packid="${e.code_id}">${Math.min(e.amount,1)}</span></button>\n\t\t`}generatePack(e){var t=e.does_exist&&e.g_cost>-1?this.generateBuyRow(e):window.$.i18n("pc-packs-cannotbuy"),n=e.does_exist?this.generateOpenRow(e):window.$.i18n("pc-packs-cannotopen");return`\n\t\t<div class="PrettyCards_PackContainer">\n\t\t\t<div class="PrettyCards_FloatingPack">\n\t\t\t\t<div class="PrettyCards_FloatingPackImage" style="background-image: url(${C.asset("img/Packs/"+e.image)})">\n\t\t\t\t\t<img src="${C.asset("img/Packs/UndertalePack.png")}" class="PrettyCards_InvisiblePack">\n\t\t\t\t\t<div class="PrettyCards_PackAmount">${e.amount}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="PrettyCards_PackText">\n\t\t\t\t<div class="PrettyCards_PackName">${window.$.i18n(e.name)}</div>\n\t\t\t\t<div class="PrettyCards_PackDescription">${window.$.i18n(e.description)}</div>\n\t\t\t\t<div class="PrettyCards_PackBuy">${t}</div>\n\t\t\t\t<div class="PrettyCards_PackOpen">${n}</div>\n\t\t\t</div>\n\t\t</div>\n\t\t`}sanitizeNumberInput(e){var t=e.value||"1";t=(t=(t=t.replace("-","")).replace(",","")).replace(".",""),e.value=t}changePrices(e,t){if(NaN!=(t=Number(t))){var n=this.packs_data2[e];n.g_buy_count=Math.min(t,Math.floor(ie.gold/n.g_cost)),n.ucp_buy_count=Math.min(t,Math.floor(ie.ucp/n.ucp_cost)),document.querySelector(".PrettyCards_PackGPrice[data-packid="+e+"]").innerHTML=n.g_buy_count*n.g_cost,document.querySelector(".PrettyCards_PackUcpPrice[data-packid="+e+"]").innerHTML=n.ucp_buy_count*n.ucp_cost}}changePackCountButton(e,t){if(NaN!=(t=Number(t))){var n=this.packs_data2[e];n.open_count=Math.min(t,n.amount),document.querySelector(".PrettyCards_PackOpenCountButton[data-packid="+e+"]").innerHTML=n.open_count}}onPackMouseOver(e){e.currentTarget.getAttribute("data-packid")}onPackMouseLeave(e){e.currentTarget.getAttribute("data-packid")}onPackOpenCountChange(e){this.sanitizeNumberInput(e.target),this.changePackCountButton(e.target.getAttribute("data-packid"),e.target.value)}onPackBuyCountChange(e){this.sanitizeNumberInput(e.target),this.changePrices(e.target.getAttribute("data-packid"),e.target.value)}onPackGBuyClick(e){var t=this.packs_data2[e.target.getAttribute("data-packid")],n=Math.floor(ie.gold/t.g_cost);t.g_buy_count>n&&(t.g_buy_count=n);var a=t.code_id;a=a.substring(0,a.length-4),underscript.buyPacks(t.g_buy_count,{type:a,gold:!0}),t.amount+=t.g_buy_count,this.updatePackCount(t.code_id)}onPackUcpBuyClick(e){const t=this;var n=this.packs_data2[e.target.getAttribute("data-packid")],a=Math.floor(ie.ucp/n.ucp_cost);n.ucp_buy_count>a&&(n.ucp_buy_count=a),window.BootstrapDialog.show({title:"Buy packs with UCP?",message:$.i18n(`Buy ${n.ucp_buy_count} pack${n.ucp_buy_count>1?"s":""} for {{UCP:${n.ucp_buy_count*n.ucp_cost}}} UCP?`),buttons:[{label:$.i18n("dialog-continue"),cssClass:"btn-success",action(e){t.onPackUcpBuy(n),e.close()}},{label:$.i18n("dialog-cancel"),cssClass:"btn-danger",action(e){e.close()}}]})}onPackUcpBuy(e){var t=e.code_id;t=t.substring(0,t.length-4),underscript.buyPacks(e.ucp_buy_count,{type:t,gold:!1}),e.amount+=e.ucp_buy_count,this.updatePackCount(e.code_id)}onPackOpenClick(e){if(!underscript.openingPacks()&&!document.querySelector(".PrettyCards_PackOpenContent .PrettyCards_AnimationPack")){var t=this.packs_data2[e.target.getAttribute("data-packid")];if(!(t.amount<=0)){t.open_count>t.amount&&(t.open_count=t.amount);var n=t.code_id;n=n.substring(0,n.length-4),window.PrettyCards_pack_being_opened=t,underscript.openPacks(t.open_count,n)}}}updatePackCount(e){document.querySelector(".PrettyCards_PackCell[data-packid="+e+"] .PrettyCards_PackAmount").innerHTML=this.packs_data2[e].amount}onPackGeneration(e,t){t.addEventListener("mouseover",this.onPackMouseOver),t.addEventListener("mouseleave",this.onPackMouseLeave),$(".PrettyCards_PackCell[data-packid="+e.code_id+"] .PrettyCards_FloatingPack").css("animation-delay",1.5*-Math.random()+"s"),e.does_exist&&(document.querySelector(".PrettyCards_PackOpenCount[data-packid="+e.code_id+"]").onchange=this.onPackOpenCountChange.bind(this),document.querySelector(".PrettyCards_PackOpen[data-packid="+e.code_id+"]").onclick=this.onPackOpenClick.bind(this),e.g_cost>-1&&(document.querySelector(".PrettyCards_PackBuyCount[data-packid="+e.code_id+"]").onchange=this.onPackBuyCountChange.bind(this),document.querySelector(".PrettyCards_PackGBuy[data-packid="+e.code_id+"]").onclick=this.onPackGBuyClick.bind(this),document.querySelector(".PrettyCards_PackUcpBuy[data-packid="+e.code_id+"]").onclick=this.onPackUcpBuyClick.bind(this)))}generatePagePack(e){var t=this.generatePack(e),n=document.querySelector(".PrettyCards_PackCell[data-packid="+e.code_id+"]");n.innerHTML=t,this.onPackGeneration(e,n)}generatePage(e,t){this.packs_data2=t,document.getElementById("PrettyCards_MainContent").innerHTML=this.pageAdditions(e);for(var n=0;n<e.length;n++)this.generatePagePack(e[n])}}var Sr=new class extends xr{constructor(){super(),this.displayName="Default",this.description="The default theme. Looks quite ugly."}};class Ar{constructor(e,t,n=!0,a=!0){if(this.baseScale=1,this.container=document.createElement("DIV"),this.container.className="PrettyCards_FlippableCardContainer",this.flipContainer=document.createElement("DIV"),this.flipContainer.className="PrettyCards_FlipContainer",this.flipContainer.style="transform: rotateY(180deg);",this.container.appendChild(this.flipContainer),n&&(e=function(e){var t=function(e){for(var t=0;t<he.length;t++){var n=he[t];if(n.cardId==e&&n.active)return n}return null}(e.id);return null!==t&&(e.image=t.image,e.typeSkin=t.typeSkin),e.frameSkinName=fe,e}(e)),window.appendCard(e,o()(this.flipContainer)),this.front=this.flipContainer.children[0],this.front.className+=" PrettyCards_CardFront",a){var r=`<div class="cardQuantity">${e.quantity>0?'<span class="nb">x'+e.quantity+"</span>":""} ${e.quantityShiny>0?'<span class="nb_shiny rainbowText">x'+e.quantityShiny+"</span>":""}</div>`;o()(this.front).append(r),o()(this.front).css("height","275px")}const i="url(/images/cardBacks/"+e.extension+"Card"+e.rarity+".png)",s="url(/images/cardBacks/"+e.extension+"CardNORMAL.png)";this.back=document.createElement("DIV"),this.back.style.backgroundImage=t?s:i,this.back.className="PrettyCards_CardBack",t&&o()(this.container).hover(function(e){this.back.style.backgroundImage=i}.bind(this),function(e){this.back.style.backgroundImage=s}.bind(this)),this.flipContainer.appendChild(this.back),this.isShiny=e.shiny,this.shinySlot=this.front.querySelector(".shinySlot"),this.card_data=e,this.handleRotation(180)}appendTo(e){e.appendChild(this.container)}moveTo(e,t){this.container.style.top=t+"px",this.container.style.left=e+"px"}setBaseScale(e){this.container.style.transform="scale("+e+")"}glideTo(e,t,n,a){o()(this.container).animate({top:t+"px",left:e+"px"},{duration:n||1e3,easing:"swing",complete:a})}flipToFace(e){o()(this.flipContainer).animateRotate(180,0,e,"swing",this.handleRotation.bind(this))}flipToBack(e){o()(this.flipContainer).animateRotate(0,180,e,"swing",this.handleRotation.bind(this))}scaleTo(e,t){this.container.style["transition-duration"]=t/1e3+"s",this.container.style.transform="translate(-50%, -50%) scale("+e+")"}makeIntoSummaryCard(){this.container.style.position="static",this.container.style.display="inline-block",this.container.style.transform="none"}handleRotation(e){e<90?(this.front.style.opacity="1",this.back.style.opacity="0",this.isShiny&&(this.shinySlot.style["mix-blend-mode"]="multiply")):(this.front.style.opacity="0",this.back.style.opacity="1",this.isShiny&&(this.shinySlot.style["mix-blend-mode"]="normal"))}playJingle(){if("LEGENDARY"==this.card_data.rarity||"DETERMINATION"==this.card_data.rarity){var e="/musics/cards/"+this.card_data.name.split(" ").join("_")+".ogg",t=new window.Audio(e);t.volume=.4,t.play(),this.silent=!0}}}class Er{constructor(){this.clicks_to_break=1,this.current_click=0,this.pack_data,this.card_data,this.cards=[],this.flipCards=[],this.displayName="Base",this.description="You shouldn't be able to see this!",this.hasSkipButton=!1,this.audio=new Audio}OnPackMoveBegin(e,t,n,a){this.pack_data=n,this.AnalyzeCards(a),this.flipCards=[],this.current_click=0,this.cardsSpawned=!1,this.glideTimeouts=[];var r=o()("#PrettyCards_PackOpenContent");r.css("display","block"),r.css("backgroundColor","rgba(0,0,0,0)"),window.$("#PrettyCards_PackOpenContent").animate({backgroundColor:"rgba(0,0,0,1)"},1e3,"swing",(function(){})),o()(".PrettyCards_AnimationPack").animate({top:t+"px",left:e+"px"},1e3,"swing",this.OnPackMoveFinish.bind(this)),this.hasSkipButton&&(this.button=o()(`<button class="btn btn-primary PrettyCards_PacksSkipButton">${window.$.i18n("pc-navigate-skip")}</button>`),r.append(this.button),this.button.click(function(e){e.stopPropagation(),this.button.remove(),this.onSkipButtonPressed(e)}.bind(this)))}OnPackMoveFinish(){o()(".PrettyCards_AnimationPack").addClass("PrettyCards_Floating"),o()("#PrettyCards_PackOpenContent").click(this.OnBeforeBreakClick.bind(this))}OnBeforeBreakClick(){this.current_click++,this.current_click>=this.clicks_to_break?(o()("#PrettyCards_PackOpenContent").unbind("click"),this.OnPackBreakBegin()):(o()(".PrettyCards_AnimationPack").removeClass("PrettyCards_Floating"),window.$(".PrettyCards_AnimationPack").effect("shake"))}OnPackBreakBegin(){this.SpawnCards();var e=this.RipPackHorizontally();this.up=e[0],this.down=e[1],o()(this.up).animate({top:"-=30%",opacity:"0"},800,"swing"),o()(this.down).animate({top:"+=30%",opacity:"0"},800,"swing",this.OnPackBreakFinish.bind(this))}OnPackBreakFinish(){this.up.remove(),this.down.remove(),this.cards_finished_gliding=0;const e=1500/this.flipCards.length,t=this.OnCardFinishedGliding.bind(this);for(var n=0;n<this.flipCards.length;n++){const a=this.flipCards[n];this.glideTimeouts.push(setTimeout((function(){a.glideTo(200,window.innerHeight/2,500,t)}),(n+1)*e))}}cancelGlideTimeouts(){this.glideTimeouts.forEach((function(e){clearTimeout(e)}))}OnCardFinishedGliding(){this.cards_finished_gliding++,this.cards_finished_gliding>=this.flipCards.length&&this.OnFinishedGliding()}OnFinishedGliding(){this.card_viewed=-1,o()("#PrettyCards_PackOpenContent").click(this.OnNextCard.bind(this)),this.OnNextCard()}OnNextCard(){if(!(this.card_viewed>=this.flipCards.length)){var e=function(){};this.card_viewed==this.flipCards.length-1&&(e=function(){this.OnCardViewFinish()}),this.card_viewed>=0&&(this.flipCards[this.card_viewed].glideTo(window.innerWidth/2,window.innerHeight+600,500,e.bind(this)),this.flipCards[this.card_viewed].scaleTo(1,500)),this.card_viewed++,this.card_viewed>=this.flipCards.length||(this.flipCards[this.card_viewed].glideTo(window.innerWidth/2,window.innerHeight/2,500),this.flipCards[this.card_viewed].scaleTo(1.5,500),this.flipCards[this.card_viewed].flipToFace(500),this.flipCards[this.card_viewed].playJingle())}}OnCardViewFinish(){o()("#PrettyCards_PackOpenContent").unbind("click"),this.OnCardSummary()}OnCardSummary(){this.button&&this.button.remove();const e=this,t=document.createElement("DIV");t.className="PrettyCards_CardSummary";var n=document.createElement("P");n.innerHTML=window.$.i18n("pc-packs-summary"),n.className="PrettyCards_CardSummaryTitle",t.appendChild(n);for(var a=0;a<this.flipCards.length;a++){var r=this.flipCards[a];r.scaleTo(1,0),r.flipToFace(0),r.appendTo(t),r.makeIntoSummaryCard()}o()("#PrettyCards_PackOpenContent").append(t),o()(t).animate({top:"0px"},{duration:500,easing:"swing",complete:function(){o()(t).click(e.OnExitFade.bind(e))}})}OnExitFade(e){if(!o()(e.target).is(".PrettyCards_CardSummary"))return!0;o()("#PrettyCards_PackOpenContent").animate({opacity:"0"},{duration:1e3,easing:"swing",complete:this.OnExit.bind(this)})}OnExit(){o()("#PrettyCards_PackOpenContent").unbind("click").html("").css("display","none").css("opacity","1")}RipPackHorizontally(){var e=document.getElementsByClassName("PrettyCards_AnimationPack")[0].getBoundingClientRect(),t=document.createElement("DIV");t.className="PrettyCards_RippedPack_Up PrettyCards_RippedPack",t.style.backgroundImage="url("+this.pack_data.image_without_extension+this.pack_data.image_extension+")",t.style.top=window.innerHeight/2-e.height/2+"px",t.style.left=window.innerWidth/2-e.width/2+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(t);var n=document.createElement("DIV");return n.className="PrettyCards_RippedPack_Down PrettyCards_RippedPack",n.style.backgroundImage="url("+this.pack_data.image_without_extension+this.pack_data.image_extension+")",n.style.top=window.innerHeight/2-e.height/2+"px",n.style.left=window.innerWidth/2-e.width/2+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(n),o()(".PrettyCards_AnimationPack").css("opacity",0),[t,n]}RipPackVertically(){var e=document.getElementsByClassName("PrettyCards_AnimationPack")[0].getBoundingClientRect(),t=document.createElement("DIV");t.className="PrettyCards_RippedPack_Left PrettyCards_RippedPack",t.style.backgroundImage="url("+this.pack_data.image_without_extension+this.pack_data.image_extension+")",t.style.top=window.innerHeight/2-e.height/2+"px",t.style.left=window.innerWidth/2-e.width/2+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(t);var n=document.createElement("DIV");return n.className="PrettyCards_RippedPack_Left PrettyCards_RippedPack",n.style.backgroundImage="url("+this.pack_data.image_without_extension+this.pack_data.image_extension+")",n.style.top=window.innerHeight/2-e.height/2+"px",n.style.left=window.innerWidth/2-e.width/2+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(n),o()(".PrettyCards_AnimationPack").css("opacity",0),[t,n]}AnalyzeCards(e){for(var t={},n=0;n<Q.length;n++)t[Q[n]]={};for(n=0;n<e.length;n++){var a=t[(s=e[n]).rarity][s.id];a||(t[s.rarity][s.id]={normal:0,shiny:0,id:s.id},a=t[s.rarity][s.id]),s.shiny?a.shiny+=s.quantity||1:a.normal+=s.quantity||1}for(this.cards=[],n=0;n<Q.length;n++){var r=t[Q[n]];for(var i in r){var s,o=r[i];(s=C.completeCopy(window.getCard(o.id))).quantity=o.normal,s.quantityShiny=o.shiny,o.shiny>0&&(s.shiny=!0),this.cards.push(s)}}}SpawnCards(){this.cardsSpawned=!0;for(var e=this.cards.length-1;e>=0;e--){var t=new Ar(this.cards[e],!1);t.appendTo(document.getElementById("PrettyCards_PackOpenContent")),t.moveTo(window.innerWidth/2,window.innerHeight/2),this.flipCards.unshift(t)}}onSkipButtonPressed(e){}}var Tr=new class extends Er{constructor(){super(),this.displayName="Default",this.description="The default pack open animation. It is very much similar to the one in the previous version.",this.hasSkipButton=!0}onSkipButtonPressed(e){$(".PrettyCards_AnimationPack").stop().remove(),this.up&&(this.up.remove(),this.down.remove()),this.cardsSpawned||this.SpawnCards(),this.cancelGlideTimeouts(),this.OnCardViewFinish()}},Ir=new class extends Er{constructor(){super(),this.displayName="Onu",this.description="For those who like clicking the cards themselves, but still think the original pack opening is a chore."}OnPackBreakFinish(){this.up.remove(),this.down.remove(),this.cards_finished_gliding=0;const e=1500/this.flipCards.length,t=this.OnCardFinishedGliding.bind(this);for(var n=0;n<this.flipCards.length;n++){const a=this.flipCards[n];setTimeout((function(){a.glideTo(window.innerWidth/2,window.innerHeight+600,500,t)}),(n+1)*e)}}OnFinishedGliding(){$("#PrettyCards_PackOpenContent").click(this.OnNextCard.bind(this)),this.OnCardViewFinish();for(var e=0;e<this.flipCards.length;e++){const t=this.flipCards[e];t.flipToBack(0),$(t.container).click((function(){t.flipToFace(500),t.playJingle(),$(t.container).unbind("click")}))}}SpawnCards(){for(var e=this.cards.length-1;e>=0;e--){var t=new Ar(this.cards[e],!0);t.appendTo(document.getElementById("PrettyCards_PackOpenContent")),t.moveTo(window.innerWidth/2,window.innerHeight/2),this.flipCards.unshift(t)}}};e.events.on("openedPacks",(function(e){console.log(e,window.PrettyCards_pack_being_opened),window.PrettyCards_pack_being_opened.amount-=e.count,Gr(a.packs_page_template.value()||Br[0]).updatePackCount(window.PrettyCards_pack_being_opened.code_id),function(e,t){var n=document.createElement("IMG");n.className="PrettyCards_AnimationPack",n.src=e.image;var a=document.querySelector(".PrettyCards_PackCell[data-packid="+e.code_id+"] .PrettyCards_InvisiblePack").getBoundingClientRect();n.style.top=a.top+"px",n.style.left=a.left+"px",n.style.width=a.width+"px",document.getElementById("PrettyCards_PackOpenContent").appendChild(n),$r.OnPackMoveBegin((window.innerWidth-a.width)/2,(window.innerHeight-a.height)/2,e,t)}(window.PrettyCards_pack_being_opened,e.cards),this.canceled=!0}));for(var $r=Tr,Dr=[Tr,Ir],Nr=[],Lr="Select the pack opening animation!",Rr=0;Rr<Dr.length;Rr++)Nr[Rr]=Dr[Rr].displayName,Lr+="<br>"+Dr[Rr].displayName+": "+Dr[Rr].description;function Mr(e,t){$r=function(e){for(var t=0;t<Dr.length;t++)if(Dr[t].displayName==e)return Dr[t];return console.error("Cannot find Pack Open Animation Template with name ",e),null}(e)}i({key:"packs_animation_template",name:"Pack Opening Animation",type:"select",note:Lr,refresh:!0,default:Nr[0],options:Nr,refresh:!1,reset:!0,onChange:Mr,category:"packs"}),Mr(a.packs_animation_template.value()||Nr[0]),c(n(1905).Z);for(var Or=[Sr],Br=[],Fr="Select the look of the Packs Page!",Hr=0;Hr<Or.length;Hr++)Br[Hr]=Or[Hr].displayName,Fr+="<br>"+Or[Hr].displayName+": "+Or[Hr].description;function Gr(e){for(var t=0;t<Or.length;t++)if(Or[t].displayName==e)return Or[t];return console.error("Cannot find Packs Page Template with name ",e),null}function Ur(e,t){Gr(e).generatePage(jr,zr)}i({key:"packs_page_template",name:"Packs Page Template",type:"select",note:Fr,refresh:!0,default:Br[0],options:Br,reset:!0,refresh:!1,onChange:Ur,category:"packs"});var jr=[],zr={};c(n(9225).Z);var Wr=[],Kr=[],Vr=[],qr=[],Yr=[],Jr=[],Xr=[],Qr=["Heal Delivery","Explosion","Sacrifice","Same Fate","Onutrem"],Zr=[Yr,qr,Kr,Vr,Jr,Xr],ei=["pc-skinselect-header-custom","pc-skinselect-header-default","pc-skinselect-header-owned","pc-skinselect-header-notowned",["pc-skinselect-header-april",2022,69],["pc-skinselect-header-april",2023,81]],ti=[{year:2022,list:Jr,ucpCost:69420,id:-69},{year:2023,list:Xr,ucpCost:1997,id:-1997}];function ni(){for(var e=0;e<allCards.length;e++){var t=allCards[e];qr.push({active:!0,authorName:"",cardId:t.id,cardName:t.name,id:-1,image:t.image,name:window.$.i18n(`card-name-${t.id}`,1),owned:!0,typeSkin:0,ucpCost:0,unavailable:!1})}for(e=0;e<Qr.length;e++){var n=Qr[e];qr.push({active:!0,authorName:"",cardId:-1,cardName:n,id:-1,image:n.replaceAll(" ","_"),name:n,owned:!0,typeSkin:0,ucpCost:0,unavailable:!1})}}var ai=!1;class ri{constructor(){this.callback=function(){},this.container=null,this.skinElements=[],this.skins=[],this.searchBar=null}GetSkinsToDisplay(){for(var e=[],t=0;t<Zr.length;t++)e=e.concat(Zr[t]);return e}GetHTML(){this.searchBar=document.createElement("INPUT"),this.searchBar.className="form-control",this.searchBar.setAttribute("type","text"),this.searchBar.placeholder=window.$.i18n("pc-skinselect-search"),$(this.searchBar).keyup(this.ApplyFilters.bind(this));var e=document.createElement("DIV");e.appendChild(this.searchBar);var t=document.createElement("DIV");t.className="PrettyCards_SkinsContainer",e.appendChild(t);for(var n=0;n<Zr.length;n++){var a=Zr[n],r=document.createElement("DIV");r.className="PrettyCards_SkinHeader",r.innerHTML=ei[n];const e=document.createElement("DIV");for(var i=0;i<a.length;i++){const t=a[i];var s=pe(t.image,!0);t.isCustom&&(s=t.image);var o=document.createElement("DIV");o.className="PrettyCards_SkinDiv",o.style.background="url("+s+") no-repeat transparent",o.style.backgroundSize="cover",o.innerHTML='<div class="PrettyCards_SkinText">'+t.name+(""!==t.authorName?'<br><span class="Artist">'+t.authorName+"</span>":"")+"</div>",t.typeSkin>0&&(o.innerHTML+='<div class="PrettyCards_FullSkinPreview"><img src="'+s+'"></div>'),o.onclick=function(){this.callback(t)}.bind(this),this.skinElements.push(o),e.appendChild(o)}r.onclick=function(){$(e).toggle()},t.appendChild(r),t.appendChild(e)}return this.container=e,e}OpenDialogue(){this.container=null,this.skinElements=[],this.skins=[],this.searchBar=null,this.skins=this.GetSkinsToDisplay();var e=this.GetHTML();this.dial=BootstrapDialog.show({title:window.$.i18n("pc-skinselect-title"),size:BootstrapDialog.SIZE_WIDE,closable:!0,closeByBackdrop:!1,message:e,buttons:[{label:window.$.i18n("pc-navigate-nevermind"),cssClass:"btn-primary us-normal",action(e){e.close()}}]})}ApplyFilters(){for(var e=0;e<this.skinElements.length;e++)this.skinElements[e].style.display=this.isRemoved(this.skins[e])?"none":""}isRemoved(e){var t=$(this.searchBar).val().toLowerCase();if(t.length>0){var n="";return n+=$.i18n("card-name-"+e.cardId,1),n+=e.name,n+=e.authorName,0==e.typeSkin?n+="normal":1==e.typeSkin?n+="full":2==e.typeSkin&&(n+="breaking"),!n.toLowerCase().includes(t)}return!1}}window.CardSkinSelector=ri;var ii,si=window.$,oi=new Ee,di=new ri,ci=document.createElement("INPUT"),li=document.createElement("TEXTAREA"),ui=document.createElement("BUTTON"),pi=document.createElement("DIV"),hi=null,fi=document.querySelector(".mainContent > table");function mi(){oi.callback=function(e){gi(e),yi()}.bind(this),oi.closeCallback=yi.bind(this),pi.innerHTML="",oi.closable=!0,oi.AppendTo(pi),pi.style.display="initial",fi.style.display="none"}function gi(e){hi=e,function(e){e.isBase&&we.OptimalImportDeck(e,(function(){})),window.soul=e.soul,updateSoul(),Ei(!0,!0);for(var t=0;t<e.cards.length;t++){var n=e.cards[t];Si(n=xi(window.deckCollections[window.soul],n.id,!!n.shiny),window.decks[window.soul])&&(window.decks[window.soul].push(n),updateQuantity(window.soul,n,-1))}for(t=0;t<e.artifacts.length;t++)Ai(e.artifacts[t],!0,!0);checkCompletion(),refreshDeckList()}(e)}function yi(){pi.style.display="none",fi.style.display="initial"}function wi(){di.callback=function(e){!function(e){var t="prettycards.deck."+selfId+"."+hi.soul+"."+hi.id+".image";hi.image=e,window.localStorage[t]=JSON.stringify(e),bi()}(e),di.dial.close()},di.OpenDialogue()}function Ci(){var e=si(ci).val();hi.name=e;var t=hi.key+".name";window.localStorage[t]=e,bi()}function vi(){var e=si(li).val();hi.description=e;var t="prettycards.deck."+selfId+"."+hi.soul+"."+hi.id+".description";window.localStorage[t]=e,bi()}function _i(){var e=document.createElement("DIV"),t=document.createElement("DIV");t.style="min-height: 230px;",e.appendChild(t);var n=document.createElement("DIV");n.style="display: inline-block; margin: 0; float:left; min-height:250px; width: 320px;",t.appendChild(n),(ii=document.createElement("DIV")).style="display: inline-block; margin: 0; width: 235px; display: flex; justify-content: space-evenly;",t.appendChild(ii),n.innerHTML="<span>"+window.$.i18n("pc-decks-editor-name")+"</span>",n.appendChild(ci),ci.value=hi.name,ci.className="form-control "+hi.soul,ci.style="background: rgba(0,0,0,.5);",ci.placeholder=window.$.i18n("pc-decks-editor-name2"),si(ci).unbind("keyup").keyup(Ci.bind(this));var a=document.createElement("SPAN");a.innerHTML="<br>"+window.$.i18n("pc-decks-editor-desc")+"<br>",n.appendChild(a),n.appendChild(li),li.className=hi.soul,li.style="background: rgba(0,0,0,.5); width: 100%; max-width: 320px;",li.value=hi.description,si(li).unbind("keyup").keyup(vi.bind(this));var r=document.createElement("BUTTON");r.innerHTML=window.$.i18n("pc-decks-editor-image"),r.className="btn btn-primary",r.style="display: block; margin-top: 10px;",r.onclick=wi.bind(this),n.appendChild(r);var i=document.createElement("BUTTON");i.innerHTML=window.$.i18n("pc-decks-editor-emergency"),i.className="btn btn-danger",i.style="display: block; margin-top: 10px;",i.onclick=function(){we.ImportDeck(hi,(function(){}))},n.appendChild(i);var s=document.createElement("P");return s.className="gray",s.style="margin-top: 15px;",s.innerHTML=window.$.i18n("pc-decks-editor-emergencynote"),e.appendChild(s),bi(),e}function bi(){ii.innerHTML="",oi.appendCardDeck(si(ii),hi,!0)}function Pi(){BootstrapDialog.show({title:window.$.i18n("pc-decks-editor-title"),size:BootstrapDialog.SIZE_NORMAL,closable:!0,closeByBackdrop:!1,message:_i(),buttons:[{label:window.$.i18n("pc-navigate-ok"),cssClass:"btn-primary us-normal",action(e){e.close()}}]})}const ki={BASE:3,COMMON:3,RARE:3,EPIC:2,LEGENDARY:1,DETERMINATION:1,TOKEN:0};function xi(e,t,n){for(var a=0;a<e.length;a++){var r=e[a];if(r.id==t&&r.shiny==n)return r}return null}function Si(e,t){if(!e||e.quantity<=0||t.length>=25)return!1;for(var n=0,a=0;a<t.length;a++){var r=t[a];e.id==r.id&&n++}return!(!C.onTestServer()&&n>=ki[e.rarity])}function Ai(e,t,n=!1){for(var a=null,r=0;r<window.userArtifacts.length;r++){var i=window.userArtifacts[r];i.id==e&&(a=i)}var s=window.soul;decksArtifacts[s].push(a),updateArtifactSlots(),null!==lastOpenedDialog&&lastOpenedDialog.close(),checkCompletion(),t||Ti(),hi.isBase&&!n&&we.AddArtifact(e,hi.soul,(function(){}))}function Ei(e,t=!1){si("#deckCards"+window.soul).empty(),si("#nbCardDeck"+window.soul).html(0);for(var n=0;n<window.decks[window.soul].length;n++){var a=window.decks[window.soul][n];updateQuantity(window.soul,a,1)}decks[window.soul]=[],decksArtifacts[window.soul]=[],updateArtifactSlots(),checkCompletion(),refreshDeckList(),applyFilters(),showPage(currentPage),canClearCards=!0,e||Ti(),hi.isBase&&!t&&we.RemoveEverything(hi.soul,(function(){}))}function Ti(){for(var e={cards:[],artifacts:[]},t=0;t<window.decks[window.soul].length;t++){var n=window.decks[window.soul][t],a={id:n.id};n.shiny&&(a.shiny=!0),e.cards.push(a)}for(t=0;t<window.decksArtifacts[window.soul].length;t++){var r=window.decksArtifacts[window.soul][t];e.artifacts.push(r.id)}window.localStorage[hi.key]=JSON.stringify(e)}var Ii=window.showDeckLoad;var $i=n(5092);c($i.Z);var Di=!0,Ni=!0,Li={},Ri=new Ee,Mi="",Oi=0,Bi=!1,Fi=window.$;e.events.on("Chat:getSelfInfos",(function(e){var t=JSON.parse(e.me);Mi=t.division,Oi=t.eloRanked}));var Hi={standard:window.sendJoinQueue,ranked:window.sendJoinRankedQueue,event:window.sendJoinEventQueue,boss:window.sendJoinBossQueue,reload:function(){window.location.reload()}};function Gi(){Ni||(Fi("#phase1").attr("hidden",!0).css("display","none"),Fi("#deckSelectContainer").attr("hidden",!1))}function Ui(){Fi("#phase1").attr("hidden",!1).css("display","block"),Fi("#deckSelectContainer").attr("hidden",!0)}function ji(e){zi(e),Ui()}function zi(e){Li=e,Fi("#PrettyCards_DeckArtifacts").html("");for(var t=0;t<e.artifacts.length;t++){var n=e.artifacts[t];Fi("#PrettyCards_DeckArtifacts").append(ge.ReturnArtifactIcon(n)).append(" ")}window.localStorage["prettycards."+window.selfId+".selectedPlayDeckId"]=e.id,window.localStorage["prettycards."+window.selfId+".selectedPlayDeckSoul"]=e.soul,Di=!1,Ni=!1;var a=Fi("#PrettyCards_DeckContainer");a.html(""),Ri.appendCardDeck(a,e,!1)}function Wi(t){if(!(Di||"ranked"==t&&!Bi&&"LEGEND"==Mi&&Oi<=2e3&&(window.BootstrapDialog.show({title:window.$.i18n("pc-play-ranked-warning-title"),type:window.BootstrapDialog.TYPE_DANGER,message:window.$.i18n("pc-play-ranked-warning-body"),buttons:[{label:window.$.i18n("pc-play-ranked-warning-smart"),cssClass:"btn-primary",action:function(e){e.close()}},{label:window.$.i18n("pc-play-ranked-warning-dumbass"),cssClass:"btn-danger",action:function(e){Bi=!0,Wi("ranked"),e.close()}}]}),1))){var n=e.toast({title:window.$.i18n("pc-play-decksetup-title"),text:window.$.i18n("pc-play-decksetup-text")});Ni=!0,Di=!0,we.ImportDeck(Li,(function(e){Ni=!1,Di=!1,n.exists()&&n.close(),"success"==e?(Fi("#playDecks").val(Li.soul),Hi[t]()):console.log("DeckEditor.ImportDeck error!")}))}}c($i.Z);var Ki=!0,Vi=!0,qi={},Yi=new Ee,Ji={normal:window.joinGame,password:window.joinGamePassword,create:window.createGame};function Xi(){$("#state1").attr("hidden",!1).css("display","block"),$("#deckSelectContainer").attr("hidden",!0)}function Qi(e){Zi(e),Xi()}function Zi(e){qi=e,$("#PrettyCards_DeckArtifacts").html("");for(var t=0;t<e.artifacts.length;t++){var n=e.artifacts[t];$("#PrettyCards_DeckArtifacts").append(ge.ReturnArtifactIcon(n)).append(" ")}window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]=e.id,window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"]=e.soul,Ki=!1,Vi=!1;var a=$("#PrettyCards_DeckContainer");a.html(""),Yi.appendCardDeck(a,e,!1)}window.PrettyCards_StartJoiningQueue=function(t,n){if(!Ki){var a=e.toast({title:window.$.i18n("pc-play-decksetup-title"),text:window.$.i18n("pc-play-decksetup-text")});Vi=!0,Ki=!0,we.ImportDeck(qi,(function(e,r){Vi=!1,Ki=!1,a.exists()&&a.close(),"success"==e&&($("#customDecks").val(qi.soul),Ji[n](t))}))}};var es=a.override_decks.value();function ts(e,t){for(var n={},a=0;a<e.length;a++){var r=e[a];if(r.fixedId==t&&(r.shiny?n.shiny=r:n.normal=r,n.normal&&n.shiny))return n}return n}c(n(1298).Z);var ns,as=[],rs=[],is=0,ss=[];function os(){as.forEach((e=>{window.craft(e.id,e.shiny)})),rs.forEach((e=>{ge.BuyArtifact(e.id)}))}function ds(e,t){!e||t.length<=0||(rs=[],e.empty(),t.forEach((t=>{var n=ge.GetArtifactById(t),a=ge.IsArtifactPurchasable(n.id)?"PrettyCards_MassCraft_MissingArtifact":"",r=(function(e){"COMMON"!==e&&e.toLowerCase()}(n.rarity),document.createElement("DIV"));r.className=`PrettyCards_MassCraft_ArtifactSlot pointer ${a} ${n.rarity}`,r.appendChild(C.getArtifactImage(n.image)),r.appendChild(document.createTextNode(" "+$.i18n("artifact-name-"+t))),e.append(r),ge.IsArtifactPurchasable(n.id)&&rs.push(n)})))}function cs(){$("#PrettyCards_MassCraft_DustCount").html(ie.dust);var e=0;as.forEach((t=>{e+=t.cost}));var t=0;rs.forEach((e=>{t+=e.cost}));var n="";e>0&&(n+=e>0?`${e} <img src="images/icons/dust.png" class="height-32">`:""),t>0&&(e>0&&(n+=" "),n+=e>0?`<span class="yellow">${t}</span> <img src="images/icons/gold.png" class="height-32">`:"");var a=window.$.i18n("pc-masscraft-buyall",n);$("#PrettyCards_MassCraft_BuyAllBtn").removeClass("PrettyCards_Hidden"),$("#PrettyCards_MassCraft_BuyAllBtn").addClass("btn-success"),$("#PrettyCards_MassCraft_BuyAllBtn").removeClass("btn-danger"),$("#PrettyCards_MassCraft_BuyAllBtn").attr("disabled",!1),0==e&&0==t&&(a=`<span class='green'>${window.$.i18n("pc-masscraft-allgood")}</span>`,$("#PrettyCards_MassCraft_BuyAllBtn").addClass("PrettyCards_Hidden"),is>0&&(a=`<span class='yellow'>${window.$.i18n("pc-masscraft-allgood-nodt",is)}</yellow>`)),(e>ie.dust||t>ie.gold)&&($("#PrettyCards_MassCraft_BuyAllBtn").addClass("btn-danger"),$("#PrettyCards_MassCraft_BuyAllBtn").removeClass("btn-success"),$("#PrettyCards_MassCraft_BuyAllBtn").attr("disabled",!0)),$("#PrettyCards_MassCraft_Cost").html(a)}function ls(e){var t=e.soul,n=$('<div id="PrettyCards_MassCraft_Preview"></div>'),a=$('<div id="PrettyCards_MassCraft_SoulDeckRow"></div>'),r=$(`<div class="${t} pointer" onclick="soulInfo('${t}')"> ${$.i18n("soul-"+t.toLowerCase())}</div>`);r.prepend(C.getSoulImage(t)),ss=e.artifactIds;var i=$('<div id="PrettyCards_MassCraft_Artifacts"></div>');ds(i,ss),a.append(r),a.append(i);var s=$(`\n        <div id="PrettyCards_MassCraft_ModeSelectRow">\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-nonly")}</div>\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-sonly")}</div>\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-nmixed")}</div>\n            <div class="PrettyCards_MassCraft_ModeSelectBtn">${window.$.i18n("pc-masscraft-menu-smixed")}</div>\n        </div>\n    `),o=$('<div id="PrettyCards_MassCraft_CardSlot"></div>');function d(t=0,n=!1){var a=$(`.PrettyCards_MassCraft_ModeSelectBtn:nth-child(${t+1})`);a.hasClass("PrettyCards_MassCraft_ModeSelected")&&!n||($(".PrettyCards_MassCraft_ModeSelectBtn").removeClass("PrettyCards_MassCraft_ModeSelected"),a.addClass("PrettyCards_MassCraft_ModeSelected"),o.empty().append(function(e,t=0){var n=function(){var e={};return window.collection.forEach((t=>{e[t.id]||(e[t.id]={normal:0,shiny:0}),e[t.id][t.shiny?"shiny":"normal"]=t.quantity})),e}(),a=$('<div id="PrettyCards_MassCraft_CardContainer"></div>');function r(e,t,r){var i={...window.getCard(e)};i.shiny=t;var s=window.appendCard(i,a);r?n[e][t?"shiny":"normal"]--:(s.addClass("PrettyCards_MassCraft_NotHave"),"DETERMINATION"!==i.rarity?(as.push({id:e,shiny:t,cost:window.underscript.utils.rarity.cost(i.rarity,t)}),s.click((function(){window.craft(e,t)}))):(is++,s.addClass("transparent")))}function i(e,t=!0){r(e,!1,t)}function s(e,t=!0){r(e,!0,t)}return as=[],is=0,e.forEach((e=>{var a=n[e]||{normal:0,shiny:0};(0==t||2==t)&&a.normal>0?i(e):(1==t||3==t)&&a.shiny>0||2==t&&a.shiny>0?s(e):3==t&&a.normal>0?i(e):0==t||2==t?i(e,!1):s(e,!1)})),a}(e.cardIds,t)),cs())}for(var c=s.find(".PrettyCards_MassCraft_ModeSelectBtn"),l=0;l<c.length;l++){const e=l,t=function(){d(e)};c[l].onclick=t,console.log(c[l],e,t)}var u=$(`\n        <div id="PrettyCards_MassCraft_BuyRow">\n            <div>\n                <img src="images/icons/dust.png" class="height-32">\n                <span id="PrettyCards_MassCraft_DustCount">[A LOT!]</span>\n            </div>\n            <div>\n                <span id="PrettyCards_MassCraft_Cost"></span> <button class="btn btn-success" id="PrettyCards_MassCraft_BuyAllBtn">${window.$.i18n("pc-masscraft-buyallbtn")}</button>\n            </div>\n        </div>\n    `);return d(0,!0),$(c[0]).addClass("PrettyCards_MassCraft_ModeSelected"),u.find("#PrettyCards_MassCraft_BuyAllBtn").click(os),n.append(a),n.append(s),n.append(o),n.append(u),n}i({key:"sktimacraft",name:"Enable Mass Crafting input",note:'Also known as "Sktimacraft".',type:"boolean",refresh:!1,default:!0}),e.events.on("craftcard",(function(e){if(ns&&ns.opened){$(`#PrettyCards_MassCraft_CardContainer #${e.id}${e.shiny?".shiny":""}.PrettyCards_MassCraft_NotHave:first-of-type`).removeClass("PrettyCards_MassCraft_NotHave");for(var t=0;t<as.length;t++){var n=as[t];if(n.id==e.id&&n.shiny==e.shiny){as.splice(t,1),cs();break}}}})),e.events.on("PrettyCards:artBuySuccess",(function(e){ns&&ns.opened&&(ds($("#PrettyCards_MassCraft_Artifacts"),ss),cs())}));var us,ps,hs,fs=i({key:"hand_reveal_setting",name:"Improved Reveal Hand Setting",type:"boolean",refresh:!0,default:!0});function ms(){ps.setAttribute("disabled","true"),hs.setAttribute("disabled","true"),window.$.post("/Settings",{toggleSpectator:"lol"},(function(e){ps.removeAttribute("disabled"),hs.removeAttribute("disabled")})).fail((function(){window.location.reload()}))}function gs(e,t){var n=C.completeCopy(window.getCard(e.cardId)||window.allCards[0]);n.typeSkin=e.typeSkin;var a=window.appendCard(n,t);return a.find(".cardImage").css("background-image",'url("'+e.image+'")').css("background-size","contain"),a.find(".cardDesc").find("div").html(e.name+'<br><span class="Artist">'+e.authorName+"</span>"),a.click(As),a}function ys(){var e=window.$("#PrettyCards_CardListContainer");e.html("");for(var t=0;t<Cs.length;t++)gs(Cs[t],e)}function ws(){vs=function(){for(var e="",t=0;t<window.allCards.length;t++){var n=window.allCards[t];e=e+'<option value="'+(n.fixedId||n.id)+'">'+n.name+"</option>"}return e}(),ys()}c(n(5727).Z);var Cs,vs,_s,bs=!1;function Ps(){bs?($(".cardBackground").css("box-shadow",""),bs=!1,window.$("#PrettyCards_DeleteCustomCardSkinButton").html("Delete")):($(".cardBackground").css("box-shadow","0px 0px 10px 6px rgba(255,0,0,0.8)"),bs=!0,window.$("#PrettyCards_DeleteCustomCardSkinButton").html("Cancel"))}function ks(){bs&&Ps(),Ss({active:!1,authorName:window.selfUsername||"Unknown",cardId:1,cardName:window.getCard(1).name,id:-22,image:"",name:"New Skin",owned:!0,typeSkin:0,ucpCost:-9999,isCustom:!0,unavailable:!0,storageId:Cs.length})}function xs(){window.BootstrapDialog.show({title:"Image URL Help",size:window.BootstrapDialog.SIZE_WIDE,message:'<h1>Why is a link needed instead of an uploaded image from my PC?</h1><p>Because localStorage, the place where I need to store things around here, has quite some strict policies with memory usage, and image data would most of the time take up all of the available space and more, causing a bunch of issues. So, instead, I settled with a method that is reliable and will always work.</p><h1>How do I get an image link?</h1><p>There are quite a lot of options out there host-wise, but what\'s important is that the link you type in is pointing towards the raw image. Nothing else, nothing more.</p><h1>How do I upload an image if I don\'t have a server of my own, or don\'t pay a host?</h1><p>You can use image sharing sites, or even <i>some</i> social media sites to do the hosting for you. I would personally recommend <a href="https://imgur.com/">Imgur</a>, as it\'s easy to upload an image there AND the compression is minimal. Discord is also a similarly excellent choice.</p><p>After uploading the image to your preferred "hosting service", right-click the image, then click "Copy Image Address" or "Copy Image Link". Then paste THAT into the Image Link input and you should be done. This should work ~90% of the time.</p><h1>I did what you said and it\'s still not working. What do I do?</h1><p>Contact me on Discord so we can sort this issue out, and potentially correct or expand upon this tutorial for others who may be struggling.</p><br><p class="gray">Thanks for reading! ^^</p><p class="gray">PS: The recommended resolutions: <br>Normal Skins: 160x90<br>Full Skins: 160x230<br>Breaking Skins: 176x246</p>',closable:!0,buttons:[{label:"Close!",cssClass:"btn btn-primary us-normal",action(e){e.close()}}]})}function Ss(e){var t=document.createElement("DIV");t.id="PrettyCards_CustomCardSkins_EditContainer",t.className="PrettyCards_RowFlex";var n=document.createElement("DIV");n.className="PrettyCards_CustomCardSkins_EditColumn";var a=document.createElement("DIV");a.className="PrettyCards_CustomCardSkins_EditColumn",t.appendChild(n),t.appendChild(a);var r=document.createElement("P");r.innerHTML="Card Skin Name",r.className="PrettyCards_InvertedP",n.appendChild(r);var i=document.createElement("INPUT");i.className="form-control",i.value=e.name,i.setAttribute("type","text"),n.appendChild(i);var s=document.createElement("P");s.innerHTML="Artist Name",s.className="PrettyCards_InvertedP",n.appendChild(s);var o=document.createElement("INPUT");o.className="form-control",o.value=e.authorName,o.setAttribute("type","text"),n.appendChild(o);var d=document.createElement("P");d.innerHTML="Skin Type",d.className="PrettyCards_InvertedP",n.appendChild(d);var c=document.createElement("SELECT");c.className="form-control white",c.innerHTML='\n\t\t<option value="0">Normal</option>\n\t\t<option value="1">Full</option>\n\t\t<option value="2">Breaking</option>\n\t',c.value=e.typeSkin,n.appendChild(c);var l=document.createElement("P");l.innerHTML="Card (Currently doesn't matter)",l.className="PrettyCards_InvertedP",n.appendChild(l);var u=document.createElement("SELECT");u.className="form-control white",u.innerHTML=vs,u.value=e.cardId,n.appendChild(u);var p=document.createElement("P");p.innerHTML="Image Link",p.className="PrettyCards_InvertedP",n.appendChild(p);var h=document.createElement("DIV");h.className="PrettyCards_RowFlex",n.appendChild(h);var f=document.createElement("INPUT");f.className="form-control",f.id="PrettyCards_EditCardSkin_ImageInput",f.value=e.image,f.setAttribute("type","text"),h.appendChild(f);var m=document.createElement("BUTTON");m.className="btn btn-primary",m.innerHTML='<span class="glyphicon glyphicon-question-sign"></span>',m.onclick=xs,h.appendChild(m),window.BootstrapDialog.show({title:"Edit Card Skin!",size:window.BootstrapDialog.SIZE_LARGE,message:t,closable:!0,closeByBackdrop:!1,buttons:[{label:"Cancel!",cssClass:"btn btn-danger us-normal",action(e){e.close()}},{label:"Save!",cssClass:"btn btn-primary us-normal",action(t){var n=f.value;!function(e,t,n,a,r,i){var s={active:!1,authorName:n,cardId:r,cardName:window.getCard(r).name,id:-22,image:i,name:t,owned:!0,typeSkin:a,ucpCost:-9999,isCustom:!0,unavailable:!0};localStorage[Es(e)]=JSON.stringify(s),s.storageId=e,Cs[e]=s,ys()}(e.storageId,i.value,o.value,Number(c.value),Number(u.value),n),t.close()}}]})}function As(e){var t=$(e.currentTarget),n=Array.prototype.indexOf.call(document.getElementById("PrettyCards_CardListContainer").children,t[0]),a=Cs[n];bs?function(e){for(var t=e.storageId;t<Cs.length-1;t++)localStorage[Es(t)]=localStorage[Es(t+1)],Cs[t+1].storageId--;localStorage.removeItem(Es(Cs.length-1)),Cs.splice(e.storageId,1),Ps(),ys()}(a):Ss(a)}function Es(e){return"prettycards.custom_card_skin."+window.selfId+"."+e}function Ts(e){var t=window.localStorage[Es(e)];return t?JSON.parse(t):null}k("PrettyCards:onPageLoad",(function(){if(underscript.onPage("CustomCards")){var t=window.appendCard;window.appendCard=function(n,a){var r=t(n,a);return e.events.emit("PC_appendCard",n,r),r},e.events.on("PC_appendCard",(function(e,t){if(e.isCustom){var n=e.collection;"number"==typeof n&&(n=Qt[n],e.collection=n),t.addClass("ext_"+e.extension);var a=(l=3==C.getSeasonMonth()&&e.aprilImage)?n.aprilCardImagePrefix:n.cardImagePrefix,r=l?e.aprilImage:e.image,i=C.constructURL(a,r,"png",n.oldPrefixBehavior);t.find(".cardImage").css("background-image",'url("'+i+'")'),t.find(".cardRarity").css("background-image",'url("'+C.constructURL(n.rarityImagePrefix,e.extension+"_"+e.rarity,"png",n.oldPrefixBehavior)+'")');for(var s=t.find(".cardTribes .tribe"),o=0;o<e.tribes.length;o++){var d=e.tribes[o],c=n.getTribeById(d);c&&(s[o].src=C.constructURL(n.tribeImagePrefix,c.image,"png",n.oldPrefixBehavior))}if(e.background){var l,p=$('<div class="breakingSkinBackground"></div>'),h=(a=(l=3==C.getSeasonMonth()&&e.aprilBackground)?n.aprilCardImagePrefix:n.cardImagePrefix,r=l?e.aprilBackground:e.background,C.constructURL(a,r,"png",n.oldPrefixBehavior));p.css("background","url('"+h+"') no-repeat"),p.css("background-size","contain"),p.css("background-position","center"),t.prepend(p)}var f=""!=e.customFont?e.customFont:n.universalCustomFont;if(""!=f&&"DTM-Mono"!=f){var m=t.find(".cardName div"),g=t.find(".cardDesc div");m.css("font-family",f),g.css("font-family",f),m.css("font-size",""),g.css("font-size","");var y=window.getResizedFontSize(m,25);m.css("font-size",y+"px");var w=window.getResizedFontSize(g,81);g.css("font-size",w+"px")}if(e.note&&e.note.length>0){var v=window.$(`<img src="${C.asset("img/CardPowers/note.png")}"></img>`);v.contextmenu((function(){!function(e){window.BootstrapDialog.show({title:"Author's Note",message:window.$.i18n(e.note),buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})}(e)})),u(t).append(v[0])}}}))}})),e.events.on("PrettyCards:customCards",(function(){var e=window.prettycards.newCollection({name:"Doki Doki Literature Club Set",author:"elytrafae",cardImagePrefix:C.asset("img/Cards/DDLC/"),cardSongPrefix:C.asset("audio/cards/DDLC/"),rarityImagePrefix:C.asset("img/RarityIcons/"),artifactImagePrefix:C.asset("img/Artifacts/"),tribeImagePrefix:C.asset("img/Tribes/"),soulImagePrefix:C.asset("img/Souls/"),aprilCardImagePrefix:C.asset("img/Cards/DDLC/aprilFools/"),aprilArtifactImagePrefix:C.asset("img/Artifacts/aprilFools/"),note:"This is a Doki Doki Literature Club themed card set I wanted to make for the longest time. I wanted it to be perfect, so I often modified it, asked for feedback and even the custom cards idea was born because of this set. So, please enjoy and don't be afraid to give me feedback! ^^\n\t\t<br><br>\n\t\tNOTE: Hand nerfs cannot bring a monster below 1 HP. I didn't add this in every instance because some cards are full enough already."}),n=e.loadFont("Aller",C.asset("fonts/Aller_Rg.ttf"));e.universalCustomFont=n;var a=e.newFrame({id:"DDLC",monsterImage:C.asset("img/CardFrames/DDLC/frame_monster.png"),spellImage:C.asset("img/CardFrames/DDLC/frame_spell.png")}),r=e.newTribe({name:"{{PLURAL:$1|Doki|Dokis}}",image:"DOKI",id:"DOKI"}),i=e.newTribe({name:"{{PLURAL:$1|CHR Spell|CHR Spells}}",image:"CHRSPELL",id:"CHRSPELL"}),s=e.newKeyword({name:"Fallen",description:"This effect triggers when this monster dies during its owner's turn.",id:"FALLEN"});e.newCard({name:"{{PLURAL:$1|Sayori|Sayoris}}",image:"Sayori",aprilImage:"Sayori",cost:3,attack:3,hp:3,description:`{{KW:MAGIC}}: Kill an ally monster to gain {{KW:HASTE}}. ${s.me()}: Give 3 ${r.me(2)} in your hand and 2 in your deck +2/-1.`,tribes:[r],extension:"DDLC",rarity:"COMMON",frameSkinName:a,note:`One of the textbook examples of this tribe (or, at least, the old direction I wanted to take with it). <br><br>It has slightly better than average stats with an either negligable or useful side effect and a slightly weak ${s.me()} effect, which serves to make it easier for these monsters to trade. <br><br>I was thinking of modifying her slightly, but I am really unsure if I want that.`}),e.newCard({name:"{{PLURAL:$1|Natsuki|Natsukis}}",image:"Natsuki",aprilImage:"Natsuki",cost:3,attack:3,hp:3,loop:1,description:`{{KW:LOOP}} (1). {{KW:MAGIC}}: Force an ally ${s.me()} monster to attack the monster in front of it.`,tribes:[r],extension:"DDLC",rarity:"COMMON",frameSkinName:a,note:"Simple, effective, powerful. This is the main activator of the tribe. While it IS tribed old Politics Bear, this card fits here too perfectly to warrant changing it."}),e.newCard({name:"{{PLURAL:$1|Yuri|Yuris}}",image:"Yuri",aprilImage:"Yuri",cost:4,attack:4,hp:5,description:`{{KW:MAGIC}}: Deal this card's {{HP}} buffs or nerfs as {{DMG}} to a monster. ${s.me()}: Give the highest {{ATK}} enemy monster -2/-1.`,tribes:[r],extension:"DDLC",rarity:"COMMON",frameSkinName:a,note:`Originally created around anti-ping and {{KW:PARALYZE}}, then {{KW:KR}}. Now I feel like she sits at a pretty good spot with a choice system built into her ${s.me()} effect.`}),e.newCard({name:"{{PLURAL:$1|Monika|Monikas}}",image:"Monika",aprilImage:"Monika",cost:7,attack:4,hp:6,taunt:!0,description:`{{KW:TAUNT}}. {{KW:DUST}}: Give the top 5 ${r.me(2)} in your deck -1 {{cost}}.`,tribes:[r],extension:"DDLC",rarity:"RARE",frameSkinName:a,note:`The tribe's {{KW:TAUNT}}. I am unsure how well she would perform, but she's hardly a bad {{KW:TAUNT}}, so she can offer protection to other ${s.me()} monsters with stronger effects.`}),e.newCard({name:"{{PLURAL:$1|Amy|Amys}}",image:"Amy",aprilImage:"Amy",cost:4,attack:4,hp:3,description:`{{KW:MAGIC}}: Kill an ally ${s.me()} monster to trigger its ${s.me()} effect. ${s.me()}: Add a copy of it to your deck with -1 {{cost}}.`,tribes:[r],extension:"DDLC",rarity:"RARE",frameSkinName:a,note:`One of the more complicated cards, but basically it's a double ${s.me()} trigger, and it can give you back copies of the cards. Pure value!`}),e.newCard({name:"{{PLURAL:$1|Main Character|Main Characters}}",image:"Protagonist",cost:5,attack:3,hp:5,taunt:!0,description:`{{KW:TAUNT}}. {{KW:MAGIC}}: If this has 3- {{HP}}, lose {{KW:TAUNT}} to gain {{KW:HASTE}}. {{KW:DELAY}} and ${s.me()}: Burn the last other ${r.me()} from your dustpile to add it your deck with {{KW:HASTE}}.`,tribes:[r],extension:"DDLC",rarity:"RARE",frameSkinName:a,note:"Does anyone even read these?"}),e.newCard({name:"{{PLURAL:$1|Alphys's PC|Alphys's PCs}}",image:"Alphys_PC",cost:6,attack:5,hp:7,description:"{{KW:MAGIC}}: Look at 3 random {{TRIBE:DOKI|2}} you didn't start in your deck with and catch one. {{KW:DUST}}: Release it into your hand.",extension:"BASE",rarity:"RARE",customFont:"DTM-Mono",note:"One of my headcanons as to how could such cards be added to Undercards was that Alphys would play a dating sim on her PC, but somehow the characters from the dating sim would come to life."}),e.newCard({name:"{{PLURAL:$1|Anime Poster|Anime Posters}}",image:"Anime_Poster",cost:5,attack:4,hp:4,description:`{{KW:MAGIC}}: Look at 3 random ${s.me()} monsters (rarity <= {{RARITY:EPIC}}) and choose one. {{KW:DELAY}}: Summon it for both players and force yours to attack the enemy one.`,extension:"BASE",rarity:"EPIC",customFont:"DTM-Mono",note:`Most of the time the effect is just helpful to you, since there are few ${r.me(2)} who mess this up. It's also {{KW:SUPPORT}} support!`}),e.newCard({name:"{{PLURAL:$1|Depressed Sayori|Depressed Sayoris}}",image:"Depressed_Sayori",cost:4,attack:3,hp:2,description:`{{KW:MAGIC}}: Heal 1 {{HP}} for each ${r.me()} in your dustpile (max: 12). ${s.me()}: Trigger the effect of the highest {{HP}} other ${s.me()} monster in your hand and give it +1/-1.`,tribes:[r],extension:"DDLC",rarity:"EPIC",frameSkinName:a,note:"Probably the hardest one to give a magic to for me. This card's original magic caused this card's text to be unreadable, so I made it a bit simpler."}),e.newCard({name:"{{PLURAL:$1|Obsessed Yuri|Obsessed Yuris}}",image:"Obsessed_Yuri",cost:6,attack:5,hp:5,description:`{{KW:MAGIC}}: Target an ally monster. {{KW:DELAY}}: If it's dead, {{KW:SILENCE}} and deal 5 {{DMG}} to the monster in front of it. Otherwise, give all ${r.me(2)} in your hand +3/-2.`,tribes:[r],extension:"DDLC",rarity:"EPIC",frameSkinName:a,note:`A ${s.me()} support card that doesn't actually HAVE a ${s.me()} keyword? Yes, and it can even singlehandedly take out some cards that could cause you trouble if you play your cards right, such as a Mettaton NEO or Sans (if you really must). Its secondary effect can also bring advantages that could be considered.`}),e.newCard({name:"{{PLURAL:$1|Corrupted Natsuki|Corrupted Natsukis}}",image:"Corrupted_Natsuki",cost:5,attack:4,hp:4,transparency:!0,description:`{{KW:TRANSPARENCY}}. ${s.me()}: Add 2 random ${r.me(2)} from your dustpile to your hand with -1 {{cost}} and -2 {{HP}}.`,tribes:[r],extension:"DDLC",rarity:"EPIC",frameSkinName:a,note:`I wanted to mess around with things that can help one trigger ${s.me()} effects without the use of {{KW:Haste}}, bonus attacks or self damage . . . And the answer was {{KW:TRANSPARENCY}}!<br><br>I am unsure how cool the effect is, but I still think that something like this can be very useful in ${s.me()} decks.`}),e.newCard({name:"{{PLURAL:$1|Traumatized MC|Traumatized MCs}}",image:"Traumatized_MC",cost:4,attack:5,hp:3,description:"{{KW:MAGIC}}: Swap this card's {{HP}} with the {{HP}} of another monster.",tribes:[r],extension:"DDLC",rarity:"EPIC",frameSkinName:a,note:"Does anyone even read these?"});var o=e.newCard({name:"{{PLURAL:$1|Desparation|Desparations}}",image:"Desparation",cost:0,description:"Give an ally monster {{KW:HASTE}} and +2/-1. {{KW:DELAY}}: If it's alive, {{KW:SILENCE}} and kill it. Draw a card.",extension:"DDLC",rarity:"TOKEN",frameSkinName:a,note:"Giving Haste in this tribe is very controversial, so I kept it to a conditionally bad(?) card."});e.newCard({name:"{{PLURAL:$1|Club President Monika|Club President Monikas}}",image:"Club_President_Monika",cost:6,attack:6,hp:5,description:`{{KW:DELAY}}: Force all ally monsters to attack enemy monsters in front of them. {{KW:FALLEN}}: Add a ${o.me()} to your deck.`,tribes:[r],extension:"DDLC",rarity:"LEGENDARY",frameSkinName:a,note:"This is one card I am not all that happy with now, personally, but I admit it can have some very clever strategies to ensure that the {{KW:DELAY}} effect doesn't hit you, so I left it as-is."}),e.newCard({name:"{{PLURAL:$1|Club President Sayori|Club President Sayoris}}",image:"Club_President_Sayori",cost:6,attack:5,hp:6,description:`{{KW:TURN-START}}: Burn the first ${r.me()} from your dustpile to add it to your hand with +2/-1. {{KW:MAGIC}}: Trigger the {{KW:TURN-START}} effect twice.`,tribes:[r],extension:"DDLC",rarity:"LEGENDARY",frameSkinName:a,note:'This card just screams "TRADES!". This one, just like Depressed Sayori, originally had a very long text, so I modified the effect a little, but the principle is the same.'}),e.newCard({name:"{{PLURAL:$1|Sayori.chr|Sayori.chrs}}",image:"SayoriCHR",cost:0,description:"Heal 5 {{HP}} to yourself or give a monster -1/-1 and {{KW:HASTE}}. Draw a card.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:a,note:`Semi-targeted heals and second best card draw out of the ${i.me(2)}.`}),e.newCard({name:"{{PLURAL:$1|Natsuki.chr|Natsuki.chrs}}",image:"NatsukiCHR",cost:0,description:"Look at 4 different random 3-5 {{cost}} cards in your dustpile. Add one to your hand with +2/-1.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:a,note:`Card revive and best card draw out of the ${i.me(2)}.`}),e.newCard({name:"{{PLURAL:$1|Yuri.chr|Yuri.chrs}}",image:"YuriCHR",cost:0,description:"Give an enemy monster -1/-2, then a random other enemy monster -1/-1. If there is only one enemy monster, draw a card.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:a,note:"Nerfs and either more nerfs or a conditional card draw if there was only one enemy monster."}),e.newCard({name:"{{PLURAL:$1|Monika.chr|Monika.chrs}}",image:"MonikaCHR",cost:0,description:"{{KW:SILENCE}} an enemy monster if its {{ATK}} was 4 or less. Otherwise, give it -3 {{ATK}}.",tribes:[i],extension:"DDLC",rarity:"TOKEN",frameSkinName:a,note:"Powerful effect at the downside of no card draws."}),e.newCard({name:"{{PLURAL:$1|Just Monika|Just Monikas}}",image:"Just_Monika_Breaking",aprilImage:"Just_Monika",background:"Just_Monika_Breaking_BG",aprilBackground:"Just_Monika_Back",themeSongs:["Just_Monika","Just_Monika_2","Just_Monika_3"],cost:9,attack:6,hp:7,description:`{{KW:MAGIC}}: Add 8 ${i.me(2)} to your hand, and excess ones to your deck. ${s.me()}: Add a random different ${i.me()} to your hand and deck.`,tribes:[r],extension:"DDLC",typeSkin:2,rarity:"LEGENDARY",frameSkinName:a}),t.ddlc_collection=e})),e.events.on("PrettyCards:customCards",(function(){var e=window.prettycards.newCollection({name:"Switch Soul Set",author:"Baltoni and elytrafae",cardImagePrefix:C.asset("img/Cards/Switch_Soul/"),artifactImagePrefix:C.asset("img/Artifacts/"),tribeImagePrefix:C.asset("img/Tribes/"),soulImagePrefix:C.asset("img/Souls/"),note:"A collaboration between @Baltoni#7741 and I for Soultest back in the day, now in a fresh format!"}),t=e.newSoul({displayName:"SWITCH",description:"",image:"SWITCH",name:"SWITCH",note:"An idea for a spell-oriented soul. Unfortunately, I lost access to the original sheet where I submitted all of these cards, so they will have minimal reasoning now . . ."});_s=e.newCard({soul:t,name:"{{PLURAL:$1|Spellbook|Spellbooks}}",image:"Spellbook",cost:0,description:`Look at 3 random ${t.me()} spells (<= {{RARITY:RARE}}). Add one to your hand. If your opponent has more monsters than you, give it -1 {{cost}}.`,extension:"BASE",rarity:"TOKEN"}),t.setDescription(`At the start of every 4th turn add a ${_s.me()} to your hand.`),e.newCard({soul:t,name:"{{PLURAL:$1|Magic Orbs|Magic Orbs}}",image:"Magic_Orbs_2",cost:1,description:"Swap the {{ATK}} and {{HP}} of a monster. Draw a card.",extension:"BASE",rarity:"BASE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Sacrificial Lamb|Sacrificial Lambs}}",image:"Sacrificial_Lamb",cost:5,description:"Burn the most expensive {{KW:GENERATED}} spell in your hand to kill an enemy monster.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:t,name:"{{PLURAL:$1|Sabotage|Sabotages}}",image:"Sabotage",cost:1,description:"Look at 3 random different {{RARITY:BASE}} spells. Choose one. Add the other two to your hand.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:t,name:"{{PLURAL:$1|Chaotic Powers|Chaotic Powers}}",image:"Chaotic_Powers",cost:4,description:"Add 3 random other spells ({{cost}} <= 4) to your hand which you didn't cast this game with -1 {{cost}}.",extension:"DELTARUNE",rarity:"COMMON"}),e.newCard({soul:t,name:"{{PLURAL:$1|Mass Necromancy|Mass Necromancies}}",image:"Even_Necromancy",cost:3,description:"For ever 3 different spells you've cast this game, burn a random monster in your dustpile and add it to your hand (max: 3).",extension:"BASE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Evolutionary Leap|Evolutionary Leaps}}",image:"Evolutionary_Leap",cost:2,description:"Turn a monster in your hand into a random monster with +1 base {{cost}}, then give it -1 {{cost}} (keep base buffs). Draw a card.",extension:"BASE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Hysteria|Hysterias}}",image:"Mew_Mew_Special",cost:1,description:"Burn the 2 cheapest {{KW:GENERATED}} cards in your hand to draw 2 cards. Reduce their {{cost}} by the average of the burned cards' costs.",extension:"BASE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Breeze of Freedom|Breezes of Freedom}}",image:"Breeze_Of_Freedom",cost:2,description:"Deal 1 {{DMG}} to all enemies and heal 1 {{HP}} to you for each {{DMG}} dealt.",extension:"DELTARUNE",rarity:"RARE"}),e.newCard({soul:t,name:"{{PLURAL:$1|Power Drain|Power Drains}}",image:"Power_Drain",cost:3,description:"Set a monsters {{ATK}} and {{HP}} to the {{ATK}} and {{HP}} of the monster in front of it. If it has {{KW:CHARGE}}, replace it with {{KW:HASTE}}.",extension:"BASE",rarity:"EPIC"}),e.newCard({soul:t,name:"{{PLURAL:$1|Triggers of Lunacy|Triggers of Lunacy}}",image:"Triggers_Of_Lunacy",cost:15,description:"In hand, this has -1 {{cost}} for each unique {{KW:GENERATED}} card you played this game. Deal 7 {{DMG}} to all enemy monsters.",extension:"BASE",rarity:"EPIC"}),e.newCard({soul:t,name:"{{PLURAL:$1|Food Fight|Food Fights}}",image:"Food_Fight",cost:7,description:"Summon a {{CARD:431}}. Shuffle 5 {{CARD:596|2}} into the top 10 cards of the enemy's deck.",extension:"DELTARUNE",rarity:"EPIC"}),e.newCard({soul:t,name:"{{PLURAL:$1|Royal Switch|Royal Switches}}",image:"Royal_Switch",cost:4,description:`Send your hand to the top of your deck and fill your hand with -1 {{cost}} non-{{RARITY:TOKEN}} ${t.me()} spells from highest to lowest rarity.`,extension:"BASE",tribes:["ROYAL_INVENTION"],rarity:"TOKEN"}),e.newArtifact({name:"Magic Wand",image:"Magic_Wand",rarity:"DETERMINATION",ownerId:65,soul:t.name,backgroundClass:"PrettyCards_ArtBG_MagicWand",description:`At the start of every even turn add a ${_s.me()} to your hand.`})})),e.events.on("PrettyCards:customCards",(function(){if(a.my_own_custom_cards.value()){var e=window.prettycards.newCollection({name:"Hate Soul Set",author:"MysteryHD, bantikat and elytrafae",cardImagePrefix:C.asset("img/Cards/Hate_Soul/"),artifactImagePrefix:C.asset("img/Artifacts/"),tribeImagePrefix:C.asset("img/Tribes/"),soulImagePrefix:C.asset("img/Souls/"),note:"A HATE Soul concept we threw together to explore some game mechanics that went underutilised in the main game. Enjoy! ^^"}),t=e.newArtifact({name:"Darkness",description:"Whenever an ally monster dies, spend a counter to give the lowest {{HP}} enemy monster -1/-1. {{KW:TURN-START}}: Set the counters to 2.",image:"Darkness",rarity:"TOKEN"}),n=e.newSoul({displayName:"HATE",description:`After the opponent played their third card this game, gain the ${t.me()} artifact.`,image:"HATE",name:"HATE",note:"An idea for a soul that is oriented around killing its own minions and self damage."});e.newCard({soul:n,name:"{{PLURAL:$1|Leeching|Leechings}}",image:"Leeching",cost:2,description:"Kill an ally monster to heal yourself by its {{ATK}} and max {{HP}}.",extension:"BASE",rarity:"BASE"}),e.newCard({soul:n,name:"{{PLURAL:$1|Desparation|Desparations}}",image:"Desparation",cost:1,description:"Kill a 1+ base {{cost}} ally monster to draw 2 cards. If it has 4+ base {{cost}}, give them -1 {{cost}}, too.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:n,name:"{{PLURAL:$1|Magic Knife|Magic Knives}}",image:"Magic_Knife",cost:3,description:"Deal 3 {{DMG}} to a monster. If it survived, heal it by 3 and give it +2/+1.",extension:"BASE",rarity:"COMMON"}),e.newCard({soul:n,name:"{{PLURAL:$1|Graveyard Rise|Graveyard Rises}}",image:"Graveyard_Rise",cost:3,description:"{{KW:DELAY}}: Add a copy of every different ally monster that died this turn to your hand with -1 {{cost}}.",extension:"DELTARUNE",rarity:"COMMON"});var r=e.newCard({soul:n,name:"{{PLURAL:$1|Dark Wand|Dark Wands}}",image:"Dark_Wand",cost:3,description:"",extension:"BASE",rarity:"RARE"}),i=e.newCard({soul:n,name:"{{PLURAL:$1|Arcane Choice|Arcane Choices}}",image:"Arcane_Choice",cost:0,description:"Look at all spells with a {{cost}} equal to the base {{cost}} of this card. Add one to your hand and halve its {{cost}}.",extension:"BASE",rarity:"TOKEN"});r.setDescription(`Kill an ally monster to add an ${i.me()} to your hand. Set its base {{cost}} to the killed monster's {{cost}}, then set its {{cost}} to 0.`),e.newCard({soul:n,name:"{{PLURAL:$1|Eye for an Eye|Eye for an Eyes}}",image:"Eye_For_An_Eye",cost:4,description:"Kill an ally monster to kill a random enemy monster costing less than the killed ally monster.",extension:"BASE",rarity:"RARE"}),e.newCard({soul:n,name:"{{PLURAL:$1|Theft|Thefts}}",image:"Theft",cost:4,description:'Give a non-{{RARITY:DETERMINATION}} enemy monster: "{{KW:DUST}}: Summon a copy of this monster for your opponent with +1/+1".',extension:"BASE",rarity:"RARE"}),e.newCard({soul:n,name:"{{PLURAL:$1|???|???s}}",image:"Breeze_Of_Freedom",cost:"?",description:"",extension:"DELTARUNE",rarity:"RARE"}),e.newCard({soul:n,name:"{{PLURAL:$1|Avenge|Avenges}}",image:"Avenge",cost:"3",description:"Kill an ally monster and give all ally monsters +1/+1 for every 3 {{gold}} it costed.",extension:"BASE",rarity:"EPIC"});var s=e.newCard({soul:n,name:"{{PLURAL:$1|Numbing|Numbings}}",image:"Numbing",cost:2,description:"",extension:"BASE",rarity:"EPIC"}),o=e.newCard({name:"{{PLURAL:$1|Aimless Vessel|Aimless Vessel}}",image:"Aimless_Vessel",cost:5,description:"{{KW:HASTE}}. {{KW:DUST}}: Deal this card's {{cost}} as {{DMG}} to all monsters.",attack:4,hp:4,extension:"BASE",rarity:"TOKEN"});s.setDescription(`Kill a non-{{RARITY:DETERMINATION}} ally monster costing 3 or more and add an ${o.me()} to your hand with same stats.`),e.newCard({soul:n,name:"{{PLURAL:$1|Death Sentence|Death Sentences}}",image:"Death_Sentence",cost:5,description:'Give all ally monsters "{{KW:DUST}}: Deal half of this monsters {{ATK}} (rounded up) randomly split as {{DMG}} to enemy monsters.. {{KW:Delay}} (1): Kill all ally monsters.',extension:"DELTARUNE",rarity:"EPIC"});var d=e.newArtifact({name:"Finale",description:"{{KW:TURN_START}}: Gain -1 Max {{HP}} for each ally monster to give them all +1/+1.",image:"Finale",rarity:"TOKEN"});e.newCard({soul:n,name:"{{PLURAL:$1|Royal Hate|Royal Hates}}",image:"Royal_Hate",cost:2,description:`Gain the ${d.me()} artifact. Trigger its effect 3 times instantly.`,extension:"BASE",tribes:["ROYAL_INVENTION"],rarity:"TOKEN"})}}));const Is={name:"{{PLURAL:$1|Battle Mew Mew|Battle Mew Mews}}",image:"Battle_Mew_Mew",aprilImage:"Battle_Mew_Mew",extension:"BASE",rarity:"LEGENDARY",themeSongs:["Battle_Mew_Mew_1","Battle_Mew_Mew_2","Battle_Mew_Mew_3"]};function $s(e){return{...e,...Is}}function Ds(e,t,n){var a=3==C.getSeasonMonth()&&e.aprilImage,r=a?t.aprilArtifactImagePrefix:t.artifactImagePrefix,i=a?e.aprilImage:e.image,s=ge.GetRarityDataFor(e),o=C.constructURL(r,i,"png",t.oldPrefixBehavior),d=$(`<img class="PrettyCards_Artifact ${s.imgClass}" src="${o}">`);return d.click((function(){window.artifactInfo(e.id)})),n.append(d),d}function Ns(e,t,n){var a=3==C.getSeasonMonth()&&e.aprilImage,r=a?t.aprilArtifactImagePrefix:t.artifactImagePrefix,i=a?e.aprilImage:e.image,s=ge.GetRarityDataFor(e),o=document.createElement("IMG");o.src=C.constructURL(r,i,"png",t.oldPrefixBehavior);var d=$(`\n\t<div class="PrettyCards_CollectionNew_Soultifact ${e.backgroundClass||""}">\n\t\t<div id="PrettyCards_CollectionNew_SoultifactImageContainer"></div>\n\t\t<div>\n\t\t\t<div class="${s.txtClass} PrettyCards_CollectionNew_SoultifactName">${window.$.i18n("artifact-name-"+e.id)}</div>\n\t\t\t<div class="${s.txtClass} PrettyCards_CollectionNew_SoultifactRarity">${s.text}</div>\n\t\t\t<div>${window.$.i18n("artifact-"+e.id)}</div>\n\t\t</div>\n\t<div>`);return d.find("#PrettyCards_CollectionNew_SoultifactImageContainer").append(Lt(o,"PrettyCards_CollectionNew_SoultifactImage "+s.imageClass,"","")),d.find(".PrettyCards_CollectionNew_SoultifactImage").click((function(){window.artifactInfo(e.id)})),n.append(d),d}function Ls(e,t,n){var a=3==C.getSeasonMonth()&&e.aprilImage,r=a?t.aprilSoulImagePrefix:t.soulImagePrefix,i=a?e.aprilImage:e.image,s=C.constructURL(r,i,"png",t.oldPrefixBehavior),o=$(`<img class="PrettyCards_Soul" src="${s}">`);return o.click((function(){window.soulInfo(e.name)})),n.append(o),o}function Rs(e,t,n){var a=3==C.getSeasonMonth()&&e.aprilImage,r=a?t.aprilSoulImagePrefix:t.soulImagePrefix,i=a?e.aprilImage:e.image,s=document.createElement("IMG");s.src=C.constructURL(r,i,"png",t.oldPrefixBehavior);var o=$(`\n\t<div class="PrettyCards_CollectionNew_Soultifact">\n\t\t<div id="PrettyCards_CollectionNew_SoultifactImageContainer"></div>\n\t\t<div>\n\t\t\t<div class="${e.name} PrettyCards_CollectionNew_SoultifactName">${window.$.i18n("soul-"+e.name.toLowerCase())}</div>\n\t\t\t<div>${window.$.i18n("soul-"+e.name.toLowerCase()+"-desc")}</div>\n\t\t</div>\n\t<div>`);return o.find("#PrettyCards_CollectionNew_SoultifactImageContainer").append(Lt(s,"PrettyCards_CollectionNew_SoultifactImage PrettyCards_DisplaySoul_"+e.name,"","")),o.find(".PrettyCards_CollectionNew_SoultifactImage").click((function(){window.soulInfo(e.name)})),n.append(o),o}function Ms(e){var t=$("#PrettyCards_CustomCardShowcase");$("#PrettyCards_CustomCardCategories").css("display","none"),t.css("display","block").html("");var n=$(`\n\t\t<div id='PrettyCards_CustomCardsShowcaseContent'>\n\t\t\t<div class="PrettyCards_BigCollectionName">${e.name}</div>\n\t\t\t<div class="PrettyCards_BigCollectionAuthor Artist">${e.author}</div>\n\t\t\t<div>${e.note}</div>\t\n\t\t</div>\n\t`),a=$('\n\t\t<div id="PrettyCards_CollectionHeaderTop">\n\t\t\t<div class="PrettyCards_CollectionBackButton"><span class="glyphicon glyphicon-arrow-left"></span> Back to Collection Select Screen</div>\n\t\t\t<button id="PrettyCards_CollectionTakeScreenshot" class="btn btn-primary">Take Picture</button>\n\t\t\t<button id="PrettyCards_CollectionViewButton" class="btn btn-primary">Toggle View</button>\n\t\t</div>\n\t');if(a.find("#PrettyCards_CollectionViewButton").click((function(e){$("#PrettyCards_SoulsShowcase").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_NewSoulsShowcase").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_ArtifactsShowcase").toggleClass("PrettyCards_Hidden"),$("#PrettyCards_NewArtifactsShowcase").toggleClass("PrettyCards_Hidden"),e.stopPropagation()})),a.find("#PrettyCards_CollectionTakeScreenshot").css("display","none").click((function(){!function(e){if(0!=window.$("#PrettyCards_CustomCardShowcase:visible").length){var t=!0;window.$("#PrettyCards_NewArtifactsShowcase").hasClass("PrettyCards_Hidden")&&(window.$("#PrettyCards_CollectionViewButton").click(),t=!1);var n=window.$("#PrettyCards_CustomCardsShowcaseContent");n.addClass("PrettyCards_CustomCardsShowcaseScreenshot"),window.html2canvas(n[0]).then((a=>{C.saveCanvasAsImage(a,e),n.removeClass("PrettyCards_CustomCardsShowcaseScreenshot"),t||$("#PrettyCards_CollectionViewButton").click()}))}}(e.name.toLowerCase())})),a.find(".PrettyCards_CollectionBackButton").click(Os),t.append(a),t.append(n),e.souls.length>0){n.append("<h2>Souls</h2>");for(var r=$('<div id="PrettyCards_SoulsShowcase"></div>'),i=0;i<e.souls.length;i++)Ls(e.souls[i],e,r);n.append(r);var s=$('<div id="PrettyCards_NewSoulsShowcase" class="PrettyCards_Hidden"></div>');for(i=0;i<e.souls.length;i++)Rs(e.souls[i],e,s);n.append(s)}if(e.artifacts.length>0){n.append("<h2>Artifacts</h2>");var o=$('<div id="PrettyCards_ArtifactsShowcase"></div>');for(i=0;i<e.artifacts.length;i++)Ds(e.artifacts[i],e,o);n.append(o);var d=$('<div id="PrettyCards_NewArtifactsShowcase" class="PrettyCards_Hidden"></div>');for(i=0;i<e.artifacts.length;i++)Ns(e.artifacts[i],e,d);n.append(d)}if(e.cards.length>0){n.append("<h2>Cards</h2>");var c=$('<div id="PrettyCards_CardsShowcase"></div>');for(i=0;i<e.cards.length;i++)window.appendCard(e.cards[i],c);n.append(c)}$("#collectionCustomCSS").length<=0&&$("head").append('<style id="collectionCustomCSS"></style>'),e.reloadFrames(),e.souls.length+e.artifacts.length<10&&a.find("#PrettyCards_CollectionViewButton").click()}function Os(){$("#PrettyCards_CustomCardCategories").css("display","block"),$("#PrettyCards_CustomCardShowcase").css("display","none")}function Bs(){var e=$("#PrettyCards_CustomCardCategories");e.html("");for(var t=0;t<Qt.length;t++){const a=Qt[t];var n=$(`\n\t\t\t<div class="PrettyCards_CardCollection">\n\t\t\t\t<div class="PrettyCards_CollectionName">${a.name}</div>\n\t\t\t\t<div class="PrettyCards_CollectionAuthor Artist">${a.author}</div>\n\t\t\t\t<div class="PrettyCards_CollectionDetails">\n\t\t\t\t\t<div>${a.souls.length} ${1==a.souls.length?"Soul":"Souls"}</div>\n\t\t\t\t\t<div>${a.artifacts.length} ${1==a.artifacts.length?"Artifact":"Artifacts"}</div>\n\t\t\t\t\t<div>${a.cards.length} ${1==a.cards.length?"Card":"Cards"}</div>\n\t\t\t\t</div>\n\t\t\t</div>`);n.click((function(){Ms(a)})),e.append(n)}}function Fs(){var t;$("#PrettyCards_CustomCardCategories").html("Loading Custom Cards . . ."),e.events.emit.singleton("PrettyCards:customCards"),e.events.emit.singleton("PrettyCards:customCardsAfter"),$("#PrettyCards_CustomCardCategories").html("Loading Custom Fonts . . ."),t=Bs,window.document.fonts.ready.then(t)}e.events.on("PrettyCards:customCards",(function(){var e=window.prettycards.newCollection({name:"UCO Ideas Set",author:"elytrafae",cardImagePrefix:C.asset("img/Cards/UCO_Ideas/"),cardSongPrefix:C.asset("audio/cards/UCO_Ideas/"),artifactImagePrefix:C.asset("img/Artifacts/"),tribeImagePrefix:C.asset("img/Tribes/"),soulImagePrefix:C.asset("img/Souls/"),aprilCardImagePrefix:C.asset("img/Cards/UCO_Ideas/aprilFools/"),aprilArtifactImagePrefix:C.asset("img/Artifacts/aprilFools/"),note:'Here are some of my UCO ideas.\n        <br>\n        This is also the place where I shall document my descent into madness as I try to make an actually good idea for a Battle Mew Mew card. This, of course, only includes the ones that still have the slightest chance of holding up. Purely stat change variations are also not included.\n        \n        <p style="color:red;font-size:1.2em;">I know these cards aren\'t perfectly balanced, and are subject to changes. I just want a general idea going on.</p>'});e.newKeyword({name:"Murder",description:"This effect triggers when this monster attacks and kills an enemy monster.",id:"MURDER"}),e.newCard($s({cost:8,attack:5,hp:5,haste:!0,description:"{{KW:HASTE}}. {{KW:DELAY}}: Summon 2/1 copies of all enemy monsters killed this turn."})),e.newCard($s({cost:7,attack:4,hp:4,haste:!0,description:"{{KW:HASTE}}. Before this attacks a monster, halve the {{ATK}} and {{HP}} of the target."})),e.newCard($s({cost:6,attack:4,hp:4,haste:!0,description:"{{KW:MAGIC}}: Burn half of your Dustpile, deal 3 {{DMG}} randomly spilt among enemy monsters for each 2 monsters burned."})),e.newCard({name:"{{PLURAL:$1|NEO Combo|NEO Combos}}",image:"NEO_Combo",aprilImage:"NEO_Combo",extension:"BASE",rarity:"LEGENDARY",cost:7,attack:10,hp:1,description:"{{KW:MAGIC}}: Choose a {{TRIBE:BARGAIN}} to cast to gain {{KW:CHARGE}}."}),e.newCard({name:"{{PLURAL:$1|Gothelle|Gothelles}}",image:"Gothelle",aprilImage:"Gothelle",extension:"DELTARUNE",rarity:"EPIC",cost:7,attack:7,hp:7,description:"Whenever an enemy monster deals {{DMG}} to an ally, this deals 2 {{DMG}} back."}),e.newCard({name:"{{PLURAL:$1|Gothelle|Gothelles}}",image:"Gothelle",aprilImage:"Gothelle",extension:"DELTARUNE",rarity:"EPIC",cost:7,attack:7,hp:7,description:"Whenever an enemy monster deals {{DMG}} to you, this deals 3 {{DMG}} back."}),e.newArtifact({name:"BASE Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"BASE",description:"Increase the chance of being the second player."}),e.newArtifact({name:"RARE Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"RARE",description:"Old Glamburger lol"}),e.newArtifact({name:"EPIC Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"EPIC",description:"Reverberation."}),e.newArtifact({name:"MYTHIC Test",image:"File_Explorer",aprilImage:"File_Explorer",rarity:"MYTHIC",description:"Win the game XD"})})),e.events.on("PrettyCards:customCards",(function(){if(a.my_own_custom_cards.value()){var e=window.prettycards.newCollection({name:"Update Tester Sheet",author:"elytrafae",cardImagePrefix:"/images/cards/",cardSongPrefix:C.asset("audio/cards/UpdateTest/"),artifactImagePrefix:C.asset("img/Artifacts/"),tribeImagePrefix:C.asset("img/Tribes/"),soulImagePrefix:C.asset("img/Souls/"),aprilCardImagePrefix:C.asset("img/Cards/UpdateTest/aprilFools/"),aprilArtifactImagePrefix:C.asset("img/Artifacts/aprilFools/"),note:"Test sheet go brrrrrr"}),t=e.newCard({name:"{{PLURAL:$1|Frisk|Frisks}}",image:"Frisk",aprilImage:"Frisk",cost:10,attack:7,hp:8,description:"",tribes:[],extension:"BASE",rarity:"DETERMINATION"}),n=e.newCard({name:"{{PLURAL:$1|ACT Button|ACT Buttons}}",image:"ACT_Button",aprilImage:"ACT_Button",cost:1,description:"{{KW:LOOP}} (2). Look at all spells of the enemy SOUL (max. {{RARITY:RARE}}). Choose one to add to your hand.",tribes:[],extension:"BASE",rarity:"TOKEN"}),r=e.newArtifact({name:"Worn Dagger",image:"Worn_Dagger",rarity:"DETERMINATION",ownerId:t.id,soul:"DETERMINATION",backgroundClass:"PrettyCards_ArtBG_WornDagger",description:"Whenever a monster dies (except {{TRIBE:LOST_SOUL|2}}), gain a counter. {{KW:TURN-END}}: Spend 7 counters to summon the next {{TRIBE:LOST_SOUL}}. ({{TRIBE:LOST_SOUL}} order is the same as the {{ARTIFACT:33}} artifact.)"}),i=e.newArtifact({name:"Tough Glove",image:"Tough_Glove",rarity:"DETERMINATION",ownerId:t.id,soul:"BRAVERY",backgroundClass:"PrettyCards_ArtBG_ToughGlove",description:"At the start of every 3rd turn, add a {{CARD:577}} to your hand. If you have 4 or less cards in hand, add 2 instead. If you have 7 cards in your hand, add it to your deck."}),s=e.newArtifact({name:"Empty Gun",image:"Empty_Gun",rarity:"DETERMINATION",ownerId:t.id,soul:"JUSTICE",backgroundClass:"PrettyCards_ArtBG_EmptyGun",description:"{{KW:TURN-START}} and {{KW:TURN-END}}: Deal 1 {{DMG}} to the lowest {{HP}} enemy monster. If you have less {{HP}} than your opponent, deal 1 {{DMG}} to them too."}),o=e.newArtifact({name:"Burnt Pan",image:"Burnt_Pan",rarity:"DETERMINATION",ownerId:t.id,soul:"KINDNESS",backgroundClass:"PrettyCards_ArtBG_BurntPan",description:"{{KW:TURN-END}}: Heal 1 {{HP}} to you and 2 {{HP}} to all damaged ally monsters. If there are none, give the rightmost ally monster +1/+1."}),d=e.newArtifact({name:"Toy Knife",image:"Toy_Knife",rarity:"DETERMINATION",ownerId:t.id,soul:"PATIENCE",backgroundClass:"PrettyCards_ArtBG_ToyKnife",description:"{{KW:TURN-END}}: Add a {{CARD:552}} to the top of your deck if you don't have one in hand."}),c=e.newArtifact({name:"Ballet Shoes",image:"Ballet_Shoes",rarity:"DETERMINATION",ownerId:t.id,soul:"INTEGRITY",backgroundClass:"PrettyCards_ArtBG_BalletShoes",description:"{{KW:TURN-END}}: Earn 1 {{gold}}. If it's turn 10 or later, earn 1 more."}),l=e.newArtifact({name:"Torn Notebook",image:"Torn_Notebook",rarity:"DETERMINATION",ownerId:t.id,soul:"PERSEVERANCE",backgroundClass:"PrettyCards_ArtBG_TornNotebook",description:"{{KW:TURN-START}}: Give {{KR}} and -1/-1 to the highest {{ATK}} enemy monster without {{KR}}."}),u="";[r,i,s,o,d,c,l].forEach((e=>{u+="|"+e.id})),u="{{PC_ARTIFACTS:Upgraded Version"+u+"}}",t.setDescription(`{{KW:MAGIC}}: Gain an ${u} of the enemy SOUL. Add an ${n.me(1)} to your hand.`)}})),e.events.on("PrettyCards:customCards",(function(){if(a.my_own_custom_cards.value()){var e=window.prettycards.newCollection({name:"Kyra x elytrafae Sheet",author:"Kyra and elytrafae",cardImagePrefix:C.asset("img/Cards/Kyra/"),cardSongPrefix:C.asset("audio/cards/Kyra/"),artifactImagePrefix:C.asset("img/Kyra/"),tribeImagePrefix:C.asset("img/Tribes/"),soulImagePrefix:C.asset("img/Souls/"),aprilCardImagePrefix:C.asset("img/Cards/Kyra/aprilFools/"),aprilArtifactImagePrefix:C.asset("img/Artifacts/aprilFools/"),note:"A little sheet I made for ideas that we came up with together :3"});e.newCard({name:"{{PLURAL:$1|Moldog|Moldogs}}",image:"Moldog",cost:5,attack:4,hp:5,description:"{{KW:MAGIC}}: {{KW:Switch}}: Become a {{TRIBE:MOLD}} or {{TRIBE:DOG}}. Give all other ally monsters of the same tribe as this one +1/+2. {{KW:Synergy}}: Heal all allies by 3.",tribes:[],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Tangled Wires|Tangled Wires}}",image:"Tangled_Wires",cost:6,attack:4,hp:4,description:"{{KW:MAGIC}}: Turn an ally {{TRIBE:PLUG}} or {{TRIBE:AMALGAMATE}} into a {{CARD:684|1}} that catches the original. It becomes an {{TRIBE:AMALGAMATE}}, too.",tribes:["PLUG","AMALGAMATE"],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Tangled Wires|Tangled Wires}}",image:"Tangled_Wires",cost:6,attack:4,hp:4,description:"{{KW:MAGIC}}: Turn an ally {{TRIBE:PLUG}} or {{TRIBE:AMALGAMATE}} into a {{CARD:684|1}} that catches the original. It becomes an {{TRIBE:AMALGAMATE}}, too. {{KW:SYNERGY}}: It gains its stat buffs.",tribes:["PLUG","AMALGAMATE"],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Tembomination|Tembominations}}",image:"Tembomination",cost:5,attack:4,hp:4,description:"{{KW:MAGIC}}: {{KW:SWITCH}}: Gain +1 {{ATK}} and {{KW:HASTE}} or +2 {{HP}} and {{KW:TAUNT}}.",tribes:["TEMMIE","AMALGAMATE"],extension:"BASE",rarity:"RARE"}),e.newCard({name:"{{PLURAL:$1|Hoivemind|Hoiveminds}}",image:"Hoivemind",cost:4,attack:4,hp:2,haste:!0,description:"{{KW:HASTE}}. {{KW:MAGIC}}: {{KW:SWITCH}}: Draw a {{TRIBE:TEMMIE}} or an {{TRIBE:AMALGAMATE}}. {{KW:SYNERGY}}: If this is not {{KW:GENERATED}}, add two copies of it to your deck.",tribes:["TEMMIE","AMALGAMATE"],extension:"BASE",rarity:"COMMON"}),e.newCard({name:"{{PLURAL:$1|Ice Cave|Ice Cave}}",image:"Ice_Cave",cost:7,attack:4,hp:6,description:"{{KW:MAGIC}} and {{KW:TURN_START}}: Summon an {{CARD:9}}.",tribes:[],extension:"BASE",rarity:"EPIC"}),e.newCard({name:"{{PLURAL:$1|Ice Cave|Ice Cave}}",image:"Ice_Cave",cost:6,attack:2,hp:5,candy:!0,description:"{{KW:CANDY}}. {{KW:MAGIC}} and {{KW:TURN_START}}: Summon an {{CARD:9}}.",tribes:[],extension:"BASE",rarity:"EPIC"})}})),window.underscript.onPage("CustomCards")||e.events.emit.singleton("PrettyCards:customCardsAfter");var Hs=i({key:"friendship_sort",name:"Enable Friendship Sorting",type:"boolean",refresh:!0,default:!0});c(n(2486).Z);const Gs=["baseRarityInput","commonRarityInput","rareRarityInput","epicRarityInput","legendaryRarityInput","determinationRarityInput","tokenRarityInput","baseGenInput:not(:disabled)"];var Us,js,zs,Ws,Ks,Vs,qs,Ys=[],Js=-1,Xs=!1;function Qs(e,t){var n=$("#PrettyCards_SOP_ButtonSettingsContainer"),a=window.$(`\n        <div style="padding: 5px;" class="PrettyCards_SOP_ButtonData">\n            <span class="handle glyphicon glyphicon-sort" style="cursor:grab;"></span> \n            <label>\n                <span>${window.$.i18n("pc-sop-name")}: </span>\n                <input type="text" value="${e}" id="PrettyCards_SOP_ButtonNameInput"></input>\n            </label>\n            <label>\n                <span>${window.$.i18n("pc-sop-style")}: </span>\n                <select id="PrettyCards_SOP_ButtonStyleInput">\n                    <option value="btn-primary" class="text-primary">${window.$.i18n("pc-sop-stylelist-0")}</option>\n                    <option value="btn-info" class="text-info">${window.$.i18n("pc-sop-stylelist-1")}</option>\n                    <option value="btn-success" class="text-success">${window.$.i18n("pc-sop-stylelist-2")}</option>\n                    <option value="btn-danger" class="text-danger">${window.$.i18n("pc-sop-stylelist-3")}</option>\n                    <option value="btn-warning" class="text-warning">${window.$.i18n("pc-sop-stylelist-4")}</option>\n                </select>\n            </label>\n            <button class="btn btn-danger" onclick="this.parentElement.remove()">${window.$.i18n("pc-sop-remove")}</button>\n        </div>\n    `);return a.find("#PrettyCards_SOP_ButtonStyleInput").val(t),n.append(a),a}function Zs(){if(!(Js>=Ys.length||(Js>=0&&Us.glideTo(window.innerWidth/2,window.innerHeight+500,500,(function(){Js>=Ys.length&&(window.$("#PrettyCards_SOP_Phase3").addClass("PrettyCards_Hidden"),window.$("#PrettyCards_SOP_Phase4").removeClass("PrettyCards_Hidden")),this.remove()})),++Js>=Ys.length))){!$("#PrettyCards_SOP_BlindModeSetting").prop("checked")&&$("#PrettyCards_SOP_ViewSkinsSetting").prop("checked")&&function(e){for(var t=[{cardId:e.fixedId,name:e.name,id:-22,image:e.image,typeSkin:0}],n=0;n<Wr.length;n++){var a=Wr[n];a.cardId==e.id&&t.push(a)}console.log(e,t);var r=$("#PrettyCards_SOP_Phase3_Skins");if(r.html(""),!(t.length<=1))for(n=0;n<t.length;n++){const e=t[n];var i=$(`\n            <div class="PrettyCards_SOP_SkinDisplay ${0==n?"selected":""}">\n                <img src="${C.getCardImageLink(e.image)}">\n            </div>\n        `);i.click((function(){var t=$(Us.front);t.removeClass("full-skin").removeClass("breaking-skin").removeClass("standard-skin"),0==e.typeSkin?t.addClass("standard-skin"):1==e.typeSkin?t.addClass("full-skin"):t.addClass("breaking-skin"),t.find(".cardImage").css("backgroundImage","url("+C.getCardImageLink(e.image)+")"),$(".PrettyCards_SOP_SkinDisplay").removeClass("selected"),$(this).addClass("selected")})),r.append(i)}}(Ys[Js]),Us=new Ar(Ys[Js],!1,!1,!1);var e=document.getElementById("PrettyCards_SOP_Phase3_CardSpace").getBoundingClientRect();if(Us.appendTo(document.getElementById("PrettyCards_SOP_Phase3_CardContainer")),Us.moveTo(-300,e.top+e.height/2),Us.flipToFace(500),Us.glideTo(window.innerWidth/2,e.top+e.height/2,500,(function(){})),$("#PrettyCards_SOP_BlindModeSetting").prop("checked")){Us.back.style.backgroundImage="url(https://github.com/elytrafae/prettycards/raw/master/img/CardBackMystery.png)";var t=$(Us.front);t.removeClass("monster").addClass("spell"),t.removeClass("full-skin").removeClass("breaking-skin").addClass("standard-skin"),t.find(".cardATK").remove(),t.find(".cardHP").remove(),t.find(".cardName").html("???"),t.find(".cardTribes").html(""),t.find(".cardStatus").html(""),t.find(".cardCost").html("?"),t.find(".cardName")[0].className="cardName",t.find(".cardDesc > div").html(We.getRandomFromValueList("pc-sop-mysterydescriptions")),t.find(".cardImage").css("background-image","url(https://github.com/elytrafae/prettycards/raw/master/img/MysteryCard.png)"),t.find(".cardRarity").css("background-image","url(https://github.com/elytrafae/prettycards/raw/master/img/MysteryRarity.png)"),t.find(".PrettyCards_CardThemeSongPlayer").remove();var n=t.find(".cardName div"),a=t.find(".cardDesc div");n.css("font-size",""),a.css("font-size","");var r=window.getResizedFontSize(n,25);n.css("font-size",r+"px");var i=window.getResizedFontSize(a,81);a.css("font-size",i+"px")}}}function eo(){var e=$("#PrettyCards_SOP_Buttons"),t=$(".PrettyCards_SOP_ButtonData");if(0!=t.length&&(Ys=function(){var e=$(".rarityInput:checked").map((function(){return this.getAttribute("rarity")})).get();0==e.length&&(e=["COMMON","RARE","EPIC","LEGENDARY","DETERMINATION"]);var t=$(".typeCardInput:checked").map((function(){return this.getAttribute("typeCard")})).get();0==t.length&&(t=$(".typeCardInput").map((function(){return this.getAttribute("typeCard")})).get()),t.forEach(((e,n)=>{t[n]=Number(e)}));var n=$(".extensionInput:checked").map((function(){return this.getAttribute("extension")})).get();0==n.length&&(n=$(".extensionInput").map((function(){return this.getAttribute("extension")})).get());var a=[];return window.allCards.forEach((r=>{e.includes(r.rarity)&&t.includes(r.typeCard)&&n.includes(r.extension)&&a.push(r)})),a}(),!(Ys.length<=0))){($("#PrettyCards_SOP_RandomizeSetting").prop("checked")||$("#PrettyCards_SOP_BlindModeSetting").prop("checked"))&&function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}(Ys);var n=window.$.i18n("pc-sop-results-title-nouser");window.selfUsername&&(n=window.$.i18n("pc-sop-results-title",window.selfUsername));var a="<h1 style='text-align:center;'>"+n+"</h1>";e.html(""),t.each(((t,n)=>{var r=$(n),i=r.find("#PrettyCards_SOP_ButtonNameInput").val();const s=i.replace(/[^\w]/gi,"_");var o=r.find("#PrettyCards_SOP_ButtonStyleInput").val();a+=`<h2>${r.find("#PrettyCards_SOP_ButtonNameInput").val()}</h2><div id="PrettyCards_SOP_Cards_${s}" class="PrettyCards_SOP_CardResults"></div>`;var d=$(`<button class="btn ${o}">${i}</button>`);d.click((function(){var e;e=s,window.appendCard(Ys[Js],$("#PrettyCards_SOP_Cards_"+e)),Zs()})),e.append(d)})),$("#PrettyCards_SOP_Phase4_ScreenshotArea").html(a),window.$("#PrettyCards_SOP_Phase2").addClass("PrettyCards_Hidden"),window.$("#PrettyCards_SOP_Phase3").removeClass("PrettyCards_Hidden"),Zs()}}c(n(1315).Z);var to=[],no=0;function ao(e){Ks=e,o().getJSON(`/translation/${e}.json`,{},(function(t){Vs=t,window.$.i18n().load({[e]:t}),io()})),o().getJSON(js.urlFunc(e),{},(function(e){qs=e,io()})).fail((function(){qs={},io()}))}function ro(e){var t=qs[e];return t&&t.ifEqual&&t.ifEqual!=Vs[e]}function io(){zs&&Ws&&Vs&&qs&&(function(){for(var e in qs){var t=qs[e],n=Ws[e];ro(e)&&(n?t.ifEqual=Vs[e]:qs[e]=void 0)}}(),o()("#PrettyCards_CT_Phase1").addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2").removeClass("PrettyCards_Hidden"),console.log("SUCCESS",zs,Ws,Vs,qs),function(){var e=[""];for(var t in Ws){var n=t.indexOf("-"),a=t.substring(0,n);"pc"===a&&(n=t.indexOf("-",n+1),a=t.substring(0,n)),e.includes(a)||e.push(a)}var r="";e.forEach((e=>{r+=`<option value="${e}">${e}</option>`})),document.getElementById("selectCategory").innerHTML=r}(),co(),po(0))}function so(e){var t=qs[e];if(!t)return!0;if("string"==typeof t&&""==t)return!0;if(t.value&&""==t.value)return!0;if(t.values){for(var n=0;n<t.values.length;n++)if(t.values[n]&&t.values[n].length>0)return!1;return!0}return!1}function oo(e){var t=o()("#selectCategory").val(),n=o()("#selectStatus").val(),a=o()("#searchInput").val(),r=(qs[e],so(e));return""!=t&&!e.startsWith(t)||!("DONE"!=n||!r)||"NEW"==n&&!r||!e.startsWith(t)||!function(e,t){if(""===t)return!0;var n=[e];if(!so(e)){var a=qs[e];"string"==typeof a&&n.push(a),a.value&&n.push(a.value),a.values&&(n=n.concat(a.values))}for(var r=0;r<n.length;r++)if(n[r].includes(t))return!0;return!1}(e,a)}function co(){for(var e in to=[],Ws)oo(e)||to.push(e);o()("#maxPages").html(to.length);var t=o()("#selectPage");t.html("");for(var n=0;n<to.length;n++)t.append(`<option value="${n}">${n+1}</option>`)}function lo(){no<to.length-1&&po(no+1)}function uo(){no>0&&po(no-1)}function po(e){if(no=e,o()("#selectPage").val(no),o()("#btnNext").prop("disabled",no+1>=to.length),o()("#btnPrevious").prop("disabled",no<=0),no<0&&(no=0),no>=to.length&&(no=to.length-1),to.length<=0)return o()("#PrettyCards_CT_Phase2_Table").addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_Error").html("No entry matches the search! Please try something else!"),void console.error("No entry matches the search! Please try something else!");o()("#PrettyCards_CT_Phase2_Table").removeClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_Error").html(""),function(e){o()("#PrettyCards_CT_Phase2_Preview").html("");var t=qs[e];if(o()("#PrettyCards_CT_Phase2_TranslationKey").html(e),t||(t=function(e){var t=Ws[e];if(console.log(e,t),"string"==typeof t)return"";var n={};if(t.ifEqual&&(n.ifEqual=Vs[e]||""),t.values){n.values=[];for(var a=0;a<t.values.length;a++)n.values[a]=""}else n.value="";return n}(e),qs[e]=t),o()(".PrettyCards_CT_Phase2_ListEntryRow").remove(),t.values)return void function(e,t){var n=Ws[e];o()("#PrettyCards_CT_Phase2_EnglishText").addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_OGEnglishText").parent().addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_OGTranslatedText").parent().addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_TranslationArea").parent().addClass("PrettyCards_Hidden");var a=o()("#PrettyCards_CT_Phase2_Table > tbody");const r=e;for(var i=0;i<n.values.length;i++){var s=t.values[i];const e=i,d=o()(`\n        <tr class="PrettyCards_CT_Phase2_ListEntryRow">\n            <td colspan="1">${go(n.values[i])}</td>\n            <td colspan="2">\n                <textarea maxlength="500" class="form-control" class="PrettyCards_CT_Phase2_ListTranslationArea"></textarea>\n            </td>\n        </tr>`);d.find("textarea").val(s||""),d.find("textarea").keyup((function(){var t=mo(o()(this).val());qs[r].values[e]=t,wo(t,r)})),a.append(d)}}(e,t);var n=ho(Ws[e]);o()("#PrettyCards_CT_Phase2_EnglishText").removeClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_EnglishText").html(go(n)),t.ifEqual?(o()("#PrettyCards_CT_Phase2_OGEnglishText").parent().removeClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_OGTranslatedText").parent().removeClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_OGEnglishText").html(go(zs[e])),o()("#PrettyCards_CT_Phase2_OGTranslatedText").html(go(Vs[e]))):(o()("#PrettyCards_CT_Phase2_OGEnglishText").parent().addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase2_OGTranslatedText").parent().addClass("PrettyCards_Hidden")),o()("#PrettyCards_CT_Phase2_TranslationArea").parent().removeClass("PrettyCards_Hidden");var a=ho(t);o()("#PrettyCards_CT_Phase2_TranslationArea").val(a),wo(mo(a),e);const r=e;o()("#PrettyCards_CT_Phase2_TranslationArea").unbind("keyup").keyup((function(){var e=mo(o()("#PrettyCards_CT_Phase2_TranslationArea").val());!function(e,t){var n=qs[e];n.value||""===n.value?n.value=t:qs[e]=mo(t)}(r,e),wo(e,r)}))}(to[no])}function ho(e){var t=e;return(e.value||""===e.value)&&(t=e.value),t}function fo(){var e=JSON.stringify(qs);C.downloadFile(e,Ks+".json","text/plain"),BootstrapDialog.show({title:"Thank you for your collaboration! ^^",size:BootstrapDialog.SIZE_WIDE,message:`<p>The language JSON file should be downloading now! Please send it to me through Discord to the <span class="PrettyCards_DiscordMention">#translation-files-go-here</span> channel!</p><p>is the file didn't download, you can copy-paste its contents below!</p>\n            <code class="PrettyCards_DarkThemeCode PrettyCards_BlockCode" onclick="navigator.clipboard.writeText(this.innerText)">${e}</code>\n        `,buttons:[{label:"Alright!",cssClass:"btn-primary us-normal",action(e){e.close()}}]})}function mo(e){return e.replaceAll("\\n","\n").replaceAll("\\r","\r")}function go(e,t=!0){var n,a=["#00ff06","#fc00ff","#00d6ff","#ff5300","#0074ff","#ff0030","#ffa400"];t&&(n=e,e=(e=o()("<span>").text(n).html()).replaceAll("\n",'<span class="gray">\\n</span>').replaceAll("\r",'<span class="gray">\\r</span>'));var r=e.replace(/({{[^{}]*?}})/g,(function(e){return'<span class="JUSTICE">'+e+"</span>"}));return r.replace(/(\$[1-9]+)/g,(function(e){var t=parseInt(e.replace("$",""))-1;return'<span style="color: '+a[t%a.length]+'">'+e+"</span>"}))}var yo;function wo(e="",t=""){if(yo&&yo.onremove(),""!==e){for(var n,a=window.prettycards.translationManager.previewTypes,r=0;r<a.length;r++){var i=a[r];if(t.match(i.regex)){n=i;break}}yo=n,o()("#PrettyCards_CT_Phase2_Preview").html(`<span>${C.toLocale("decks-preview",Ks)}: </span><span id="PrettyCards_CT_Phase2_PreviewInsert"></span>`),o()("#PrettyCards_CT_Phase2_PreviewInsert").append(n.eleFunc(C.toLocale(e,Ks)))}else o()("#PrettyCards_CT_Phase2_Preview").html("")}const Co=Object.freeze({NULL:Symbol("NULL"),AVATAR:Symbol("AVATAR"),EMOTE:Symbol("EMOTE"),PROFILE_SKIN:Symbol("PROFILE_SKIN")}),vo=Object.freeze({[Co.AVATAR]:"idAvatar",[Co.EMOTE]:"idEmote",[Co.PROFILE_SKIN]:"idProfileSkin",[Co.NULL]:""});function _o(e=Co.NULL,t=-1){return new Promise(((n,a)=>{if(e===Co.NULL&&window.underscript.onPage("CosmeticsShop"))n(document.getElementsByClassName("mainContent")[0]);else{var r={};e!==Co.NULL&&t>=0&&(r[vo[e]]=t),o().post("/CosmeticsShop",r,(function(e){for(var t=o()(e),r=0;r<t.length;r++){var i=t[r];if(i&&i.className&&i.classList.contains("mainContent"))return void n(i)}a("ELEMENT_NOT_FOUND_ERROR")}))}}))}function bo(e){return e.classList.contains("avatar")?Co.AVATAR:e.classList.contains("emote-bordered")?Co.EMOTE:e.classList.contains("profileSkin")?Co.PROFILE_SKIN:Co.NULL}function Po(e){var t,n=(t=e.getAttribute("data-i18n-tips")).indexOf("|");return n<0?t:t=t.substring(n+1,t.length-2)}const ko=["BASE","COMMON","RARE","EPIC","LEGENDARY","DETERMINATION","MYTHIC","TOKEN"];function xo(e){for(var t=0;t<ko.length;t++){var n=ko[t];if(e.classList.contains(n))return n}}var So,Ao,Eo;t.cosmeticShop={},t.cosmeticShop.isLastReadASuccessfulBuy=!1,t.cosmeticShop.GetPage=_o,t.cosmeticShop.GetData=function(e=Co.NULL,n=-1){return new Promise(((a,r)=>{_o(e,n).then((e=>{t.cosmeticShop.isLastReadASuccessfulBuy=!1;for(var n=e.querySelector(".navbar"),r=e.querySelector("footer"),i=[],s="",o=e.querySelectorAll("img,.ucp,:scope > p,form[action=CosmeticsShop]"),d=0;d<o.length;d++){var c=o[d];if(!n.contains(c)&&!r.contains(c)){var l=i[i.length-1];if("P"===c.tagName){var u=c.children[0];if(u){var p=u.getAttribute("data-i18n");if(p)s=p.substring(6);else{var h=u.getAttribute("data-i18n-custom");console.log(c,u,h),h.endsWith("unlocked")&&(t.cosmeticShop.isLastReadASuccessfulBuy=!0)}}}else if("IMG"===c.tagName){l&&!l.cost&&(l.owned=!0);var f={imageSrc:c.getAttribute("src"),name:Po(c),type:bo(c),owned:!1,category:s},m=xo(c);m&&(f.rarity=m),i.push(f)}else if("FORM"===c.tagName)for(var g=0;g<c.children.length;g++){var y=c.children[g];if("INPUT"===y.tagName&&y.hasAttribute("name")&&y.getAttribute("name").toString().includes("id")){l.id=parseInt(y.getAttribute("value"));break}}else{var w=Number(c.innerHTML);l.cost?l.discountPercent?console.warn(`A THIRD (or more) NUMBER ASSIGNED TO THE COSMETIC ${l.name}. PLEASE INVESTIGATE!`):l.discountPercent=w:l.cost=w}}}a(i)}))}))},t.cosmeticShop.COSMETIC_TYPES=Co,t.cosmeticShop.COSMETIC_TYPE_TO_BUY_NAME=vo,a.packs_page.value()&&underscript.onPage("Packs")?(So=()=>{k("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){C.hideUglyPage(),document.querySelector(".mainContent").innerHTML+="<div id='PrettyCards_MainContent'></div><div id='PrettyCards_PackOpenContent'></div>",Ur(a.packs_page_template.value()||Br[0]),t.testPackOpeningNew=(t=.4,n=.2)=>{window.PrettyCards_pack_being_opened=jr[0];var a=[];window.allCards.forEach((e=>{if(Math.random()<t)for(var r=Math.floor(3*Math.random()+1);r>0;r--){var i={...e};a.push(i)}if(Math.random()<n)for(r=Math.floor(3*Math.random()+1);r>0;r--){var s={...e};s.shiny=!0,a.push(s)}})),e.events.emit("openedPacks",{count:999,cards:a})}}))},window.$.getJSON(C.asset("json/packs.json"),{},(e=>{console.log(e);for(var t=0;t<e.length;t++){var n=e[t];n.does_exist=!0,n.open_count=1,n.g_cost>=0&&(n.g_buy_count=1),n.ucp_cost>=0&&(n.ucp_buy_count=1),n.amount=0;try{n.amount=ie.GetNumberOfPacks(n.code_id)}catch(e){}n.image=n.image_without_extension+n.image_extension,jr.push(n),zr[n.code_id]=n}So()}))):underscript.onPage("Hub")?function(){var t=window.showDeckLoadHub;window.showDeckLoadHub=function(n,a,r,i,s){t(n,a);var o=window.Object.values(window.BootstrapDialog.dialogs)[0];if(o){var d=o.$modalFooter.find(".bootstrap-dialog-footer-buttons"),c=$(`<button class="btn btn-success">${window.$.i18n("pc-hub-savedeck")}</button>`);c.click((function(){!function(t,n,a,r){for(var i=JSON.parse(atob(t)),s=i.soul,o=window.cloneList(window.collection),d={cards:[],artifacts:i.artifactIds},c=0;c<i.cardIds.length;c++){var l=ts(o,h=i.cardIds[c]);l.shiny&&l.shiny.quantity>0?(d.cards.push({id:h,shiny:!0}),l.shiny.quantity--):l.normal&&l.normal.quantity>0&&(d.cards.push({id:h}),l.normal.quantity--)}if(es){for(var u="underscript.deck."+window.selfId+"."+s+".",p="prettycards.deck."+window.selfId+"."+s+".",h=0;window.localStorage.getItem(u+h);)h++;window.localStorage.setItem(u+h,JSON.stringify(d)),window.localStorage.setItem(u+h+".name",n),window.localStorage.setItem(p+h+".description",We.getWithFallback("pc-hub-deckby","by "+r,r)),window.localStorage.setItem(p+h+".image",JSON.stringify({id:-2,authorName:"",active:!1,cardId:-2,cardName:"IMPORTED_FROM_HUB",image:a,name:"IMPORTED_FROM_HUB",owned:!0,typeSkin:0,ucpCost:222,unavailable:!1}))}else we.ImportDeck({soul:s,cards:d.cards,artifacts:d.artifacts},(function(t,n){"success"==t?e.toast({title:window.$.i18n("pc-hub-upload-success")}):(console.log("DeckEditor.ImportDeck error!",n),e.toast({title:window.$.i18n("pc-hub-upload-error1"),text:window.$.i18n("pc-hub-upload-error2")}))}))}(n,r,i,s),this.setAttribute("disabled",!0)})),d.prepend(c)}};var n=window.appendHubDeck;window.appendHubDeck=function(t,a){var r=n(t,a);return e.events.emit("appendHubDeck()",{container:t,deck:a,element:r}),r},e.events.on("appendHubDeck()",(function(e){var t=e.deck;e.element.find(".hubDeckShow .show-button")[0].onclick=function(){window.showDeckLoadHub(t.code,t.date,t.name,t.image,t.owner.username)}}))}():underscript.onPage("Crafting")?a.sktimacraft.value()&&e.events.on("PrettyCards:onPageLoad",(function(){var t=$('<td><input type="text" class="form-control" placeholder=". . ."></input></td>'),n=$("#dust").closest("td");n.css("width","unset").after(t),n.closest("tr").css({display:"flex","flex-wrap":"nowrap","justify-content":"space-between",width:"100%"}),n.closest("table").css("width","100%"),t.find("input").keyup((function(){!function(e){var t=e.value;if(!(t.length<=50||ns&&ns.opened)){var n;try{n=JSON.parse(atob(t))}catch(e){return void console.warn("DECK CODE ERROR",e)}"string"!=typeof n.soul||"object"!=typeof n.cardIds||25!=n.cardIds.length||"object"!=typeof n.artifactIds||n.artifactIds.length>2||(e.value="",ns=window.BootstrapDialog.show({title:window.$.i18n("pc-masscraft-title"),message:ls(n),size:window.BootstrapDialog.SIZE_WIDE,onshown:function(e){cs()},buttons:[{label:window.$.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]}))}}(this)})),e.events.on("PrettyCards:TranslationExtReady",(function(){t.find("input").attr("placeholder",window.$.i18n("pc-masscraft-inserthere"))}))})):underscript.onPage("Settings")?fs.value()&&e.events.on("PrettyCards:onPageLoad",(function(){var e=document.querySelector("input[name=toggleSpectator]");if(e){us=!e.className.includes("btn-success"),e.parentElement.className="PrettyCards_Hidden";var t=document.createElement("P");t.innerHTML=`\n                    <span>${$.i18n("settings-spectator-enable")}</span> \n                    <input id="toggleSpectatorON" type="radio" name="toggleSpectator" value="true" class="toggleSpectator"> \n                    <label for="toggleSpectatorON">${$.i18n("settings-on")}</label> \n                    <input id="toggleSpectatorOFF" type="radio" name="toggleSpectator" value="false" class="toggleSpectator"> \n                    <label for="toggleSpectatorOFF">${$.i18n("settings-off")}</label>\n                `,ps=t.querySelector("#toggleSpectatorON"),hs=t.querySelector("#toggleSpectatorOFF"),(us?ps:hs).setAttribute("checked","true"),ps.addEventListener("change",ms),hs.addEventListener("change",ms),e.parentElement.parentElement.insertBefore(t,e.parentElement)}})):underscript.onPage("CustomCardSkins")?(e.events.on(":GuestMode",(function(){window.location.href="/SignIn"})),k("PrettyCards:onPageLoad PC_Chat:getSelfInfos",(function(){window.$("title").html("PrettyCards - Custom Card Skins"),window.$(".mainContent").html('\n\t\t\t<div id="PrettyCards_CardSkinsTab" style="font-size: 2em; margin-bottom: 0.1em;">\n\t\t\t\t<button id="PrettyCards_CreateCustomCardSkinButton" class="brn btn-success">Create New</button>\n\t\t\t\t<button id="PrettyCards_DeleteCustomCardSkinButton" class="brn btn-danger">Delete</button>\n\t\t\t</div>\n\t\t\t<div class="gray" style="margin-bottom: 1em;">NOTE: These card skins cannot be used on cards themselves, but they can be used for deck images in my custom deck system.</div>\n\t\t\t<div id="PrettyCards_CardListContainer"></div>\n\t\t'),window.$("#PrettyCards_CreateCustomCardSkinButton").click(ks),window.$("#PrettyCards_DeleteCustomCardSkinButton").click(Ps),Cs=function(){for(var e=[],t=0,n=Ts(0);n;)n.storageId=t,e[t]=n,n=Ts(++t);return e}(),window.allCards&&window.allCards.length>0?ws():window.document.addEventListener("allCardsReady",(function(){ws()}))}))):underscript.onPage("CustomCards")?(e.events.on(":GuestMode",(function(){window.location.href="/SignIn"})),k("PrettyCards:onPageLoad PrettyCards:onArtifacts",(function(){window.$("title").html("PrettyCards - Custom Cards"),window.$(".mainContent").html('\n\t\t\t<div id="PrettyCards_CustomCardCategories">Loading All Cards . . .</div>\n\t\t\t<div id="PrettyCards_CustomCardShowcase"></div>\n\t\t'),$("#PrettyCards_CustomCardShowcase").css("display","none"),window.allCards&&window.allCards.length>0?Fs():window.document.addEventListener("allCardsReady",(function(){Fs()}))}))):underscript.onPage("Friendship")?Hs.value()&&(Ao=window.applyFilters,(Eo=window.$("table").first()).find("td:nth-child(2)").css("width","300px"),Eo.find("td:nth-child(2)").after('<td><select id="PrettyCards_FriendshipSort" class="form-control" style="color:white;" onchange="applyFilters();showPage(0);"><option value="0">Waiting . . .</option></select></td>'),e.events.on("PrettyCards:TranslationExtReady",(function(){for(var e=[window.$.i18n("pc-friendship-sort-xp"),window.$.i18n("pc-friendship-sort-rank"),window.$.i18n("pc-friendship-sort-levelup"),window.$.i18n("pc-friendship-sort-reward",window.$.i18n("item-shiny-pack"))],t="",n=0;n<e.length;n++)t+=`<option value="${n}">${e[n]}</option>`;window.$("#PrettyCards_FriendshipSort").html(t)})),window.applyFilters=function(){var e,t;Ao(),0!=(t=window.$("#PrettyCards_FriendshipSort").val())&&(1==t?e=function(e,t){return e.rank-t.rank}:2==t?e=function(e,t){return e.xpUntilNextLevel-t.xpUntilNextLevel}:3==t&&(e=function(e,t){return e.level>=200&&t.level<200||e.xpUntilNextUcpReward-t.xpUntilNextUcpReward}),pages.sort(e))},e.events.on("Friendship:loaded",(function(e){for(var t=JSON.parse(localStorage["underscript.cache.friendship"]),n=0;n<window.collection.length;n++){var a=window.collection[n];a.level=window.getLevel(a.xp),a.xpUntilNextLevel=window.xpUntilNextLevel(a.level,a.xp);var r=t[a.fixedId+";"+selfId];null!=r&&r.rank>0?a.rank=r.rank:a.rank=1e3;var i=C.getXpForLevel(25*Math.ceil((a.level+1)/25));a.xpUntilNextUcpReward=i-a.xp}}))):underscript.onPage("SmashOrPass")?k("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){$("title").html("PrettyCards - Smash or Pass"),localStorage["prettycards.top_advert_closed"]=!0,window.allCards&&window.allCards.length>0||window.document.addEventListener("allCardsReady",(function(){})),document.getElementsByClassName("mainContent")[0].innerHTML=`\n            <div id="PrettyCards_SOP_Phase1">\n                <h1>${window.$.i18n("pc-sop-welcome")}</h1>\n                <h2>${window.$.i18n("pc-sop-q1")}</h2>\n                <p>${window.$.i18n("pc-sop-a1-p1")}</p>\n                <p>${window.$.i18n("pc-sop-a1-p2")}</p>\n                <p>${window.$.i18n("pc-sop-a1-p3")}</p>\n                <h2>${window.$.i18n("pc-sop-q2")}</h2>\n                <p>${window.$.i18n("pc-sop-a2-p1")}</p>\n                <p>${window.$.i18n("pc-sop-a2-p2")}</p>\n                <h2>${window.$.i18n("pc-sop-q3")}</h2>\n                <p>${window.$.i18n("pc-sop-a3-p1")}</p>\n                <br>\n                <button class="btn btn-success" id="PrettyCards_SOP_ToPhase2">${window.$.i18n("pc-sop-onwards")}</button>\n                <button class="btn btn-danger" onclick="window.location.href = '/';">${window.$.i18n("pc-sop-retreat")}</button>\n            </div>\n            <div id="PrettyCards_SOP_Phase2" class="PrettyCards_Hidden">\n                <h1>${window.$.i18n("pc-sop-settings")}</h1>\n                <h2>${window.$.i18n("pc-sop-filters")}</h2>\n                <p style="font-size: 16px;">\n                    <label>\n                        <input type="checkbox" id="baseRarityInput" checked class="rarityInput customRarityInput" rarity="BASE"> <img src="images/rarity/BASE_BASE.png">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="commonRarityInput" checked class="rarityInput" rarity="COMMON"> <img src="images/rarity/BASE_COMMON.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="rareRarityInput" checked class="rarityInput" rarity="RARE"> <img src="images/rarity/BASE_RARE.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="epicRarityInput" checked class="rarityInput" rarity="EPIC"> <img src="images/rarity/BASE_EPIC.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="legendaryRarityInput" checked class="rarityInput" rarity="LEGENDARY"> <img src="images/rarity/BASE_LEGENDARY.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="determinationRarityInput" checked class="rarityInput" rarity="DETERMINATION"> <img src="images/rarity/BASE_DETERMINATION.png" alt="">\n                    </label>\n                </p>\n                <p style="font-size: 16px;">\n                    <label>\n                        <input type="checkbox" id="monsterInput" class="typeCardInput" checked typeCard="0"> <img src="images/souls/MONSTER.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="spellInput" class="typeCardInput" typeCard="1"> <img style="height: 24px;" src="images/artifacts/Arcane_Scepter.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="undertaleInput" class="extensionInput" extension="BASE" checked> <img src="images/rarity/BASE.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="deltaruneInput" class="extensionInput" extension="DELTARUNE" checked> <img src="images/rarity/DELTARUNE.png" alt="">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="tokenRarityInput" checked class="rarityInput customRarityInput" rarity="TOKEN"> <img src="images/rarity/BASE_TOKEN.png">\n                    </label>\n                    <label>\n                        <input type="checkbox" id="everyRarityInput" checked> <img style="height: 24px;" src="https://github.com/elytrafae/prettycards/raw/master/img/RarityIcons/ALL_RARITIES.png" alt="Za Filter">\n                    </label>\n                </p>\n                <h2 style="display:inline-block;">${window.$.i18n("pc-sop-answers")}</h2>\n                <button class="btn btn-success" id="PrettyCards_SOP_AddButton">${window.$.i18n("pc-sop-add")}</button>\n                <div id="PrettyCards_SOP_ButtonSettingsContainer"></div>\n                <h2>${window.$.i18n("pc-sop-other")}</h2>\n                <div style="margin-bottom: 1em;">\n                    <label><input type="checkbox" id="PrettyCards_SOP_ViewSkinsSetting" checked> <span>${window.$.i18n("pc-sop-skins")}</span></label><br>\n                    <label><input type="checkbox" id="PrettyCards_SOP_BlindModeSetting"> <span>${window.$.i18n("pc-sop-blind")}</span></label><br>\n                    <label><input type="checkbox" id="PrettyCards_SOP_RandomizeSetting"> <span>${window.$.i18n("pc-sop-random")}</span></label><br>\n                </div>\n                <button class="btn btn-success" id="PrettyCards_SOP_ToPhase3">${window.$.i18n("pc-sop-start")}</button>\n            </div>\n            <div id="PrettyCards_SOP_Phase3" class="PrettyCards_Hidden">\n                <div id="PrettyCards_SOP_Phase3_CardContainer"></div>\n                <div id="PrettyCards_SOP_Phase3_Main">\n                    <div id="PrettyCards_SOP_Phase3_CardSpace"></div>\n                    <div id="PrettyCards_SOP_Phase3_Skins"></div>\n                </div>\n                <div id="PrettyCards_SOP_Buttons"></div>\n            </div>\n            <div id="PrettyCards_SOP_Phase4" class="PrettyCards_Hidden">\n                <div id="PrettyCards_SOP_Phase4_ButtonContainer">\n                    <button class="btn btn-primary" id="PrettyCards_SOP_TakeScreenshot"><span class="glyphicon glyphicon-camera"></span></button>\n                </div>\n                <div id="PrettyCards_SOP_Phase4_ScreenshotArea"></div>\n            </div>\n        `,document.getElementById("PrettyCards_SOP_ToPhase2").onclick=function(){window.$("#PrettyCards_SOP_Phase1").addClass("PrettyCards_Hidden"),window.$("#PrettyCards_SOP_Phase2").removeClass("PrettyCards_Hidden")},document.getElementById("everyRarityInput").onchange=function(){var e=$("#everyRarityInput").prop("checked");$("#"+Gs.join(", #")).prop("checked",e)},Qs(window.$.i18n("pc-sop-smash"),"btn-success"),Qs(window.$.i18n("pc-sop-smashobj"),"btn-warning"),Qs(window.$.i18n("pc-sop-pass"),"btn-danger"),$("#PrettyCards_SOP_ButtonSettingsContainer").sortable({appendTo:parent,axis:"y",cursor:"grabbing",placeholder:"sortable-placeholder",forcePlaceholderSize:!0,handle:".handle"}),document.getElementById("PrettyCards_SOP_AddButton").onclick=function(){Qs("","btn-success")},document.getElementById("PrettyCards_SOP_ToPhase3").onclick=eo,document.getElementById("PrettyCards_SOP_TakeScreenshot").onclick=function(){Xs||(Xs=!0,$("#PrettyCards_SOP_Phase4_ScreenshotArea").addClass("PrettyCards_SOP_Screenshot"),window.html2canvas(document.getElementById("PrettyCards_SOP_Phase4_ScreenshotArea")).then((e=>{Xs=!1,C.saveCanvasAsImage(e,"sop_results");var t=$("<div><p>The screenshot should have started downloading! If not, you can save it from here!</p></div>");$(e).css("height",""),$(e).css("width","100%"),t.append(e),$("#PrettyCards_SOP_Phase4_ScreenshotArea").removeClass("PrettyCards_SOP_Screenshot"),window.BootstrapDialog.show({title:"Successful Screenshot!",message:t,buttons:[{label:"Close",cssClass:"btn-primary",action:function(e){e.close()}}]})})))}})):underscript.onPage("CustomTranslations")&&e.events.on("PrettyCards:onPageLoad",(function(){o()(".mainContent").html("<h1>Please wait until you're logged into chat . . .</h1>"),e.events.on("PC_Chat:getSelfInfos",(function(){C.translatorFeaturesAccess()?(e.events.on("PrettyCards:onPageLoad",(function(){window.$("title").html("PrettyCards - Custom Translations"),o()(".mainContent").html('\n            <div id="PrettyCards_CT_Phase0">\n                <h1>Please select a source!</h1>\n                <div id="PrettyCards_CT_Phase0_SourceSelect"></div>\n            </div>\n            <div id="PrettyCards_CT_Phase1" class="PrettyCards_Hidden">\n                <h1>Please select a language!</h1>\n                <div id="PrettyCards_CT_Phase1_LangaugeSelect"></div>\n            </div>\n            <div id="PrettyCards_CT_Phase2" class="PrettyCards_Hidden">\n                <div id="PrettyCards_CT_Phase2_MainContent">\n                    <div id="PrettyCards_CT_Phase2_FilterRow">\n                        <div>\n                            <p>Search</p>\n                            <input type="text" class="form-control" id="searchInput" onkeyup="applyFilters(); showPage(0);" placeholder="Search..." style="width: 180px;" data-lpignore="true">\n                        </div>\n                        <div>\n                            <p>Category</p>\n                            <select id="selectCategory" class="form-control" style="width: 160px; color: white;" onchange="applyFilters(); showPage(0);"></select>\n                        </div>\n                        <div>\n                            <p>Status</p>\n                            <select id="selectStatus" class="form-control" style="width: 170px; color: white;" onchange="applyFilters(); showPage(0);">\n                                <option value="ALL">All Entries</option>\n                                <option value="DONE">Translated</option>\n                                <option value="NEW">New</option>\n                            </select>\n                        </div>\n                        <div>\n                            <button class="btn btn-primary" id="PrettyCards_CT_Phase2_QuickRefBtn">Quick Ref</button>\n                            <p><select id="selectPage" onchange="showPage(this.value)"></select> / <span id="maxPages"></span></p>\n                        </div>\n                        <div>\n                            <button id="btnPrevious" onclick="previousPage();" class="btn btn-lg btn-primary" disabled=""><span class="glyphicon glyphicon-chevron-left"></span></button>\n                            <button id="btnNext" onclick="nextPage();" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-chevron-right"></span></button>\n                        </div>\n                    </div>\n\n                    <p id="PrettyCards_CT_Phase2_Preview"><span id="PrettyCards_CT_Phase2_PreviewName"></span><span id="PrettyCards_CT_Phase2_Preview"></span></p>\n\n                    <p id="PrettyCards_CT_Phase2_Error" class="red"></p>\n                    <table id="PrettyCards_CT_Phase2_Table" class="translation table table-bordered">\n                        <tbody>\n                            <tr>\n                                <td id="PrettyCards_CT_Phase2_TranslationKey" colspan="2">translation-key-here</td>\n                                <td style="width:50px; text-align: center;">\n                                    <button class="btn btn-sm btn-success" onclick="PrettyCards_CT_downloadJSON()">\n                                        <span class="glyphicon glyphicon-send"></span>\n                                    </button>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan="3" id="PrettyCards_CT_Phase2_OGEnglishText">OG ENGLISH TEXT</td>\n                            </tr>\n                            <tr>\n                                <td colspan="3" id="PrettyCards_CT_Phase2_EnglishText">ENGLISH TEXT</td>\n                            </tr>\n                            <tr>\n                                <td colspan="3" id="PrettyCards_CT_Phase2_OGTranslatedText">OG TRANSLATED TEXT</td>\n                            </tr>\n                            <tr>\n                                <td colspan="3">\n                                    <textarea maxlength="500" class="form-control" id="PrettyCards_CT_Phase2_TranslationArea"></textarea>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div id="PrettyCards_CT_Phase2_QuickRef" class="PrettyCards_Hidden">\n                    <h1>Quick Reference Guide!</h1>\n                    <h3><a href="/translateManual.jsp" target="_blank">Onutrem\'s Guide</a></h3>\n                </div>\n            </div>\n        '),o().getJSON(C.asset("json/translationQuickRef.json"),{},(function(e){for(var t=o()("#PrettyCards_CT_Phase2_QuickRef"),n=0;n<e.length;n++){var a=e[n],r=o()(`\n                <div class="PrettyCards_CT_Phase2_QuickRefEntry">\n                    <h2 class="PrettyCards_CT_Phase2_QuickRefEntryTitle" onclick="$(this).parent().toggleClass('PrettyCards_CT_Phase2_QuickRefEntryOpen')">${a.title}</h2>\n                    <p>${a.description}</p>\n                    <p>Syntax: <code class="PrettyCards_DarkThemeCode">${a.syntax}</code></p>\n                    <p>Example: <code class="PrettyCards_DarkThemeCode">${a.example}</code></p>\n                </div>\n            `);t.append(r)}})),o()("#PrettyCards_CT_Phase2_QuickRefBtn").click((function(){o()(".mainContent").toggleClass("PrettyCards_WiderMainContent"),o()("#PrettyCards_CT_Phase2_QuickRef").toggleClass("PrettyCards_Hidden")})),e.events.on("PrettyCards:translationSourcesDone",(function(){t.translationManager.languageSources.forEach((e=>{var t=o()(`<div>${e.name}</div>`);t.click((function(){!function(e){js=e,o()("#PrettyCards_CT_Phase0").addClass("PrettyCards_Hidden"),o()("#PrettyCards_CT_Phase1").removeClass("PrettyCards_Hidden"),o().getJSON("/translation/en.json",{},(function(e){zs=e,io()})),o().getJSON(js.urlFunc("en"),{},(function(e){Ws=e,io()}))}(e)})),o()("#PrettyCards_CT_Phase0_SourceSelect").append(t)}))})),e.events.on("translation:loaded",(function(){for(var e=1;e<window.availableLanguages.length;e++){const n=window.availableLanguages[e];var t=o()(`<div>${window.$.i18n("chat-"+n)}</div>`);t.click((function(){ao(n)})),o()("#PrettyCards_CT_Phase1_LangaugeSelect").append(t)}}))})),window.applyFilters=co,window.showPage=po,window.nextPage=lo,window.previousPage=uo,window.PrettyCards_CT_downloadJSON=fo):o()(".mainContent").html("<h1 class='red'>You don't have access to this page!</h1>")}))})),a.override_decks.value()&&(underscript.onPage("Decks")?(ai||(ai=!0,k("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){$.get("/CardSkinsConfig?action=shop",{},(function(e){Wr=JSON.parse(e.cardSkins),function(){for(var e=0;e<Wr.length;e++){var t=Wr[e];t.owned?Kr.push(t):Vr.push(t)}Zr[2]=Kr}()})),k("Chat:Connected",(function(){!function(){for(var e=window.localStorage["prettycards.custom_card_skin."+window.selfId+".0"],t=0;"string"==typeof e;)Yr.push(JSON.parse(e)),t++,e=window.localStorage["prettycards.custom_card_skin."+window.selfId+"."+t];Zr[0]=Yr}()})),ti.forEach((e=>{$.getJSON(C.asset(`json/aprilFools${e.year}.json`),{},(function(t){!function(e,t,n,a,r){for(var i=0;i<e.length;i++){r=e[i];var s=window.getCard(r);t.push({active:!1,authorName:"???",cardId:s.id,cardName:s.name,id:r,image:C.asset(`img/Cards/April_Fools_${n}/${s.image}.png`),name:window.$.i18n("pc-skinselect-skinname-april",n,window.$.i18n(`card-name-${s.id}`,1)),owned:!0,typeSkin:0,ucpCost:a,unavailable:!1,isCustom:!0})}}(t,e.list,e.year,e.ucpCost,e.id)}))})),ei.forEach(((e,t)=>{ei[t]="string"==typeof e?window.$.i18n(e):window.$.i18n(e[0],e[1],e[2])}))})),e.events.on("allCardsReady",ni)),k("SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts",(function(){oi.callback=function(e){yi(),gi(e)},oi.canEditDecks=!0,oi.hideInvalidDecks=!1,oi.AppendTo(pi)})),fi.style.display="none",document.querySelectorAll(".mainContent > br").forEach((function(e){e.remove()})),document.getElementsByClassName("mainContent")[0].appendChild(pi),window.addCard=function(e,t,n){var a=window.soul,r=xi(window.deckCollections[a],e,t);Si(r,window.decks[window.soul])&&(updateQuantity(a,r,-1),addDeckCardSlot(a,r),refreshDeckList(),applyFilters(),showPage(currentPage),n||Ti(),hi.isBase&&we.AddCard(e,t,hi.soul,(function(){})))},window.removeCard=function(e,t){var n=xi(window.deckCollections[window.soul],e,t),a=window.soul;updateQuantity(a,n,1),removeDeckCardSlot(a,n),refreshDeckList(),applyFilters(),showPage(currentPage),removeCardHover(),Ti(),hi.isBase&&we.RemoveCard(e,t,hi.soul,(function(){}))},window.removeAllCards=Ei,window.addArtifact=Ai,window.clearArtifacts=function(){var e=window.soul;decksArtifacts[e]=[],updateArtifactSlots(),checkCompletion(),dontUpdateDeck||Ti(),hi.isBase&&we.RemoveArtifacts(hi.soul,(function(){}))},window.showDeckLoad=function(e){var t=e.classe||e.soul;t==hi.soul?Ii(e):BootstrapDialog.show({title:"Unable to Import!",type:window.BootstrapDialog.TYPE_DANGER,message:'The deck you are trying to import is of a different soul. Please open or create a new <span class="'+t+'">'+t+"</span> deck to import this deck!",buttons:[{label:si.i18n("dialog-ok"),cssClass:"btn-primary",action:function(e){e.close()}}]})},k("PrettyCards:onPageLoad PrettyCards:TranslationExtReady",(function(){var e=si(".btn-storage").first().parent();e.css("display","none"),document.getElementById("selectSouls").style.display="none";var t=si("<div style='margin-bottom: 5px;' class='PrettyCards_DeckButtons'></div>");t.insertBefore(e);var n=document.createElement("BUTTON");t.append(n),n.style="width: 50%; margin: 0; text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;",n.className="btn btn-primary",n.innerHTML=window.$.i18n("pc-decks-change"),n.onclick=mi.bind(this),t.append(ui),ui.style="width: 50%; margin: 0; text-shadow: -1px -1px black, 1px 1px black, -1px 1px black, 1px -1px black;",ui.className="btn btn-primary",ui.innerHTML=window.$.i18n("pc-decks-edit"),ui.onclick=Pi.bind(this)}))):underscript.onPage("Play")?function(){if(document.querySelector('span[data-i18n="[html]play-incomplete"]'))return console.log("NO DECKS!"),void k("PrettyCards:onArtifacts",(function(){for(var e=ke(),t=0;t<e.length;t++){var n=e[t];if(Ri.IsValidDeck(n)){Di=!1,Li=n,Wi("reload");break}}}));Fi("#phase1 > table").css("display","none"),Fi("#game-modes").css("display","none"),Fi("#phase1").append('\n\t\t<div class="PrettyCards_GamemodeContainer">\n\t\t\t<div class="PrettyCards_GamemodeDeck">\n\t\t\t\t<div id="PrettyCards_DeckContainer"></div>\n\t\t\t\t<div id="PrettyCards_DeckArtifacts"></div>\n\t\t\t\t<div id="PrettyCards_SeasonRewards">\n\t\t\t\t\t<a style="color: gray; border: 1px dotted gray; padding: 5px; background-color: black;" href="rewards.jsp" class="pointer" data-i18n="[html]play-rewards"></a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="PrettyCards_Gamemodes">\n\t\t\t\t<div id="standardContainer"></div>\n\t\t\t\t<div id="rankedContainer"></div>\n\t\t\t\t<div id="customContainer"></div>\n\t\t\t\t<div id="tornamentContainer">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'),Fi(".mainContent").append('<div id="deckSelectContainer" hidden></div>'),Fi(".playSoulArtifacts").css({opacity:"0",position:"absolute"}),Fi("#standardContainer").append(Fi("#standard-mode").addClass("game-mode")),Fi("#rankedContainer").append(Fi("#ranked-mode").addClass("game-mode")),Fi("#customContainer").append(Fi("#custom-mode").addClass("game-mode")),Fi("#standard-mode")[0].onclick=function(){Wi("standard")},Fi("#ranked-mode")[0].onclick=function(){Wi("ranked")},k("SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts PrettyCards:TranslationExtReady",(function(){window.$("#PrettyCards_SeasonRewards a").html(window.$.i18n("play-rewards")),Ri.closable=!0,Ri.closeCallback=Ui,Ri.callback=ji,Ri.AppendTo(Fi("#deckSelectContainer")[0]);var e=Number(window.localStorage["prettycards."+window.selfId+".selectedPlayDeckId"]),t=window.localStorage["prettycards."+window.selfId+".selectedPlayDeckSoul"];if("number"==typeof e&&"string"==typeof t){var n=Ri.getDeckBySoulAndId(t,e);null==n?(zi({soul:"DETERMINATION",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:be,description:window.$.i18n("pc-play-deckerror")}),Di=!0):zi(n)}else zi({soul:"UNIVERSAL",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:_e,description:window.$.i18n("pc-play-nodeck")}),Di=!0;Ni=!1})),Fi("#PrettyCards_DeckContainer").click(Gi)}():underscript.onPage("GamesList")&&($("#state1 > table").css("display","none"),$("#state1 br").css("display","none"),$(".mainContent > br").css("display","none"),$("#game-modes").css("display","none"),$("#state1").append('\n\t\t<div class="PrettyCards_GamemodeContainer">\n\t\t\t<div class="PrettyCards_GamemodeDeck">\n\t\t\t\t<div id="PrettyCards_DeckContainer"></div>\n\t\t\t\t<div id="PrettyCards_DeckArtifacts"></div>\n\t\t\t\t<div id="PrettyCards_JoinCreate"></div>\n\t\t\t</div>\n\t\t\t<div class="PrettyCards_GamesList">\n\t\t\t\t<table id="PrettyCards_Games" class="table table-bordered">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-name"></td>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-owner"></td>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-slots"></td>\n\t\t\t\t\t\t<td data-i18n="[html]lobby-game-password"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t'),$(".mainContent").append('<div id="deckSelectContainer" hidden></div>'),$(".playSoulArtifacts").css({opacity:"0",position:"absolute"}),$("#PrettyCards_JoinCreate").append($("#state1 button")),$("#PrettyCards_JoinCreate button")[0].onclick=function(){window.PrettyCards_StartJoiningQueue(null,"create")},k("SoulSelector:decksLoaded Chat:Connected PrettyCards:onArtifacts PrettyCards:TranslationExtReady",(function(){Yi.closable=!0,Yi.closeCallback=Xi,Yi.callback=Qi,Yi.AppendTo($("#deckSelectContainer")[0]);var e=Number(window.localStorage["prettycards."+window.selfId+".selectedCustomDeckId"]),t=window.localStorage["prettycards."+window.selfId+".selectedCustomDeckSoul"];if("number"==typeof e&&"string"==typeof t){var n=Yi.getDeckBySoulAndId(t,e);null==n?(Zi({soul:"DETERMINATION",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:be,description:window.$.i18n("pc-play-deckerror")}),Ki=!0):Zi(n)}else Zi({soul:"UNIVERSAL",id:-1,name:window.$.i18n("pc-play-error"),cards:[],artifacts:[],image:_e,description:window.$.i18n("pc-play-nodeck")}),Ki=!0;Vi=!1})),$("#PrettyCards_DeckContainer").click((function(){Vi||($("#state1").attr("hidden",!0).css("display","none"),$("#deckSelectContainer").attr("hidden",!1))})),window.regenerateTable=function(e){$("#PrettyCards_Games").find("tr:gt(0)").remove();for(var t=0;t<e.length;t++){var n;n=void 0!==e[t].player?"2/2":"1/2",e[t].gameType,e[t].isPrivate?$("#PrettyCards_Games tr:last").after('<tr class="pointer" onclick="PrettyCards_StartJoiningQueue('+e[t].id+", 'password')\"><td>"+e[t].name+"</td><td>"+e[t].owner.username+"</td><td>"+n+"</td><td>"+$.i18n("lobby-yes")+"</td></tr>"):$("#PrettyCards_Games tr:last").after('<tr class="pointer" onclick="PrettyCards_StartJoiningQueue('+e[t].id+", 'normal')\"><td>"+e[t].name+"</td><td>"+e[t].owner.username+"</td><td>"+n+"</td><td>"+$.i18n("lobby-no")+"</td></tr>")}}))})()})();